!function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=b.fps,e=void 0===c?30:c,f=b.frameRenderer,g=void 0===f?null:f,h=b.framesProvider,i=void 0===h?null:h,j=b.loop,k=void 0===j||j,l=b.loopFrame,m=void 0===l?0:l,n=b.name,o=void 0===n?"":n,p=b.reverse,q=void 0!==p&&p,r=b.startFrame,s=void 0===r?0:r,t=b.totalFrames,u=void 0===t?0:t,v=b.yoyo,w=void 0!==v&&v;d(this,a),this.addFrameScript=this.addFrameScript.bind(this),this.addLabelToFrame=this.addLabelToFrame.bind(this),this.getLabelForFrame=this.getLabelForFrame.bind(this),this.gotoAndPlay=this.gotoAndPlay.bind(this),this.gotoAndStop=this.gotoAndStop.bind(this),this.play=this.play.bind(this),this.removeFrameScript=this.removeFrameScript.bind(this),this.removeLabelFromFrame=this.removeLabelFromFrame.bind(this),this.render=this.render.bind(this),this.startRendering=this.startRendering.bind(this),this.stop=this.stop.bind(this),this.stopRendering=this.stopRendering.bind(this),this.tick=this.tick.bind(this),this.validateFrame=this.validateFrame.bind(this),this._isPlaying=!1,this._shouldRender=!1,this._framesScripts=[],this._labels={},this.currentFrame=s,this.fps=e,this.frameRenderer=g,this.framesProvider=i,this.loop=k,this.loopFrame=m,this.name=o,this.reverse=q,this.totalFrames=u,this.yoyo=w}return e(a,[{key:"addFrameScript",value:function(a,b){if(a=this.validateFrame(a),null===b)return void this.removeFrameScript(a);for(var c=this._framesScripts.length,d=0;d<c;d++){var e=this._framesScripts[d];if(e.frame===a)return void(e.callback=b)}this._framesScripts.push({frame:a,callback:b})}},{key:"addLabelToFrame",value:function(a,b){if("string"==typeof b)throw new Error("frame parameter must not be a string");if(b=this.validateFrame(b),"string"!=typeof a)throw new Error("label parameter is not a string");this._labels[a]=b}},{key:"getLabelForFrame",value:function(a){a=this.validateFrame(a);var b=null,c=-1;for(var d in this._labels){var e=this._labels[d];a>=e&&e>c&&(b=d,c=e)}return b}},{key:"gotoAndPlay",value:function(a){this.currentFrame=this.validateFrame(a),this.play()}},{key:"gotoAndStop",value:function(a){this.currentFrame=this.validateFrame(a),this.render(),this.stop()}},{key:"play",value:function(){this.render(),this._isPlaying=!0,this.startRendering()}},{key:"removeFrameScript",value:function(a){a=this.validateFrame(a);for(var b=this._framesScripts.length,c=0;c<b;c++){var d=this._framesScripts[c];if(d.frame===a){this._framesScripts.splice(this._framesScripts.indexOf(d),1);break}}}},{key:"removeLabelFromFrame",value:function(a){void 0!==this._labels[a]&&delete this._labels[a]}},{key:"render",value:function(){"function"==typeof this.frameRenderer&&this.frameRenderer(this);for(var a=this._framesScripts.length,b=0;b<a;b++){var c=this._framesScripts[b];if(c.frame===this.currentFrame){c.callback();break}}}},{key:"startRendering",value:function(){this._shouldRender=!0}},{key:"stop",value:function(){this._isPlaying=!1,this.stopRendering()}},{key:"stopRendering",value:function(){this._shouldRender=!1}},{key:"tick",value:function(){this._isPlaying&&(this.reverse?this.currentFrame-1<0?this.loop&&(this.yoyo?(this.currentFrame++,this.reverse=!1):this.currentFrame=this.totalFrames-1):this.currentFrame--:this.currentFrame+1>this.totalFrames-1?this.loop&&(this.yoyo?(this.currentFrame--,this.reverse=!0):this.currentFrame=this.loopFrame):this.currentFrame++,this._shouldRender&&this.render())}},{key:"validateFrame",value:function(a){return"string"==typeof a?a=void 0!==this._labels[a]?this._labels[a]:0:a<0?a=0:a>this.totalFrames-1&&(a=this.totalFrames-1),a}}]),a}();c.default=f,b.exports=c.default},{}],2:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_POPUP_SIZES:{default:{width:500,height:320},fb:{width:555,height:320},linkedIn:{width:500,height:310},twitter:{width:500,height:310},pinterest:{width:750,height:320}},getFacebookURL:function(a){return"http://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(a)},facebook:function(a){var b=this.DEFAULT_POPUP_SIZES.fb.width,c=this.DEFAULT_POPUP_SIZES.fb.height,d=this.getFacebookURL(a);this.openPopup(d,b,c)},getLinkedInURL:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a+="?t="+Date.now();var d="https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(a);return b&&(d+="&title="+encodeURIComponent(b)),c&&(d+="&summary="+encodeURIComponent(c)),d},linkedIn:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,d=this.DEFAULT_POPUP_SIZES.linkedIn.width,e=this.DEFAULT_POPUP_SIZES.linkedIn.height,f=this.getLinkedInURL(a,b,c);this.openPopup(f,d,e)},getTwitterURL:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,d="https://twitter.com/intent/tweet?text="+encodeURIComponent(a);return b.length&&(d+="&hashtags="+b.join(",")),c&&(d+="&url="+encodeURIComponent(c)),d},twitter:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,d=this.DEFAULT_POPUP_SIZES.twitter.width,e=this.DEFAULT_POPUP_SIZES.twitter.height,f=this.getTwitterURL(a,b,c);this.openPopup(f,d,e)},getPinterestURL:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",d="https://www.pinterest.com/pin/create/button/?media="+encodeURIComponent(a);return d+="&url="+encodeURIComponent(b),d+="&description="+encodeURIComponent(c)},pinterest:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",d=this.DEFAULT_POPUP_SIZES.pinterest.width,e=this.DEFAULT_POPUP_SIZES.pinterest.height,f=this.getPinterestURL(a,b,c);this.openPopup(f,d,e)},openPopup:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.DEFAULT_POPUP_SIZES.default.width,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.DEFAULT_POPUP_SIZES.default.height,d=.5*(window.innerWidth-b),e=.5*(window.innerHeight-c),f=["width="+b,"height="+c,"top="+e,"left="+d,"scrollbars=1,location=0,menubar=0,resizable=0,status=0,toolbar=0"].join(",");window.open(a,"popupShare",f)}};c.default=d,b.exports=c.default},{}],3:[function(a,b,c){(function(b){"use strict";function c(a,b,c){a[b]||Object[d](a,b,{writable:!0,configurable:!0,value:c})}if(a("core-js/shim"),a("regenerator-runtime/runtime"),a("core-js/fn/regexp/escape"),b._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");b._babelPolyfill=!0;var d="defineProperty";c(String.prototype,"padLeft","".padStart),c(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(a){[][a]&&c(Array,a,Function.call.bind([][a]))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"core-js/fn/regexp/escape":5,"core-js/shim":333,"regenerator-runtime/runtime":354}],4:[function(a,b,c){},{}],5:[function(a,b,c){a("../../modules/core.regexp.escape"),b.exports=a("../../modules/_core").RegExp.escape},{"../../modules/_core":27,"../../modules/core.regexp.escape":135}],6:[function(a,b,c){b.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},{}],7:[function(a,b,c){var d=a("./_cof");b.exports=function(a,b){if("number"!=typeof a&&"Number"!=d(a))throw TypeError(b);return+a}},{"./_cof":22}],8:[function(a,b,c){var d=a("./_wks")("unscopables"),e=Array.prototype;void 0==e[d]&&a("./_hide")(e,d,{}),b.exports=function(a){e[d][a]=!0}},{"./_hide":47,"./_wks":133}],9:[function(a,b,c){"use strict";var d=a("./_string-at")(!0);b.exports=function(a,b,c){return b+(c?d(a,b).length:1)}},{"./_string-at":110}],10:[function(a,b,c){b.exports=function(a,b,c,d){if(!(a instanceof b)||void 0!==d&&d in a)throw TypeError(c+": incorrect invocation!");return a}},{}],11:[function(a,b,c){var d=a("./_is-object");b.exports=function(a){if(!d(a))throw TypeError(a+" is not an object!");return a}},{"./_is-object":56}],12:[function(a,b,c){"use strict";var d=a("./_to-object"),e=a("./_to-absolute-index"),f=a("./_to-length");b.exports=[].copyWithin||function(a,b){var c=d(this),g=f(c.length),h=e(a,g),i=e(b,g),j=arguments.length>2?arguments[2]:void 0,k=Math.min((void 0===j?g:e(j,g))-i,g-h),l=1;for(i<h&&h<i+k&&(l=-1,i+=k-1,h+=k-1);k-- >0;)i in c?c[h]=c[i]:delete c[h],h+=l,i+=l;return c}},{"./_to-absolute-index":118,"./_to-length":122,"./_to-object":123}],13:[function(a,b,c){"use strict";var d=a("./_to-object"),e=a("./_to-absolute-index"),f=a("./_to-length");b.exports=function(a){for(var b=d(this),c=f(b.length),g=arguments.length,h=e(g>1?arguments[1]:void 0,c),i=g>2?arguments[2]:void 0,j=void 0===i?c:e(i,c);j>h;)b[h++]=a;return b}},{"./_to-absolute-index":118,"./_to-length":122,"./_to-object":123}],14:[function(a,b,c){var d=a("./_for-of");b.exports=function(a,b){var c=[];return d(a,!1,c.push,c,b),c}},{"./_for-of":43}],15:[function(a,b,c){var d=a("./_to-iobject"),e=a("./_to-length"),f=a("./_to-absolute-index");b.exports=function(a){return function(b,c,g){var h,i=d(b),j=e(i.length),k=f(g,j);if(a&&c!=c){for(;j>k;)if((h=i[k++])!=h)return!0}else for(;j>k;k++)if((a||k in i)&&i[k]===c)return a||k||0;return!a&&-1}}},{"./_to-absolute-index":118,"./_to-iobject":121,"./_to-length":122}],16:[function(a,b,c){var d=a("./_ctx"),e=a("./_iobject"),f=a("./_to-object"),g=a("./_to-length"),h=a("./_array-species-create");b.exports=function(a,b){var c=1==a,i=2==a,j=3==a,k=4==a,l=6==a,m=5==a||l,n=b||h;return function(b,h,o){for(var p,q,r=f(b),s=e(r),t=d(h,o,3),u=g(s.length),v=0,w=c?n(b,u):i?n(b,0):void 0;u>v;v++)if((m||v in s)&&(p=s[v],q=t(p,v,r),a))if(c)w[v]=q;else if(q)switch(a){case 3:return!0;case 5:return p;case 6:return v;case 2:w.push(p)}else if(k)return!1;return l?-1:j||k?k:w}}},{"./_array-species-create":19,"./_ctx":29,"./_iobject":52,"./_to-length":122,"./_to-object":123}],17:[function(a,b,c){var d=a("./_a-function"),e=a("./_to-object"),f=a("./_iobject"),g=a("./_to-length");b.exports=function(a,b,c,h,i){d(b);var j=e(a),k=f(j),l=g(j.length),m=i?l-1:0,n=i?-1:1;if(c<2)for(;;){if(m in k){h=k[m],m+=n;break}if(m+=n,i?m<0:l<=m)throw TypeError("Reduce of empty array with no initial value")}for(;i?m>=0:l>m;m+=n)m in k&&(h=b(h,k[m],m,j));return h}},{"./_a-function":6,"./_iobject":52,"./_to-length":122,"./_to-object":123}],18:[function(a,b,c){var d=a("./_is-object"),e=a("./_is-array"),f=a("./_wks")("species");b.exports=function(a){var b;return e(a)&&(b=a.constructor,"function"!=typeof b||b!==Array&&!e(b.prototype)||(b=void 0),d(b)&&null===(b=b[f])&&(b=void 0)),void 0===b?Array:b}},{"./_is-array":54,"./_is-object":56,"./_wks":133}],19:[function(a,b,c){var d=a("./_array-species-constructor");b.exports=function(a,b){return new(d(a))(b)}},{"./_array-species-constructor":18}],20:[function(a,b,c){"use strict";var d=a("./_a-function"),e=a("./_is-object"),f=a("./_invoke"),g=[].slice,h={},i=function(a,b,c){if(!(b in h)){for(var d=[],e=0;e<b;e++)d[e]="a["+e+"]";h[b]=Function("F,a","return new F("+d.join(",")+")")}return h[b](a,c)};b.exports=Function.bind||function(a){var b=d(this),c=g.call(arguments,1),h=function(){var d=c.concat(g.call(arguments));return this instanceof h?i(b,d.length,d):f(b,d,a)};return e(b.prototype)&&(h.prototype=b.prototype),h}},{"./_a-function":6,"./_invoke":51,"./_is-object":56}],21:[function(a,b,c){var d=a("./_cof"),e=a("./_wks")("toStringTag"),f="Arguments"==d(function(){return arguments}()),g=function(a,b){try{return a[b]}catch(a){}};b.exports=function(a){var b,c,h;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(c=g(b=Object(a),e))?c:f?d(b):"Object"==(h=d(b))&&"function"==typeof b.callee?"Arguments":h}},{"./_cof":22,"./_wks":133}],22:[function(a,b,c){var d={}.toString;b.exports=function(a){return d.call(a).slice(8,-1)}},{}],23:[function(a,b,c){"use strict";var d=a("./_object-dp").f,e=a("./_object-create"),f=a("./_redefine-all"),g=a("./_ctx"),h=a("./_an-instance"),i=a("./_for-of"),j=a("./_iter-define"),k=a("./_iter-step"),l=a("./_set-species"),m=a("./_descriptors"),n=a("./_meta").fastKey,o=a("./_validate-collection"),p=m?"_s":"size",q=function(a,b){var c,d=n(b);if("F"!==d)return a._i[d];for(c=a._f;c;c=c.n)if(c.k==b)return c};b.exports={getConstructor:function(a,b,c,j){var k=a(function(a,d){h(a,k,b,"_i"),a._t=b,a._i=e(null),a._f=void 0,a._l=void 0,a[p]=0,void 0!=d&&i(d,c,a[j],a)});return f(k.prototype,{clear:function(){for(var a=o(this,b),c=a._i,d=a._f;d;d=d.n)d.r=!0,d.p&&(d.p=d.p.n=void 0),delete c[d.i];a._f=a._l=void 0,a[p]=0},delete:function(a){var c=o(this,b),d=q(c,a);if(d){var e=d.n,f=d.p;delete c._i[d.i],d.r=!0,f&&(f.n=e),e&&(e.p=f),c._f==d&&(c._f=e),c._l==d&&(c._l=f),c[p]--}return!!d},forEach:function(a){o(this,b);for(var c,d=g(a,arguments.length>1?arguments[1]:void 0,3);c=c?c.n:this._f;)for(d(c.v,c.k,this);c&&c.r;)c=c.p},has:function(a){return!!q(o(this,b),a)}}),m&&d(k.prototype,"size",{get:function(){return o(this,b)[p]}}),k},def:function(a,b,c){var d,e,f=q(a,b);return f?f.v=c:(a._l=f={i:e=n(b,!0),k:b,v:c,p:d=a._l,n:void 0,r:!1},a._f||(a._f=f),d&&(d.n=f),a[p]++,"F"!==e&&(a._i[e]=f)),a},getEntry:q,setStrong:function(a,b,c){j(a,b,function(a,c){this._t=o(a,b),this._k=c,this._l=void 0},function(){for(var a=this,b=a._k,c=a._l;c&&c.r;)c=c.p;return a._t&&(a._l=c=c?c.n:a._t._f)?"keys"==b?k(0,c.k):"values"==b?k(0,c.v):k(0,[c.k,c.v]):(a._t=void 0,k(1))},c?"entries":"values",!c,!0),l(b)}}},{"./_an-instance":10,"./_ctx":29,"./_descriptors":33,"./_for-of":43,"./_iter-define":60,"./_iter-step":62,"./_meta":70,"./_object-create":75,"./_object-dp":76,"./_redefine-all":95,"./_set-species":104,"./_validate-collection":130}],24:[function(a,b,c){var d=a("./_classof"),e=a("./_array-from-iterable");b.exports=function(a){return function(){if(d(this)!=a)throw TypeError(a+"#toJSON isn't generic");return e(this)}}},{"./_array-from-iterable":14,"./_classof":21}],25:[function(a,b,c){"use strict";var d=a("./_redefine-all"),e=a("./_meta").getWeak,f=a("./_an-object"),g=a("./_is-object"),h=a("./_an-instance"),i=a("./_for-of"),j=a("./_array-methods"),k=a("./_has"),l=a("./_validate-collection"),m=j(5),n=j(6),o=0,p=function(a){return a._l||(a._l=new q)},q=function(){this.a=[]},r=function(a,b){return m(a.a,function(a){return a[0]===b})};q.prototype={get:function(a){var b=r(this,a);if(b)return b[1]},has:function(a){return!!r(this,a)},set:function(a,b){var c=r(this,a);c?c[1]=b:this.a.push([a,b])},delete:function(a){var b=n(this.a,function(b){return b[0]===a});return~b&&this.a.splice(b,1),!!~b}},b.exports={getConstructor:function(a,b,c,f){var j=a(function(a,d){h(a,j,b,"_i"),a._t=b,a._i=o++,a._l=void 0,void 0!=d&&i(d,c,a[f],a)});return d(j.prototype,{delete:function(a){if(!g(a))return!1;var c=e(a);return!0===c?p(l(this,b)).delete(a):c&&k(c,this._i)&&delete c[this._i]},has:function(a){if(!g(a))return!1;var c=e(a);return!0===c?p(l(this,b)).has(a):c&&k(c,this._i)}}),j},def:function(a,b,c){var d=e(f(b),!0);return!0===d?p(a).set(b,c):d[a._i]=c,a},ufstore:p}},{"./_an-instance":10,"./_an-object":11,"./_array-methods":16,"./_for-of":43,"./_has":46,"./_is-object":56,"./_meta":70,"./_redefine-all":95,"./_validate-collection":130}],26:[function(a,b,c){"use strict";var d=a("./_global"),e=a("./_export"),f=a("./_redefine"),g=a("./_redefine-all"),h=a("./_meta"),i=a("./_for-of"),j=a("./_an-instance"),k=a("./_is-object"),l=a("./_fails"),m=a("./_iter-detect"),n=a("./_set-to-string-tag"),o=a("./_inherit-if-required");b.exports=function(a,b,c,p,q,r){var s=d[a],t=s,u=q?"set":"add",v=t&&t.prototype,w={},x=function(a){var b=v[a];f(v,a,"delete"==a?function(a){return!(r&&!k(a))&&b.call(this,0===a?0:a)}:"has"==a?function(a){return!(r&&!k(a))&&b.call(this,0===a?0:a)}:"get"==a?function(a){return r&&!k(a)?void 0:b.call(this,0===a?0:a)}:"add"==a?function(a){return b.call(this,0===a?0:a),this}:function(a,c){return b.call(this,0===a?0:a,c),this})};if("function"==typeof t&&(r||v.forEach&&!l(function(){(new t).entries().next()}))){var y=new t,z=y[u](r?{}:-0,1)!=y,A=l(function(){y.has(1)}),B=m(function(a){new t(a)}),C=!r&&l(function(){for(var a=new t,b=5;b--;)a[u](b,b);return!a.has(-0)});B||(t=b(function(b,c){j(b,t,a);var d=o(new s,b,t);return void 0!=c&&i(c,q,d[u],d),d}),t.prototype=v,v.constructor=t),(A||C)&&(x("delete"),x("has"),q&&x("get")),(C||z)&&x(u),r&&v.clear&&delete v.clear}else t=p.getConstructor(b,a,q,u),g(t.prototype,c),h.NEED=!0;return n(t,a),w[a]=t,e(e.G+e.W+e.F*(t!=s),w),r||p.setStrong(t,a,q),t}},{"./_an-instance":10,"./_export":37,"./_fails":39,"./_for-of":43,"./_global":45,"./_inherit-if-required":50,"./_is-object":56,"./_iter-detect":61,"./_meta":70,"./_redefine":96,"./_redefine-all":95,"./_set-to-string-tag":105}],27:[function(a,b,c){var d=b.exports={version:"2.6.5"};"number"==typeof __e&&(__e=d)},{}],28:[function(a,b,c){"use strict";var d=a("./_object-dp"),e=a("./_property-desc");b.exports=function(a,b,c){b in a?d.f(a,b,e(0,c)):a[b]=c}},{"./_object-dp":76,"./_property-desc":94}],29:[function(a,b,c){var d=a("./_a-function");b.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},{"./_a-function":6}],30:[function(a,b,c){"use strict";var d=a("./_fails"),e=Date.prototype.getTime,f=Date.prototype.toISOString,g=function(a){return a>9?a:"0"+a};b.exports=d(function(){return"0385-07-25T07:06:39.999Z"!=f.call(new Date(-5e13-1))})||!d(function(){f.call(new Date(NaN))})?function(){if(!isFinite(e.call(this)))throw RangeError("Invalid time value");var a=this,b=a.getUTCFullYear(),c=a.getUTCMilliseconds(),d=b<0?"-":b>9999?"+":"";return d+("00000"+Math.abs(b)).slice(d?-6:-4)+"-"+g(a.getUTCMonth()+1)+"-"+g(a.getUTCDate())+"T"+g(a.getUTCHours())+":"+g(a.getUTCMinutes())+":"+g(a.getUTCSeconds())+"."+(c>99?c:"0"+g(c))+"Z"}:f},{"./_fails":39}],31:[function(a,b,c){"use strict";var d=a("./_an-object"),e=a("./_to-primitive");b.exports=function(a){if("string"!==a&&"number"!==a&&"default"!==a)throw TypeError("Incorrect hint");return e(d(this),"number"!=a)}},{"./_an-object":11,"./_to-primitive":124}],32:[function(a,b,c){b.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},{}],33:[function(a,b,c){b.exports=!a("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":39}],34:[function(a,b,c){var d=a("./_is-object"),e=a("./_global").document,f=d(e)&&d(e.createElement);b.exports=function(a){return f?e.createElement(a):{}}},{"./_global":45,"./_is-object":56}],35:[function(a,b,c){b.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],36:[function(a,b,c){var d=a("./_object-keys"),e=a("./_object-gops"),f=a("./_object-pie");b.exports=function(a){var b=d(a),c=e.f;if(c)for(var g,h=c(a),i=f.f,j=0;h.length>j;)i.call(a,g=h[j++])&&b.push(g);return b}},{"./_object-gops":82,"./_object-keys":85,"./_object-pie":86}],37:[function(a,b,c){var d=a("./_global"),e=a("./_core"),f=a("./_hide"),g=a("./_redefine"),h=a("./_ctx"),i=function(a,b,c){var j,k,l,m,n=a&i.F,o=a&i.G,p=a&i.S,q=a&i.P,r=a&i.B,s=o?d:p?d[b]||(d[b]={}):(d[b]||{}).prototype,t=o?e:e[b]||(e[b]={}),u=t.prototype||(t.prototype={});o&&(c=b);for(j in c)k=!n&&s&&void 0!==s[j],l=(k?s:c)[j],m=r&&k?h(l,d):q&&"function"==typeof l?h(Function.call,l):l,s&&g(s,j,l,a&i.U),t[j]!=l&&f(t,j,m),q&&u[j]!=l&&(u[j]=l)};d.core=e,i.F=1,i.G=2,i.S=4,i.P=8,i.B=16,i.W=32,i.U=64,i.R=128,b.exports=i},{"./_core":27,"./_ctx":29,"./_global":45,"./_hide":47,"./_redefine":96}],38:[function(a,b,c){var d=a("./_wks")("match");b.exports=function(a){var b=/./;try{"/./"[a](b)}catch(c){try{return b[d]=!1,!"/./"[a](b)}catch(a){}}return!0}},{"./_wks":133}],39:[function(a,b,c){b.exports=function(a){try{return!!a()}catch(a){return!0}}},{}],40:[function(a,b,c){"use strict";a("./es6.regexp.exec");var d=a("./_redefine"),e=a("./_hide"),f=a("./_fails"),g=a("./_defined"),h=a("./_wks"),i=a("./_regexp-exec"),j=h("species"),k=!f(function(){var a=/./;return a.exec=function(){var a=[];return a.groups={a:"7"},a},"7"!=="".replace(a,"$<a>")}),l=function(){var a=/(?:)/,b=a.exec;a.exec=function(){return b.apply(this,arguments)};var c="ab".split(a);return 2===c.length&&"a"===c[0]&&"b"===c[1]}();b.exports=function(a,b,c){var m=h(a),n=!f(function(){var b={};return b[m]=function(){return 7},7!=""[a](b)}),o=n?!f(function(){var b=!1,c=/a/;return c.exec=function(){return b=!0,null},"split"===a&&(c.constructor={},c.constructor[j]=function(){return c}),c[m](""),!b}):void 0;if(!n||!o||"replace"===a&&!k||"split"===a&&!l){var p=/./[m],q=c(g,m,""[a],function(a,b,c,d,e){return b.exec===i?n&&!e?{done:!0,value:p.call(b,c,d)}:{done:!0,value:a.call(c,b,d)}:{done:!1}}),r=q[0],s=q[1];d(String.prototype,a,r),e(RegExp.prototype,m,2==b?function(a,b){return s.call(a,this,b)}:function(a){return s.call(a,this)})}}},{"./_defined":32,"./_fails":39,"./_hide":47,"./_redefine":96,"./_regexp-exec":98,"./_wks":133,"./es6.regexp.exec":230}],41:[function(a,b,c){"use strict";var d=a("./_an-object");b.exports=function(){var a=d(this),b="";return a.global&&(b+="g"),a.ignoreCase&&(b+="i"),a.multiline&&(b+="m"),a.unicode&&(b+="u"),a.sticky&&(b+="y"),b}},{"./_an-object":11}],42:[function(a,b,c){"use strict";function d(a,b,c,j,k,l,m,n){for(var o,p,q=k,r=0,s=!!m&&h(m,n,3);r<j;){if(r in c){if(o=s?s(c[r],r,b):c[r],p=!1,f(o)&&(p=o[i],p=void 0!==p?!!p:e(o)),p&&l>0)q=d(a,b,o,g(o.length),q,l-1)-1;else{if(q>=9007199254740991)throw TypeError();a[q]=o}q++}r++}return q}var e=a("./_is-array"),f=a("./_is-object"),g=a("./_to-length"),h=a("./_ctx"),i=a("./_wks")("isConcatSpreadable");b.exports=d},{"./_ctx":29,"./_is-array":54,"./_is-object":56,"./_to-length":122,"./_wks":133}],43:[function(a,b,c){var d=a("./_ctx"),e=a("./_iter-call"),f=a("./_is-array-iter"),g=a("./_an-object"),h=a("./_to-length"),i=a("./core.get-iterator-method"),j={},k={},c=b.exports=function(a,b,c,l,m){var n,o,p,q,r=m?function(){return a}:i(a),s=d(c,l,b?2:1),t=0;if("function"!=typeof r)throw TypeError(a+" is not iterable!");if(f(r)){for(n=h(a.length);n>t;t++)if((q=b?s(g(o=a[t])[0],o[1]):s(a[t]))===j||q===k)return q}else for(p=r.call(a);!(o=p.next()).done;)if((q=e(p,s,o.value,b))===j||q===k)return q};c.BREAK=j,c.RETURN=k},{"./_an-object":11,"./_ctx":29,"./_is-array-iter":53,"./_iter-call":58,"./_to-length":122,"./core.get-iterator-method":134}],44:[function(a,b,c){b.exports=a("./_shared")("native-function-to-string",Function.toString)},{"./_shared":107}],45:[function(a,b,c){var d=b.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d)},{}],46:[function(a,b,c){var d={}.hasOwnProperty;b.exports=function(a,b){return d.call(a,b)}},{}],47:[function(a,b,c){var d=a("./_object-dp"),e=a("./_property-desc");b.exports=a("./_descriptors")?function(a,b,c){return d.f(a,b,e(1,c))}:function(a,b,c){return a[b]=c,a}},{"./_descriptors":33,"./_object-dp":76,"./_property-desc":94}],48:[function(a,b,c){var d=a("./_global").document;b.exports=d&&d.documentElement},{"./_global":45}],49:[function(a,b,c){b.exports=!a("./_descriptors")&&!a("./_fails")(function(){return 7!=Object.defineProperty(a("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":33,"./_dom-create":34,"./_fails":39}],50:[function(a,b,c){var d=a("./_is-object"),e=a("./_set-proto").set;b.exports=function(a,b,c){var f,g=b.constructor;return g!==c&&"function"==typeof g&&(f=g.prototype)!==c.prototype&&d(f)&&e&&e(a,f),a}},{"./_is-object":56,"./_set-proto":103}],51:[function(a,b,c){b.exports=function(a,b,c){var d=void 0===c;switch(b.length){case 0:return d?a():a.call(c);case 1:return d?a(b[0]):a.call(c,b[0]);case 2:return d?a(b[0],b[1]):a.call(c,b[0],b[1]);case 3:return d?a(b[0],b[1],b[2]):a.call(c,b[0],b[1],b[2]);case 4:return d?a(b[0],b[1],b[2],b[3]):a.call(c,b[0],b[1],b[2],b[3])}return a.apply(c,b)}},{}],52:[function(a,b,c){var d=a("./_cof");b.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==d(a)?a.split(""):Object(a)}},{"./_cof":22}],53:[function(a,b,c){var d=a("./_iterators"),e=a("./_wks")("iterator"),f=Array.prototype;b.exports=function(a){return void 0!==a&&(d.Array===a||f[e]===a)}},{"./_iterators":63,"./_wks":133}],54:[function(a,b,c){var d=a("./_cof");b.exports=Array.isArray||function(a){return"Array"==d(a)}},{"./_cof":22}],55:[function(a,b,c){var d=a("./_is-object"),e=Math.floor;b.exports=function(a){return!d(a)&&isFinite(a)&&e(a)===a}},{"./_is-object":56}],56:[function(a,b,c){b.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},{}],57:[function(a,b,c){var d=a("./_is-object"),e=a("./_cof"),f=a("./_wks")("match");b.exports=function(a){var b;return d(a)&&(void 0!==(b=a[f])?!!b:"RegExp"==e(a))}},{"./_cof":22,"./_is-object":56,"./_wks":133}],58:[function(a,b,c){var d=a("./_an-object");b.exports=function(a,b,c,e){try{return e?b(d(c)[0],c[1]):b(c)}catch(b){var f=a.return;throw void 0!==f&&d(f.call(a)),b}}},{"./_an-object":11}],59:[function(a,b,c){"use strict";var d=a("./_object-create"),e=a("./_property-desc"),f=a("./_set-to-string-tag"),g={};a("./_hide")(g,a("./_wks")("iterator"),function(){return this}),b.exports=function(a,b,c){a.prototype=d(g,{next:e(1,c)}),f(a,b+" Iterator")}},{"./_hide":47,"./_object-create":75,"./_property-desc":94,"./_set-to-string-tag":105,"./_wks":133}],60:[function(a,b,c){"use strict";var d=a("./_library"),e=a("./_export"),f=a("./_redefine"),g=a("./_hide"),h=a("./_iterators"),i=a("./_iter-create"),j=a("./_set-to-string-tag"),k=a("./_object-gpo"),l=a("./_wks")("iterator"),m=!([].keys&&"next"in[].keys()),n=function(){return this};b.exports=function(a,b,c,o,p,q,r){i(c,b,o);var s,t,u,v=function(a){if(!m&&a in z)return z[a];switch(a){case"keys":case"values":return function(){return new c(this,a)}}return function(){return new c(this,a)}},w=b+" Iterator",x="values"==p,y=!1,z=a.prototype,A=z[l]||z["@@iterator"]||p&&z[p],B=A||v(p),C=p?x?v("entries"):B:void 0,D="Array"==b?z.entries||A:A;if(D&&(u=k(D.call(new a)))!==Object.prototype&&u.next&&(j(u,w,!0),d||"function"==typeof u[l]||g(u,l,n)),x&&A&&"values"!==A.name&&(y=!0,B=function(){return A.call(this)}),d&&!r||!m&&!y&&z[l]||g(z,l,B),h[b]=B,h[w]=n,p)if(s={values:x?B:v("values"),keys:q?B:v("keys"),entries:C},r)for(t in s)t in z||f(z,t,s[t]);else e(e.P+e.F*(m||y),b,s);return s}},{"./_export":37,"./_hide":47,"./_iter-create":59,"./_iterators":63,"./_library":64,"./_object-gpo":83,"./_redefine":96,"./_set-to-string-tag":105,"./_wks":133}],61:[function(a,b,c){var d=a("./_wks")("iterator"),e=!1;try{var f=[7][d]();f.return=function(){e=!0},Array.from(f,function(){throw 2})}catch(a){}b.exports=function(a,b){if(!b&&!e)return!1;var c=!1;try{var f=[7],g=f[d]();g.next=function(){return{done:c=!0}},f[d]=function(){return g},a(f)}catch(a){}return c}},{"./_wks":133}],62:[function(a,b,c){b.exports=function(a,b){return{value:b,done:!!a}}},{}],63:[function(a,b,c){b.exports={}},{}],64:[function(a,b,c){b.exports=!1},{}],65:[function(a,b,c){var d=Math.expm1;b.exports=!d||d(10)>22025.465794806718||d(10)<22025.465794806718||-2e-17!=d(-2e-17)?function(a){return 0==(a=+a)?a:a>-1e-6&&a<1e-6?a+a*a/2:Math.exp(a)-1}:d},{}],66:[function(a,b,c){var d=a("./_math-sign"),e=Math.pow,f=e(2,-52),g=e(2,-23),h=e(2,127)*(2-g),i=e(2,-126),j=function(a){return a+1/f-1/f};b.exports=Math.fround||function(a){var b,c,e=Math.abs(a),k=d(a);return e<i?k*j(e/i/g)*i*g:(b=(1+g/f)*e,c=b-(b-e),c>h||c!=c?k*(1/0):k*c)}},{"./_math-sign":69}],67:[function(a,b,c){b.exports=Math.log1p||function(a){return(a=+a)>-1e-8&&a<1e-8?a-a*a/2:Math.log(1+a)}},{}],68:[function(a,b,c){b.exports=Math.scale||function(a,b,c,d,e){return 0===arguments.length||a!=a||b!=b||c!=c||d!=d||e!=e?NaN:a===1/0||a===-1/0?a:(a-b)*(e-d)/(c-b)+d}},{}],69:[function(a,b,c){b.exports=Math.sign||function(a){return 0==(a=+a)||a!=a?a:a<0?-1:1}},{}],70:[function(a,b,c){var d=a("./_uid")("meta"),e=a("./_is-object"),f=a("./_has"),g=a("./_object-dp").f,h=0,i=Object.isExtensible||function(){return!0},j=!a("./_fails")(function(){return i(Object.preventExtensions({}))}),k=function(a){g(a,d,{value:{i:"O"+ ++h,w:{}}})},l=function(a,b){if(!e(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!f(a,d)){if(!i(a))return"F";if(!b)return"E";k(a)}return a[d].i},m=function(a,b){if(!f(a,d)){if(!i(a))return!0;if(!b)return!1;k(a)}return a[d].w},n=function(a){return j&&o.NEED&&i(a)&&!f(a,d)&&k(a),a},o=b.exports={KEY:d,NEED:!1,fastKey:l,getWeak:m,onFreeze:n}},{"./_fails":39,"./_has":46,"./_is-object":56,"./_object-dp":76,"./_uid":128}],71:[function(a,b,c){var d=a("./es6.map"),e=a("./_export"),f=a("./_shared")("metadata"),g=f.store||(f.store=new(a("./es6.weak-map"))),h=function(a,b,c){var e=g.get(a);if(!e){if(!c)return;g.set(a,e=new d)}var f=e.get(b);if(!f){if(!c)return;e.set(b,f=new d)}return f},i=function(a,b,c){var d=h(b,c,!1);return void 0!==d&&d.has(a)},j=function(a,b,c){var d=h(b,c,!1);return void 0===d?void 0:d.get(a)},k=function(a,b,c,d){h(c,d,!0).set(a,b)},l=function(a,b){var c=h(a,b,!1),d=[];return c&&c.forEach(function(a,b){d.push(b)}),d},m=function(a){return void 0===a||"symbol"==typeof a?a:String(a)},n=function(a){e(e.S,"Reflect",a)};b.exports={store:g,map:h,has:i,get:j,set:k,keys:l,key:m,exp:n}},{"./_export":37,"./_shared":107,"./es6.map":165,"./es6.weak-map":272}],72:[function(a,b,c){var d=a("./_global"),e=a("./_task").set,f=d.MutationObserver||d.WebKitMutationObserver,g=d.process,h=d.Promise,i="process"==a("./_cof")(g);b.exports=function(){var a,b,c,j=function(){var d,e;for(i&&(d=g.domain)&&d.exit();a;){e=a.fn,a=a.next;try{e()}catch(d){throw a?c():b=void 0,d}}b=void 0,d&&d.enter()};if(i)c=function(){g.nextTick(j)};else if(!f||d.navigator&&d.navigator.standalone)if(h&&h.resolve){var k=h.resolve(void 0);c=function(){k.then(j)}}else c=function(){e.call(d,j)};else{var l=!0,m=document.createTextNode("");new f(j).observe(m,{characterData:!0}),c=function(){m.data=l=!l}}return function(d){var e={fn:d,next:void 0};b&&(b.next=e),a||(a=e,c()),b=e}}},{"./_cof":22,"./_global":45,"./_task":117}],73:[function(a,b,c){"use strict";function d(a){var b,c;this.promise=new a(function(a,d){if(void 0!==b||void 0!==c)throw TypeError("Bad Promise constructor");b=a,c=d}),this.resolve=e(b),this.reject=e(c)}var e=a("./_a-function");b.exports.f=function(a){return new d(a)}},{"./_a-function":6}],74:[function(a,b,c){"use strict";var d=a("./_object-keys"),e=a("./_object-gops"),f=a("./_object-pie"),g=a("./_to-object"),h=a("./_iobject"),i=Object.assign;b.exports=!i||a("./_fails")(function(){var a={},b={},c=Symbol(),d="abcdefghijklmnopqrst";return a[c]=7,d.split("").forEach(function(a){b[a]=a}),7!=i({},a)[c]||Object.keys(i({},b)).join("")!=d})?function(a,b){
for(var c=g(a),i=arguments.length,j=1,k=e.f,l=f.f;i>j;)for(var m,n=h(arguments[j++]),o=k?d(n).concat(k(n)):d(n),p=o.length,q=0;p>q;)l.call(n,m=o[q++])&&(c[m]=n[m]);return c}:i},{"./_fails":39,"./_iobject":52,"./_object-gops":82,"./_object-keys":85,"./_object-pie":86,"./_to-object":123}],75:[function(a,b,c){var d=a("./_an-object"),e=a("./_object-dps"),f=a("./_enum-bug-keys"),g=a("./_shared-key")("IE_PROTO"),h=function(){},i=function(){var b,c=a("./_dom-create")("iframe"),d=f.length;for(c.style.display="none",a("./_html").appendChild(c),c.src="javascript:",b=c.contentWindow.document,b.open(),b.write("<script>document.F=Object<\/script>"),b.close(),i=b.F;d--;)delete i.prototype[f[d]];return i()};b.exports=Object.create||function(a,b){var c;return null!==a?(h.prototype=d(a),c=new h,h.prototype=null,c[g]=a):c=i(),void 0===b?c:e(c,b)}},{"./_an-object":11,"./_dom-create":34,"./_enum-bug-keys":35,"./_html":48,"./_object-dps":77,"./_shared-key":106}],76:[function(a,b,c){var d=a("./_an-object"),e=a("./_ie8-dom-define"),f=a("./_to-primitive"),g=Object.defineProperty;c.f=a("./_descriptors")?Object.defineProperty:function(a,b,c){if(d(a),b=f(b,!0),d(c),e)try{return g(a,b,c)}catch(a){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(a[b]=c.value),a}},{"./_an-object":11,"./_descriptors":33,"./_ie8-dom-define":49,"./_to-primitive":124}],77:[function(a,b,c){var d=a("./_object-dp"),e=a("./_an-object"),f=a("./_object-keys");b.exports=a("./_descriptors")?Object.defineProperties:function(a,b){e(a);for(var c,g=f(b),h=g.length,i=0;h>i;)d.f(a,c=g[i++],b[c]);return a}},{"./_an-object":11,"./_descriptors":33,"./_object-dp":76,"./_object-keys":85}],78:[function(a,b,c){"use strict";b.exports=a("./_library")||!a("./_fails")(function(){var b=Math.random();__defineSetter__.call(null,b,function(){}),delete a("./_global")[b]})},{"./_fails":39,"./_global":45,"./_library":64}],79:[function(a,b,c){var d=a("./_object-pie"),e=a("./_property-desc"),f=a("./_to-iobject"),g=a("./_to-primitive"),h=a("./_has"),i=a("./_ie8-dom-define"),j=Object.getOwnPropertyDescriptor;c.f=a("./_descriptors")?j:function(a,b){if(a=f(a),b=g(b,!0),i)try{return j(a,b)}catch(a){}if(h(a,b))return e(!d.f.call(a,b),a[b])}},{"./_descriptors":33,"./_has":46,"./_ie8-dom-define":49,"./_object-pie":86,"./_property-desc":94,"./_to-iobject":121,"./_to-primitive":124}],80:[function(a,b,c){var d=a("./_to-iobject"),e=a("./_object-gopn").f,f={}.toString,g="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],h=function(a){try{return e(a)}catch(a){return g.slice()}};b.exports.f=function(a){return g&&"[object Window]"==f.call(a)?h(a):e(d(a))}},{"./_object-gopn":81,"./_to-iobject":121}],81:[function(a,b,c){var d=a("./_object-keys-internal"),e=a("./_enum-bug-keys").concat("length","prototype");c.f=Object.getOwnPropertyNames||function(a){return d(a,e)}},{"./_enum-bug-keys":35,"./_object-keys-internal":84}],82:[function(a,b,c){c.f=Object.getOwnPropertySymbols},{}],83:[function(a,b,c){var d=a("./_has"),e=a("./_to-object"),f=a("./_shared-key")("IE_PROTO"),g=Object.prototype;b.exports=Object.getPrototypeOf||function(a){return a=e(a),d(a,f)?a[f]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?g:null}},{"./_has":46,"./_shared-key":106,"./_to-object":123}],84:[function(a,b,c){var d=a("./_has"),e=a("./_to-iobject"),f=a("./_array-includes")(!1),g=a("./_shared-key")("IE_PROTO");b.exports=function(a,b){var c,h=e(a),i=0,j=[];for(c in h)c!=g&&d(h,c)&&j.push(c);for(;b.length>i;)d(h,c=b[i++])&&(~f(j,c)||j.push(c));return j}},{"./_array-includes":15,"./_has":46,"./_shared-key":106,"./_to-iobject":121}],85:[function(a,b,c){var d=a("./_object-keys-internal"),e=a("./_enum-bug-keys");b.exports=Object.keys||function(a){return d(a,e)}},{"./_enum-bug-keys":35,"./_object-keys-internal":84}],86:[function(a,b,c){c.f={}.propertyIsEnumerable},{}],87:[function(a,b,c){var d=a("./_export"),e=a("./_core"),f=a("./_fails");b.exports=function(a,b){var c=(e.Object||{})[a]||Object[a],g={};g[a]=b(c),d(d.S+d.F*f(function(){c(1)}),"Object",g)}},{"./_core":27,"./_export":37,"./_fails":39}],88:[function(a,b,c){var d=a("./_object-keys"),e=a("./_to-iobject"),f=a("./_object-pie").f;b.exports=function(a){return function(b){for(var c,g=e(b),h=d(g),i=h.length,j=0,k=[];i>j;)f.call(g,c=h[j++])&&k.push(a?[c,g[c]]:g[c]);return k}}},{"./_object-keys":85,"./_object-pie":86,"./_to-iobject":121}],89:[function(a,b,c){var d=a("./_object-gopn"),e=a("./_object-gops"),f=a("./_an-object"),g=a("./_global").Reflect;b.exports=g&&g.ownKeys||function(a){var b=d.f(f(a)),c=e.f;return c?b.concat(c(a)):b}},{"./_an-object":11,"./_global":45,"./_object-gopn":81,"./_object-gops":82}],90:[function(a,b,c){var d=a("./_global").parseFloat,e=a("./_string-trim").trim;b.exports=1/d(a("./_string-ws")+"-0")!=-1/0?function(a){var b=e(String(a),3),c=d(b);return 0===c&&"-"==b.charAt(0)?-0:c}:d},{"./_global":45,"./_string-trim":115,"./_string-ws":116}],91:[function(a,b,c){var d=a("./_global").parseInt,e=a("./_string-trim").trim,f=a("./_string-ws"),g=/^[-+]?0[xX]/;b.exports=8!==d(f+"08")||22!==d(f+"0x16")?function(a,b){var c=e(String(a),3);return d(c,b>>>0||(g.test(c)?16:10))}:d},{"./_global":45,"./_string-trim":115,"./_string-ws":116}],92:[function(a,b,c){b.exports=function(a){try{return{e:!1,v:a()}}catch(a){return{e:!0,v:a}}}},{}],93:[function(a,b,c){var d=a("./_an-object"),e=a("./_is-object"),f=a("./_new-promise-capability");b.exports=function(a,b){if(d(a),e(b)&&b.constructor===a)return b;var c=f.f(a);return(0,c.resolve)(b),c.promise}},{"./_an-object":11,"./_is-object":56,"./_new-promise-capability":73}],94:[function(a,b,c){b.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},{}],95:[function(a,b,c){var d=a("./_redefine");b.exports=function(a,b,c){for(var e in b)d(a,e,b[e],c);return a}},{"./_redefine":96}],96:[function(a,b,c){var d=a("./_global"),e=a("./_hide"),f=a("./_has"),g=a("./_uid")("src"),h=a("./_function-to-string"),i=(""+h).split("toString");a("./_core").inspectSource=function(a){return h.call(a)},(b.exports=function(a,b,c,h){var j="function"==typeof c;j&&(f(c,"name")||e(c,"name",b)),a[b]!==c&&(j&&(f(c,g)||e(c,g,a[b]?""+a[b]:i.join(String(b)))),a===d?a[b]=c:h?a[b]?a[b]=c:e(a,b,c):(delete a[b],e(a,b,c)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[g]||h.call(this)})},{"./_core":27,"./_function-to-string":44,"./_global":45,"./_has":46,"./_hide":47,"./_uid":128}],97:[function(a,b,c){"use strict";var d=a("./_classof"),e=RegExp.prototype.exec;b.exports=function(a,b){var c=a.exec;if("function"==typeof c){var f=c.call(a,b);if("object"!=typeof f)throw new TypeError("RegExp exec method returned something other than an Object or null");return f}if("RegExp"!==d(a))throw new TypeError("RegExp#exec called on incompatible receiver");return e.call(a,b)}},{"./_classof":21}],98:[function(a,b,c){"use strict";var d=a("./_flags"),e=RegExp.prototype.exec,f=String.prototype.replace,g=e,h=function(){var a=/a/,b=/b*/g;return e.call(a,"a"),e.call(b,"a"),0!==a.lastIndex||0!==b.lastIndex}(),i=void 0!==/()??/.exec("")[1];(h||i)&&(g=function(a){var b,c,g,j,k=this;return i&&(c=new RegExp("^"+k.source+"$(?!\\s)",d.call(k))),h&&(b=k.lastIndex),g=e.call(k,a),h&&g&&(k.lastIndex=k.global?g.index+g[0].length:b),i&&g&&g.length>1&&f.call(g[0],c,function(){for(j=1;j<arguments.length-2;j++)void 0===arguments[j]&&(g[j]=void 0)}),g}),b.exports=g},{"./_flags":41}],99:[function(a,b,c){b.exports=function(a,b){var c=b===Object(b)?function(a){return b[a]}:b;return function(b){return String(b).replace(a,c)}}},{}],100:[function(a,b,c){b.exports=Object.is||function(a,b){return a===b?0!==a||1/a==1/b:a!=a&&b!=b}},{}],101:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_a-function"),f=a("./_ctx"),g=a("./_for-of");b.exports=function(a){d(d.S,a,{from:function(a){var b,c,d,h,i=arguments[1];return e(this),b=void 0!==i,b&&e(i),void 0==a?new this:(c=[],b?(d=0,h=f(i,arguments[2],2),g(a,!1,function(a){c.push(h(a,d++))})):g(a,!1,c.push,c),new this(c))}})}},{"./_a-function":6,"./_ctx":29,"./_export":37,"./_for-of":43}],102:[function(a,b,c){"use strict";var d=a("./_export");b.exports=function(a){d(d.S,a,{of:function(){for(var a=arguments.length,b=new Array(a);a--;)b[a]=arguments[a];return new this(b)}})}},{"./_export":37}],103:[function(a,b,c){var d=a("./_is-object"),e=a("./_an-object"),f=function(a,b){if(e(a),!d(b)&&null!==b)throw TypeError(b+": can't set as prototype!")};b.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(b,c,d){try{d=a("./_ctx")(Function.call,a("./_object-gopd").f(Object.prototype,"__proto__").set,2),d(b,[]),c=!(b instanceof Array)}catch(a){c=!0}return function(a,b){return f(a,b),c?a.__proto__=b:d(a,b),a}}({},!1):void 0),check:f}},{"./_an-object":11,"./_ctx":29,"./_is-object":56,"./_object-gopd":79}],104:[function(a,b,c){"use strict";var d=a("./_global"),e=a("./_object-dp"),f=a("./_descriptors"),g=a("./_wks")("species");b.exports=function(a){var b=d[a];f&&b&&!b[g]&&e.f(b,g,{configurable:!0,get:function(){return this}})}},{"./_descriptors":33,"./_global":45,"./_object-dp":76,"./_wks":133}],105:[function(a,b,c){var d=a("./_object-dp").f,e=a("./_has"),f=a("./_wks")("toStringTag");b.exports=function(a,b,c){a&&!e(a=c?a:a.prototype,f)&&d(a,f,{configurable:!0,value:b})}},{"./_has":46,"./_object-dp":76,"./_wks":133}],106:[function(a,b,c){var d=a("./_shared")("keys"),e=a("./_uid");b.exports=function(a){return d[a]||(d[a]=e(a))}},{"./_shared":107,"./_uid":128}],107:[function(a,b,c){var d=a("./_core"),e=a("./_global"),f=e["__core-js_shared__"]||(e["__core-js_shared__"]={});(b.exports=function(a,b){return f[a]||(f[a]=void 0!==b?b:{})})("versions",[]).push({version:d.version,mode:a("./_library")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},{"./_core":27,"./_global":45,"./_library":64}],108:[function(a,b,c){var d=a("./_an-object"),e=a("./_a-function"),f=a("./_wks")("species");b.exports=function(a,b){var c,g=d(a).constructor;return void 0===g||void 0==(c=d(g)[f])?b:e(c)}},{"./_a-function":6,"./_an-object":11,"./_wks":133}],109:[function(a,b,c){"use strict";var d=a("./_fails");b.exports=function(a,b){return!!a&&d(function(){b?a.call(null,function(){},1):a.call(null)})}},{"./_fails":39}],110:[function(a,b,c){var d=a("./_to-integer"),e=a("./_defined");b.exports=function(a){return function(b,c){var f,g,h=String(e(b)),i=d(c),j=h.length;return i<0||i>=j?a?"":void 0:(f=h.charCodeAt(i),f<55296||f>56319||i+1===j||(g=h.charCodeAt(i+1))<56320||g>57343?a?h.charAt(i):f:a?h.slice(i,i+2):g-56320+(f-55296<<10)+65536)}}},{"./_defined":32,"./_to-integer":120}],111:[function(a,b,c){var d=a("./_is-regexp"),e=a("./_defined");b.exports=function(a,b,c){if(d(b))throw TypeError("String#"+c+" doesn't accept regex!");return String(e(a))}},{"./_defined":32,"./_is-regexp":57}],112:[function(a,b,c){var d=a("./_export"),e=a("./_fails"),f=a("./_defined"),g=/"/g,h=function(a,b,c,d){var e=String(f(a)),h="<"+b;return""!==c&&(h+=" "+c+'="'+String(d).replace(g,"&quot;")+'"'),h+">"+e+"</"+b+">"};b.exports=function(a,b){var c={};c[a]=b(h),d(d.P+d.F*e(function(){var b=""[a]('"');return b!==b.toLowerCase()||b.split('"').length>3}),"String",c)}},{"./_defined":32,"./_export":37,"./_fails":39}],113:[function(a,b,c){var d=a("./_to-length"),e=a("./_string-repeat"),f=a("./_defined");b.exports=function(a,b,c,g){var h=String(f(a)),i=h.length,j=void 0===c?" ":String(c),k=d(b);if(k<=i||""==j)return h;var l=k-i,m=e.call(j,Math.ceil(l/j.length));return m.length>l&&(m=m.slice(0,l)),g?m+h:h+m}},{"./_defined":32,"./_string-repeat":114,"./_to-length":122}],114:[function(a,b,c){"use strict";var d=a("./_to-integer"),e=a("./_defined");b.exports=function(a){var b=String(e(this)),c="",f=d(a);if(f<0||f==1/0)throw RangeError("Count can't be negative");for(;f>0;(f>>>=1)&&(b+=b))1&f&&(c+=b);return c}},{"./_defined":32,"./_to-integer":120}],115:[function(a,b,c){var d=a("./_export"),e=a("./_defined"),f=a("./_fails"),g=a("./_string-ws"),h="["+g+"]",i="​",j=RegExp("^"+h+h+"*"),k=RegExp(h+h+"*$"),l=function(a,b,c){var e={},h=f(function(){return!!g[a]()||i[a]()!=i}),j=e[a]=h?b(m):g[a];c&&(e[c]=j),d(d.P+d.F*h,"String",e)},m=l.trim=function(a,b){return a=String(e(a)),1&b&&(a=a.replace(j,"")),2&b&&(a=a.replace(k,"")),a};b.exports=l},{"./_defined":32,"./_export":37,"./_fails":39,"./_string-ws":116}],116:[function(a,b,c){b.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],117:[function(a,b,c){var d,e,f,g=a("./_ctx"),h=a("./_invoke"),i=a("./_html"),j=a("./_dom-create"),k=a("./_global"),l=k.process,m=k.setImmediate,n=k.clearImmediate,o=k.MessageChannel,p=k.Dispatch,q=0,r={},s=function(){var a=+this;if(r.hasOwnProperty(a)){var b=r[a];delete r[a],b()}},t=function(a){s.call(a.data)};m&&n||(m=function(a){for(var b=[],c=1;arguments.length>c;)b.push(arguments[c++]);return r[++q]=function(){h("function"==typeof a?a:Function(a),b)},d(q),q},n=function(a){delete r[a]},"process"==a("./_cof")(l)?d=function(a){l.nextTick(g(s,a,1))}:p&&p.now?d=function(a){p.now(g(s,a,1))}:o?(e=new o,f=e.port2,e.port1.onmessage=t,d=g(f.postMessage,f,1)):k.addEventListener&&"function"==typeof postMessage&&!k.importScripts?(d=function(a){k.postMessage(a+"","*")},k.addEventListener("message",t,!1)):d="onreadystatechange"in j("script")?function(a){i.appendChild(j("script")).onreadystatechange=function(){i.removeChild(this),s.call(a)}}:function(a){setTimeout(g(s,a,1),0)}),b.exports={set:m,clear:n}},{"./_cof":22,"./_ctx":29,"./_dom-create":34,"./_global":45,"./_html":48,"./_invoke":51}],118:[function(a,b,c){var d=a("./_to-integer"),e=Math.max,f=Math.min;b.exports=function(a,b){return a=d(a),a<0?e(a+b,0):f(a,b)}},{"./_to-integer":120}],119:[function(a,b,c){var d=a("./_to-integer"),e=a("./_to-length");b.exports=function(a){if(void 0===a)return 0;var b=d(a),c=e(b);if(b!==c)throw RangeError("Wrong length!");return c}},{"./_to-integer":120,"./_to-length":122}],120:[function(a,b,c){var d=Math.ceil,e=Math.floor;b.exports=function(a){return isNaN(a=+a)?0:(a>0?e:d)(a)}},{}],121:[function(a,b,c){var d=a("./_iobject"),e=a("./_defined");b.exports=function(a){return d(e(a))}},{"./_defined":32,"./_iobject":52}],122:[function(a,b,c){var d=a("./_to-integer"),e=Math.min;b.exports=function(a){return a>0?e(d(a),9007199254740991):0}},{"./_to-integer":120}],123:[function(a,b,c){var d=a("./_defined");b.exports=function(a){return Object(d(a))}},{"./_defined":32}],124:[function(a,b,c){var d=a("./_is-object");b.exports=function(a,b){if(!d(a))return a;var c,e;if(b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;if("function"==typeof(c=a.valueOf)&&!d(e=c.call(a)))return e;if(!b&&"function"==typeof(c=a.toString)&&!d(e=c.call(a)))return e;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":56}],125:[function(a,b,c){"use strict";if(a("./_descriptors")){var d=a("./_library"),e=a("./_global"),f=a("./_fails"),g=a("./_export"),h=a("./_typed"),i=a("./_typed-buffer"),j=a("./_ctx"),k=a("./_an-instance"),l=a("./_property-desc"),m=a("./_hide"),n=a("./_redefine-all"),o=a("./_to-integer"),p=a("./_to-length"),q=a("./_to-index"),r=a("./_to-absolute-index"),s=a("./_to-primitive"),t=a("./_has"),u=a("./_classof"),v=a("./_is-object"),w=a("./_to-object"),x=a("./_is-array-iter"),y=a("./_object-create"),z=a("./_object-gpo"),A=a("./_object-gopn").f,B=a("./core.get-iterator-method"),C=a("./_uid"),D=a("./_wks"),E=a("./_array-methods"),F=a("./_array-includes"),G=a("./_species-constructor"),H=a("./es6.array.iterator"),I=a("./_iterators"),J=a("./_iter-detect"),K=a("./_set-species"),L=a("./_array-fill"),M=a("./_array-copy-within"),N=a("./_object-dp"),O=a("./_object-gopd"),P=N.f,Q=O.f,R=e.RangeError,S=e.TypeError,T=e.Uint8Array,U=Array.prototype,V=i.ArrayBuffer,W=i.DataView,X=E(0),Y=E(2),Z=E(3),$=E(4),_=E(5),aa=E(6),ba=F(!0),ca=F(!1),da=H.values,ea=H.keys,fa=H.entries,ga=U.lastIndexOf,ha=U.reduce,ia=U.reduceRight,ja=U.join,ka=U.sort,la=U.slice,ma=U.toString,na=U.toLocaleString,oa=D("iterator"),pa=D("toStringTag"),qa=C("typed_constructor"),ra=C("def_constructor"),sa=h.CONSTR,ta=h.TYPED,ua=h.VIEW,va=E(1,function(a,b){return Aa(G(a,a[ra]),b)}),wa=f(function(){return 1===new T(new Uint16Array([1]).buffer)[0]}),xa=!!T&&!!T.prototype.set&&f(function(){new T(1).set({})}),ya=function(a,b){var c=o(a);if(c<0||c%b)throw R("Wrong offset!");return c},za=function(a){if(v(a)&&ta in a)return a;throw S(a+" is not a typed array!")},Aa=function(a,b){if(!(v(a)&&qa in a))throw S("It is not a typed array constructor!");return new a(b)},Ba=function(a,b){return Ca(G(a,a[ra]),b)},Ca=function(a,b){for(var c=0,d=b.length,e=Aa(a,d);d>c;)e[c]=b[c++];return e},Da=function(a,b,c){P(a,b,{get:function(){return this._d[c]}})},Ea=function(a){var b,c,d,e,f,g,h=w(a),i=arguments.length,k=i>1?arguments[1]:void 0,l=void 0!==k,m=B(h);if(void 0!=m&&!x(m)){for(g=m.call(h),d=[],b=0;!(f=g.next()).done;b++)d.push(f.value);h=d}for(l&&i>2&&(k=j(k,arguments[2],2)),b=0,c=p(h.length),e=Aa(this,c);c>b;b++)e[b]=l?k(h[b],b):h[b];return e},Fa=function(){for(var a=0,b=arguments.length,c=Aa(this,b);b>a;)c[a]=arguments[a++];return c},Ga=!!T&&f(function(){na.call(new T(1))}),Ha=function(){return na.apply(Ga?la.call(za(this)):za(this),arguments)},Ia={copyWithin:function(a,b){return M.call(za(this),a,b,arguments.length>2?arguments[2]:void 0)},every:function(a){return $(za(this),a,arguments.length>1?arguments[1]:void 0)},fill:function(a){return L.apply(za(this),arguments)},filter:function(a){return Ba(this,Y(za(this),a,arguments.length>1?arguments[1]:void 0))},find:function(a){return _(za(this),a,arguments.length>1?arguments[1]:void 0)},findIndex:function(a){return aa(za(this),a,arguments.length>1?arguments[1]:void 0)},forEach:function(a){X(za(this),a,arguments.length>1?arguments[1]:void 0)},indexOf:function(a){return ca(za(this),a,arguments.length>1?arguments[1]:void 0)},includes:function(a){return ba(za(this),a,arguments.length>1?arguments[1]:void 0)},join:function(a){return ja.apply(za(this),arguments)},lastIndexOf:function(a){return ga.apply(za(this),arguments)},map:function(a){return va(za(this),a,arguments.length>1?arguments[1]:void 0)},reduce:function(a){return ha.apply(za(this),arguments)},reduceRight:function(a){return ia.apply(za(this),arguments)},reverse:function(){for(var a,b=this,c=za(b).length,d=Math.floor(c/2),e=0;e<d;)a=b[e],b[e++]=b[--c],b[c]=a;return b},some:function(a){return Z(za(this),a,arguments.length>1?arguments[1]:void 0)},sort:function(a){return ka.call(za(this),a)},subarray:function(a,b){var c=za(this),d=c.length,e=r(a,d);return new(G(c,c[ra]))(c.buffer,c.byteOffset+e*c.BYTES_PER_ELEMENT,p((void 0===b?d:r(b,d))-e))}},Ja=function(a,b){return Ba(this,la.call(za(this),a,b))},Ka=function(a){za(this);var b=ya(arguments[1],1),c=this.length,d=w(a),e=p(d.length),f=0;if(e+b>c)throw R("Wrong length!");for(;f<e;)this[b+f]=d[f++]},La={entries:function(){return fa.call(za(this))},keys:function(){return ea.call(za(this))},values:function(){return da.call(za(this))}},Ma=function(a,b){return v(a)&&a[ta]&&"symbol"!=typeof b&&b in a&&String(+b)==String(b)},Na=function(a,b){return Ma(a,b=s(b,!0))?l(2,a[b]):Q(a,b)},Oa=function(a,b,c){return!(Ma(a,b=s(b,!0))&&v(c)&&t(c,"value"))||t(c,"get")||t(c,"set")||c.configurable||t(c,"writable")&&!c.writable||t(c,"enumerable")&&!c.enumerable?P(a,b,c):(a[b]=c.value,a)};sa||(O.f=Na,N.f=Oa),g(g.S+g.F*!sa,"Object",{getOwnPropertyDescriptor:Na,defineProperty:Oa}),f(function(){ma.call({})})&&(ma=na=function(){return ja.call(this)});var Pa=n({},Ia);n(Pa,La),m(Pa,oa,La.values),n(Pa,{slice:Ja,set:Ka,constructor:function(){},toString:ma,toLocaleString:Ha}),Da(Pa,"buffer","b"),Da(Pa,"byteOffset","o"),Da(Pa,"byteLength","l"),Da(Pa,"length","e"),P(Pa,pa,{get:function(){return this[ta]}}),b.exports=function(a,b,c,i){i=!!i;var j=a+(i?"Clamped":"")+"Array",l="get"+a,n="set"+a,o=e[j],r=o||{},s=o&&z(o),t=!o||!h.ABV,w={},x=o&&o.prototype,B=function(a,c){var d=a._d;return d.v[l](c*b+d.o,wa)},C=function(a,c,d){var e=a._d;i&&(d=(d=Math.round(d))<0?0:d>255?255:255&d),e.v[n](c*b+e.o,d,wa)},D=function(a,b){P(a,b,{get:function(){return B(this,b)},set:function(a){return C(this,b,a)},enumerable:!0})};t?(o=c(function(a,c,d,e){k(a,o,j,"_d");var f,g,h,i,l=0,n=0;if(v(c)){if(!(c instanceof V||"ArrayBuffer"==(i=u(c))||"SharedArrayBuffer"==i))return ta in c?Ca(o,c):Ea.call(o,c);f=c,n=ya(d,b);var r=c.byteLength;if(void 0===e){if(r%b)throw R("Wrong length!");if((g=r-n)<0)throw R("Wrong length!")}else if((g=p(e)*b)+n>r)throw R("Wrong length!");h=g/b}else h=q(c),g=h*b,f=new V(g);for(m(a,"_d",{b:f,o:n,l:g,e:h,v:new W(f)});l<h;)D(a,l++)}),x=o.prototype=y(Pa),m(x,"constructor",o)):f(function(){o(1)})&&f(function(){new o(-1)})&&J(function(a){new o,new o(null),new o(1.5),new o(a)},!0)||(o=c(function(a,c,d,e){k(a,o,j);var f;return v(c)?c instanceof V||"ArrayBuffer"==(f=u(c))||"SharedArrayBuffer"==f?void 0!==e?new r(c,ya(d,b),e):void 0!==d?new r(c,ya(d,b)):new r(c):ta in c?Ca(o,c):Ea.call(o,c):new r(q(c))}),X(s!==Function.prototype?A(r).concat(A(s)):A(r),function(a){a in o||m(o,a,r[a])}),o.prototype=x,d||(x.constructor=o));var E=x[oa],F=!!E&&("values"==E.name||void 0==E.name),G=La.values;m(o,qa,!0),m(x,ta,j),m(x,ua,!0),m(x,ra,o),(i?new o(1)[pa]==j:pa in x)||P(x,pa,{get:function(){return j}}),w[j]=o,g(g.G+g.W+g.F*(o!=r),w),g(g.S,j,{BYTES_PER_ELEMENT:b}),g(g.S+g.F*f(function(){r.of.call(o,1)}),j,{from:Ea,of:Fa}),"BYTES_PER_ELEMENT"in x||m(x,"BYTES_PER_ELEMENT",b),g(g.P,j,Ia),K(j),g(g.P+g.F*xa,j,{set:Ka}),g(g.P+g.F*!F,j,La),d||x.toString==ma||(x.toString=ma),g(g.P+g.F*f(function(){new o(1).slice()}),j,{slice:Ja}),g(g.P+g.F*(f(function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()})||!f(function(){x.toLocaleString.call([1,2])})),j,{toLocaleString:Ha}),I[j]=F?E:G,d||F||m(x,oa,G)}}else b.exports=function(){}},{"./_an-instance":10,"./_array-copy-within":12,"./_array-fill":13,"./_array-includes":15,"./_array-methods":16,"./_classof":21,"./_ctx":29,"./_descriptors":33,"./_export":37,"./_fails":39,"./_global":45,"./_has":46,"./_hide":47,"./_is-array-iter":53,"./_is-object":56,"./_iter-detect":61,"./_iterators":63,"./_library":64,"./_object-create":75,"./_object-dp":76,"./_object-gopd":79,"./_object-gopn":81,"./_object-gpo":83,"./_property-desc":94,"./_redefine-all":95,"./_set-species":104,"./_species-constructor":108,"./_to-absolute-index":118,"./_to-index":119,"./_to-integer":120,"./_to-length":122,"./_to-object":123,"./_to-primitive":124,"./_typed":127,"./_typed-buffer":126,"./_uid":128,"./_wks":133,"./core.get-iterator-method":134,"./es6.array.iterator":146}],126:[function(a,b,c){"use strict";function d(a,b,c){var d,e,f,g=new Array(c),h=8*c-b-1,i=(1<<h)-1,j=i>>1,k=23===b?M(2,-24)-M(2,-77):0,l=0,m=a<0||0===a&&1/a<0?1:0;for(a=L(a),a!=a||a===J?(e=a!=a?1:0,d=i):(d=N(O(a)/P),a*(f=M(2,-d))<1&&(d--,f*=2),a+=d+j>=1?k/f:k*M(2,1-j),a*f>=2&&(d++,f/=2),d+j>=i?(e=0,d=i):d+j>=1?(e=(a*f-1)*M(2,b),d+=j):(e=a*M(2,j-1)*M(2,b),d=0));b>=8;g[l++]=255&e,e/=256,b-=8);for(d=d<<b|e,h+=b;h>0;g[l++]=255&d,d/=256,h-=8);return g[--l]|=128*m,g}function e(a,b,c){var d,e=8*c-b-1,f=(1<<e)-1,g=f>>1,h=e-7,i=c-1,j=a[i--],k=127&j;for(j>>=7;h>0;k=256*k+a[i],i--,h-=8);for(d=k&(1<<-h)-1,k>>=-h,h+=b;h>0;d=256*d+a[i],i--,h-=8);if(0===k)k=1-g;else{if(k===f)return d?NaN:j?-J:J;d+=M(2,b),k-=g}return(j?-1:1)*d*M(2,k-b)}function f(a){return a[3]<<24|a[2]<<16|a[1]<<8|a[0]}function g(a){return[255&a]}function h(a){return[255&a,a>>8&255]}function i(a){return[255&a,a>>8&255,a>>16&255,a>>24&255]}function j(a){return d(a,52,8)}function k(a){return d(a,23,4)}function l(a,b,c){A(a[D],b,{get:function(){return this[c]}})}function m(a,b,c,d){var e=+c,f=y(e);if(f+b>a[R])throw I(E);var g=a[Q]._b,h=f+a[S],i=g.slice(h,h+b);return d?i:i.reverse()}function n(a,b,c,d,e,f){var g=+c,h=y(g);if(h+b>a[R])throw I(E);for(var i=a[Q]._b,j=h+a[S],k=d(+e),l=0;l<b;l++)i[j+l]=k[f?l:b-l-1]}var o=a("./_global"),p=a("./_descriptors"),q=a("./_library"),r=a("./_typed"),s=a("./_hide"),t=a("./_redefine-all"),u=a("./_fails"),v=a("./_an-instance"),w=a("./_to-integer"),x=a("./_to-length"),y=a("./_to-index"),z=a("./_object-gopn").f,A=a("./_object-dp").f,B=a("./_array-fill"),C=a("./_set-to-string-tag"),D="prototype",E="Wrong index!",F=o.ArrayBuffer,G=o.DataView,H=o.Math,I=o.RangeError,J=o.Infinity,K=F,L=H.abs,M=H.pow,N=H.floor,O=H.log,P=H.LN2,Q=p?"_b":"buffer",R=p?"_l":"byteLength",S=p?"_o":"byteOffset";if(r.ABV){if(!u(function(){F(1)})||!u(function(){new F(-1)})||u(function(){return new F,new F(1.5),new F(NaN),"ArrayBuffer"!=F.name})){F=function(a){return v(this,F),new K(y(a))};for(var T,U=F[D]=K[D],V=z(K),W=0;V.length>W;)(T=V[W++])in F||s(F,T,K[T]);q||(U.constructor=F)}var X=new G(new F(2)),Y=G[D].setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||t(G[D],{setInt8:function(a,b){Y.call(this,a,b<<24>>24)},setUint8:function(a,b){Y.call(this,a,b<<24>>24)}},!0)}else F=function(a){v(this,F,"ArrayBuffer");var b=y(a);this._b=B.call(new Array(b),0),this[R]=b},G=function(a,b,c){v(this,G,"DataView"),v(a,F,"DataView");var d=a[R],e=w(b);if(e<0||e>d)throw I("Wrong offset!");if(c=void 0===c?d-e:x(c),e+c>d)throw I("Wrong length!");this[Q]=a,this[S]=e,this[R]=c},p&&(l(F,"byteLength","_l"),l(G,"buffer","_b"),l(G,"byteLength","_l"),l(G,"byteOffset","_o")),t(G[D],{getInt8:function(a){return m(this,1,a)[0]<<24>>24},getUint8:function(a){return m(this,1,a)[0]},getInt16:function(a){var b=m(this,2,a,arguments[1]);return(b[1]<<8|b[0])<<16>>16},getUint16:function(a){var b=m(this,2,a,arguments[1]);return b[1]<<8|b[0]},getInt32:function(a){return f(m(this,4,a,arguments[1]))},getUint32:function(a){return f(m(this,4,a,arguments[1]))>>>0},getFloat32:function(a){return e(m(this,4,a,arguments[1]),23,4)},getFloat64:function(a){return e(m(this,8,a,arguments[1]),52,8)},setInt8:function(a,b){n(this,1,a,g,b)},setUint8:function(a,b){n(this,1,a,g,b)},setInt16:function(a,b){n(this,2,a,h,b,arguments[2])},setUint16:function(a,b){n(this,2,a,h,b,arguments[2])},setInt32:function(a,b){n(this,4,a,i,b,arguments[2])},setUint32:function(a,b){n(this,4,a,i,b,arguments[2])},setFloat32:function(a,b){n(this,4,a,k,b,arguments[2])},setFloat64:function(a,b){n(this,8,a,j,b,arguments[2])}});C(F,"ArrayBuffer"),C(G,"DataView"),s(G[D],r.VIEW,!0),c.ArrayBuffer=F,c.DataView=G},{"./_an-instance":10,"./_array-fill":13,"./_descriptors":33,"./_fails":39,"./_global":45,"./_hide":47,"./_library":64,"./_object-dp":76,"./_object-gopn":81,"./_redefine-all":95,"./_set-to-string-tag":105,"./_to-index":119,"./_to-integer":120,"./_to-length":122,"./_typed":127}],127:[function(a,b,c){for(var d,e=a("./_global"),f=a("./_hide"),g=a("./_uid"),h=g("typed_array"),i=g("view"),j=!(!e.ArrayBuffer||!e.DataView),k=j,l=0,m="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(d=e[m[l++]])?(f(d.prototype,h,!0),f(d.prototype,i,!0)):k=!1;b.exports={ABV:j,CONSTR:k,TYPED:h,VIEW:i}},{"./_global":45,"./_hide":47,"./_uid":128}],128:[function(a,b,c){var d=0,e=Math.random();b.exports=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++d+e).toString(36))}},{}],129:[function(a,b,c){var d=a("./_global"),e=d.navigator;b.exports=e&&e.userAgent||""},{"./_global":45}],130:[function(a,b,c){var d=a("./_is-object");b.exports=function(a,b){if(!d(a)||a._t!==b)throw TypeError("Incompatible receiver, "+b+" required!");return a}},{"./_is-object":56}],131:[function(a,b,c){var d=a("./_global"),e=a("./_core"),f=a("./_library"),g=a("./_wks-ext"),h=a("./_object-dp").f;b.exports=function(a){var b=e.Symbol||(e.Symbol=f?{}:d.Symbol||{});"_"==a.charAt(0)||a in b||h(b,a,{value:g.f(a)})}},{"./_core":27,"./_global":45,"./_library":64,"./_object-dp":76,"./_wks-ext":132}],132:[function(a,b,c){c.f=a("./_wks")},{"./_wks":133}],133:[function(a,b,c){var d=a("./_shared")("wks"),e=a("./_uid"),f=a("./_global").Symbol,g="function"==typeof f;(b.exports=function(a){return d[a]||(d[a]=g&&f[a]||(g?f:e)("Symbol."+a))}).store=d},{"./_global":45,"./_shared":107,"./_uid":128}],134:[function(a,b,c){var d=a("./_classof"),e=a("./_wks")("iterator"),f=a("./_iterators");b.exports=a("./_core").getIteratorMethod=function(a){if(void 0!=a)return a[e]||a["@@iterator"]||f[d(a)]}},{"./_classof":21,"./_core":27,"./_iterators":63,"./_wks":133}],135:[function(a,b,c){var d=a("./_export"),e=a("./_replacer")(/[\\^$*+?.()|[\]{}]/g,"\\$&");d(d.S,"RegExp",{escape:function(a){return e(a)}})},{"./_export":37,"./_replacer":99}],136:[function(a,b,c){var d=a("./_export");d(d.P,"Array",{copyWithin:a("./_array-copy-within")}),a("./_add-to-unscopables")("copyWithin")},{"./_add-to-unscopables":8,"./_array-copy-within":12,"./_export":37}],137:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_array-methods")(4);d(d.P+d.F*!a("./_strict-method")([].every,!0),"Array",{every:function(a){return e(this,a,arguments[1])}})},{"./_array-methods":16,"./_export":37,"./_strict-method":109}],138:[function(a,b,c){var d=a("./_export");d(d.P,"Array",{fill:a("./_array-fill")}),a("./_add-to-unscopables")("fill")},{"./_add-to-unscopables":8,"./_array-fill":13,"./_export":37}],139:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_array-methods")(2);d(d.P+d.F*!a("./_strict-method")([].filter,!0),"Array",{filter:function(a){return e(this,a,arguments[1])}})},{"./_array-methods":16,"./_export":37,"./_strict-method":109}],140:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_array-methods")(6),f="findIndex",g=!0;f in[]&&Array(1)[f](function(){g=!1}),d(d.P+d.F*g,"Array",{findIndex:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),a("./_add-to-unscopables")(f)},{"./_add-to-unscopables":8,"./_array-methods":16,"./_export":37}],141:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_array-methods")(5),f=!0;"find"in[]&&Array(1).find(function(){f=!1}),d(d.P+d.F*f,"Array",{find:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),a("./_add-to-unscopables")("find")},{"./_add-to-unscopables":8,"./_array-methods":16,"./_export":37}],142:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_array-methods")(0),f=a("./_strict-method")([].forEach,!0);d(d.P+d.F*!f,"Array",{forEach:function(a){return e(this,a,arguments[1])}})},{"./_array-methods":16,"./_export":37,"./_strict-method":109}],143:[function(a,b,c){"use strict";var d=a("./_ctx"),e=a("./_export"),f=a("./_to-object"),g=a("./_iter-call"),h=a("./_is-array-iter"),i=a("./_to-length"),j=a("./_create-property"),k=a("./core.get-iterator-method");e(e.S+e.F*!a("./_iter-detect")(function(a){Array.from(a)}),"Array",{from:function(a){var b,c,e,l,m=f(a),n="function"==typeof this?this:Array,o=arguments.length,p=o>1?arguments[1]:void 0,q=void 0!==p,r=0,s=k(m);if(q&&(p=d(p,o>2?arguments[2]:void 0,2)),void 0==s||n==Array&&h(s))for(b=i(m.length),c=new n(b);b>r;r++)j(c,r,q?p(m[r],r):m[r]);else for(l=s.call(m),c=new n;!(e=l.next()).done;r++)j(c,r,q?g(l,p,[e.value,r],!0):e.value);return c.length=r,c}})},{"./_create-property":28,"./_ctx":29,"./_export":37,"./_is-array-iter":53,"./_iter-call":58,"./_iter-detect":61,"./_to-length":122,"./_to-object":123,"./core.get-iterator-method":134}],144:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_array-includes")(!1),f=[].indexOf,g=!!f&&1/[1].indexOf(1,-0)<0;d(d.P+d.F*(g||!a("./_strict-method")(f)),"Array",{indexOf:function(a){return g?f.apply(this,arguments)||0:e(this,a,arguments[1])}})},{"./_array-includes":15,"./_export":37,"./_strict-method":109}],145:[function(a,b,c){var d=a("./_export");d(d.S,"Array",{isArray:a("./_is-array")})},{"./_export":37,"./_is-array":54}],146:[function(a,b,c){"use strict";var d=a("./_add-to-unscopables"),e=a("./_iter-step"),f=a("./_iterators"),g=a("./_to-iobject");b.exports=a("./_iter-define")(Array,"Array",function(a,b){this._t=g(a),this._i=0,this._k=b},function(){var a=this._t,b=this._k,c=this._i++;return!a||c>=a.length?(this._t=void 0,e(1)):"keys"==b?e(0,c):"values"==b?e(0,a[c]):e(0,[c,a[c]])},"values"),f.Arguments=f.Array,d("keys"),d("values"),d("entries")},{"./_add-to-unscopables":8,"./_iter-define":60,
"./_iter-step":62,"./_iterators":63,"./_to-iobject":121}],147:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_to-iobject"),f=[].join;d(d.P+d.F*(a("./_iobject")!=Object||!a("./_strict-method")(f)),"Array",{join:function(a){return f.call(e(this),void 0===a?",":a)}})},{"./_export":37,"./_iobject":52,"./_strict-method":109,"./_to-iobject":121}],148:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_to-iobject"),f=a("./_to-integer"),g=a("./_to-length"),h=[].lastIndexOf,i=!!h&&1/[1].lastIndexOf(1,-0)<0;d(d.P+d.F*(i||!a("./_strict-method")(h)),"Array",{lastIndexOf:function(a){if(i)return h.apply(this,arguments)||0;var b=e(this),c=g(b.length),d=c-1;for(arguments.length>1&&(d=Math.min(d,f(arguments[1]))),d<0&&(d=c+d);d>=0;d--)if(d in b&&b[d]===a)return d||0;return-1}})},{"./_export":37,"./_strict-method":109,"./_to-integer":120,"./_to-iobject":121,"./_to-length":122}],149:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_array-methods")(1);d(d.P+d.F*!a("./_strict-method")([].map,!0),"Array",{map:function(a){return e(this,a,arguments[1])}})},{"./_array-methods":16,"./_export":37,"./_strict-method":109}],150:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_create-property");d(d.S+d.F*a("./_fails")(function(){function a(){}return!(Array.of.call(a)instanceof a)}),"Array",{of:function(){for(var a=0,b=arguments.length,c=new("function"==typeof this?this:Array)(b);b>a;)e(c,a,arguments[a++]);return c.length=b,c}})},{"./_create-property":28,"./_export":37,"./_fails":39}],151:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_array-reduce");d(d.P+d.F*!a("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function(a){return e(this,a,arguments.length,arguments[1],!0)}})},{"./_array-reduce":17,"./_export":37,"./_strict-method":109}],152:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_array-reduce");d(d.P+d.F*!a("./_strict-method")([].reduce,!0),"Array",{reduce:function(a){return e(this,a,arguments.length,arguments[1],!1)}})},{"./_array-reduce":17,"./_export":37,"./_strict-method":109}],153:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_html"),f=a("./_cof"),g=a("./_to-absolute-index"),h=a("./_to-length"),i=[].slice;d(d.P+d.F*a("./_fails")(function(){e&&i.call(e)}),"Array",{slice:function(a,b){var c=h(this.length),d=f(this);if(b=void 0===b?c:b,"Array"==d)return i.call(this,a,b);for(var e=g(a,c),j=g(b,c),k=h(j-e),l=new Array(k),m=0;m<k;m++)l[m]="String"==d?this.charAt(e+m):this[e+m];return l}})},{"./_cof":22,"./_export":37,"./_fails":39,"./_html":48,"./_to-absolute-index":118,"./_to-length":122}],154:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_array-methods")(3);d(d.P+d.F*!a("./_strict-method")([].some,!0),"Array",{some:function(a){return e(this,a,arguments[1])}})},{"./_array-methods":16,"./_export":37,"./_strict-method":109}],155:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_a-function"),f=a("./_to-object"),g=a("./_fails"),h=[].sort,i=[1,2,3];d(d.P+d.F*(g(function(){i.sort(void 0)})||!g(function(){i.sort(null)})||!a("./_strict-method")(h)),"Array",{sort:function(a){return void 0===a?h.call(f(this)):h.call(f(this),e(a))}})},{"./_a-function":6,"./_export":37,"./_fails":39,"./_strict-method":109,"./_to-object":123}],156:[function(a,b,c){a("./_set-species")("Array")},{"./_set-species":104}],157:[function(a,b,c){var d=a("./_export");d(d.S,"Date",{now:function(){return(new Date).getTime()}})},{"./_export":37}],158:[function(a,b,c){var d=a("./_export"),e=a("./_date-to-iso-string");d(d.P+d.F*(Date.prototype.toISOString!==e),"Date",{toISOString:e})},{"./_date-to-iso-string":30,"./_export":37}],159:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_to-object"),f=a("./_to-primitive");d(d.P+d.F*a("./_fails")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(a){var b=e(this),c=f(b);return"number"!=typeof c||isFinite(c)?b.toISOString():null}})},{"./_export":37,"./_fails":39,"./_to-object":123,"./_to-primitive":124}],160:[function(a,b,c){var d=a("./_wks")("toPrimitive"),e=Date.prototype;d in e||a("./_hide")(e,d,a("./_date-to-primitive"))},{"./_date-to-primitive":31,"./_hide":47,"./_wks":133}],161:[function(a,b,c){var d=Date.prototype,e=d.toString,f=d.getTime;new Date(NaN)+""!="Invalid Date"&&a("./_redefine")(d,"toString",function(){var a=f.call(this);return a===a?e.call(this):"Invalid Date"})},{"./_redefine":96}],162:[function(a,b,c){var d=a("./_export");d(d.P,"Function",{bind:a("./_bind")})},{"./_bind":20,"./_export":37}],163:[function(a,b,c){"use strict";var d=a("./_is-object"),e=a("./_object-gpo"),f=a("./_wks")("hasInstance"),g=Function.prototype;f in g||a("./_object-dp").f(g,f,{value:function(a){if("function"!=typeof this||!d(a))return!1;if(!d(this.prototype))return a instanceof this;for(;a=e(a);)if(this.prototype===a)return!0;return!1}})},{"./_is-object":56,"./_object-dp":76,"./_object-gpo":83,"./_wks":133}],164:[function(a,b,c){var d=a("./_object-dp").f,e=Function.prototype,f=/^\s*function ([^ (]*)/;"name"in e||a("./_descriptors")&&d(e,"name",{configurable:!0,get:function(){try{return(""+this).match(f)[1]}catch(a){return""}}})},{"./_descriptors":33,"./_object-dp":76}],165:[function(a,b,c){"use strict";var d=a("./_collection-strong"),e=a("./_validate-collection");b.exports=a("./_collection")("Map",function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{get:function(a){var b=d.getEntry(e(this,"Map"),a);return b&&b.v},set:function(a,b){return d.def(e(this,"Map"),0===a?0:a,b)}},d,!0)},{"./_collection":26,"./_collection-strong":23,"./_validate-collection":130}],166:[function(a,b,c){var d=a("./_export"),e=a("./_math-log1p"),f=Math.sqrt,g=Math.acosh;d(d.S+d.F*!(g&&710==Math.floor(g(Number.MAX_VALUE))&&g(1/0)==1/0),"Math",{acosh:function(a){return(a=+a)<1?NaN:a>94906265.62425156?Math.log(a)+Math.LN2:e(a-1+f(a-1)*f(a+1))}})},{"./_export":37,"./_math-log1p":67}],167:[function(a,b,c){function d(a){return isFinite(a=+a)&&0!=a?a<0?-d(-a):Math.log(a+Math.sqrt(a*a+1)):a}var e=a("./_export"),f=Math.asinh;e(e.S+e.F*!(f&&1/f(0)>0),"Math",{asinh:d})},{"./_export":37}],168:[function(a,b,c){var d=a("./_export"),e=Math.atanh;d(d.S+d.F*!(e&&1/e(-0)<0),"Math",{atanh:function(a){return 0==(a=+a)?a:Math.log((1+a)/(1-a))/2}})},{"./_export":37}],169:[function(a,b,c){var d=a("./_export"),e=a("./_math-sign");d(d.S,"Math",{cbrt:function(a){return e(a=+a)*Math.pow(Math.abs(a),1/3)}})},{"./_export":37,"./_math-sign":69}],170:[function(a,b,c){var d=a("./_export");d(d.S,"Math",{clz32:function(a){return(a>>>=0)?31-Math.floor(Math.log(a+.5)*Math.LOG2E):32}})},{"./_export":37}],171:[function(a,b,c){var d=a("./_export"),e=Math.exp;d(d.S,"Math",{cosh:function(a){return(e(a=+a)+e(-a))/2}})},{"./_export":37}],172:[function(a,b,c){var d=a("./_export"),e=a("./_math-expm1");d(d.S+d.F*(e!=Math.expm1),"Math",{expm1:e})},{"./_export":37,"./_math-expm1":65}],173:[function(a,b,c){var d=a("./_export");d(d.S,"Math",{fround:a("./_math-fround")})},{"./_export":37,"./_math-fround":66}],174:[function(a,b,c){var d=a("./_export"),e=Math.abs;d(d.S,"Math",{hypot:function(a,b){for(var c,d,f=0,g=0,h=arguments.length,i=0;g<h;)c=e(arguments[g++]),i<c?(d=i/c,f=f*d*d+1,i=c):c>0?(d=c/i,f+=d*d):f+=c;return i===1/0?1/0:i*Math.sqrt(f)}})},{"./_export":37}],175:[function(a,b,c){var d=a("./_export"),e=Math.imul;d(d.S+d.F*a("./_fails")(function(){return-5!=e(4294967295,5)||2!=e.length}),"Math",{imul:function(a,b){var c=+a,d=+b,e=65535&c,f=65535&d;return 0|e*f+((65535&c>>>16)*f+e*(65535&d>>>16)<<16>>>0)}})},{"./_export":37,"./_fails":39}],176:[function(a,b,c){var d=a("./_export");d(d.S,"Math",{log10:function(a){return Math.log(a)*Math.LOG10E}})},{"./_export":37}],177:[function(a,b,c){var d=a("./_export");d(d.S,"Math",{log1p:a("./_math-log1p")})},{"./_export":37,"./_math-log1p":67}],178:[function(a,b,c){var d=a("./_export");d(d.S,"Math",{log2:function(a){return Math.log(a)/Math.LN2}})},{"./_export":37}],179:[function(a,b,c){var d=a("./_export");d(d.S,"Math",{sign:a("./_math-sign")})},{"./_export":37,"./_math-sign":69}],180:[function(a,b,c){var d=a("./_export"),e=a("./_math-expm1"),f=Math.exp;d(d.S+d.F*a("./_fails")(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(a){return Math.abs(a=+a)<1?(e(a)-e(-a))/2:(f(a-1)-f(-a-1))*(Math.E/2)}})},{"./_export":37,"./_fails":39,"./_math-expm1":65}],181:[function(a,b,c){var d=a("./_export"),e=a("./_math-expm1"),f=Math.exp;d(d.S,"Math",{tanh:function(a){var b=e(a=+a),c=e(-a);return b==1/0?1:c==1/0?-1:(b-c)/(f(a)+f(-a))}})},{"./_export":37,"./_math-expm1":65}],182:[function(a,b,c){var d=a("./_export");d(d.S,"Math",{trunc:function(a){return(a>0?Math.floor:Math.ceil)(a)}})},{"./_export":37}],183:[function(a,b,c){"use strict";var d=a("./_global"),e=a("./_has"),f=a("./_cof"),g=a("./_inherit-if-required"),h=a("./_to-primitive"),i=a("./_fails"),j=a("./_object-gopn").f,k=a("./_object-gopd").f,l=a("./_object-dp").f,m=a("./_string-trim").trim,n=d.Number,o=n,p=n.prototype,q="Number"==f(a("./_object-create")(p)),r="trim"in String.prototype,s=function(a){var b=h(a,!1);if("string"==typeof b&&b.length>2){b=r?b.trim():m(b,3);var c,d,e,f=b.charCodeAt(0);if(43===f||45===f){if(88===(c=b.charCodeAt(2))||120===c)return NaN}else if(48===f){switch(b.charCodeAt(1)){case 66:case 98:d=2,e=49;break;case 79:case 111:d=8,e=55;break;default:return+b}for(var g,i=b.slice(2),j=0,k=i.length;j<k;j++)if((g=i.charCodeAt(j))<48||g>e)return NaN;return parseInt(i,d)}}return+b};if(!n(" 0o1")||!n("0b1")||n("+0x1")){n=function(a){var b=arguments.length<1?0:a,c=this;return c instanceof n&&(q?i(function(){p.valueOf.call(c)}):"Number"!=f(c))?g(new o(s(b)),c,n):s(b)};for(var t,u=a("./_descriptors")?j(o):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),v=0;u.length>v;v++)e(o,t=u[v])&&!e(n,t)&&l(n,t,k(o,t));n.prototype=p,p.constructor=n,a("./_redefine")(d,"Number",n)}},{"./_cof":22,"./_descriptors":33,"./_fails":39,"./_global":45,"./_has":46,"./_inherit-if-required":50,"./_object-create":75,"./_object-dp":76,"./_object-gopd":79,"./_object-gopn":81,"./_redefine":96,"./_string-trim":115,"./_to-primitive":124}],184:[function(a,b,c){var d=a("./_export");d(d.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./_export":37}],185:[function(a,b,c){var d=a("./_export"),e=a("./_global").isFinite;d(d.S,"Number",{isFinite:function(a){return"number"==typeof a&&e(a)}})},{"./_export":37,"./_global":45}],186:[function(a,b,c){var d=a("./_export");d(d.S,"Number",{isInteger:a("./_is-integer")})},{"./_export":37,"./_is-integer":55}],187:[function(a,b,c){var d=a("./_export");d(d.S,"Number",{isNaN:function(a){return a!=a}})},{"./_export":37}],188:[function(a,b,c){var d=a("./_export"),e=a("./_is-integer"),f=Math.abs;d(d.S,"Number",{isSafeInteger:function(a){return e(a)&&f(a)<=9007199254740991}})},{"./_export":37,"./_is-integer":55}],189:[function(a,b,c){var d=a("./_export");d(d.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./_export":37}],190:[function(a,b,c){var d=a("./_export");d(d.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./_export":37}],191:[function(a,b,c){var d=a("./_export"),e=a("./_parse-float");d(d.S+d.F*(Number.parseFloat!=e),"Number",{parseFloat:e})},{"./_export":37,"./_parse-float":90}],192:[function(a,b,c){var d=a("./_export"),e=a("./_parse-int");d(d.S+d.F*(Number.parseInt!=e),"Number",{parseInt:e})},{"./_export":37,"./_parse-int":91}],193:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_to-integer"),f=a("./_a-number-value"),g=a("./_string-repeat"),h=1..toFixed,i=Math.floor,j=[0,0,0,0,0,0],k="Number.toFixed: incorrect invocation!",l=function(a,b){for(var c=-1,d=b;++c<6;)d+=a*j[c],j[c]=d%1e7,d=i(d/1e7)},m=function(a){for(var b=6,c=0;--b>=0;)c+=j[b],j[b]=i(c/a),c=c%a*1e7},n=function(){for(var a=6,b="";--a>=0;)if(""!==b||0===a||0!==j[a]){var c=String(j[a]);b=""===b?c:b+g.call("0",7-c.length)+c}return b},o=function(a,b,c){return 0===b?c:b%2==1?o(a,b-1,c*a):o(a*a,b/2,c)},p=function(a){for(var b=0,c=a;c>=4096;)b+=12,c/=4096;for(;c>=2;)b+=1,c/=2;return b};d(d.P+d.F*(!!h&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!a("./_fails")(function(){h.call({})})),"Number",{toFixed:function(a){var b,c,d,h,i=f(this,k),j=e(a),q="",r="0";if(j<0||j>20)throw RangeError(k);if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return String(i);if(i<0&&(q="-",i=-i),i>1e-21)if(b=p(i*o(2,69,1))-69,c=b<0?i*o(2,-b,1):i/o(2,b,1),c*=4503599627370496,(b=52-b)>0){for(l(0,c),d=j;d>=7;)l(1e7,0),d-=7;for(l(o(10,d,1),0),d=b-1;d>=23;)m(1<<23),d-=23;m(1<<d),l(1,1),m(2),r=n()}else l(0,c),l(1<<-b,0),r=n()+g.call("0",j);return j>0?(h=r.length,r=q+(h<=j?"0."+g.call("0",j-h)+r:r.slice(0,h-j)+"."+r.slice(h-j))):r=q+r,r}})},{"./_a-number-value":7,"./_export":37,"./_fails":39,"./_string-repeat":114,"./_to-integer":120}],194:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_fails"),f=a("./_a-number-value"),g=1..toPrecision;d(d.P+d.F*(e(function(){return"1"!==g.call(1,void 0)})||!e(function(){g.call({})})),"Number",{toPrecision:function(a){var b=f(this,"Number#toPrecision: incorrect invocation!");return void 0===a?g.call(b):g.call(b,a)}})},{"./_a-number-value":7,"./_export":37,"./_fails":39}],195:[function(a,b,c){var d=a("./_export");d(d.S+d.F,"Object",{assign:a("./_object-assign")})},{"./_export":37,"./_object-assign":74}],196:[function(a,b,c){var d=a("./_export");d(d.S,"Object",{create:a("./_object-create")})},{"./_export":37,"./_object-create":75}],197:[function(a,b,c){var d=a("./_export");d(d.S+d.F*!a("./_descriptors"),"Object",{defineProperties:a("./_object-dps")})},{"./_descriptors":33,"./_export":37,"./_object-dps":77}],198:[function(a,b,c){var d=a("./_export");d(d.S+d.F*!a("./_descriptors"),"Object",{defineProperty:a("./_object-dp").f})},{"./_descriptors":33,"./_export":37,"./_object-dp":76}],199:[function(a,b,c){var d=a("./_is-object"),e=a("./_meta").onFreeze;a("./_object-sap")("freeze",function(a){return function(b){return a&&d(b)?a(e(b)):b}})},{"./_is-object":56,"./_meta":70,"./_object-sap":87}],200:[function(a,b,c){var d=a("./_to-iobject"),e=a("./_object-gopd").f;a("./_object-sap")("getOwnPropertyDescriptor",function(){return function(a,b){return e(d(a),b)}})},{"./_object-gopd":79,"./_object-sap":87,"./_to-iobject":121}],201:[function(a,b,c){a("./_object-sap")("getOwnPropertyNames",function(){return a("./_object-gopn-ext").f})},{"./_object-gopn-ext":80,"./_object-sap":87}],202:[function(a,b,c){var d=a("./_to-object"),e=a("./_object-gpo");a("./_object-sap")("getPrototypeOf",function(){return function(a){return e(d(a))}})},{"./_object-gpo":83,"./_object-sap":87,"./_to-object":123}],203:[function(a,b,c){var d=a("./_is-object");a("./_object-sap")("isExtensible",function(a){return function(b){return!!d(b)&&(!a||a(b))}})},{"./_is-object":56,"./_object-sap":87}],204:[function(a,b,c){var d=a("./_is-object");a("./_object-sap")("isFrozen",function(a){return function(b){return!d(b)||!!a&&a(b)}})},{"./_is-object":56,"./_object-sap":87}],205:[function(a,b,c){var d=a("./_is-object");a("./_object-sap")("isSealed",function(a){return function(b){return!d(b)||!!a&&a(b)}})},{"./_is-object":56,"./_object-sap":87}],206:[function(a,b,c){var d=a("./_export");d(d.S,"Object",{is:a("./_same-value")})},{"./_export":37,"./_same-value":100}],207:[function(a,b,c){var d=a("./_to-object"),e=a("./_object-keys");a("./_object-sap")("keys",function(){return function(a){return e(d(a))}})},{"./_object-keys":85,"./_object-sap":87,"./_to-object":123}],208:[function(a,b,c){var d=a("./_is-object"),e=a("./_meta").onFreeze;a("./_object-sap")("preventExtensions",function(a){return function(b){return a&&d(b)?a(e(b)):b}})},{"./_is-object":56,"./_meta":70,"./_object-sap":87}],209:[function(a,b,c){var d=a("./_is-object"),e=a("./_meta").onFreeze;a("./_object-sap")("seal",function(a){return function(b){return a&&d(b)?a(e(b)):b}})},{"./_is-object":56,"./_meta":70,"./_object-sap":87}],210:[function(a,b,c){var d=a("./_export");d(d.S,"Object",{setPrototypeOf:a("./_set-proto").set})},{"./_export":37,"./_set-proto":103}],211:[function(a,b,c){"use strict";var d=a("./_classof"),e={};e[a("./_wks")("toStringTag")]="z",e+""!="[object z]"&&a("./_redefine")(Object.prototype,"toString",function(){return"[object "+d(this)+"]"},!0)},{"./_classof":21,"./_redefine":96,"./_wks":133}],212:[function(a,b,c){var d=a("./_export"),e=a("./_parse-float");d(d.G+d.F*(parseFloat!=e),{parseFloat:e})},{"./_export":37,"./_parse-float":90}],213:[function(a,b,c){var d=a("./_export"),e=a("./_parse-int");d(d.G+d.F*(parseInt!=e),{parseInt:e})},{"./_export":37,"./_parse-int":91}],214:[function(a,b,c){"use strict";var d,e,f,g,h=a("./_library"),i=a("./_global"),j=a("./_ctx"),k=a("./_classof"),l=a("./_export"),m=a("./_is-object"),n=a("./_a-function"),o=a("./_an-instance"),p=a("./_for-of"),q=a("./_species-constructor"),r=a("./_task").set,s=a("./_microtask")(),t=a("./_new-promise-capability"),u=a("./_perform"),v=a("./_user-agent"),w=a("./_promise-resolve"),x=i.TypeError,y=i.process,z=y&&y.versions,A=z&&z.v8||"",B=i.Promise,C="process"==k(y),D=function(){},E=e=t.f,F=!!function(){try{var b=B.resolve(1),c=(b.constructor={})[a("./_wks")("species")]=function(a){a(D,D)};return(C||"function"==typeof PromiseRejectionEvent)&&b.then(D)instanceof c&&0!==A.indexOf("6.6")&&-1===v.indexOf("Chrome/66")}catch(a){}}(),G=function(a){var b;return!(!m(a)||"function"!=typeof(b=a.then))&&b},H=function(a,b){if(!a._n){a._n=!0;var c=a._c;s(function(){for(var d=a._v,e=1==a._s,f=0;c.length>f;)!function(b){var c,f,g,h=e?b.ok:b.fail,i=b.resolve,j=b.reject,k=b.domain;try{h?(e||(2==a._h&&K(a),a._h=1),!0===h?c=d:(k&&k.enter(),c=h(d),k&&(k.exit(),g=!0)),c===b.promise?j(x("Promise-chain cycle")):(f=G(c))?f.call(c,i,j):i(c)):j(d)}catch(a){k&&!g&&k.exit(),j(a)}}(c[f++]);a._c=[],a._n=!1,b&&!a._h&&I(a)})}},I=function(a){r.call(i,function(){var b,c,d,e=a._v,f=J(a);if(f&&(b=u(function(){C?y.emit("unhandledRejection",e,a):(c=i.onunhandledrejection)?c({promise:a,reason:e}):(d=i.console)&&d.error&&d.error("Unhandled promise rejection",e)}),a._h=C||J(a)?2:1),a._a=void 0,f&&b.e)throw b.v})},J=function(a){return 1!==a._h&&0===(a._a||a._c).length},K=function(a){r.call(i,function(){var b;C?y.emit("rejectionHandled",a):(b=i.onrejectionhandled)&&b({promise:a,reason:a._v})})},L=function(a){var b=this;b._d||(b._d=!0,b=b._w||b,b._v=a,b._s=2,b._a||(b._a=b._c.slice()),H(b,!0))},M=function(a){var b,c=this;if(!c._d){c._d=!0,c=c._w||c;try{if(c===a)throw x("Promise can't be resolved itself");(b=G(a))?s(function(){var d={_w:c,_d:!1};try{b.call(a,j(M,d,1),j(L,d,1))}catch(a){L.call(d,a)}}):(c._v=a,c._s=1,H(c,!1))}catch(a){L.call({_w:c,_d:!1},a)}}};F||(B=function(a){o(this,B,"Promise","_h"),n(a),d.call(this);try{a(j(M,this,1),j(L,this,1))}catch(a){L.call(this,a)}},d=function(a){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},d.prototype=a("./_redefine-all")(B.prototype,{then:function(a,b){var c=E(q(this,B));return c.ok="function"!=typeof a||a,c.fail="function"==typeof b&&b,c.domain=C?y.domain:void 0,this._c.push(c),this._a&&this._a.push(c),this._s&&H(this,!1),c.promise},catch:function(a){return this.then(void 0,a)}}),f=function(){var a=new d;this.promise=a,this.resolve=j(M,a,1),this.reject=j(L,a,1)},t.f=E=function(a){return a===B||a===g?new f(a):e(a)}),l(l.G+l.W+l.F*!F,{Promise:B}),a("./_set-to-string-tag")(B,"Promise"),a("./_set-species")("Promise"),g=a("./_core").Promise,l(l.S+l.F*!F,"Promise",{reject:function(a){var b=E(this);return(0,b.reject)(a),b.promise}}),l(l.S+l.F*(h||!F),"Promise",{resolve:function(a){return w(h&&this===g?B:this,a)}}),l(l.S+l.F*!(F&&a("./_iter-detect")(function(a){B.all(a).catch(D)})),"Promise",{all:function(a){var b=this,c=E(b),d=c.resolve,e=c.reject,f=u(function(){var c=[],f=0,g=1;p(a,!1,function(a){var h=f++,i=!1;c.push(void 0),g++,b.resolve(a).then(function(a){i||(i=!0,c[h]=a,--g||d(c))},e)}),--g||d(c)});return f.e&&e(f.v),c.promise},race:function(a){var b=this,c=E(b),d=c.reject,e=u(function(){p(a,!1,function(a){b.resolve(a).then(c.resolve,d)})});return e.e&&d(e.v),c.promise}})},{"./_a-function":6,"./_an-instance":10,"./_classof":21,"./_core":27,"./_ctx":29,"./_export":37,"./_for-of":43,"./_global":45,"./_is-object":56,"./_iter-detect":61,"./_library":64,"./_microtask":72,"./_new-promise-capability":73,"./_perform":92,"./_promise-resolve":93,"./_redefine-all":95,"./_set-species":104,"./_set-to-string-tag":105,"./_species-constructor":108,"./_task":117,"./_user-agent":129,"./_wks":133}],215:[function(a,b,c){var d=a("./_export"),e=a("./_a-function"),f=a("./_an-object"),g=(a("./_global").Reflect||{}).apply,h=Function.apply;d(d.S+d.F*!a("./_fails")(function(){g(function(){})}),"Reflect",{apply:function(a,b,c){var d=e(a),i=f(c);return g?g(d,b,i):h.call(d,b,i)}})},{"./_a-function":6,"./_an-object":11,"./_export":37,"./_fails":39,"./_global":45}],216:[function(a,b,c){var d=a("./_export"),e=a("./_object-create"),f=a("./_a-function"),g=a("./_an-object"),h=a("./_is-object"),i=a("./_fails"),j=a("./_bind"),k=(a("./_global").Reflect||{}).construct,l=i(function(){function a(){}return!(k(function(){},[],a)instanceof a)}),m=!i(function(){k(function(){})});d(d.S+d.F*(l||m),"Reflect",{construct:function(a,b){f(a),g(b);var c=arguments.length<3?a:f(arguments[2]);if(m&&!l)return k(a,b,c);if(a==c){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3])}var d=[null];return d.push.apply(d,b),new(j.apply(a,d))}var i=c.prototype,n=e(h(i)?i:Object.prototype),o=Function.apply.call(a,n,b);return h(o)?o:n}})},{"./_a-function":6,"./_an-object":11,"./_bind":20,"./_export":37,"./_fails":39,"./_global":45,"./_is-object":56,"./_object-create":75}],217:[function(a,b,c){var d=a("./_object-dp"),e=a("./_export"),f=a("./_an-object"),g=a("./_to-primitive");e(e.S+e.F*a("./_fails")(function(){Reflect.defineProperty(d.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(a,b,c){f(a),b=g(b,!0),f(c);try{return d.f(a,b,c),!0}catch(a){return!1}}})},{"./_an-object":11,"./_export":37,"./_fails":39,"./_object-dp":76,"./_to-primitive":124}],218:[function(a,b,c){var d=a("./_export"),e=a("./_object-gopd").f,f=a("./_an-object");d(d.S,"Reflect",{deleteProperty:function(a,b){var c=e(f(a),b);return!(c&&!c.configurable)&&delete a[b]}})},{"./_an-object":11,"./_export":37,"./_object-gopd":79}],219:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_an-object"),f=function(a){this._t=e(a),this._i=0;var b,c=this._k=[];for(b in a)c.push(b)};a("./_iter-create")(f,"Object",function(){var a,b=this,c=b._k;do{if(b._i>=c.length)return{value:void 0,done:!0}}while(!((a=c[b._i++])in b._t));return{value:a,done:!1}}),d(d.S,"Reflect",{enumerate:function(a){return new f(a)}})},{"./_an-object":11,"./_export":37,"./_iter-create":59}],220:[function(a,b,c){var d=a("./_object-gopd"),e=a("./_export"),f=a("./_an-object");e(e.S,"Reflect",{getOwnPropertyDescriptor:function(a,b){return d.f(f(a),b)}})},{"./_an-object":11,"./_export":37,"./_object-gopd":79}],221:[function(a,b,c){var d=a("./_export"),e=a("./_object-gpo"),f=a("./_an-object");d(d.S,"Reflect",{getPrototypeOf:function(a){return e(f(a))}})},{"./_an-object":11,"./_export":37,"./_object-gpo":83}],222:[function(a,b,c){function d(a,b){var c,h,k=arguments.length<3?a:arguments[2];return j(a)===k?a[b]:(c=e.f(a,b))?g(c,"value")?c.value:void 0!==c.get?c.get.call(k):void 0:i(h=f(a))?d(h,b,k):void 0}var e=a("./_object-gopd"),f=a("./_object-gpo"),g=a("./_has"),h=a("./_export"),i=a("./_is-object"),j=a("./_an-object");h(h.S,"Reflect",{get:d})},{"./_an-object":11,"./_export":37,"./_has":46,"./_is-object":56,"./_object-gopd":79,"./_object-gpo":83}],223:[function(a,b,c){var d=a("./_export");d(d.S,"Reflect",{has:function(a,b){return b in a}})},{"./_export":37}],224:[function(a,b,c){var d=a("./_export"),e=a("./_an-object"),f=Object.isExtensible;d(d.S,"Reflect",{isExtensible:function(a){return e(a),!f||f(a)}})},{"./_an-object":11,"./_export":37}],225:[function(a,b,c){var d=a("./_export");d(d.S,"Reflect",{ownKeys:a("./_own-keys")})},{"./_export":37,"./_own-keys":89}],226:[function(a,b,c){var d=a("./_export"),e=a("./_an-object"),f=Object.preventExtensions;d(d.S,"Reflect",{preventExtensions:function(a){e(a);try{return f&&f(a),!0}catch(a){return!1}}})},{"./_an-object":11,"./_export":37}],227:[function(a,b,c){var d=a("./_export"),e=a("./_set-proto");e&&d(d.S,"Reflect",{setPrototypeOf:function(a,b){e.check(a,b);try{return e.set(a,b),!0}catch(a){return!1}}})},{"./_export":37,"./_set-proto":103}],228:[function(a,b,c){function d(a,b,c){var i,m,n=arguments.length<4?a:arguments[3],o=f.f(k(a),b);if(!o){if(l(m=g(a)))return d(m,b,c,n);o=j(0)}if(h(o,"value")){if(!1===o.writable||!l(n))return!1;if(i=f.f(n,b)){if(i.get||i.set||!1===i.writable)return!1;i.value=c,e.f(n,b,i)}else e.f(n,b,j(0,c));return!0}return void 0!==o.set&&(o.set.call(n,c),!0)}var e=a("./_object-dp"),f=a("./_object-gopd"),g=a("./_object-gpo"),h=a("./_has"),i=a("./_export"),j=a("./_property-desc"),k=a("./_an-object"),l=a("./_is-object");i(i.S,"Reflect",{set:d})},{"./_an-object":11,"./_export":37,"./_has":46,"./_is-object":56,"./_object-dp":76,"./_object-gopd":79,"./_object-gpo":83,"./_property-desc":94}],229:[function(a,b,c){var d=a("./_global"),e=a("./_inherit-if-required"),f=a("./_object-dp").f,g=a("./_object-gopn").f,h=a("./_is-regexp"),i=a("./_flags"),j=d.RegExp,k=j,l=j.prototype,m=/a/g,n=/a/g,o=new j(m)!==m;if(a("./_descriptors")&&(!o||a("./_fails")(function(){return n[a("./_wks")("match")]=!1,j(m)!=m||j(n)==n||"/a/i"!=j(m,"i")}))){j=function(a,b){var c=this instanceof j,d=h(a),f=void 0===b;return!c&&d&&a.constructor===j&&f?a:e(o?new k(d&&!f?a.source:a,b):k((d=a instanceof j)?a.source:a,d&&f?i.call(a):b),c?this:l,j)};for(var p=g(k),q=0;p.length>q;)!function(a){a in j||f(j,a,{configurable:!0,get:function(){return k[a]},set:function(b){k[a]=b}})}(p[q++]);l.constructor=j,j.prototype=l,a("./_redefine")(d,"RegExp",j)}a("./_set-species")("RegExp")},{"./_descriptors":33,"./_fails":39,"./_flags":41,"./_global":45,"./_inherit-if-required":50,"./_is-regexp":57,"./_object-dp":76,"./_object-gopn":81,"./_redefine":96,"./_set-species":104,"./_wks":133}],230:[function(a,b,c){"use strict";var d=a("./_regexp-exec");a("./_export")({target:"RegExp",proto:!0,forced:d!==/./.exec},{exec:d})},{"./_export":37,"./_regexp-exec":98}],231:[function(a,b,c){a("./_descriptors")&&"g"!=/./g.flags&&a("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:a("./_flags")})},{"./_descriptors":33,"./_flags":41,"./_object-dp":76}],232:[function(a,b,c){"use strict";var d=a("./_an-object"),e=a("./_to-length"),f=a("./_advance-string-index"),g=a("./_regexp-exec-abstract");a("./_fix-re-wks")("match",1,function(a,b,c,h){return[function(c){var d=a(this),e=void 0==c?void 0:c[b];return void 0!==e?e.call(c,d):new RegExp(c)[b](String(d))},function(a){var b=h(c,a,this);if(b.done)return b.value;var i=d(a),j=String(this);if(!i.global)return g(i,j);var k=i.unicode;i.lastIndex=0;for(var l,m=[],n=0;null!==(l=g(i,j));){var o=String(l[0]);m[n]=o,""===o&&(i.lastIndex=f(j,e(i.lastIndex),k)),n++}return 0===n?null:m}]})},{"./_advance-string-index":9,"./_an-object":11,"./_fix-re-wks":40,"./_regexp-exec-abstract":97,"./_to-length":122}],233:[function(a,b,c){"use strict";var d=a("./_an-object"),e=a("./_to-object"),f=a("./_to-length"),g=a("./_to-integer"),h=a("./_advance-string-index"),i=a("./_regexp-exec-abstract"),j=Math.max,k=Math.min,l=Math.floor,m=/\$([$&`']|\d\d?|<[^>]*>)/g,n=/\$([$&`']|\d\d?)/g,o=function(a){return void 0===a?a:String(a)};a("./_fix-re-wks")("replace",2,function(a,b,c,p){function q(a,b,d,f,g,h){var i=d+a.length,j=f.length,k=n;return void 0!==g&&(g=e(g),k=m),c.call(h,k,function(c,e){var h;switch(e.charAt(0)){case"$":return"$";case"&":return a;case"`":return b.slice(0,d);case"'":return b.slice(i);case"<":h=g[e.slice(1,-1)];break;default:var k=+e;if(0===k)return c;if(k>j){var m=l(k/10);return 0===m?c:m<=j?void 0===f[m-1]?e.charAt(1):f[m-1]+e.charAt(1):c}h=f[k-1]}return void 0===h?"":h})}return[function(d,e){var f=a(this),g=void 0==d?void 0:d[b];return void 0!==g?g.call(d,f,e):c.call(String(f),d,e)},function(a,b){var e=p(c,a,this,b);if(e.done)return e.value;var l=d(a),m=String(this),n="function"==typeof b;n||(b=String(b));var r=l.global;if(r){var s=l.unicode;l.lastIndex=0}for(var t=[];;){var u=i(l,m);if(null===u)break;if(t.push(u),!r)break;""===String(u[0])&&(l.lastIndex=h(m,f(l.lastIndex),s))}for(var v="",w=0,x=0;x<t.length;x++){u=t[x];for(var y=String(u[0]),z=j(k(g(u.index),m.length),0),A=[],B=1;B<u.length;B++)A.push(o(u[B]));var C=u.groups;if(n){var D=[y].concat(A,z,m);void 0!==C&&D.push(C);var E=String(b.apply(void 0,D))}else E=q(y,m,z,A,C,b);z>=w&&(v+=m.slice(w,z)+E,w=z+y.length)}return v+m.slice(w)}]})},{"./_advance-string-index":9,"./_an-object":11,"./_fix-re-wks":40,"./_regexp-exec-abstract":97,"./_to-integer":120,"./_to-length":122,"./_to-object":123}],234:[function(a,b,c){"use strict";var d=a("./_an-object"),e=a("./_same-value"),f=a("./_regexp-exec-abstract");a("./_fix-re-wks")("search",1,function(a,b,c,g){return[function(c){var d=a(this),e=void 0==c?void 0:c[b];return void 0!==e?e.call(c,d):new RegExp(c)[b](String(d))},function(a){var b=g(c,a,this);if(b.done)return b.value;var h=d(a),i=String(this),j=h.lastIndex;e(j,0)||(h.lastIndex=0);var k=f(h,i);return e(h.lastIndex,j)||(h.lastIndex=j),null===k?-1:k.index}]})},{"./_an-object":11,"./_fix-re-wks":40,"./_regexp-exec-abstract":97,"./_same-value":100}],235:[function(a,b,c){"use strict";var d=a("./_is-regexp"),e=a("./_an-object"),f=a("./_species-constructor"),g=a("./_advance-string-index"),h=a("./_to-length"),i=a("./_regexp-exec-abstract"),j=a("./_regexp-exec"),k=a("./_fails"),l=Math.min,m=[].push,n="length",o=!k(function(){RegExp(4294967295,"y")});a("./_fix-re-wks")("split",2,function(a,b,c,k){var p;return p="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[n]||2!="ab".split(/(?:ab)*/)[n]||4!=".".split(/(.?)(.?)/)[n]||".".split(/()()/)[n]>1||"".split(/.?/)[n]?function(a,b){var e=String(this);if(void 0===a&&0===b)return[];if(!d(a))return c.call(e,a,b);for(var f,g,h,i=[],k=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(a.sticky?"y":""),l=0,o=void 0===b?4294967295:b>>>0,p=new RegExp(a.source,k+"g");(f=j.call(p,e))&&!((g=p.lastIndex)>l&&(i.push(e.slice(l,f.index)),f[n]>1&&f.index<e[n]&&m.apply(i,f.slice(1)),h=f[0][n],l=g,i[n]>=o));)p.lastIndex===f.index&&p.lastIndex++;return l===e[n]?!h&&p.test("")||i.push(""):i.push(e.slice(l)),i[n]>o?i.slice(0,o):i}:"0".split(void 0,0)[n]?function(a,b){return void 0===a&&0===b?[]:c.call(this,a,b)}:c,[function(c,d){var e=a(this),f=void 0==c?void 0:c[b];return void 0!==f?f.call(c,e,d):p.call(String(e),c,d)},function(a,b){var d=k(p,a,this,b,p!==c);if(d.done)return d.value;var j=e(a),m=String(this),n=f(j,RegExp),q=j.unicode,r=(j.ignoreCase?"i":"")+(j.multiline?"m":"")+(j.unicode?"u":"")+(o?"y":"g"),s=new n(o?j:"^(?:"+j.source+")",r),t=void 0===b?4294967295:b>>>0;if(0===t)return[];if(0===m.length)return null===i(s,m)?[m]:[];for(var u=0,v=0,w=[];v<m.length;){s.lastIndex=o?v:0;var x,y=i(s,o?m:m.slice(v));if(null===y||(x=l(h(s.lastIndex+(o?0:v)),m.length))===u)v=g(m,v,q);else{if(w.push(m.slice(u,v)),w.length===t)return w;for(var z=1;z<=y.length-1;z++)if(w.push(y[z]),w.length===t)return w;v=u=x}}return w.push(m.slice(u)),w}]})},{"./_advance-string-index":9,"./_an-object":11,"./_fails":39,"./_fix-re-wks":40,"./_is-regexp":57,"./_regexp-exec":98,"./_regexp-exec-abstract":97,"./_species-constructor":108,"./_to-length":122}],236:[function(a,b,c){"use strict";a("./es6.regexp.flags");var d=a("./_an-object"),e=a("./_flags"),f=a("./_descriptors"),g=/./.toString,h=function(b){a("./_redefine")(RegExp.prototype,"toString",b,!0)};a("./_fails")(function(){return"/a/b"!=g.call({source:"a",flags:"b"})})?h(function(){var a=d(this)
;return"/".concat(a.source,"/","flags"in a?a.flags:!f&&a instanceof RegExp?e.call(a):void 0)}):"toString"!=g.name&&h(function(){return g.call(this)})},{"./_an-object":11,"./_descriptors":33,"./_fails":39,"./_flags":41,"./_redefine":96,"./es6.regexp.flags":231}],237:[function(a,b,c){"use strict";var d=a("./_collection-strong"),e=a("./_validate-collection");b.exports=a("./_collection")("Set",function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{add:function(a){return d.def(e(this,"Set"),a=0===a?0:a,a)}},d)},{"./_collection":26,"./_collection-strong":23,"./_validate-collection":130}],238:[function(a,b,c){"use strict";a("./_string-html")("anchor",function(a){return function(b){return a(this,"a","name",b)}})},{"./_string-html":112}],239:[function(a,b,c){"use strict";a("./_string-html")("big",function(a){return function(){return a(this,"big","","")}})},{"./_string-html":112}],240:[function(a,b,c){"use strict";a("./_string-html")("blink",function(a){return function(){return a(this,"blink","","")}})},{"./_string-html":112}],241:[function(a,b,c){"use strict";a("./_string-html")("bold",function(a){return function(){return a(this,"b","","")}})},{"./_string-html":112}],242:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_string-at")(!1);d(d.P,"String",{codePointAt:function(a){return e(this,a)}})},{"./_export":37,"./_string-at":110}],243:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_to-length"),f=a("./_string-context"),g="".endsWith;d(d.P+d.F*a("./_fails-is-regexp")("endsWith"),"String",{endsWith:function(a){var b=f(this,a,"endsWith"),c=arguments.length>1?arguments[1]:void 0,d=e(b.length),h=void 0===c?d:Math.min(e(c),d),i=String(a);return g?g.call(b,i,h):b.slice(h-i.length,h)===i}})},{"./_export":37,"./_fails-is-regexp":38,"./_string-context":111,"./_to-length":122}],244:[function(a,b,c){"use strict";a("./_string-html")("fixed",function(a){return function(){return a(this,"tt","","")}})},{"./_string-html":112}],245:[function(a,b,c){"use strict";a("./_string-html")("fontcolor",function(a){return function(b){return a(this,"font","color",b)}})},{"./_string-html":112}],246:[function(a,b,c){"use strict";a("./_string-html")("fontsize",function(a){return function(b){return a(this,"font","size",b)}})},{"./_string-html":112}],247:[function(a,b,c){var d=a("./_export"),e=a("./_to-absolute-index"),f=String.fromCharCode,g=String.fromCodePoint;d(d.S+d.F*(!!g&&1!=g.length),"String",{fromCodePoint:function(a){for(var b,c=[],d=arguments.length,g=0;d>g;){if(b=+arguments[g++],e(b,1114111)!==b)throw RangeError(b+" is not a valid code point");c.push(b<65536?f(b):f(55296+((b-=65536)>>10),b%1024+56320))}return c.join("")}})},{"./_export":37,"./_to-absolute-index":118}],248:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_string-context");d(d.P+d.F*a("./_fails-is-regexp")("includes"),"String",{includes:function(a){return!!~e(this,a,"includes").indexOf(a,arguments.length>1?arguments[1]:void 0)}})},{"./_export":37,"./_fails-is-regexp":38,"./_string-context":111}],249:[function(a,b,c){"use strict";a("./_string-html")("italics",function(a){return function(){return a(this,"i","","")}})},{"./_string-html":112}],250:[function(a,b,c){"use strict";var d=a("./_string-at")(!0);a("./_iter-define")(String,"String",function(a){this._t=String(a),this._i=0},function(){var a,b=this._t,c=this._i;return c>=b.length?{value:void 0,done:!0}:(a=d(b,c),this._i+=a.length,{value:a,done:!1})})},{"./_iter-define":60,"./_string-at":110}],251:[function(a,b,c){"use strict";a("./_string-html")("link",function(a){return function(b){return a(this,"a","href",b)}})},{"./_string-html":112}],252:[function(a,b,c){var d=a("./_export"),e=a("./_to-iobject"),f=a("./_to-length");d(d.S,"String",{raw:function(a){for(var b=e(a.raw),c=f(b.length),d=arguments.length,g=[],h=0;c>h;)g.push(String(b[h++])),h<d&&g.push(String(arguments[h]));return g.join("")}})},{"./_export":37,"./_to-iobject":121,"./_to-length":122}],253:[function(a,b,c){var d=a("./_export");d(d.P,"String",{repeat:a("./_string-repeat")})},{"./_export":37,"./_string-repeat":114}],254:[function(a,b,c){"use strict";a("./_string-html")("small",function(a){return function(){return a(this,"small","","")}})},{"./_string-html":112}],255:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_to-length"),f=a("./_string-context"),g="".startsWith;d(d.P+d.F*a("./_fails-is-regexp")("startsWith"),"String",{startsWith:function(a){var b=f(this,a,"startsWith"),c=e(Math.min(arguments.length>1?arguments[1]:void 0,b.length)),d=String(a);return g?g.call(b,d,c):b.slice(c,c+d.length)===d}})},{"./_export":37,"./_fails-is-regexp":38,"./_string-context":111,"./_to-length":122}],256:[function(a,b,c){"use strict";a("./_string-html")("strike",function(a){return function(){return a(this,"strike","","")}})},{"./_string-html":112}],257:[function(a,b,c){"use strict";a("./_string-html")("sub",function(a){return function(){return a(this,"sub","","")}})},{"./_string-html":112}],258:[function(a,b,c){"use strict";a("./_string-html")("sup",function(a){return function(){return a(this,"sup","","")}})},{"./_string-html":112}],259:[function(a,b,c){"use strict";a("./_string-trim")("trim",function(a){return function(){return a(this,3)}})},{"./_string-trim":115}],260:[function(a,b,c){"use strict";var d=a("./_global"),e=a("./_has"),f=a("./_descriptors"),g=a("./_export"),h=a("./_redefine"),i=a("./_meta").KEY,j=a("./_fails"),k=a("./_shared"),l=a("./_set-to-string-tag"),m=a("./_uid"),n=a("./_wks"),o=a("./_wks-ext"),p=a("./_wks-define"),q=a("./_enum-keys"),r=a("./_is-array"),s=a("./_an-object"),t=a("./_is-object"),u=a("./_to-iobject"),v=a("./_to-primitive"),w=a("./_property-desc"),x=a("./_object-create"),y=a("./_object-gopn-ext"),z=a("./_object-gopd"),A=a("./_object-dp"),B=a("./_object-keys"),C=z.f,D=A.f,E=y.f,F=d.Symbol,G=d.JSON,H=G&&G.stringify,I=n("_hidden"),J=n("toPrimitive"),K={}.propertyIsEnumerable,L=k("symbol-registry"),M=k("symbols"),N=k("op-symbols"),O=Object.prototype,P="function"==typeof F,Q=d.QObject,R=!Q||!Q.prototype||!Q.prototype.findChild,S=f&&j(function(){return 7!=x(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(a,b,c){var d=C(O,b);d&&delete O[b],D(a,b,c),d&&a!==O&&D(O,b,d)}:D,T=function(a){var b=M[a]=x(F.prototype);return b._k=a,b},U=P&&"symbol"==typeof F.iterator?function(a){return"symbol"==typeof a}:function(a){return a instanceof F},V=function(a,b,c){return a===O&&V(N,b,c),s(a),b=v(b,!0),s(c),e(M,b)?(c.enumerable?(e(a,I)&&a[I][b]&&(a[I][b]=!1),c=x(c,{enumerable:w(0,!1)})):(e(a,I)||D(a,I,w(1,{})),a[I][b]=!0),S(a,b,c)):D(a,b,c)},W=function(a,b){s(a);for(var c,d=q(b=u(b)),e=0,f=d.length;f>e;)V(a,c=d[e++],b[c]);return a},X=function(a,b){return void 0===b?x(a):W(x(a),b)},Y=function(a){var b=K.call(this,a=v(a,!0));return!(this===O&&e(M,a)&&!e(N,a))&&(!(b||!e(this,a)||!e(M,a)||e(this,I)&&this[I][a])||b)},Z=function(a,b){if(a=u(a),b=v(b,!0),a!==O||!e(M,b)||e(N,b)){var c=C(a,b);return!c||!e(M,b)||e(a,I)&&a[I][b]||(c.enumerable=!0),c}},$=function(a){for(var b,c=E(u(a)),d=[],f=0;c.length>f;)e(M,b=c[f++])||b==I||b==i||d.push(b);return d},_=function(a){for(var b,c=a===O,d=E(c?N:u(a)),f=[],g=0;d.length>g;)!e(M,b=d[g++])||c&&!e(O,b)||f.push(M[b]);return f};P||(F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var a=m(arguments.length>0?arguments[0]:void 0),b=function(c){this===O&&b.call(N,c),e(this,I)&&e(this[I],a)&&(this[I][a]=!1),S(this,a,w(1,c))};return f&&R&&S(O,a,{configurable:!0,set:b}),T(a)},h(F.prototype,"toString",function(){return this._k}),z.f=Z,A.f=V,a("./_object-gopn").f=y.f=$,a("./_object-pie").f=Y,a("./_object-gops").f=_,f&&!a("./_library")&&h(O,"propertyIsEnumerable",Y,!0),o.f=function(a){return T(n(a))}),g(g.G+g.W+g.F*!P,{Symbol:F});for(var aa="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ba=0;aa.length>ba;)n(aa[ba++]);for(var ca=B(n.store),da=0;ca.length>da;)p(ca[da++]);g(g.S+g.F*!P,"Symbol",{for:function(a){return e(L,a+="")?L[a]:L[a]=F(a)},keyFor:function(a){if(!U(a))throw TypeError(a+" is not a symbol!");for(var b in L)if(L[b]===a)return b},useSetter:function(){R=!0},useSimple:function(){R=!1}}),g(g.S+g.F*!P,"Object",{create:X,defineProperty:V,defineProperties:W,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:_}),G&&g(g.S+g.F*(!P||j(function(){var a=F();return"[null]"!=H([a])||"{}"!=H({a:a})||"{}"!=H(Object(a))})),"JSON",{stringify:function(a){for(var b,c,d=[a],e=1;arguments.length>e;)d.push(arguments[e++]);if(c=b=d[1],(t(b)||void 0!==a)&&!U(a))return r(b)||(b=function(a,b){if("function"==typeof c&&(b=c.call(this,a,b)),!U(b))return b}),d[1]=b,H.apply(G,d)}}),F.prototype[J]||a("./_hide")(F.prototype,J,F.prototype.valueOf),l(F,"Symbol"),l(Math,"Math",!0),l(d.JSON,"JSON",!0)},{"./_an-object":11,"./_descriptors":33,"./_enum-keys":36,"./_export":37,"./_fails":39,"./_global":45,"./_has":46,"./_hide":47,"./_is-array":54,"./_is-object":56,"./_library":64,"./_meta":70,"./_object-create":75,"./_object-dp":76,"./_object-gopd":79,"./_object-gopn":81,"./_object-gopn-ext":80,"./_object-gops":82,"./_object-keys":85,"./_object-pie":86,"./_property-desc":94,"./_redefine":96,"./_set-to-string-tag":105,"./_shared":107,"./_to-iobject":121,"./_to-primitive":124,"./_uid":128,"./_wks":133,"./_wks-define":131,"./_wks-ext":132}],261:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_typed"),f=a("./_typed-buffer"),g=a("./_an-object"),h=a("./_to-absolute-index"),i=a("./_to-length"),j=a("./_is-object"),k=a("./_global").ArrayBuffer,l=a("./_species-constructor"),m=f.ArrayBuffer,n=f.DataView,o=e.ABV&&k.isView,p=m.prototype.slice,q=e.VIEW;d(d.G+d.W+d.F*(k!==m),{ArrayBuffer:m}),d(d.S+d.F*!e.CONSTR,"ArrayBuffer",{isView:function(a){return o&&o(a)||j(a)&&q in a}}),d(d.P+d.U+d.F*a("./_fails")(function(){return!new m(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(a,b){if(void 0!==p&&void 0===b)return p.call(g(this),a);for(var c=g(this).byteLength,d=h(a,c),e=h(void 0===b?c:b,c),f=new(l(this,m))(i(e-d)),j=new n(this),k=new n(f),o=0;d<e;)k.setUint8(o++,j.getUint8(d++));return f}}),a("./_set-species")("ArrayBuffer")},{"./_an-object":11,"./_export":37,"./_fails":39,"./_global":45,"./_is-object":56,"./_set-species":104,"./_species-constructor":108,"./_to-absolute-index":118,"./_to-length":122,"./_typed":127,"./_typed-buffer":126}],262:[function(a,b,c){var d=a("./_export");d(d.G+d.W+d.F*!a("./_typed").ABV,{DataView:a("./_typed-buffer").DataView})},{"./_export":37,"./_typed":127,"./_typed-buffer":126}],263:[function(a,b,c){a("./_typed-array")("Float32",4,function(a){return function(b,c,d){return a(this,b,c,d)}})},{"./_typed-array":125}],264:[function(a,b,c){a("./_typed-array")("Float64",8,function(a){return function(b,c,d){return a(this,b,c,d)}})},{"./_typed-array":125}],265:[function(a,b,c){a("./_typed-array")("Int16",2,function(a){return function(b,c,d){return a(this,b,c,d)}})},{"./_typed-array":125}],266:[function(a,b,c){a("./_typed-array")("Int32",4,function(a){return function(b,c,d){return a(this,b,c,d)}})},{"./_typed-array":125}],267:[function(a,b,c){a("./_typed-array")("Int8",1,function(a){return function(b,c,d){return a(this,b,c,d)}})},{"./_typed-array":125}],268:[function(a,b,c){a("./_typed-array")("Uint16",2,function(a){return function(b,c,d){return a(this,b,c,d)}})},{"./_typed-array":125}],269:[function(a,b,c){a("./_typed-array")("Uint32",4,function(a){return function(b,c,d){return a(this,b,c,d)}})},{"./_typed-array":125}],270:[function(a,b,c){a("./_typed-array")("Uint8",1,function(a){return function(b,c,d){return a(this,b,c,d)}})},{"./_typed-array":125}],271:[function(a,b,c){a("./_typed-array")("Uint8",1,function(a){return function(b,c,d){return a(this,b,c,d)}},!0)},{"./_typed-array":125}],272:[function(a,b,c){"use strict";var d,e=a("./_global"),f=a("./_array-methods")(0),g=a("./_redefine"),h=a("./_meta"),i=a("./_object-assign"),j=a("./_collection-weak"),k=a("./_is-object"),l=a("./_validate-collection"),m=a("./_validate-collection"),n=!e.ActiveXObject&&"ActiveXObject"in e,o=h.getWeak,p=Object.isExtensible,q=j.ufstore,r=function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},s={get:function(a){if(k(a)){var b=o(a);return!0===b?q(l(this,"WeakMap")).get(a):b?b[this._i]:void 0}},set:function(a,b){return j.def(l(this,"WeakMap"),a,b)}},t=b.exports=a("./_collection")("WeakMap",r,s,j,!0,!0);m&&n&&(d=j.getConstructor(r,"WeakMap"),i(d.prototype,s),h.NEED=!0,f(["delete","has","get","set"],function(a){var b=t.prototype,c=b[a];g(b,a,function(b,e){if(k(b)&&!p(b)){this._f||(this._f=new d);var f=this._f[a](b,e);return"set"==a?this:f}return c.call(this,b,e)})}))},{"./_array-methods":16,"./_collection":26,"./_collection-weak":25,"./_global":45,"./_is-object":56,"./_meta":70,"./_object-assign":74,"./_redefine":96,"./_validate-collection":130}],273:[function(a,b,c){"use strict";var d=a("./_collection-weak"),e=a("./_validate-collection");a("./_collection")("WeakSet",function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{add:function(a){return d.def(e(this,"WeakSet"),a,!0)}},d,!1,!0)},{"./_collection":26,"./_collection-weak":25,"./_validate-collection":130}],274:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_flatten-into-array"),f=a("./_to-object"),g=a("./_to-length"),h=a("./_a-function"),i=a("./_array-species-create");d(d.P,"Array",{flatMap:function(a){var b,c,d=f(this);return h(a),b=g(d.length),c=i(d,0),e(c,d,d,b,0,1,a,arguments[1]),c}}),a("./_add-to-unscopables")("flatMap")},{"./_a-function":6,"./_add-to-unscopables":8,"./_array-species-create":19,"./_export":37,"./_flatten-into-array":42,"./_to-length":122,"./_to-object":123}],275:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_flatten-into-array"),f=a("./_to-object"),g=a("./_to-length"),h=a("./_to-integer"),i=a("./_array-species-create");d(d.P,"Array",{flatten:function(){var a=arguments[0],b=f(this),c=g(b.length),d=i(b,0);return e(d,b,b,c,0,void 0===a?1:h(a)),d}}),a("./_add-to-unscopables")("flatten")},{"./_add-to-unscopables":8,"./_array-species-create":19,"./_export":37,"./_flatten-into-array":42,"./_to-integer":120,"./_to-length":122,"./_to-object":123}],276:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_array-includes")(!0);d(d.P,"Array",{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),a("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":8,"./_array-includes":15,"./_export":37}],277:[function(a,b,c){var d=a("./_export"),e=a("./_microtask")(),f=a("./_global").process,g="process"==a("./_cof")(f);d(d.G,{asap:function(a){var b=g&&f.domain;e(b?b.bind(a):a)}})},{"./_cof":22,"./_export":37,"./_global":45,"./_microtask":72}],278:[function(a,b,c){var d=a("./_export"),e=a("./_cof");d(d.S,"Error",{isError:function(a){return"Error"===e(a)}})},{"./_cof":22,"./_export":37}],279:[function(a,b,c){var d=a("./_export");d(d.G,{global:a("./_global")})},{"./_export":37,"./_global":45}],280:[function(a,b,c){a("./_set-collection-from")("Map")},{"./_set-collection-from":101}],281:[function(a,b,c){a("./_set-collection-of")("Map")},{"./_set-collection-of":102}],282:[function(a,b,c){var d=a("./_export");d(d.P+d.R,"Map",{toJSON:a("./_collection-to-json")("Map")})},{"./_collection-to-json":24,"./_export":37}],283:[function(a,b,c){var d=a("./_export");d(d.S,"Math",{clamp:function(a,b,c){return Math.min(c,Math.max(b,a))}})},{"./_export":37}],284:[function(a,b,c){var d=a("./_export");d(d.S,"Math",{DEG_PER_RAD:Math.PI/180})},{"./_export":37}],285:[function(a,b,c){var d=a("./_export"),e=180/Math.PI;d(d.S,"Math",{degrees:function(a){return a*e}})},{"./_export":37}],286:[function(a,b,c){var d=a("./_export"),e=a("./_math-scale"),f=a("./_math-fround");d(d.S,"Math",{fscale:function(a,b,c,d,g){return f(e(a,b,c,d,g))}})},{"./_export":37,"./_math-fround":66,"./_math-scale":68}],287:[function(a,b,c){var d=a("./_export");d(d.S,"Math",{iaddh:function(a,b,c,d){var e=a>>>0,f=b>>>0,g=c>>>0;return f+(d>>>0)+((e&g|(e|g)&~(e+g>>>0))>>>31)|0}})},{"./_export":37}],288:[function(a,b,c){var d=a("./_export");d(d.S,"Math",{imulh:function(a,b){var c=+a,d=+b,e=65535&c,f=65535&d,g=c>>16,h=d>>16,i=(g*f>>>0)+(e*f>>>16);return g*h+(i>>16)+((e*h>>>0)+(65535&i)>>16)}})},{"./_export":37}],289:[function(a,b,c){var d=a("./_export");d(d.S,"Math",{isubh:function(a,b,c,d){var e=a>>>0,f=b>>>0,g=c>>>0;return f-(d>>>0)-((~e&g|~(e^g)&e-g>>>0)>>>31)|0}})},{"./_export":37}],290:[function(a,b,c){var d=a("./_export");d(d.S,"Math",{RAD_PER_DEG:180/Math.PI})},{"./_export":37}],291:[function(a,b,c){var d=a("./_export"),e=Math.PI/180;d(d.S,"Math",{radians:function(a){return a*e}})},{"./_export":37}],292:[function(a,b,c){var d=a("./_export");d(d.S,"Math",{scale:a("./_math-scale")})},{"./_export":37,"./_math-scale":68}],293:[function(a,b,c){var d=a("./_export");d(d.S,"Math",{signbit:function(a){return(a=+a)!=a?a:0==a?1/a==1/0:a>0}})},{"./_export":37}],294:[function(a,b,c){var d=a("./_export");d(d.S,"Math",{umulh:function(a,b){var c=+a,d=+b,e=65535&c,f=65535&d,g=c>>>16,h=d>>>16,i=(g*f>>>0)+(e*f>>>16);return g*h+(i>>>16)+((e*h>>>0)+(65535&i)>>>16)}})},{"./_export":37}],295:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_to-object"),f=a("./_a-function"),g=a("./_object-dp");a("./_descriptors")&&d(d.P+a("./_object-forced-pam"),"Object",{__defineGetter__:function(a,b){g.f(e(this),a,{get:f(b),enumerable:!0,configurable:!0})}})},{"./_a-function":6,"./_descriptors":33,"./_export":37,"./_object-dp":76,"./_object-forced-pam":78,"./_to-object":123}],296:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_to-object"),f=a("./_a-function"),g=a("./_object-dp");a("./_descriptors")&&d(d.P+a("./_object-forced-pam"),"Object",{__defineSetter__:function(a,b){g.f(e(this),a,{set:f(b),enumerable:!0,configurable:!0})}})},{"./_a-function":6,"./_descriptors":33,"./_export":37,"./_object-dp":76,"./_object-forced-pam":78,"./_to-object":123}],297:[function(a,b,c){var d=a("./_export"),e=a("./_object-to-array")(!0);d(d.S,"Object",{entries:function(a){return e(a)}})},{"./_export":37,"./_object-to-array":88}],298:[function(a,b,c){var d=a("./_export"),e=a("./_own-keys"),f=a("./_to-iobject"),g=a("./_object-gopd"),h=a("./_create-property");d(d.S,"Object",{getOwnPropertyDescriptors:function(a){for(var b,c,d=f(a),i=g.f,j=e(d),k={},l=0;j.length>l;)void 0!==(c=i(d,b=j[l++]))&&h(k,b,c);return k}})},{"./_create-property":28,"./_export":37,"./_object-gopd":79,"./_own-keys":89,"./_to-iobject":121}],299:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_to-object"),f=a("./_to-primitive"),g=a("./_object-gpo"),h=a("./_object-gopd").f;a("./_descriptors")&&d(d.P+a("./_object-forced-pam"),"Object",{__lookupGetter__:function(a){var b,c=e(this),d=f(a,!0);do{if(b=h(c,d))return b.get}while(c=g(c))}})},{"./_descriptors":33,"./_export":37,"./_object-forced-pam":78,"./_object-gopd":79,"./_object-gpo":83,"./_to-object":123,"./_to-primitive":124}],300:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_to-object"),f=a("./_to-primitive"),g=a("./_object-gpo"),h=a("./_object-gopd").f;a("./_descriptors")&&d(d.P+a("./_object-forced-pam"),"Object",{__lookupSetter__:function(a){var b,c=e(this),d=f(a,!0);do{if(b=h(c,d))return b.set}while(c=g(c))}})},{"./_descriptors":33,"./_export":37,"./_object-forced-pam":78,"./_object-gopd":79,"./_object-gpo":83,"./_to-object":123,"./_to-primitive":124}],301:[function(a,b,c){var d=a("./_export"),e=a("./_object-to-array")(!1);d(d.S,"Object",{values:function(a){return e(a)}})},{"./_export":37,"./_object-to-array":88}],302:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_global"),f=a("./_core"),g=a("./_microtask")(),h=a("./_wks")("observable"),i=a("./_a-function"),j=a("./_an-object"),k=a("./_an-instance"),l=a("./_redefine-all"),m=a("./_hide"),n=a("./_for-of"),o=n.RETURN,p=function(a){return null==a?void 0:i(a)},q=function(a){var b=a._c;b&&(a._c=void 0,b())},r=function(a){return void 0===a._o},s=function(a){r(a)||(a._o=void 0,q(a))},t=function(a,b){j(a),this._c=void 0,this._o=a,a=new u(this);try{var c=b(a),d=c;null!=c&&("function"==typeof c.unsubscribe?c=function(){d.unsubscribe()}:i(c),this._c=c)}catch(b){return void a.error(b)}r(this)&&q(this)};t.prototype=l({},{unsubscribe:function(){s(this)}});var u=function(a){this._s=a};u.prototype=l({},{next:function(a){var b=this._s;if(!r(b)){var c=b._o;try{var d=p(c.next);if(d)return d.call(c,a)}catch(a){try{s(b)}finally{throw a}}}},error:function(a){var b=this._s;if(r(b))throw a;var c=b._o;b._o=void 0;try{var d=p(c.error);if(!d)throw a;a=d.call(c,a)}catch(a){try{q(b)}finally{throw a}}return q(b),a},complete:function(a){var b=this._s;if(!r(b)){var c=b._o;b._o=void 0;try{var d=p(c.complete);a=d?d.call(c,a):void 0}catch(a){try{q(b)}finally{throw a}}return q(b),a}}});var v=function(a){k(this,v,"Observable","_f")._f=i(a)};l(v.prototype,{subscribe:function(a){return new t(a,this._f)},forEach:function(a){var b=this;return new(f.Promise||e.Promise)(function(c,d){i(a);var e=b.subscribe({next:function(b){try{return a(b)}catch(a){d(a),e.unsubscribe()}},error:d,complete:c})})}}),l(v,{from:function(a){var b="function"==typeof this?this:v,c=p(j(a)[h]);if(c){var d=j(c.call(a));return d.constructor===b?d:new b(function(a){return d.subscribe(a)})}return new b(function(b){var c=!1;return g(function(){if(!c){try{if(n(a,!1,function(a){if(b.next(a),c)return o})===o)return}catch(a){if(c)throw a;return void b.error(a)}b.complete()}}),function(){c=!0}})},of:function(){for(var a=0,b=arguments.length,c=new Array(b);a<b;)c[a]=arguments[a++];return new("function"==typeof this?this:v)(function(a){var b=!1;return g(function(){if(!b){for(var d=0;d<c.length;++d)if(a.next(c[d]),b)return;a.complete()}}),function(){b=!0}})}}),m(v.prototype,h,function(){return this}),d(d.G,{Observable:v}),a("./_set-species")("Observable")},{"./_a-function":6,"./_an-instance":10,"./_an-object":11,"./_core":27,"./_export":37,"./_for-of":43,"./_global":45,"./_hide":47,"./_microtask":72,"./_redefine-all":95,"./_set-species":104,"./_wks":133}],303:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_core"),f=a("./_global"),g=a("./_species-constructor"),h=a("./_promise-resolve");d(d.P+d.R,"Promise",{finally:function(a){var b=g(this,e.Promise||f.Promise),c="function"==typeof a;return this.then(c?function(c){return h(b,a()).then(function(){return c})}:a,c?function(c){return h(b,a()).then(function(){throw c})}:a)}})},{"./_core":27,"./_export":37,"./_global":45,"./_promise-resolve":93,"./_species-constructor":108}],304:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_new-promise-capability"),f=a("./_perform");d(d.S,"Promise",{try:function(a){var b=e.f(this),c=f(a);return(c.e?b.reject:b.resolve)(c.v),b.promise}})},{"./_export":37,"./_new-promise-capability":73,"./_perform":92}],305:[function(a,b,c){var d=a("./_metadata"),e=a("./_an-object"),f=d.key,g=d.set;d.exp({defineMetadata:function(a,b,c,d){g(a,b,e(c),f(d))}})},{"./_an-object":11,"./_metadata":71}],306:[function(a,b,c){var d=a("./_metadata"),e=a("./_an-object"),f=d.key,g=d.map,h=d.store;d.exp({deleteMetadata:function(a,b){var c=arguments.length<3?void 0:f(arguments[2]),d=g(e(b),c,!1);if(void 0===d||!d.delete(a))return!1;if(d.size)return!0;var i=h.get(b);return i.delete(c),!!i.size||h.delete(b)}})},{"./_an-object":11,"./_metadata":71}],307:[function(a,b,c){var d=a("./es6.set"),e=a("./_array-from-iterable"),f=a("./_metadata"),g=a("./_an-object"),h=a("./_object-gpo"),i=f.keys,j=f.key,k=function(a,b){var c=i(a,b),f=h(a);if(null===f)return c;var g=k(f,b);return g.length?c.length?e(new d(c.concat(g))):g:c};f.exp({getMetadataKeys:function(a){return k(g(a),arguments.length<2?void 0:j(arguments[1]))}})},{"./_an-object":11,"./_array-from-iterable":14,"./_metadata":71,"./_object-gpo":83,"./es6.set":237}],308:[function(a,b,c){var d=a("./_metadata"),e=a("./_an-object"),f=a("./_object-gpo"),g=d.has,h=d.get,i=d.key,j=function(a,b,c){if(g(a,b,c))return h(a,b,c);var d=f(b);return null!==d?j(a,d,c):void 0};d.exp({getMetadata:function(a,b){return j(a,e(b),arguments.length<3?void 0:i(arguments[2]))}})},{"./_an-object":11,"./_metadata":71,"./_object-gpo":83}],309:[function(a,b,c){var d=a("./_metadata"),e=a("./_an-object"),f=d.keys,g=d.key;d.exp({getOwnMetadataKeys:function(a){return f(e(a),arguments.length<2?void 0:g(arguments[1]))}})},{"./_an-object":11,"./_metadata":71}],310:[function(a,b,c){var d=a("./_metadata"),e=a("./_an-object"),f=d.get,g=d.key;d.exp({getOwnMetadata:function(a,b){return f(a,e(b),arguments.length<3?void 0:g(arguments[2]))}})},{"./_an-object":11,"./_metadata":71}],311:[function(a,b,c){var d=a("./_metadata"),e=a("./_an-object"),f=a("./_object-gpo"),g=d.has,h=d.key,i=function(a,b,c){if(g(a,b,c))return!0;var d=f(b);return null!==d&&i(a,d,c)};d.exp({hasMetadata:function(a,b){return i(a,e(b),arguments.length<3?void 0:h(arguments[2]))}})},{"./_an-object":11,"./_metadata":71,"./_object-gpo":83}],312:[function(a,b,c){var d=a("./_metadata"),e=a("./_an-object"),f=d.has,g=d.key;d.exp({hasOwnMetadata:function(a,b){return f(a,e(b),arguments.length<3?void 0:g(arguments[2]))}})},{"./_an-object":11,"./_metadata":71}],313:[function(a,b,c){var d=a("./_metadata"),e=a("./_an-object"),f=a("./_a-function"),g=d.key,h=d.set;d.exp({metadata:function(a,b){return function(c,d){h(a,b,(void 0!==d?e:f)(c),g(d))}}})},{"./_a-function":6,"./_an-object":11,"./_metadata":71}],314:[function(a,b,c){a("./_set-collection-from")("Set")},{"./_set-collection-from":101}],315:[function(a,b,c){a("./_set-collection-of")("Set")},{"./_set-collection-of":102}],316:[function(a,b,c){var d=a("./_export");d(d.P+d.R,"Set",{toJSON:a("./_collection-to-json")("Set")})},{"./_collection-to-json":24,"./_export":37}],317:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_string-at")(!0);d(d.P,"String",{at:function(a){return e(this,a)}})},{"./_export":37,"./_string-at":110}],318:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_defined"),f=a("./_to-length"),g=a("./_is-regexp"),h=a("./_flags"),i=RegExp.prototype,j=function(a,b){this._r=a,this._s=b};a("./_iter-create")(j,"RegExp String",function(){var a=this._r.exec(this._s);return{value:a,done:null===a}}),d(d.P,"String",{matchAll:function(a){if(e(this),!g(a))throw TypeError(a+" is not a regexp!");var b=String(this),c="flags"in i?String(a.flags):h.call(a),d=new RegExp(a.source,~c.indexOf("g")?c:"g"+c);return d.lastIndex=f(a.lastIndex),new j(d,b)}})},{"./_defined":32,"./_export":37,"./_flags":41,"./_is-regexp":57,"./_iter-create":59,"./_to-length":122}],319:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_string-pad"),f=a("./_user-agent"),g=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(f);d(d.P+d.F*g,"String",{padEnd:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0,!1)}})},{"./_export":37,"./_string-pad":113,"./_user-agent":129}],320:[function(a,b,c){"use strict";var d=a("./_export"),e=a("./_string-pad"),f=a("./_user-agent"),g=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(f);d(d.P+d.F*g,"String",{padStart:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0,!0)}})},{"./_export":37,"./_string-pad":113,"./_user-agent":129}],321:[function(a,b,c){"use strict";a("./_string-trim")("trimLeft",function(a){return function(){return a(this,1)}},"trimStart")},{"./_string-trim":115}],322:[function(a,b,c){"use strict";a("./_string-trim")("trimRight",function(a){return function(){return a(this,2)}},"trimEnd")},{"./_string-trim":115}],323:[function(a,b,c){a("./_wks-define")("asyncIterator")},{"./_wks-define":131}],324:[function(a,b,c){a("./_wks-define")("observable")},{"./_wks-define":131}],325:[function(a,b,c){var d=a("./_export");d(d.S,"System",{global:a("./_global")})},{"./_export":37,"./_global":45}],326:[function(a,b,c){a("./_set-collection-from")("WeakMap")},{"./_set-collection-from":101}],327:[function(a,b,c){a("./_set-collection-of")("WeakMap")},{"./_set-collection-of":102}],328:[function(a,b,c){a("./_set-collection-from")("WeakSet")},{"./_set-collection-from":101}],329:[function(a,b,c){a("./_set-collection-of")("WeakSet")},{"./_set-collection-of":102}],330:[function(a,b,c){for(var d=a("./es6.array.iterator"),e=a("./_object-keys"),f=a("./_redefine"),g=a("./_global"),h=a("./_hide"),i=a("./_iterators"),j=a("./_wks"),k=j("iterator"),l=j("toStringTag"),m=i.Array,n={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},o=e(n),p=0;p<o.length;p++){var q,r=o[p],s=n[r],t=g[r],u=t&&t.prototype;if(u&&(u[k]||h(u,k,m),u[l]||h(u,l,r),i[r]=m,s))for(q in d)u[q]||f(u,q,d[q],!0)}},{"./_global":45,"./_hide":47,"./_iterators":63,"./_object-keys":85,"./_redefine":96,"./_wks":133,"./es6.array.iterator":146}],331:[function(a,b,c){var d=a("./_export"),e=a("./_task");d(d.G+d.B,{setImmediate:e.set,clearImmediate:e.clear})},{"./_export":37,"./_task":117}],332:[function(a,b,c){var d=a("./_global"),e=a("./_export"),f=a("./_user-agent"),g=[].slice,h=/MSIE .\./.test(f),i=function(a){return function(b,c){var d=arguments.length>2,e=!!d&&g.call(arguments,2);return a(d?function(){("function"==typeof b?b:Function(b)).apply(this,e)}:b,c)}};e(e.G+e.B+e.F*h,{setTimeout:i(d.setTimeout),setInterval:i(d.setInterval)})},{"./_export":37,"./_global":45,"./_user-agent":129}],333:[function(a,b,c){a("./modules/es6.symbol"),a("./modules/es6.object.create"),a("./modules/es6.object.define-property"),a("./modules/es6.object.define-properties"),a("./modules/es6.object.get-own-property-descriptor"),a("./modules/es6.object.get-prototype-of"),a("./modules/es6.object.keys"),a("./modules/es6.object.get-own-property-names"),a("./modules/es6.object.freeze"),a("./modules/es6.object.seal"),a("./modules/es6.object.prevent-extensions"),a("./modules/es6.object.is-frozen"),a("./modules/es6.object.is-sealed"),a("./modules/es6.object.is-extensible"),a("./modules/es6.object.assign"),a("./modules/es6.object.is"),a("./modules/es6.object.set-prototype-of"),a("./modules/es6.object.to-string"),a("./modules/es6.function.bind"),a("./modules/es6.function.name"),a("./modules/es6.function.has-instance"),a("./modules/es6.parse-int"),a("./modules/es6.parse-float"),a("./modules/es6.number.constructor"),a("./modules/es6.number.to-fixed"),a("./modules/es6.number.to-precision"),a("./modules/es6.number.epsilon"),a("./modules/es6.number.is-finite"),a("./modules/es6.number.is-integer"),a("./modules/es6.number.is-nan"),a("./modules/es6.number.is-safe-integer"),a("./modules/es6.number.max-safe-integer"),a("./modules/es6.number.min-safe-integer"),a("./modules/es6.number.parse-float"),a("./modules/es6.number.parse-int"),a("./modules/es6.math.acosh"),a("./modules/es6.math.asinh"),a("./modules/es6.math.atanh"),a("./modules/es6.math.cbrt"),a("./modules/es6.math.clz32"),a("./modules/es6.math.cosh"),a("./modules/es6.math.expm1"),a("./modules/es6.math.fround"),a("./modules/es6.math.hypot"),a("./modules/es6.math.imul"),a("./modules/es6.math.log10"),a("./modules/es6.math.log1p"),a("./modules/es6.math.log2"),a("./modules/es6.math.sign"),a("./modules/es6.math.sinh"),a("./modules/es6.math.tanh"),a("./modules/es6.math.trunc"),a("./modules/es6.string.from-code-point"),a("./modules/es6.string.raw"),a("./modules/es6.string.trim"),a("./modules/es6.string.iterator"),a("./modules/es6.string.code-point-at"),a("./modules/es6.string.ends-with"),a("./modules/es6.string.includes"),a("./modules/es6.string.repeat"),a("./modules/es6.string.starts-with"),a("./modules/es6.string.anchor"),a("./modules/es6.string.big"),a("./modules/es6.string.blink"),a("./modules/es6.string.bold"),a("./modules/es6.string.fixed"),a("./modules/es6.string.fontcolor"),
a("./modules/es6.string.fontsize"),a("./modules/es6.string.italics"),a("./modules/es6.string.link"),a("./modules/es6.string.small"),a("./modules/es6.string.strike"),a("./modules/es6.string.sub"),a("./modules/es6.string.sup"),a("./modules/es6.date.now"),a("./modules/es6.date.to-json"),a("./modules/es6.date.to-iso-string"),a("./modules/es6.date.to-string"),a("./modules/es6.date.to-primitive"),a("./modules/es6.array.is-array"),a("./modules/es6.array.from"),a("./modules/es6.array.of"),a("./modules/es6.array.join"),a("./modules/es6.array.slice"),a("./modules/es6.array.sort"),a("./modules/es6.array.for-each"),a("./modules/es6.array.map"),a("./modules/es6.array.filter"),a("./modules/es6.array.some"),a("./modules/es6.array.every"),a("./modules/es6.array.reduce"),a("./modules/es6.array.reduce-right"),a("./modules/es6.array.index-of"),a("./modules/es6.array.last-index-of"),a("./modules/es6.array.copy-within"),a("./modules/es6.array.fill"),a("./modules/es6.array.find"),a("./modules/es6.array.find-index"),a("./modules/es6.array.species"),a("./modules/es6.array.iterator"),a("./modules/es6.regexp.constructor"),a("./modules/es6.regexp.exec"),a("./modules/es6.regexp.to-string"),a("./modules/es6.regexp.flags"),a("./modules/es6.regexp.match"),a("./modules/es6.regexp.replace"),a("./modules/es6.regexp.search"),a("./modules/es6.regexp.split"),a("./modules/es6.promise"),a("./modules/es6.map"),a("./modules/es6.set"),a("./modules/es6.weak-map"),a("./modules/es6.weak-set"),a("./modules/es6.typed.array-buffer"),a("./modules/es6.typed.data-view"),a("./modules/es6.typed.int8-array"),a("./modules/es6.typed.uint8-array"),a("./modules/es6.typed.uint8-clamped-array"),a("./modules/es6.typed.int16-array"),a("./modules/es6.typed.uint16-array"),a("./modules/es6.typed.int32-array"),a("./modules/es6.typed.uint32-array"),a("./modules/es6.typed.float32-array"),a("./modules/es6.typed.float64-array"),a("./modules/es6.reflect.apply"),a("./modules/es6.reflect.construct"),a("./modules/es6.reflect.define-property"),a("./modules/es6.reflect.delete-property"),a("./modules/es6.reflect.enumerate"),a("./modules/es6.reflect.get"),a("./modules/es6.reflect.get-own-property-descriptor"),a("./modules/es6.reflect.get-prototype-of"),a("./modules/es6.reflect.has"),a("./modules/es6.reflect.is-extensible"),a("./modules/es6.reflect.own-keys"),a("./modules/es6.reflect.prevent-extensions"),a("./modules/es6.reflect.set"),a("./modules/es6.reflect.set-prototype-of"),a("./modules/es7.array.includes"),a("./modules/es7.array.flat-map"),a("./modules/es7.array.flatten"),a("./modules/es7.string.at"),a("./modules/es7.string.pad-start"),a("./modules/es7.string.pad-end"),a("./modules/es7.string.trim-left"),a("./modules/es7.string.trim-right"),a("./modules/es7.string.match-all"),a("./modules/es7.symbol.async-iterator"),a("./modules/es7.symbol.observable"),a("./modules/es7.object.get-own-property-descriptors"),a("./modules/es7.object.values"),a("./modules/es7.object.entries"),a("./modules/es7.object.define-getter"),a("./modules/es7.object.define-setter"),a("./modules/es7.object.lookup-getter"),a("./modules/es7.object.lookup-setter"),a("./modules/es7.map.to-json"),a("./modules/es7.set.to-json"),a("./modules/es7.map.of"),a("./modules/es7.set.of"),a("./modules/es7.weak-map.of"),a("./modules/es7.weak-set.of"),a("./modules/es7.map.from"),a("./modules/es7.set.from"),a("./modules/es7.weak-map.from"),a("./modules/es7.weak-set.from"),a("./modules/es7.global"),a("./modules/es7.system.global"),a("./modules/es7.error.is-error"),a("./modules/es7.math.clamp"),a("./modules/es7.math.deg-per-rad"),a("./modules/es7.math.degrees"),a("./modules/es7.math.fscale"),a("./modules/es7.math.iaddh"),a("./modules/es7.math.isubh"),a("./modules/es7.math.imulh"),a("./modules/es7.math.rad-per-deg"),a("./modules/es7.math.radians"),a("./modules/es7.math.scale"),a("./modules/es7.math.umulh"),a("./modules/es7.math.signbit"),a("./modules/es7.promise.finally"),a("./modules/es7.promise.try"),a("./modules/es7.reflect.define-metadata"),a("./modules/es7.reflect.delete-metadata"),a("./modules/es7.reflect.get-metadata"),a("./modules/es7.reflect.get-metadata-keys"),a("./modules/es7.reflect.get-own-metadata"),a("./modules/es7.reflect.get-own-metadata-keys"),a("./modules/es7.reflect.has-metadata"),a("./modules/es7.reflect.has-own-metadata"),a("./modules/es7.reflect.metadata"),a("./modules/es7.asap"),a("./modules/es7.observable"),a("./modules/web.timers"),a("./modules/web.immediate"),a("./modules/web.dom.iterable"),b.exports=a("./modules/_core")},{"./modules/_core":27,"./modules/es6.array.copy-within":136,"./modules/es6.array.every":137,"./modules/es6.array.fill":138,"./modules/es6.array.filter":139,"./modules/es6.array.find":141,"./modules/es6.array.find-index":140,"./modules/es6.array.for-each":142,"./modules/es6.array.from":143,"./modules/es6.array.index-of":144,"./modules/es6.array.is-array":145,"./modules/es6.array.iterator":146,"./modules/es6.array.join":147,"./modules/es6.array.last-index-of":148,"./modules/es6.array.map":149,"./modules/es6.array.of":150,"./modules/es6.array.reduce":152,"./modules/es6.array.reduce-right":151,"./modules/es6.array.slice":153,"./modules/es6.array.some":154,"./modules/es6.array.sort":155,"./modules/es6.array.species":156,"./modules/es6.date.now":157,"./modules/es6.date.to-iso-string":158,"./modules/es6.date.to-json":159,"./modules/es6.date.to-primitive":160,"./modules/es6.date.to-string":161,"./modules/es6.function.bind":162,"./modules/es6.function.has-instance":163,"./modules/es6.function.name":164,"./modules/es6.map":165,"./modules/es6.math.acosh":166,"./modules/es6.math.asinh":167,"./modules/es6.math.atanh":168,"./modules/es6.math.cbrt":169,"./modules/es6.math.clz32":170,"./modules/es6.math.cosh":171,"./modules/es6.math.expm1":172,"./modules/es6.math.fround":173,"./modules/es6.math.hypot":174,"./modules/es6.math.imul":175,"./modules/es6.math.log10":176,"./modules/es6.math.log1p":177,"./modules/es6.math.log2":178,"./modules/es6.math.sign":179,"./modules/es6.math.sinh":180,"./modules/es6.math.tanh":181,"./modules/es6.math.trunc":182,"./modules/es6.number.constructor":183,"./modules/es6.number.epsilon":184,"./modules/es6.number.is-finite":185,"./modules/es6.number.is-integer":186,"./modules/es6.number.is-nan":187,"./modules/es6.number.is-safe-integer":188,"./modules/es6.number.max-safe-integer":189,"./modules/es6.number.min-safe-integer":190,"./modules/es6.number.parse-float":191,"./modules/es6.number.parse-int":192,"./modules/es6.number.to-fixed":193,"./modules/es6.number.to-precision":194,"./modules/es6.object.assign":195,"./modules/es6.object.create":196,"./modules/es6.object.define-properties":197,"./modules/es6.object.define-property":198,"./modules/es6.object.freeze":199,"./modules/es6.object.get-own-property-descriptor":200,"./modules/es6.object.get-own-property-names":201,"./modules/es6.object.get-prototype-of":202,"./modules/es6.object.is":206,"./modules/es6.object.is-extensible":203,"./modules/es6.object.is-frozen":204,"./modules/es6.object.is-sealed":205,"./modules/es6.object.keys":207,"./modules/es6.object.prevent-extensions":208,"./modules/es6.object.seal":209,"./modules/es6.object.set-prototype-of":210,"./modules/es6.object.to-string":211,"./modules/es6.parse-float":212,"./modules/es6.parse-int":213,"./modules/es6.promise":214,"./modules/es6.reflect.apply":215,"./modules/es6.reflect.construct":216,"./modules/es6.reflect.define-property":217,"./modules/es6.reflect.delete-property":218,"./modules/es6.reflect.enumerate":219,"./modules/es6.reflect.get":222,"./modules/es6.reflect.get-own-property-descriptor":220,"./modules/es6.reflect.get-prototype-of":221,"./modules/es6.reflect.has":223,"./modules/es6.reflect.is-extensible":224,"./modules/es6.reflect.own-keys":225,"./modules/es6.reflect.prevent-extensions":226,"./modules/es6.reflect.set":228,"./modules/es6.reflect.set-prototype-of":227,"./modules/es6.regexp.constructor":229,"./modules/es6.regexp.exec":230,"./modules/es6.regexp.flags":231,"./modules/es6.regexp.match":232,"./modules/es6.regexp.replace":233,"./modules/es6.regexp.search":234,"./modules/es6.regexp.split":235,"./modules/es6.regexp.to-string":236,"./modules/es6.set":237,"./modules/es6.string.anchor":238,"./modules/es6.string.big":239,"./modules/es6.string.blink":240,"./modules/es6.string.bold":241,"./modules/es6.string.code-point-at":242,"./modules/es6.string.ends-with":243,"./modules/es6.string.fixed":244,"./modules/es6.string.fontcolor":245,"./modules/es6.string.fontsize":246,"./modules/es6.string.from-code-point":247,"./modules/es6.string.includes":248,"./modules/es6.string.italics":249,"./modules/es6.string.iterator":250,"./modules/es6.string.link":251,"./modules/es6.string.raw":252,"./modules/es6.string.repeat":253,"./modules/es6.string.small":254,"./modules/es6.string.starts-with":255,"./modules/es6.string.strike":256,"./modules/es6.string.sub":257,"./modules/es6.string.sup":258,"./modules/es6.string.trim":259,"./modules/es6.symbol":260,"./modules/es6.typed.array-buffer":261,"./modules/es6.typed.data-view":262,"./modules/es6.typed.float32-array":263,"./modules/es6.typed.float64-array":264,"./modules/es6.typed.int16-array":265,"./modules/es6.typed.int32-array":266,"./modules/es6.typed.int8-array":267,"./modules/es6.typed.uint16-array":268,"./modules/es6.typed.uint32-array":269,"./modules/es6.typed.uint8-array":270,"./modules/es6.typed.uint8-clamped-array":271,"./modules/es6.weak-map":272,"./modules/es6.weak-set":273,"./modules/es7.array.flat-map":274,"./modules/es7.array.flatten":275,"./modules/es7.array.includes":276,"./modules/es7.asap":277,"./modules/es7.error.is-error":278,"./modules/es7.global":279,"./modules/es7.map.from":280,"./modules/es7.map.of":281,"./modules/es7.map.to-json":282,"./modules/es7.math.clamp":283,"./modules/es7.math.deg-per-rad":284,"./modules/es7.math.degrees":285,"./modules/es7.math.fscale":286,"./modules/es7.math.iaddh":287,"./modules/es7.math.imulh":288,"./modules/es7.math.isubh":289,"./modules/es7.math.rad-per-deg":290,"./modules/es7.math.radians":291,"./modules/es7.math.scale":292,"./modules/es7.math.signbit":293,"./modules/es7.math.umulh":294,"./modules/es7.object.define-getter":295,"./modules/es7.object.define-setter":296,"./modules/es7.object.entries":297,"./modules/es7.object.get-own-property-descriptors":298,"./modules/es7.object.lookup-getter":299,"./modules/es7.object.lookup-setter":300,"./modules/es7.object.values":301,"./modules/es7.observable":302,"./modules/es7.promise.finally":303,"./modules/es7.promise.try":304,"./modules/es7.reflect.define-metadata":305,"./modules/es7.reflect.delete-metadata":306,"./modules/es7.reflect.get-metadata":308,"./modules/es7.reflect.get-metadata-keys":307,"./modules/es7.reflect.get-own-metadata":310,"./modules/es7.reflect.get-own-metadata-keys":309,"./modules/es7.reflect.has-metadata":311,"./modules/es7.reflect.has-own-metadata":312,"./modules/es7.reflect.metadata":313,"./modules/es7.set.from":314,"./modules/es7.set.of":315,"./modules/es7.set.to-json":316,"./modules/es7.string.at":317,"./modules/es7.string.match-all":318,"./modules/es7.string.pad-end":319,"./modules/es7.string.pad-start":320,"./modules/es7.string.trim-left":321,"./modules/es7.string.trim-right":322,"./modules/es7.symbol.async-iterator":323,"./modules/es7.symbol.observable":324,"./modules/es7.system.global":325,"./modules/es7.weak-map.from":326,"./modules/es7.weak-map.of":327,"./modules/es7.weak-set.from":328,"./modules/es7.weak-set.of":329,"./modules/web.dom.iterable":330,"./modules/web.immediate":331,"./modules/web.timers":332}],334:[function(a,b,c){"use strict";var d=Object.prototype.hasOwnProperty,e=Object.prototype.toString,f=Object.defineProperty,g=Object.getOwnPropertyDescriptor,h=function(a){return"function"==typeof Array.isArray?Array.isArray(a):"[object Array]"===e.call(a)},i=function(a){if(!a||"[object Object]"!==e.call(a))return!1;var b=d.call(a,"constructor"),c=a.constructor&&a.constructor.prototype&&d.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!b&&!c)return!1;var f;for(f in a);return void 0===f||d.call(a,f)},j=function(a,b){f&&"__proto__"===b.name?f(a,b.name,{enumerable:!0,configurable:!0,value:b.newValue,writable:!0}):a[b.name]=b.newValue},k=function(a,b){if("__proto__"===b){if(!d.call(a,b))return;if(g)return g(a,b).value}return a[b]};b.exports=function a(){var b,c,d,e,f,g,l=arguments[0],m=1,n=arguments.length,o=!1;for("boolean"==typeof l&&(o=l,l=arguments[1]||{},m=2),(null==l||"object"!=typeof l&&"function"!=typeof l)&&(l={});m<n;++m)if(null!=(b=arguments[m]))for(c in b)d=k(l,c),e=k(b,c),l!==e&&(o&&e&&(i(e)||(f=h(e)))?(f?(f=!1,g=d&&h(d)?d:[]):g=d&&i(d)?d:{},j(l,{name:c,newValue:a(o,g,e)})):void 0!==e&&j(l,{name:c,newValue:e}));return l}},{}],335:[function(a,b,c){!function(){"use strict";function a(b,c){var e;if(c=c||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=c.touchBoundary||10,this.layer=b,this.tapDelay=c.tapDelay||200,this.tapTimeout=c.tapTimeout||700,!a.notNeeded(b)){for(var f=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],g=this,h=0,i=f.length;h<i;h++)g[f[h]]=function(a,b){return function(){return a.apply(b,arguments)}}(g[f[h]],g);d&&(b.addEventListener("mouseover",this.onMouse,!0),b.addEventListener("mousedown",this.onMouse,!0),b.addEventListener("mouseup",this.onMouse,!0)),b.addEventListener("click",this.onClick,!0),b.addEventListener("touchstart",this.onTouchStart,!1),b.addEventListener("touchmove",this.onTouchMove,!1),b.addEventListener("touchend",this.onTouchEnd,!1),b.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(b.removeEventListener=function(a,c,d){var e=Node.prototype.removeEventListener;"click"===a?e.call(b,a,c.hijacked||c,d):e.call(b,a,c,d)},b.addEventListener=function(a,c,d){var e=Node.prototype.addEventListener;"click"===a?e.call(b,a,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(b,a,c,d)}),"function"==typeof b.onclick&&(e=b.onclick,b.addEventListener("click",function(a){e(a)},!1),b.onclick=null)}}var c=navigator.userAgent.indexOf("Windows Phone")>=0,d=navigator.userAgent.indexOf("Android")>0&&!c,e=/iP(ad|hone|od)/.test(navigator.userAgent)&&!c,f=e&&/OS 4_\d(_\d)?/.test(navigator.userAgent),g=e&&/OS [6-7]_\d/.test(navigator.userAgent),h=navigator.userAgent.indexOf("BB10")>0;a.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(e&&"file"===a.type||a.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(a.className)},a.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!d;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},a.prototype.sendClick=function(a,b){var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent(this.determineEventType(a),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},a.prototype.determineEventType=function(a){return d&&"select"===a.tagName.toLowerCase()?"mousedown":"click"},a.prototype.focus=function(a){var b;e&&a.setSelectionRange&&0!==a.type.indexOf("date")&&"time"!==a.type&&"month"!==a.type?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},a.prototype.updateScrollParent=function(a){var b,c;if(!(b=a.fastClickScrollParent)||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},a.prototype.getTargetElementFromEventTarget=function(a){return a.nodeType===Node.TEXT_NODE?a.parentNode:a},a.prototype.onTouchStart=function(a){var b,c,d;if(a.targetTouches.length>1)return!0;if(b=this.getTargetElementFromEventTarget(a.target),c=a.targetTouches[0],e){if(d=window.getSelection(),d.rangeCount&&!d.isCollapsed)return!0;if(!f){if(c.identifier&&c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=c.pageX,this.touchStartY=c.pageY,a.timeStamp-this.lastClickTime<this.tapDelay&&a.preventDefault(),!0},a.prototype.touchHasMoved=function(a){var b=a.changedTouches[0],c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c},a.prototype.onTouchMove=function(a){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))&&(this.trackingClick=!1,this.targetElement=null),!0)},a.prototype.findControl=function(a){return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},a.prototype.onTouchEnd=function(a){var b,c,h,i,j,k=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(a.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=a.timeStamp,c=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,g&&(j=a.changedTouches[0],k=document.elementFromPoint(j.pageX-window.pageXOffset,j.pageY-window.pageYOffset)||k,k.fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(h=k.tagName.toLowerCase())){if(b=this.findControl(k)){if(this.focus(k),d)return!1;k=b}}else if(this.needsFocus(k))return a.timeStamp-c>100||e&&window.top!==window&&"input"===h?(this.targetElement=null,!1):(this.focus(k),this.sendClick(k,a),e&&"select"===h||(this.targetElement=null,a.preventDefault()),!1);return!(!e||f||!(i=k.fastClickScrollParent)||i.fastClickLastScrollTop===i.scrollTop)||(this.needsClick(k)||(a.preventDefault(),this.sendClick(k,a)),!1)},a.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},a.prototype.onMouse=function(a){return!this.targetElement||(!!a.forwardedTouchEvent||(!a.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1))))},a.prototype.onClick=function(a){var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===a.target.type&&0===a.detail||(b=this.onMouse(a),b||(this.targetElement=null),b)},a.prototype.destroy=function(){var a=this.layer;d&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},a.notNeeded=function(a){var b,c,e;if(void 0===window.ontouchstart)return!0;if(c=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!d)return!0;if(b=document.querySelector("meta[name=viewport]")){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(c>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(h&&(e=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),e[1]>=10&&e[2]>=3&&(b=document.querySelector("meta[name=viewport]")))){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===a.style.msTouchAction||"manipulation"===a.style.touchAction||(!!(+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]>=27&&(b=document.querySelector("meta[name=viewport]"))&&(-1!==b.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||("none"===a.style.touchAction||"manipulation"===a.style.touchAction))},a.attach=function(b,c){return new a(b,c)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return a}):void 0!==b&&b.exports?(b.exports=a.attach,b.exports.FastClick=a):window.FastClick=a}()},{}],336:[function(a,b,c){b.exports=function(a){"string"==typeof a&&(a=[a]);for(var b=[].slice.call(arguments,1),c=[],d=0;d<a.length-1;d++)c.push(a[d],b[d]||"");return c.push(a[d]),c.join("")}},{}],337:[function(a,b,c){(function(a){!function(a,c){"use strict";var d={},e=a.document,f=a.GreenSockGlobals=a.GreenSockGlobals||a;if(f.TweenLite)return f.TweenLite;var g,h,i,j,k,l=function(a){var b,c=a.split("."),d=f;for(b=0;b<c.length;b++)d[c[b]]=d=d[c[b]]||{};return d},m=l("com.greensock"),n=1e-10,o=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},p=function(){},q=function(){var a=Object.prototype.toString,b=a.call([]);return function(c){return null!=c&&(c instanceof Array||"object"==typeof c&&!!c.push&&a.call(c)===b)}}(),r={},s=function(e,g,h,i){this.sc=r[e]?r[e].sc:[],r[e]=this,this.gsClass=null,this.func=h;var j=[];this.check=function(k){for(var m,n,o,p,q=g.length,t=q;--q>-1;)(m=r[g[q]]||new s(g[q],[])).gsClass?(j[q]=m.gsClass,t--):k&&m.sc.push(this);if(0===t&&h){if(n=("com.greensock."+e).split("."),o=n.pop(),p=l(n.join("."))[o]=this.gsClass=h.apply(h,j),i)if(f[o]=d[o]=p,void 0!==b&&b.exports)if(e===c){b.exports=d[c]=p;for(q in d)p[q]=d[q]}else d[c]&&(d[c][o]=p);else"function"==typeof define&&define.amd&&define((a.GreenSockAMDPath?a.GreenSockAMDPath+"/":"")+e.split(".").pop(),[],function(){return p});for(q=0;q<this.sc.length;q++)this.sc[q].check()}},this.check(!0)},t=a._gsDefine=function(a,b,c,d){return new s(a,b,c,d)},u=m._class=function(a,b,c){return b=b||function(){},t(a,[],function(){return b},c),b};t.globals=f;var v=[0,0,1,1],w=u("easing.Ease",function(a,b,c,d){this._func=a,this._type=c||0,this._power=d||0,this._params=b?v.concat(b):v},!0),x=w.map={},y=w.register=function(a,b,c,d){for(var e,f,g,h,i=b.split(","),j=i.length,k=(c||"easeIn,easeOut,easeInOut").split(",");--j>-1;)for(f=i[j],e=d?u("easing."+f,null,!0):m.easing[f]||{},g=k.length;--g>-1;)h=k[g],x[f+"."+h]=x[h+f]=e[h]=a.getRatio?a:a[h]||new a};for(i=w.prototype,i._calcEnd=!1,i.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var b=this._type,c=this._power,d=1===b?1-a:2===b?a:.5>a?2*a:2*(1-a);return 1===c?d*=d:2===c?d*=d*d:3===c?d*=d*d*d:4===c&&(d*=d*d*d*d),1===b?1-d:2===b?d:.5>a?d/2:1-d/2},g=["Linear","Quad","Cubic","Quart","Quint,Strong"],h=g.length;--h>-1;)i=g[h]+",Power"+h,y(new w(null,null,1,h),i,"easeOut",!0),y(new w(null,null,2,h),i,"easeIn"+(0===h?",easeNone":"")),y(new w(null,null,3,h),i,"easeInOut");x.linear=m.easing.Linear.easeIn,x.swing=m.easing.Quad.easeInOut;var z=u("events.EventDispatcher",function(a){this._listeners={},this._eventTarget=a||this});i=z.prototype,i.addEventListener=function(a,b,c,d,e){e=e||0;var f,g,h=this._listeners[a],i=0;for(this!==j||k||j.wake(),null==h&&(this._listeners[a]=h=[]),g=h.length;--g>-1;)f=h[g],f.c===b&&f.s===c?h.splice(g,1):0===i&&f.pr<e&&(i=g+1);h.splice(i,0,{c:b,s:c,up:d,pr:e})},i.removeEventListener=function(a,b){var c,d=this._listeners[a];if(d)for(c=d.length;--c>-1;)if(d[c].c===b)return void d.splice(c,1)},i.dispatchEvent=function(a){var b,c,d,e=this._listeners[a];if(e)for(b=e.length,b>1&&(e=e.slice(0)),c=this._eventTarget;--b>-1;)(d=e[b])&&(d.up?d.c.call(d.s||c,{type:a,target:c}):d.c.call(d.s||c))};var A=a.requestAnimationFrame,B=a.cancelAnimationFrame,C=Date.now||function(){return(new Date).getTime()},D=C();for(g=["ms","moz","webkit","o"],h=g.length;--h>-1&&!A;)A=a[g[h]+"RequestAnimationFrame"],B=a[g[h]+"CancelAnimationFrame"]||a[g[h]+"CancelRequestAnimationFrame"];u("Ticker",function(a,b){var c,d,f,g,h,i=this,l=C(),m=!(!1===b||!A)&&"auto",o=500,q=33,r=function(a){var b,e,j=C()-D;j>o&&(l+=j-q),D+=j,i.time=(D-l)/1e3,b=i.time-h,(!c||b>0||!0===a)&&(i.frame++,h+=b+(b>=g?.004:g-b),e=!0),!0!==a&&(f=d(r)),e&&i.dispatchEvent("tick")};z.call(i),i.time=i.frame=0,i.tick=function(){r(!0)},i.lagSmoothing=function(a,b){return arguments.length?(o=a||1/n,void(q=Math.min(b,o,0))):1/n>o},i.sleep=function(){null!=f&&(m&&B?B(f):clearTimeout(f),d=p,f=null,i===j&&(k=!1))},i.wake=function(a){null!==f?i.sleep():a?l+=-D+(D=C()):i.frame>10&&(D=C()-o+5),d=0===c?p:m&&A?A:function(a){return setTimeout(a,1e3*(h-i.time)+1|0)},i===j&&(k=!0),r(2)},i.fps=function(a){return arguments.length?(c=a,g=1/(c||60),h=this.time+g,void i.wake()):c},i.useRAF=function(a){return arguments.length?(i.sleep(),m=a,void i.fps(c)):m},i.fps(a),setTimeout(function(){"auto"===m&&i.frame<5&&"hidden"!==(e||{}).visibilityState&&i.useRAF(!1)},1500)}),i=m.Ticker.prototype=new m.events.EventDispatcher,i.constructor=m.Ticker;var E=u("core.Animation",function(a,b){if(this.vars=b=b||{},this._duration=this._totalDuration=a||0,this._delay=Number(b.delay)||0,this._timeScale=1,this._active=!0===b.immediateRender,this.data=b.data,this._reversed=!0===b.reversed,Y){k||j.wake();var c=this.vars.useFrames?X:Y;c.add(this,c._time),this.vars.paused&&this.paused(!0)}});j=E.ticker=new m.Ticker,i=E.prototype,i._dirty=i._gc=i._initted=i._paused=!1,i._totalTime=i._time=0,i._rawPrevTime=-1,i._next=i._last=i._onUpdate=i._timeline=i.timeline=null,i._paused=!1;var F=function(){k&&C()-D>2e3&&("hidden"!==(e||{}).visibilityState||!j.lagSmoothing())&&j.wake();var a=setTimeout(F,2e3);a.unref&&a.unref()};F(),i.play=function(a,b){return null!=a&&this.seek(a,b),this.reversed(!1).paused(!1)},i.pause=function(a,b){return null!=a&&this.seek(a,b),this.paused(!0)},i.resume=function(a,b){return null!=a&&this.seek(a,b),this.paused(!1)},i.seek=function(a,b){return this.totalTime(Number(a),!1!==b)},i.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,!1!==b,!0)},i.reverse=function(a,b){return null!=a&&this.seek(a||this.totalDuration(),b),this.reversed(!0).paused(!1)},i.render=function(a,b,c){},i.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},i.isActive=function(){var a,b=this._timeline,c=this._startTime;return!b||!this._gc&&!this._paused&&b.isActive()&&(a=b.rawTime(!0))>=c&&a<c+this.totalDuration()/this._timeScale-1e-7},i._enabled=function(a,b){return k||j.wake(),this._gc=!a,this._active=this.isActive(),!0!==b&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,!0)),!1},i._kill=function(a,b){return this._enabled(!1,!1)},i.kill=function(a,b){return this._kill(a,b),this},i._uncache=function(a){for(var b=a?this:this.timeline;b;)b._dirty=!0,b=b.timeline;return this},i._swapSelfInParams=function(a){for(var b=a.length,c=a.concat();--b>-1;)"{self}"===a[b]&&(c[b]=this);return c},i._callback=function(a){var b=this.vars,c=b[a],d=b[a+"Params"],e=b[a+"Scope"]||b.callbackScope||this;switch(d?d.length:0){case 0:c.call(e);break;case 1:c.call(e,d[0]);break;case 2:c.call(e,d[0],d[1]);break;default:c.apply(e,d)}},i.eventCallback=function(a,b,c,d){if("on"===(a||"").substr(0,2)){var e=this.vars;if(1===arguments.length)return e[a];null==b?delete e[a]:(e[a]=b,e[a+"Params"]=q(c)&&-1!==c.join("").indexOf("{self}")?this._swapSelfInParams(c):c,e[a+"Scope"]=d),"onUpdate"===a&&(this._onUpdate=b)}return this},i.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay},i.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==a&&this.totalTime(this._totalTime*(a/this._duration),!0),this):(this._dirty=!1,this._duration)},i.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration},i.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,b)):this._time},i.totalTime=function(a,b,c){if(k||j.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>a&&!c&&(a+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var d=this._totalDuration,e=this._timeline;if(a>d&&!c&&(a=d),this._startTime=(this._paused?this._pauseTime:e._time)-(this._reversed?d-a:a)/this._timeScale,e._dirty||this._uncache(!1),e._timeline)for(;e._timeline;)e._timeline._time!==(e._startTime+e._totalTime)/e._timeScale&&e.totalTime(e._totalTime,!0),e=e._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==a||0===this._duration)&&(K.length&&$(),this.render(a,b,!1),K.length&&$())}return this},i.progress=i.totalProgress=function(a,b){var c=this.duration();return arguments.length?this.totalTime(c*a,b):c?this._time/c:this.ratio},i.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime},i.endTime=function(a){return this._startTime+(0!=a?this.totalDuration():this.duration())/this._timeScale},i.timeScale=function(a){if(!arguments.length)return this._timeScale;var b,c;for(a=a||n,this._timeline&&this._timeline.smoothChildTiming&&(b=this._pauseTime,c=b||0===b?b:this._timeline.totalTime(),this._startTime=c-(c-this._startTime)*this._timeScale/a),this._timeScale=a,c=this.timeline;c&&c.timeline;)c._dirty=!0,c.totalDuration(),c=c.timeline;return this},i.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},i.paused=function(a){if(!arguments.length)return this._paused;var b,c,d=this._timeline;return a!=this._paused&&d&&(k||a||j.wake(),b=d.rawTime(),c=b-this._pauseTime,!a&&d.smoothChildTiming&&(this._startTime+=c,this._uncache(!1)),this._pauseTime=a?b:null,this._paused=a,this._active=this.isActive(),!a&&0!==c&&this._initted&&this.duration()&&(b=d.smoothChildTiming?this._totalTime:(b-this._startTime)/this._timeScale,this.render(b,b===this._totalTime,!0))),this._gc&&!a&&this._enabled(!0,!1),this};var G=u("core.SimpleTimeline",function(a){E.call(this,0,a),this.autoRemoveChildren=this.smoothChildTiming=!0});i=G.prototype=new E,i.constructor=G,i.kill()._gc=!1,i._first=i._last=i._recent=null,i._sortChildren=!1,i.add=i.insert=function(a,b,c,d){var e,f;if(a._startTime=Number(b||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=this.rawTime()-(a._timeline.rawTime()-a._pauseTime)),a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),e=this._last,this._sortChildren)for(f=a._startTime;e&&e._startTime>f;)e=e._prev;return e?(a._next=e._next,e._next=a):(a._next=this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=e,this._recent=a,this._timeline&&this._uncache(!0),this},i._remove=function(a,b){return a.timeline===this&&(b||a._enabled(!1,!0),a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),a._next=a._prev=a.timeline=null,a===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},i.render=function(a,b,c){var d,e=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;e;)d=e._next,(e._active||a>=e._startTime&&!e._paused&&!e._gc)&&(e._reversed?e.render((e._dirty?e.totalDuration():e._totalDuration)-(a-e._startTime)*e._timeScale,b,c):e.render((a-e._startTime)*e._timeScale,b,c)),e=d},i.rawTime=function(){return k||j.wake(),this._totalTime};var H=u("TweenLite",function(b,c,d){if(E.call(this,c,d),this.render=H.prototype.render,null==b)throw"Cannot tween a null target."
;this.target=b="string"!=typeof b?b:H.selector(b)||b;var e,f,g,h=b.jquery||b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType),i=this.vars.overwrite;if(this._overwrite=i=null==i?W[H.defaultOverwrite]:"number"==typeof i?i>>0:W[i],(h||b instanceof Array||b.push&&q(b))&&"number"!=typeof b[0])for(this._targets=g=o(b),this._propLookup=[],this._siblings=[],e=0;e<g.length;e++)f=g[e],f?"string"!=typeof f?f.length&&f!==a&&f[0]&&(f[0]===a||f[0].nodeType&&f[0].style&&!f.nodeType)?(g.splice(e--,1),this._targets=g=g.concat(o(f))):(this._siblings[e]=_(f,this,!1),1===i&&this._siblings[e].length>1&&ba(f,this,null,1,this._siblings[e])):"string"==typeof(f=g[e--]=H.selector(f))&&g.splice(e+1,1):g.splice(e--,1);else this._propLookup={},this._siblings=_(b,this,!1),1===i&&this._siblings.length>1&&ba(b,this,null,1,this._siblings);(this.vars.immediateRender||0===c&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-n,this.render(Math.min(0,-this._delay)))},!0),I=function(b){return b&&b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType)},J=function(a,b){var c,d={};for(c in a)V[c]||c in b&&"transform"!==c&&"x"!==c&&"y"!==c&&"width"!==c&&"height"!==c&&"className"!==c&&"border"!==c||!(!S[c]||S[c]&&S[c]._autoCSS)||(d[c]=a[c],delete a[c]);a.css=d};i=H.prototype=new E,i.constructor=H,i.kill()._gc=!1,i.ratio=0,i._firstPT=i._targets=i._overwrittenProps=i._startAt=null,i._notifyPluginsOfEnabled=i._lazy=!1,H.version="1.20.5",H.defaultEase=i._ease=new w(null,null,1,1),H.defaultOverwrite="auto",H.ticker=j,H.autoSleep=120,H.lagSmoothing=function(a,b){j.lagSmoothing(a,b)},H.selector=a.$||a.jQuery||function(b){var c=a.$||a.jQuery;return c?(H.selector=c,c(b)):(e||(e=a.document),e?e.querySelectorAll?e.querySelectorAll(b):e.getElementById("#"===b.charAt(0)?b.substr(1):b):b)};var K=[],L={},M=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,N=/[\+-]=-?[\.\d]/,O=function(a){for(var b,c=this._firstPT;c;)b=c.blob?1===a&&null!=this.end?this.end:a?this.join(""):this.start:c.c*a+c.s,c.m?b=c.m.call(this._tween,b,this._target||c.t,this._tween):1e-6>b&&b>-1e-6&&!c.blob&&(b=0),c.f?c.fp?c.t[c.p](c.fp,b):c.t[c.p](b):c.t[c.p]=b,c=c._next},P=function(a,b,c,d){var e,f,g,h,i,j,k,l=[],m=0,n="",o=0;for(l.start=a,l.end=b,a=l[0]=a+"",b=l[1]=b+"",c&&(c(l),a=l[0],b=l[1]),l.length=0,e=a.match(M)||[],f=b.match(M)||[],d&&(d._next=null,d.blob=1,l._firstPT=l._applyPT=d),i=f.length,h=0;i>h;h++)k=f[h],j=b.substr(m,b.indexOf(k,m)-m),n+=j||!h?j:",",m+=j.length,o?o=(o+1)%5:"rgba("===j.substr(-5)&&(o=1),k===e[h]||e.length<=h?n+=k:(n&&(l.push(n),n=""),g=parseFloat(e[h]),l.push(g),l._firstPT={_next:l._firstPT,t:l,p:l.length-1,s:g,c:("="===k.charAt(1)?parseInt(k.charAt(0)+"1",10)*parseFloat(k.substr(2)):parseFloat(k)-g)||0,f:0,m:o&&4>o?Math.round:0}),m+=k.length;return n+=b.substr(m),n&&l.push(n),l.setRatio=O,N.test(b)&&(l.end=null),l},Q=function(a,b,c,d,e,f,g,h,i){"function"==typeof d&&(d=d(i||0,a));var j,k=typeof a[b],l="function"!==k?"":b.indexOf("set")||"function"!=typeof a["get"+b.substr(3)]?b:"get"+b.substr(3),m="get"!==c?c:l?g?a[l](g):a[l]():a[b],n="string"==typeof d&&"="===d.charAt(1),o={t:a,p:b,s:m,f:"function"===k,pg:0,n:e||b,m:f?"function"==typeof f?f:Math.round:0,pr:0,c:n?parseInt(d.charAt(0)+"1",10)*parseFloat(d.substr(2)):parseFloat(d)-m||0};return("number"!=typeof m||"number"!=typeof d&&!n)&&(g||isNaN(m)||!n&&isNaN(d)||"boolean"==typeof m||"boolean"==typeof d?(o.fp=g,j=P(m,n?parseFloat(o.s)+o.c+(o.s+"").replace(/[0-9\-\.]/g,""):d,h||H.defaultStringFilter,o),o={t:j,p:"setRatio",s:0,c:1,f:2,pg:0,n:e||b,pr:0,m:0}):(o.s=parseFloat(m),n||(o.c=parseFloat(d)-o.s||0))),o.c?((o._next=this._firstPT)&&(o._next._prev=o),this._firstPT=o,o):void 0},R=H._internals={isArray:q,isSelector:I,lazyTweens:K,blobDif:P},S=H._plugins={},T=R.tweenLookup={},U=0,V=R.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},W={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},X=E._rootFramesTimeline=new G,Y=E._rootTimeline=new G,Z=30,$=R.lazyRender=function(){var a,b=K.length;for(L={};--b>-1;)(a=K[b])&&!1!==a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0),a._lazy=!1);K.length=0};Y._startTime=j.time,X._startTime=j.frame,Y._active=X._active=!0,setTimeout($,1),E._updateRoot=H.render=function(){var a,b,c;if(K.length&&$(),Y.render((j.time-Y._startTime)*Y._timeScale,!1,!1),X.render((j.frame-X._startTime)*X._timeScale,!1,!1),K.length&&$(),j.frame>=Z){Z=j.frame+(parseInt(H.autoSleep,10)||120);for(c in T){for(b=T[c].tweens,a=b.length;--a>-1;)b[a]._gc&&b.splice(a,1);0===b.length&&delete T[c]}if((!(c=Y._first)||c._paused)&&H.autoSleep&&!X._first&&1===j._listeners.tick.length){for(;c&&c._paused;)c=c._next;c||j.sleep()}}},j.addEventListener("tick",E._updateRoot);var _=function(a,b,c){var d,e,f=a._gsTweenID;if(T[f||(a._gsTweenID=f="t"+U++)]||(T[f]={target:a,tweens:[]}),b&&(d=T[f].tweens,d[e=d.length]=b,c))for(;--e>-1;)d[e]===b&&d.splice(e,1);return T[f].tweens},aa=function(a,b,c,d){var e,f,g=a.vars.onOverwrite;return g&&(e=g(a,b,c,d)),g=H.onOverwrite,g&&(f=g(a,b,c,d)),!1!==e&&!1!==f},ba=function(a,b,c,d,e){var f,g,h,i;if(1===d||d>=4){for(i=e.length,f=0;i>f;f++)if((h=e[f])!==b)h._gc||h._kill(null,a,b)&&(g=!0);else if(5===d)break;return g}var j,k=b._startTime+n,l=[],m=0,o=0===b._duration;for(f=e.length;--f>-1;)(h=e[f])===b||h._gc||h._paused||(h._timeline!==b._timeline?(j=j||ca(b,0,o),0===ca(h,j,o)&&(l[m++]=h)):h._startTime<=k&&h._startTime+h.totalDuration()/h._timeScale>k&&((o||!h._initted)&&k-h._startTime<=2e-10||(l[m++]=h)));for(f=m;--f>-1;)if(h=l[f],2===d&&h._kill(c,a,b)&&(g=!0),2!==d||!h._firstPT&&h._initted){if(2!==d&&!aa(h,b))continue;h._enabled(!1,!1)&&(g=!0)}return g},ca=function(a,b,c){for(var d=a._timeline,e=d._timeScale,f=a._startTime;d._timeline;){if(f+=d._startTime,e*=d._timeScale,d._paused)return-100;d=d._timeline}return f/=e,f>b?f-b:c&&f===b||!a._initted&&2*n>f-b?n:(f+=a.totalDuration()/a._timeScale/e)>b+n?0:f-b-n};i._init=function(){var a,b,c,d,e,f,g=this.vars,h=this._overwrittenProps,i=this._duration,j=!!g.immediateRender,k=g.ease;if(g.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),e={};for(d in g.startAt)e[d]=g.startAt[d];if(e.data="isStart",e.overwrite=!1,e.immediateRender=!0,e.lazy=j&&!1!==g.lazy,e.startAt=e.delay=null,e.onUpdate=g.onUpdate,e.onUpdateParams=g.onUpdateParams,e.onUpdateScope=g.onUpdateScope||g.callbackScope||this,this._startAt=H.to(this.target||{},0,e),j)if(this._time>0)this._startAt=null;else if(0!==i)return}else if(g.runBackwards&&0!==i)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(j=!1),c={};for(d in g)V[d]&&"autoCSS"!==d||(c[d]=g[d]);if(c.overwrite=0,c.data="isFromStart",c.lazy=j&&!1!==g.lazy,c.immediateRender=j,this._startAt=H.to(this.target,0,c),j){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=k=k?k instanceof w?k:"function"==typeof k?new w(k,g.easeParams):x[k]||H.defaultEase:H.defaultEase,g.easeParams instanceof Array&&k.config&&(this._ease=k.config.apply(k,g.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(f=this._targets.length,a=0;f>a;a++)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],h?h[a]:null,a)&&(b=!0);else b=this._initProps(this.target,this._propLookup,this._siblings,h,0);if(b&&H._onPluginEvent("_onInitAllProps",this),h&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),g.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=g.onUpdate,this._initted=!0},i._initProps=function(b,c,d,e,f){var g,h,i,j,k,l;if(null==b)return!1;L[b._gsTweenID]&&$(),this.vars.css||b.style&&b!==a&&b.nodeType&&S.css&&!1!==this.vars.autoCSS&&J(this.vars,b);for(g in this.vars)if(l=this.vars[g],V[g])l&&(l instanceof Array||l.push&&q(l))&&-1!==l.join("").indexOf("{self}")&&(this.vars[g]=l=this._swapSelfInParams(l,this));else if(S[g]&&(j=new S[g])._onInitTween(b,this.vars[g],this,f)){for(this._firstPT=k={_next:this._firstPT,t:j,p:"setRatio",s:0,c:1,f:1,n:g,pg:1,pr:j._priority,m:0},h=j._overwriteProps.length;--h>-1;)c[j._overwriteProps[h]]=this._firstPT;(j._priority||j._onInitAllProps)&&(i=!0),(j._onDisable||j._onEnable)&&(this._notifyPluginsOfEnabled=!0),k._next&&(k._next._prev=k)}else c[g]=Q.call(this,b,g,"get",l,g,0,null,this.vars.stringFilter,f);return e&&this._kill(e,b)?this._initProps(b,c,d,e,f):this._overwrite>1&&this._firstPT&&d.length>1&&ba(b,this,c,this._overwrite,d)?(this._kill(c,b),this._initProps(b,c,d,e,f)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(L[b._gsTweenID]=!0),i)},i.render=function(a,b,c){var d,e,f,g,h=this._time,i=this._duration,j=this._rawPrevTime;if(a>=i-1e-7&&a>=0)this._totalTime=this._time=i,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(d=!0,e="onComplete",c=c||this._timeline.autoRemoveChildren),0===i&&(this._initted||!this.vars.lazy||c)&&(this._startTime===this._timeline._duration&&(a=0),(0>j||0>=a&&a>=-1e-7||j===n&&"isPause"!==this.data)&&j!==a&&(c=!0,j>n&&(e="onReverseComplete")),this._rawPrevTime=g=!b||a||j===a?a:n);else if(1e-7>a)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==h||0===i&&j>0)&&(e="onReverseComplete",d=this._reversed),0>a&&(this._active=!1,0===i&&(this._initted||!this.vars.lazy||c)&&(j>=0&&(j!==n||"isPause"!==this.data)&&(c=!0),this._rawPrevTime=g=!b||a||j===a?a:n)),(!this._initted||this._startAt&&this._startAt.progress())&&(c=!0);else if(this._totalTime=this._time=a,this._easeType){var k=a/i,l=this._easeType,m=this._easePower;(1===l||3===l&&k>=.5)&&(k=1-k),3===l&&(k*=2),1===m?k*=k:2===m?k*=k*k:3===m?k*=k*k*k:4===m&&(k*=k*k*k*k),this.ratio=1===l?1-k:2===l?k:.5>a/i?k/2:1-k/2}else this.ratio=this._ease.getRatio(a/i);if(this._time!==h||c){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!c&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=h,this._rawPrevTime=j,K.push(this),void(this._lazy=[a,b]);this._time&&!d?this.ratio=this._ease.getRatio(this._time/i):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==h&&a>=0&&(this._active=!0),0===h&&(this._startAt&&(a>=0?this._startAt.render(a,!0,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._time||0===i)&&(b||this._callback("onStart"))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&-1e-4!==a&&this._startAt.render(a,!0,c),b||(this._time!==h||d||c)&&this._callback("onUpdate")),e&&(!this._gc||c)&&(0>a&&this._startAt&&!this._onUpdate&&-1e-4!==a&&this._startAt.render(a,!0,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this._callback(e),0===i&&this._rawPrevTime===n&&g!==n&&(this._rawPrevTime=0))}},i._kill=function(a,b,c){if("all"===a&&(a=null),null==a&&(null==b||b===this.target))return this._lazy=!1,this._enabled(!1,!1);b="string"!=typeof b?b||this._targets||this.target:H.selector(b)||b;var d,e,f,g,h,i,j,k,l,m=c&&this._time&&c._startTime===this._startTime&&this._timeline===c._timeline;if((q(b)||I(b))&&"number"!=typeof b[0])for(d=b.length;--d>-1;)this._kill(a,b[d],c)&&(i=!0);else{if(this._targets){for(d=this._targets.length;--d>-1;)if(b===this._targets[d]){h=this._propLookup[d]||{},this._overwrittenProps=this._overwrittenProps||[],e=this._overwrittenProps[d]=a?this._overwrittenProps[d]||{}:"all";break}}else{if(b!==this.target)return!1;h=this._propLookup,e=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(h){if(j=a||h,k=a!==e&&"all"!==e&&a!==h&&("object"!=typeof a||!a._tempKill),c&&(H.onOverwrite||this.vars.onOverwrite)){for(f in j)h[f]&&(l||(l=[]),l.push(f));if((l||!a)&&!aa(this,c,b,l))return!1}for(f in j)(g=h[f])&&(m&&(g.f?g.t[g.p](g.s):g.t[g.p]=g.s,i=!0),g.pg&&g.t._kill(j)&&(i=!0),g.pg&&0!==g.t._overwriteProps.length||(g._prev?g._prev._next=g._next:g===this._firstPT&&(this._firstPT=g._next),g._next&&(g._next._prev=g._prev),g._next=g._prev=null),delete h[f]),k&&(e[f]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return i},i.invalidate=function(){return this._notifyPluginsOfEnabled&&H._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],E.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-n,this.render(Math.min(0,-this._delay))),this},i._enabled=function(a,b){if(k||j.wake(),a&&this._gc){var c,d=this._targets;if(d)for(c=d.length;--c>-1;)this._siblings[c]=_(d[c],this,!0);else this._siblings=_(this.target,this,!0)}return E.prototype._enabled.call(this,a,b),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&H._onPluginEvent(a?"_onEnable":"_onDisable",this)},H.to=function(a,b,c){return new H(a,b,c)},H.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new H(a,b,c)},H.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new H(a,b,d)},H.delayedCall=function(a,b,c,d,e){return new H(b,0,{delay:a,onComplete:b,onCompleteParams:c,callbackScope:d,onReverseComplete:b,onReverseCompleteParams:c,immediateRender:!1,lazy:!1,useFrames:e,overwrite:0})},H.set=function(a,b){return new H(a,0,b)},H.getTweensOf=function(a,b){if(null==a)return[];a="string"!=typeof a?a:H.selector(a)||a;var c,d,e,f;if((q(a)||I(a))&&"number"!=typeof a[0]){for(c=a.length,d=[];--c>-1;)d=d.concat(H.getTweensOf(a[c],b));for(c=d.length;--c>-1;)for(f=d[c],e=c;--e>-1;)f===d[e]&&d.splice(c,1)}else if(a._gsTweenID)for(d=_(a).concat(),c=d.length;--c>-1;)(d[c]._gc||b&&!d[c].isActive())&&d.splice(c,1);return d||[]},H.killTweensOf=H.killDelayedCallsTo=function(a,b,c){"object"==typeof b&&(c=b,b=!1);for(var d=H.getTweensOf(a,b),e=d.length;--e>-1;)d[e]._kill(c,a)};var da=u("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(","),this._propName=this._overwriteProps[0],this._priority=b||0,this._super=da.prototype},!0);if(i=da.prototype,da.version="1.19.0",da.API=2,i._firstPT=null,i._addTween=Q,i.setRatio=O,i._kill=function(a){var b,c=this._overwriteProps,d=this._firstPT;if(null!=a[this._propName])this._overwriteProps=[];else for(b=c.length;--b>-1;)null!=a[c[b]]&&c.splice(b,1);for(;d;)null!=a[d.n]&&(d._next&&(d._next._prev=d._prev),d._prev?(d._prev._next=d._next,d._prev=null):this._firstPT===d&&(this._firstPT=d._next)),d=d._next;return!1},i._mod=i._roundProps=function(a){for(var b,c=this._firstPT;c;)b=a[this._propName]||null!=c.n&&a[c.n.split(this._propName+"_").join("")],b&&"function"==typeof b&&(2===c.f?c.t._applyPT.m=b:c.m=b),c=c._next},H._onPluginEvent=function(a,b){var c,d,e,f,g,h=b._firstPT;if("_onInitAllProps"===a){for(;h;){for(g=h._next,d=e;d&&d.pr>h.pr;)d=d._next;(h._prev=d?d._prev:f)?h._prev._next=h:e=h,(h._next=d)?d._prev=h:f=h,h=g}h=b._firstPT=e}for(;h;)h.pg&&"function"==typeof h.t[a]&&h.t[a]()&&(c=!0),h=h._next;return c},da.activate=function(a){for(var b=a.length;--b>-1;)a[b].API===da.API&&(S[(new a[b])._propName]=a[b]);return!0},t.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var b,c=a.propName,d=a.priority||0,e=a.overwriteProps,f={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},g=u("plugins."+c.charAt(0).toUpperCase()+c.substr(1)+"Plugin",function(){da.call(this,c,d),this._overwriteProps=e||[]},!0===a.global),h=g.prototype=new da(c);h.constructor=g,g.API=a.API;for(b in f)"function"==typeof a[b]&&(h[f[b]]=a[b]);return g.version=a.version,da.activate([g]),g},g=a._gsQueue){for(h=0;h<g.length;h++)g[h]();for(i in r)r[i].func||a.console.log("GSAP encountered missing dependency: "+i)}k=!1}(void 0!==b&&b.exports&&void 0!==a?a:this||window,"TweenLite")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],338:[function(a,b,c){(function(a){var c=void 0!==b&&b.exports&&void 0!==a?a:this||window;(c._gsQueue||(c._gsQueue=[])).push(function(){"use strict";c._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},e=function(a,b,c){var d,e,f=a.cycle;for(d in f)e=f[d],a[d]="function"==typeof e?e(c,b[c]):e[c%e.length];delete a.cycle},f=function(a,b,d){c.call(this,a,b,d),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=f.prototype.render},g=1e-10,h=c._internals,i=h.isSelector,j=h.isArray,k=f.prototype=c.to({},.1,{}),l=[];f.version="1.20.5",k.constructor=f,k.kill()._gc=!1,f.killTweensOf=f.killDelayedCallsTo=c.killTweensOf,f.getTweensOf=c.getTweensOf,f.lagSmoothing=c.lagSmoothing,f.ticker=c.ticker,f.render=c.render,k.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),c.prototype.invalidate.call(this)},k.updateTo=function(a,b){var d,e=this.ratio,f=this.vars.immediateRender||a.immediateRender;b&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(d in a)this.vars[d]=a[d];if(this._initted||f)if(b)this._initted=!1,f&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&c._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var g=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(g,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||f)for(var h,i=1/(1-e),j=this._firstPT;j;)h=j.s+j.c,j.c*=i,j.s=h-j.c,j=j._next;return this},k.render=function(a,b,d){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var e,f,i,j,k,l,m,n,o,p=this._dirty?this.totalDuration():this._totalDuration,q=this._time,r=this._totalTime,s=this._cycle,t=this._duration,u=this._rawPrevTime;if(a>=p-1e-7&&a>=0?(this._totalTime=p,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=t,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(e=!0,f="onComplete",d=d||this._timeline.autoRemoveChildren),0===t&&(this._initted||!this.vars.lazy||d)&&(this._startTime===this._timeline._duration&&(a=0),(0>u||0>=a&&a>=-1e-7||u===g&&"isPause"!==this.data)&&u!==a&&(d=!0,u>g&&(f="onReverseComplete")),this._rawPrevTime=n=!b||a||u===a?a:g)):1e-7>a?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==r||0===t&&u>0)&&(f="onReverseComplete",e=this._reversed),0>a&&(this._active=!1,0===t&&(this._initted||!this.vars.lazy||d)&&(u>=0&&(d=!0),this._rawPrevTime=n=!b||a||u===a?a:g)),this._initted||(d=!0)):(this._totalTime=this._time=a,0!==this._repeat&&(j=t+this._repeatDelay,this._cycle=this._totalTime/j>>0,0!==this._cycle&&this._cycle===this._totalTime/j&&a>=r&&this._cycle--,this._time=this._totalTime-this._cycle*j,this._yoyo&&0!=(1&this._cycle)&&(this._time=t-this._time,(o=this._yoyoEase||this.vars.yoyoEase)&&(this._yoyoEase||(!0!==o||this._initted?this._yoyoEase=o=!0===o?this._ease:o instanceof Ease?o:Ease.map[o]:(o=this.vars.ease,this._yoyoEase=o=o?o instanceof Ease?o:"function"==typeof o?new Ease(o,this.vars.easeParams):Ease.map[o]||c.defaultEase:c.defaultEase)),this.ratio=o?1-o.getRatio((t-this._time)/t):0)),this._time>t?this._time=t:this._time<0&&(this._time=0)),this._easeType&&!o?(k=this._time/t,l=this._easeType,m=this._easePower,(1===l||3===l&&k>=.5)&&(k=1-k),3===l&&(k*=2),1===m?k*=k:2===m?k*=k*k:3===m?k*=k*k*k:4===m&&(k*=k*k*k*k),1===l?this.ratio=1-k:2===l?this.ratio=k:this._time/t<.5?this.ratio=k/2:this.ratio=1-k/2):o||(this.ratio=this._ease.getRatio(this._time/t))),q===this._time&&!d&&s===this._cycle)return void(r!==this._totalTime&&this._onUpdate&&(b||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!d&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=q,this._totalTime=r,this._rawPrevTime=u,this._cycle=s,h.lazyTweens.push(this),void(this._lazy=[a,b]);!this._time||e||o?e&&this._ease._calcEnd&&!o&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/t)}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==q&&a>=0&&(this._active=!0),0===r&&(2===this._initted&&a>0&&this._init(),this._startAt&&(a>=0?this._startAt.render(a,!0,d):f||(f="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===t)&&(b||this._callback("onStart"))),i=this._firstPT;i;)i.f?i.t[i.p](i.c*this.ratio+i.s):i.t[i.p]=i.c*this.ratio+i.s,i=i._next;this._onUpdate&&(0>a&&this._startAt&&this._startTime&&this._startAt.render(a,!0,d),b||(this._totalTime!==r||f)&&this._callback("onUpdate")),this._cycle!==s&&(b||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),f&&(!this._gc||d)&&(0>a&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(a,!0,d),e&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[f]&&this._callback(f),0===t&&this._rawPrevTime===g&&n!==g&&(this._rawPrevTime=0))},f.to=function(a,b,c){return new f(a,b,c)},f.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new f(a,b,c)},f.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new f(a,b,d)},f.staggerTo=f.allTo=function(a,b,g,h,k,m,n){h=h||0;var o,p,q,r,s=0,t=[],u=function(){g.onComplete&&g.onComplete.apply(g.onCompleteScope||this,arguments),k.apply(n||g.callbackScope||this,m||l)},v=g.cycle,w=g.startAt&&g.startAt.cycle;for(j(a)||("string"==typeof a&&(a=c.selector(a)||a),i(a)&&(a=d(a))),a=a||[],0>h&&(a=d(a),a.reverse(),h*=-1),o=a.length-1,q=0;o>=q;q++){p={};for(r in g)p[r]=g[r];if(v&&(e(p,a,q),null!=p.duration&&(b=p.duration,delete p.duration)),w){w=p.startAt={};for(r in g.startAt)w[r]=g.startAt[r];e(p.startAt,a,q)}p.delay=s+(p.delay||0),q===o&&k&&(p.onComplete=u),t[q]=new f(a[q],b,p),s+=h}return t},f.staggerFrom=f.allFrom=function(a,b,c,d,e,g,h){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,f.staggerTo(a,b,c,d,e,g,h)},f.staggerFromTo=f.allFromTo=function(a,b,c,d,e,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,f.staggerTo(a,b,d,e,g,h,i)},f.delayedCall=function(a,b,c,d,e){return new f(b,0,{delay:a,onComplete:b,onCompleteParams:c,callbackScope:d,onReverseComplete:b,onReverseCompleteParams:c,immediateRender:!1,useFrames:e,overwrite:0})},f.set=function(a,b){return new f(a,0,b)},f.isTweening=function(a){return c.getTweensOf(a,!0).length>0};var m=function(a,b){for(var d=[],e=0,f=a._first;f;)f instanceof c?d[e++]=f:(b&&(d[e++]=f),d=d.concat(m(f,b)),e=d.length),f=f._next;return d},n=f.getAllTweens=function(b){return m(a._rootTimeline,b).concat(m(a._rootFramesTimeline,b))};f.killAll=function(a,c,d,e){null==c&&(c=!0),null==d&&(d=!0);var f,g,h,i=n(0!=e),j=i.length,k=c&&d&&e;for(h=0;j>h;h++)g=i[h],(k||g instanceof b||(f=g.target===g.vars.onComplete)&&d||c&&!f)&&(a?g.totalTime(g._reversed?0:g.totalDuration()):g._enabled(!1,!1))},f.killChildTweensOf=function(a,b){if(null!=a){var e,g,k,l,m,n=h.tweenLookup;if("string"==typeof a&&(a=c.selector(a)||a),i(a)&&(a=d(a)),j(a))for(l=a.length;--l>-1;)f.killChildTweensOf(a[l],b);else{e=[];for(k in n)for(g=n[k].target.parentNode;g;)g===a&&(e=e.concat(n[k].tweens)),g=g.parentNode;for(m=e.length,l=0;m>l;l++)b&&e[l].totalTime(e[l].totalDuration()),e[l]._enabled(!1,!1)}}};var o=function(a,c,d,e){c=!1!==c,d=!1!==d,e=!1!==e;for(var f,g,h=n(e),i=c&&d&&e,j=h.length;--j>-1;)g=h[j],(i||g instanceof b||(f=g.target===g.vars.onComplete)&&d||c&&!f)&&g.paused(a)};return f.pauseAll=function(a,b,c){o(!0,a,b,c)},f.resumeAll=function(a,b,c){o(!1,a,b,c)},f.globalTimeScale=function(b){var d=a._rootTimeline,e=c.ticker.time;return arguments.length?(b=b||g,d._startTime=e-(e-d._startTime)*d._timeScale/b,d=a._rootFramesTimeline,e=c.ticker.frame,d._startTime=e-(e-d._startTime)*d._timeScale/b,d._timeScale=a._rootTimeline._timeScale=b,b):d._timeScale},k.progress=function(a,b){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),b):this._time/this.duration()},k.totalProgress=function(a,b){return arguments.length?this.totalTime(this.totalDuration()*a,b):this._totalTime/this.totalDuration()},k.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!=(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},k.duration=function(b){return arguments.length?a.prototype.duration.call(this,b):this._duration},k.totalDuration=function(a){return arguments.length?-1===this._repeat?this:this.duration((a-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},k.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},k.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},k.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},f},!0),c._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,d){var e=function(a){b.call(this,a),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var c,d,e=this.vars;for(d in e)c=e[d],j(c)&&-1!==c.join("").indexOf("{self}")&&(e[d]=this._swapSelfInParams(c));j(e.tweens)&&this.add(e.tweens,0,e.align,e.stagger)},f=1e-10,g=d._internals,h=e._internals={},i=g.isSelector,j=g.isArray,k=g.lazyTweens,l=g.lazyRender,m=c._gsDefine.globals,n=function(a){var b,c={};for(b in a)c[b]=a[b];return c},o=function(a,b,c){var d,e,f=a.cycle;for(d in f)e=f[d],a[d]="function"==typeof e?e(c,b[c]):e[c%e.length];delete a.cycle},p=h.pauseCallback=function(){},q=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},r=e.prototype=new b;return e.version="1.20.4",r.constructor=e,r.kill()._gc=r._forcingPlayhead=r._hasPause=!1,r.to=function(a,b,c,e){var f=c.repeat&&m.TweenMax||d;return b?this.add(new f(a,b,c),e):this.set(a,c,e)},r.from=function(a,b,c,e){return this.add((c.repeat&&m.TweenMax||d).from(a,b,c),e)},r.fromTo=function(a,b,c,e,f){var g=e.repeat&&m.TweenMax||d;return b?this.add(g.fromTo(a,b,c,e),f):this.set(a,e,f)},r.staggerTo=function(a,b,c,f,g,h,j,k){var l,m,p=new e({onComplete:h,onCompleteParams:j,callbackScope:k,smoothChildTiming:this.smoothChildTiming}),r=c.cycle;for("string"==typeof a&&(a=d.selector(a)||a),a=a||[],i(a)&&(a=q(a)),f=f||0,0>f&&(a=q(a),a.reverse(),f*=-1),m=0;m<a.length;m++)l=n(c),l.startAt&&(l.startAt=n(l.startAt),l.startAt.cycle&&o(l.startAt,a,m)),r&&(o(l,a,m),null!=l.duration&&(b=l.duration,delete l.duration)),p.to(a[m],b,l,m*f);return this.add(p,g)},r.staggerFrom=function(a,b,c,d,e,f,g,h){return c.immediateRender=0!=c.immediateRender,c.runBackwards=!0,this.staggerTo(a,b,c,d,e,f,g,h)},r.staggerFromTo=function(a,b,c,d,e,f,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,this.staggerTo(a,b,d,e,f,g,h,i)},r.call=function(a,b,c,e){return this.add(d.delayedCall(0,a,b,c),e)},r.set=function(a,b,c){return c=this._parseTimeOrLabel(c,0,!0),null==b.immediateRender&&(b.immediateRender=c===this._time&&!this._paused),this.add(new d(a,0,b),c)},e.exportRoot=function(a,b){a=a||{},null==a.smoothChildTiming&&(a.smoothChildTiming=!0);var c,f,g,h,i=new e(a),j=i._timeline;for(null==b&&(b=!0),j._remove(i,!0),i._startTime=0,i._rawPrevTime=i._time=i._totalTime=j._time,g=j._first;g;)h=g._next,b&&g instanceof d&&g.target===g.vars.onComplete||(f=g._startTime-g._delay,0>f&&(c=1),i.add(g,f)),g=h;return j.add(i,0),c&&i.totalDuration(),i},r.add=function(c,f,g,h){var i,k,l,m,n,o;if("number"!=typeof f&&(f=this._parseTimeOrLabel(f,0,!0,c)),!(c instanceof a)){if(c instanceof Array||c&&c.push&&j(c)){for(g=g||"normal",h=h||0,i=f,k=c.length,l=0;k>l;l++)j(m=c[l])&&(m=new e({tweens:m})),this.add(m,i),"string"!=typeof m&&"function"!=typeof m&&("sequence"===g?i=m._startTime+m.totalDuration()/m._timeScale:"start"===g&&(m._startTime-=m.delay())),i+=h;return this._uncache(!0)}if("string"==typeof c)return this.addLabel(c,f);if("function"!=typeof c)throw"Cannot add "+c+" into the timeline; it is not a tween, timeline, function, or string.";c=d.delayedCall(0,c)}if(b.prototype.add.call(this,c,f),c._time&&c.render((this.rawTime()-c._startTime)*c._timeScale,!1,!1),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(n=this,o=n.rawTime()>c._startTime;n._timeline;)o&&n._timeline.smoothChildTiming?n.totalTime(n._totalTime,!0):n._gc&&n._enabled(!0,!1),n=n._timeline;return this},r.remove=function(b){if(b instanceof a){this._remove(b,!1);var c=b._timeline=b.vars.useFrames?a._rootFramesTimeline:a._rootTimeline;return b._startTime=(b._paused?b._pauseTime:c._time)-(b._reversed?b.totalDuration()-b._totalTime:b._totalTime)/b._timeScale,this}if(b instanceof Array||b&&b.push&&j(b)){for(var d=b.length;--d>-1;)this.remove(b[d]);return this}return"string"==typeof b?this.removeLabel(b):this.kill(null,b)},r._remove=function(a,c){return b.prototype._remove.call(this,a,c),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},r.append=function(a,b){return this.add(a,this._parseTimeOrLabel(null,b,!0,a))},r.insert=r.insertMultiple=function(a,b,c,d){return this.add(a,b||0,c,d)},r.appendMultiple=function(a,b,c,d){return this.add(a,this._parseTimeOrLabel(null,b,!0,a),c,d)},r.addLabel=function(a,b){return this._labels[a]=this._parseTimeOrLabel(b),this},r.addPause=function(a,b,c,e){var f=d.delayedCall(0,p,c,e||this);return f.vars.onComplete=f.vars.onReverseComplete=b,f.data="isPause",this._hasPause=!0,this.add(f,a)},r.removeLabel=function(a){return delete this._labels[a],this},r.getLabelTime=function(a){return null!=this._labels[a]?this._labels[a]:-1},r._parseTimeOrLabel=function(b,c,d,e){var f,g;if(e instanceof a&&e.timeline===this)this.remove(e);else if(e&&(e instanceof Array||e.push&&j(e)))for(g=e.length;--g>-1;)e[g]instanceof a&&e[g].timeline===this&&this.remove(e[g]);if(f="number"!=typeof b||c?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof c)return this._parseTimeOrLabel(c,d&&"number"==typeof b&&null==this._labels[c]?b-f:0,d);if(c=c||0,"string"!=typeof b||!isNaN(b)&&null==this._labels[b])null==b&&(b=f);else{if(-1===(g=b.indexOf("=")))return null==this._labels[b]?d?this._labels[b]=f+c:c:this._labels[b]+c;c=parseInt(b.charAt(g-1)+"1",10)*Number(b.substr(g+1)),b=g>1?this._parseTimeOrLabel(b.substr(0,g-1),0,d):f}return Number(b)+c},r.seek=function(a,b){
return this.totalTime("number"==typeof a?a:this._parseTimeOrLabel(a),!1!==b)},r.stop=function(){return this.paused(!0)},r.gotoAndPlay=function(a,b){return this.play(a,b)},r.gotoAndStop=function(a,b){return this.pause(a,b)},r.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,e,g,h,i,j,m,n=this._time,o=this._dirty?this.totalDuration():this._totalDuration,p=this._startTime,q=this._timeScale,r=this._paused;if(n!==this._time&&(a+=this._time-n),a>=o-1e-7&&a>=0)this._totalTime=this._time=o,this._reversed||this._hasPausedChild()||(e=!0,h="onComplete",i=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=a&&a>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===f)&&this._rawPrevTime!==a&&this._first&&(i=!0,this._rawPrevTime>f&&(h="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:f,a=o+1e-4;else if(1e-7>a)if(this._totalTime=this._time=0,(0!==n||0===this._duration&&this._rawPrevTime!==f&&(this._rawPrevTime>0||0>a&&this._rawPrevTime>=0))&&(h="onReverseComplete",e=this._reversed),0>a)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(i=e=!0,h="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(i=!0),this._rawPrevTime=a;else{if(this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:f,0===a&&e)for(d=this._first;d&&0===d._startTime;)d._duration||(e=!1),d=d._next;a=0,this._initted||(i=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!b){if(a>=n)for(d=this._first;d&&d._startTime<=a&&!j;)d._duration||"isPause"!==d.data||d.ratio||0===d._startTime&&0===this._rawPrevTime||(j=d),d=d._next;else for(d=this._last;d&&d._startTime>=a&&!j;)d._duration||"isPause"===d.data&&d._rawPrevTime>0&&(j=d),d=d._prev;j&&(this._time=a=j._startTime,this._totalTime=a+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=a}if(this._time!==n&&this._first||c||i||j){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==n&&a>0&&(this._active=!0),0===n&&this.vars.onStart&&(0===this._time&&this._duration||b||this._callback("onStart")),(m=this._time)>=n)for(d=this._first;d&&(g=d._next,m===this._time&&(!this._paused||r));)(d._active||d._startTime<=m&&!d._paused&&!d._gc)&&(j===d&&this.pause(),d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;else for(d=this._last;d&&(g=d._prev,m===this._time&&(!this._paused||r));){if(d._active||d._startTime<=n&&!d._paused&&!d._gc){if(j===d){for(j=d._prev;j&&j.endTime()>this._time;)j.render(j._reversed?j.totalDuration()-(a-j._startTime)*j._timeScale:(a-j._startTime)*j._timeScale,b,c),j=j._prev;j=null,this.pause()}d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)}d=g}this._onUpdate&&(b||(k.length&&l(),this._callback("onUpdate"))),h&&(this._gc||(p===this._startTime||q!==this._timeScale)&&(0===this._time||o>=this.totalDuration())&&(e&&(k.length&&l(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[h]&&this._callback(h)))}},r._hasPausedChild=function(){for(var a=this._first;a;){if(a._paused||a instanceof e&&a._hasPausedChild())return!0;a=a._next}return!1},r.getChildren=function(a,b,c,e){e=e||-9999999999;for(var f=[],g=this._first,h=0;g;)g._startTime<e||(g instanceof d?!1!==b&&(f[h++]=g):(!1!==c&&(f[h++]=g),!1!==a&&(f=f.concat(g.getChildren(!0,b,c)),h=f.length))),g=g._next;return f},r.getTweensOf=function(a,b){var c,e,f=this._gc,g=[],h=0;for(f&&this._enabled(!0,!0),c=d.getTweensOf(a),e=c.length;--e>-1;)(c[e].timeline===this||b&&this._contains(c[e]))&&(g[h++]=c[e]);return f&&this._enabled(!1,!0),g},r.recent=function(){return this._recent},r._contains=function(a){for(var b=a.timeline;b;){if(b===this)return!0;b=b.timeline}return!1},r.shiftChildren=function(a,b,c){c=c||0;for(var d,e=this._first,f=this._labels;e;)e._startTime>=c&&(e._startTime+=a),e=e._next;if(b)for(d in f)f[d]>=c&&(f[d]+=a);return this._uncache(!0)},r._kill=function(a,b){if(!a&&!b)return this._enabled(!1,!1);for(var c=b?this.getTweensOf(b):this.getChildren(!0,!0,!1),d=c.length,e=!1;--d>-1;)c[d]._kill(a,b)&&(e=!0);return e},r.clear=function(a){var b=this.getChildren(!1,!0,!0),c=b.length;for(this._time=this._totalTime=0;--c>-1;)b[c]._enabled(!1,!1);return!1!==a&&(this._labels={}),this._uncache(!0)},r.invalidate=function(){for(var b=this._first;b;)b.invalidate(),b=b._next;return a.prototype.invalidate.call(this)},r._enabled=function(a,c){if(a===this._gc)for(var d=this._first;d;)d._enabled(a,!0),d=d._next;return b.prototype._enabled.call(this,a,c)},r.totalTime=function(b,c,d){this._forcingPlayhead=!0;var e=a.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,e},r.duration=function(a){return arguments.length?(0!==this.duration()&&0!==a&&this.timeScale(this._duration/a),this):(this._dirty&&this.totalDuration(),this._duration)},r.totalDuration=function(a){if(!arguments.length){if(this._dirty){for(var b,c,d=0,e=this._last,f=999999999999;e;)b=e._prev,e._dirty&&e.totalDuration(),e._startTime>f&&this._sortChildren&&!e._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(e,e._startTime-e._delay),this._calculatingDuration=0):f=e._startTime,e._startTime<0&&!e._paused&&(d-=e._startTime,this._timeline.smoothChildTiming&&(this._startTime+=e._startTime/this._timeScale,this._time-=e._startTime,this._totalTime-=e._startTime,this._rawPrevTime-=e._startTime),this.shiftChildren(-e._startTime,!1,-9999999999),f=0),c=e._startTime+e._totalDuration/e._timeScale,c>d&&(d=c),e=b;this._duration=this._totalDuration=d,this._dirty=!1}return this._totalDuration}return a&&this.totalDuration()?this.timeScale(this._totalDuration/a):this},r.paused=function(b){if(!b)for(var c=this._first,d=this._time;c;)c._startTime===d&&"isPause"===c.data&&(c._rawPrevTime=0),c=c._next;return a.prototype.paused.apply(this,arguments)},r.usesFrames=function(){for(var b=this._timeline;b._timeline;)b=b._timeline;return b===a._rootFramesTimeline},r.rawTime=function(a){return a&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(a)-this._startTime)*this._timeScale},e},!0),c._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(a,b,d){var e=function(b){a.call(this,b),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},f=1e-10,g=b._internals,h=g.lazyTweens,i=g.lazyRender,j=c._gsDefine.globals,k=new d(null,null,1,0),l=e.prototype=new a;return l.constructor=e,l.kill()._gc=!1,e.version="1.20.4",l.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),a.prototype.invalidate.call(this)},l.addCallback=function(a,c,d,e){return this.add(b.delayedCall(0,a,d,e),c)},l.removeCallback=function(a,b){if(a)if(null==b)this._kill(null,a);else for(var c=this.getTweensOf(a,!1),d=c.length,e=this._parseTimeOrLabel(b);--d>-1;)c[d]._startTime===e&&c[d]._enabled(!1,!1);return this},l.removePause=function(b){return this.removeCallback(a._internals.pauseCallback,b)},l.tweenTo=function(a,c){c=c||{};var d,e,f,g={ease:k,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},h=c.repeat&&j.TweenMax||b;for(e in c)g[e]=c[e];return g.time=this._parseTimeOrLabel(a),d=Math.abs(Number(g.time)-this._time)/this._timeScale||.001,f=new h(this,d,g),g.onStart=function(){f.target.paused(!0),f.vars.time===f.target.time()||d!==f.duration()||f.isFromTo||f.duration(Math.abs(f.vars.time-f.target.time())/f.target._timeScale).render(f.time(),!0,!0),c.onStart&&c.onStart.apply(c.onStartScope||c.callbackScope||f,c.onStartParams||[])},f},l.tweenFromTo=function(a,b,c){c=c||{},a=this._parseTimeOrLabel(a),c.startAt={onComplete:this.seek,onCompleteParams:[a],callbackScope:this},c.immediateRender=!1!==c.immediateRender;var d=this.tweenTo(b,c);return d.isFromTo=1,d.duration(Math.abs(d.vars.time-a)/this._timeScale||.001)},l.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,e,g,j,k,l,m,n,o=this._time,p=this._dirty?this.totalDuration():this._totalDuration,q=this._duration,r=this._totalTime,s=this._startTime,t=this._timeScale,u=this._rawPrevTime,v=this._paused,w=this._cycle;if(o!==this._time&&(a+=this._time-o),a>=p-1e-7&&a>=0)this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(e=!0,j="onComplete",k=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=a&&a>=-1e-7||0>u||u===f)&&u!==a&&this._first&&(k=!0,u>f&&(j="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:f,this._yoyo&&0!=(1&this._cycle)?this._time=a=0:(this._time=q,a=q+1e-4);else if(1e-7>a)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==o||0===q&&u!==f&&(u>0||0>a&&u>=0)&&!this._locked)&&(j="onReverseComplete",e=this._reversed),0>a)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(k=e=!0,j="onReverseComplete"):u>=0&&this._first&&(k=!0),this._rawPrevTime=a;else{if(this._rawPrevTime=q||!b||a||this._rawPrevTime===a?a:f,0===a&&e)for(d=this._first;d&&0===d._startTime;)d._duration||(e=!1),d=d._next;a=0,this._initted||(k=!0)}else if(0===q&&0>u&&(k=!0),this._time=this._rawPrevTime=a,this._locked||(this._totalTime=a,0!==this._repeat&&(l=q+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&a>=r&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!=(1&this._cycle)&&(this._time=q-this._time),this._time>q?(this._time=q,a=q+1e-4):this._time<0?this._time=a=0:a=this._time)),this._hasPause&&!this._forcingPlayhead&&!b){if((a=this._time)>=o||this._repeat&&w!==this._cycle)for(d=this._first;d&&d._startTime<=a&&!m;)d._duration||"isPause"!==d.data||d.ratio||0===d._startTime&&0===this._rawPrevTime||(m=d),d=d._next;else for(d=this._last;d&&d._startTime>=a&&!m;)d._duration||"isPause"===d.data&&d._rawPrevTime>0&&(m=d),d=d._prev;m&&m._startTime<q&&(this._time=a=m._startTime,this._totalTime=a+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==w&&!this._locked){var x=this._yoyo&&0!=(1&w),y=x===(this._yoyo&&0!=(1&this._cycle)),z=this._totalTime,A=this._cycle,B=this._rawPrevTime,C=this._time;if(this._totalTime=w*q,this._cycle<w?x=!x:this._totalTime+=q,this._time=o,this._rawPrevTime=0===q?u-1e-4:u,this._cycle=w,this._locked=!0,o=x?0:q,this.render(o,b,0===q),b||this._gc||this.vars.onRepeat&&(this._cycle=A,this._locked=!1,this._callback("onRepeat")),o!==this._time)return;if(y&&(this._cycle=w,this._locked=!0,o=x?q+1e-4:-1e-4,this.render(o,!0,!1)),this._locked=!1,this._paused&&!v)return;this._time=C,this._totalTime=z,this._cycle=A,this._rawPrevTime=B}if(!(this._time!==o&&this._first||c||k||m))return void(r!==this._totalTime&&this._onUpdate&&(b||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==r&&a>0&&(this._active=!0),0===r&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||b||this._callback("onStart")),(n=this._time)>=o)for(d=this._first;d&&(g=d._next,n===this._time&&(!this._paused||v));)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(m===d&&this.pause(),d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;else for(d=this._last;d&&(g=d._prev,n===this._time&&(!this._paused||v));){if(d._active||d._startTime<=o&&!d._paused&&!d._gc){if(m===d){for(m=d._prev;m&&m.endTime()>this._time;)m.render(m._reversed?m.totalDuration()-(a-m._startTime)*m._timeScale:(a-m._startTime)*m._timeScale,b,c),m=m._prev;m=null,this.pause()}d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)}d=g}this._onUpdate&&(b||(h.length&&i(),this._callback("onUpdate"))),j&&(this._locked||this._gc||(s===this._startTime||t!==this._timeScale)&&(0===this._time||p>=this.totalDuration())&&(e&&(h.length&&i(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[j]&&this._callback(j)))},l.getActive=function(a,b,c){null==a&&(a=!0),null==b&&(b=!0),null==c&&(c=!1);var d,e,f=[],g=this.getChildren(a,b,c),h=0,i=g.length;for(d=0;i>d;d++)e=g[d],e.isActive()&&(f[h++]=e);return f},l.getLabelAfter=function(a){a||0!==a&&(a=this._time);var b,c=this.getLabelsArray(),d=c.length;for(b=0;d>b;b++)if(c[b].time>a)return c[b].name;return null},l.getLabelBefore=function(a){null==a&&(a=this._time);for(var b=this.getLabelsArray(),c=b.length;--c>-1;)if(b[c].time<a)return b[c].name;return null},l.getLabelsArray=function(){var a,b=[],c=0;for(a in this._labels)b[c++]={time:this._labels[a],name:a};return b.sort(function(a,b){return a.time-b.time}),b},l.invalidate=function(){return this._locked=!1,a.prototype.invalidate.call(this)},l.progress=function(a,b){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),b):this._time/this.duration()||0},l.totalProgress=function(a,b){return arguments.length?this.totalTime(this.totalDuration()*a,b):this._totalTime/this.totalDuration()||0},l.totalDuration=function(b){return arguments.length?-1!==this._repeat&&b?this.timeScale(this.totalDuration()/b):this:(this._dirty&&(a.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},l.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!=(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},l.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},l.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},l.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},l.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.getLabelBefore(this._time+1e-8)},e},!0),function(){var a=180/Math.PI,b=[],d=[],e=[],f={},g=c._gsDefine.globals,h=function(a,b,c,d){c===d&&(c=d-(d-b)/1e6),a===b&&(b=a+(c-a)/1e6),this.a=a,this.b=b,this.c=c,this.d=d,this.da=d-a,this.ca=c-a,this.ba=b-a},i=function(a,b,c,d){var e={a:a},f={},g={},h={c:d},i=(a+b)/2,j=(b+c)/2,k=(c+d)/2,l=(i+j)/2,m=(j+k)/2,n=(m-l)/8;return e.b=i+(a-i)/4,f.b=l+n,e.c=f.a=(e.b+f.b)/2,f.c=g.a=(l+m)/2,g.b=m-n,h.b=k+(d-k)/4,g.c=h.a=(g.b+h.b)/2,[e,f,g,h]},j=function(a,c,f,g,h){var j,k,l,m,n,o,p,q,r,s,t,u,v,w=a.length-1,x=0,y=a[0].a;for(j=0;w>j;j++)n=a[x],k=n.a,l=n.d,m=a[x+1].d,h?(t=b[j],u=d[j],v=(u+t)*c*.25/(g?.5:e[j]||.5),o=l-(l-k)*(g?.5*c:0!==t?v/t:0),p=l+(m-l)*(g?.5*c:0!==u?v/u:0),q=l-(o+((p-o)*(3*t/(t+u)+.5)/4||0))):(o=l-(l-k)*c*.5,p=l+(m-l)*c*.5,q=l-(o+p)/2),o+=q,p+=q,n.c=r=o,n.b=0!==j?y:y=n.a+.6*(n.c-n.a),n.da=l-k,n.ca=r-k,n.ba=y-k,f?(s=i(k,y,r,l),a.splice(x,1,s[0],s[1],s[2],s[3]),x+=4):x++,y=p;n=a[x],n.b=y,n.c=y+.4*(n.d-y),n.da=n.d-n.a,n.ca=n.c-n.a,n.ba=y-n.a,f&&(s=i(n.a,y,n.c,n.d),a.splice(x,1,s[0],s[1],s[2],s[3]))},k=function(a,c,e,f){var g,i,j,k,l,m,n=[];if(f)for(a=[f].concat(a),i=a.length;--i>-1;)"string"==typeof(m=a[i][c])&&"="===m.charAt(1)&&(a[i][c]=f[c]+Number(m.charAt(0)+m.substr(2)));if(0>(g=a.length-2))return n[0]=new h(a[0][c],0,0,a[0][c]),n;for(i=0;g>i;i++)j=a[i][c],k=a[i+1][c],n[i]=new h(j,0,0,k),e&&(l=a[i+2][c],b[i]=(b[i]||0)+(k-j)*(k-j),d[i]=(d[i]||0)+(l-k)*(l-k));return n[i]=new h(a[i][c],0,0,a[i+1][c]),n},l=function(a,c,g,h,i,l){var m,n,o,p,q,r,s,t,u={},v=[],w=l||a[0];i="string"==typeof i?","+i+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==c&&(c=1);for(n in a[0])v.push(n);if(a.length>1){for(t=a[a.length-1],s=!0,m=v.length;--m>-1;)if(n=v[m],Math.abs(w[n]-t[n])>.05){s=!1;break}s&&(a=a.concat(),l&&a.unshift(l),a.push(a[1]),l=a[a.length-3])}for(b.length=d.length=e.length=0,m=v.length;--m>-1;)n=v[m],f[n]=-1!==i.indexOf(","+n+","),u[n]=k(a,n,f[n],l);for(m=b.length;--m>-1;)b[m]=Math.sqrt(b[m]),d[m]=Math.sqrt(d[m]);if(!h){for(m=v.length;--m>-1;)if(f[n])for(o=u[v[m]],r=o.length-1,p=0;r>p;p++)q=o[p+1].da/d[p]+o[p].da/b[p]||0,e[p]=(e[p]||0)+q*q;for(m=e.length;--m>-1;)e[m]=Math.sqrt(e[m])}for(m=v.length,p=g?4:1;--m>-1;)n=v[m],o=u[n],j(o,c,g,h,f[n]),s&&(o.splice(0,p),o.splice(o.length-p,p));return u},m=function(a,b,c){b=b||"soft";var d,e,f,g,i,j,k,l,m,n,o,p={},q="cubic"===b?3:2,r="soft"===b,s=[];if(r&&c&&(a=[c].concat(a)),null==a||a.length<q+1)throw"invalid Bezier data";for(m in a[0])s.push(m);for(j=s.length;--j>-1;){for(m=s[j],p[m]=i=[],n=0,l=a.length,k=0;l>k;k++)d=null==c?a[k][m]:"string"==typeof(o=a[k][m])&&"="===o.charAt(1)?c[m]+Number(o.charAt(0)+o.substr(2)):Number(o),r&&k>1&&l-1>k&&(i[n++]=(d+i[n-2])/2),i[n++]=d;for(l=n-q+1,n=0,k=0;l>k;k+=q)d=i[k],e=i[k+1],f=i[k+2],g=2===q?0:i[k+3],i[n++]=o=3===q?new h(d,e,f,g):new h(d,(2*e+d)/3,(2*e+f)/3,f);i.length=n}return p},n=function(a,b,c){for(var d,e,f,g,h,i,j,k,l,m,n,o=1/c,p=a.length;--p>-1;)for(m=a[p],f=m.a,g=m.d-f,h=m.c-f,i=m.b-f,d=e=0,k=1;c>=k;k++)j=o*k,l=1-j,d=e-(e=(j*j*g+3*l*(j*h+l*i))*j),n=p*c+k-1,b[n]=(b[n]||0)+d*d},o=function(a,b){b=b>>0||6;var c,d,e,f,g=[],h=[],i=0,j=0,k=b-1,l=[],m=[];for(c in a)n(a[c],g,b);for(e=g.length,d=0;e>d;d++)i+=Math.sqrt(g[d]),f=d%b,m[f]=i,f===k&&(j+=i,f=d/b>>0,l[f]=m,h[f]=j,i=0,m=[]);return{length:j,lengths:h,segments:l}},p=c._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(a,b,c){this._target=a,b instanceof Array&&(b={values:b}),this._func={},this._mod={},this._props=[],this._timeRes=null==b.timeResolution?6:parseInt(b.timeResolution,10);var d,e,f,g,h,i=b.values||[],j={},k=i[0],n=b.autoRotate||c.vars.orientToBezier;this._autoRotate=n?n instanceof Array?n:[["x","y","rotation",!0===n?0:Number(n)||0]]:null;for(d in k)this._props.push(d);for(f=this._props.length;--f>-1;)d=this._props[f],this._overwriteProps.push(d),e=this._func[d]="function"==typeof a[d],j[d]=e?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]():parseFloat(a[d]),h||j[d]!==i[0][d]&&(h=j);if(this._beziers="cubic"!==b.type&&"quadratic"!==b.type&&"soft"!==b.type?l(i,isNaN(b.curviness)?1:b.curviness,!1,"thruBasic"===b.type,b.correlate,h):m(i,b.type,j),this._segCount=this._beziers[d].length,this._timeRes){var p=o(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(n=this._autoRotate)for(this._initialRotations=[],n[0]instanceof Array||(this._autoRotate=n=[n]),f=n.length;--f>-1;){for(g=0;3>g;g++)d=n[f][g],this._func[d]="function"==typeof a[d]&&a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)];d=n[f][2],this._initialRotations[f]=(this._func[d]?this._func[d].call(this._target):this._target[d])||0,this._overwriteProps.push(d)}return this._startRatio=c.vars.runBackwards?1:0,!0},set:function(b){var c,d,e,f,g,h,i,j,k,l,m=this._segCount,n=this._func,o=this._target,p=b!==this._startRatio;if(this._timeRes){if(k=this._lengths,l=this._curSeg,b*=this._length,e=this._li,b>this._l2&&m-1>e){for(j=m-1;j>e&&(this._l2=k[++e])<=b;);this._l1=k[e-1],this._li=e,this._curSeg=l=this._segments[e],this._s2=l[this._s1=this._si=0]}else if(b<this._l1&&e>0){for(;e>0&&(this._l1=k[--e])>=b;);0===e&&b<this._l1?this._l1=0:e++,this._l2=k[e],this._li=e,this._curSeg=l=this._segments[e],this._s1=l[(this._si=l.length-1)-1]||0,this._s2=l[this._si]}if(c=e,b-=this._l1,e=this._si,b>this._s2&&e<l.length-1){for(j=l.length-1;j>e&&(this._s2=l[++e])<=b;);this._s1=l[e-1],this._si=e}else if(b<this._s1&&e>0){for(;e>0&&(this._s1=l[--e])>=b;);0===e&&b<this._s1?this._s1=0:e++,this._s2=l[e],this._si=e}h=(e+(b-this._s1)/(this._s2-this._s1))*this._prec||0}else c=0>b?0:b>=1?m-1:m*b>>0,h=(b-c*(1/m))*m;for(d=1-h,e=this._props.length;--e>-1;)f=this._props[e],g=this._beziers[f][c],i=(h*h*g.da+3*d*(h*g.ca+d*g.ba))*h+g.a,this._mod[f]&&(i=this._mod[f](i,o)),n[f]?o[f](i):o[f]=i;if(this._autoRotate){var q,r,s,t,u,v,w,x=this._autoRotate;for(e=x.length;--e>-1;)f=x[e][2],v=x[e][3]||0,w=!0===x[e][4]?1:a,g=this._beziers[x[e][0]],q=this._beziers[x[e][1]],g&&q&&(g=g[c],q=q[c],r=g.a+(g.b-g.a)*h,t=g.b+(g.c-g.b)*h,r+=(t-r)*h,t+=(g.c+(g.d-g.c)*h-t)*h,s=q.a+(q.b-q.a)*h,u=q.b+(q.c-q.b)*h,s+=(u-s)*h,u+=(q.c+(q.d-q.c)*h-u)*h,i=p?Math.atan2(u-s,t-r)*w+v:this._initialRotations[e],this._mod[f]&&(i=this._mod[f](i,o)),n[f]?o[f](i):o[f]=i)}}}),q=p.prototype;p.bezierThrough=l,p.cubicToQuadratic=i,p._autoCSS=!0,p.quadraticToCubic=function(a,b,c){return new h(a,(2*b+a)/3,(2*b+c)/3,c)},p._cssRegister=function(){var a=g.CSSPlugin;if(a){var b=a._internals,c=b._parseToProxy,d=b._setPluginRatio,e=b.CSSPropTween;b._registerComplexSpecialProp("bezier",{parser:function(a,b,f,g,h,i){b instanceof Array&&(b={values:b}),i=new p;var j,k,l,m=b.values,n=m.length-1,o=[],q={};if(0>n)return h;for(j=0;n>=j;j++)l=c(a,m[j],g,h,i,n!==j),o[j]=l.end;for(k in b)q[k]=b[k];return q.values=o,h=new e(a,"bezier",0,0,l.pt,2),h.data=l,h.plugin=i,h.setRatio=d,0===q.autoRotate&&(q.autoRotate=!0),!q.autoRotate||q.autoRotate instanceof Array||(j=!0===q.autoRotate?0:Number(q.autoRotate),q.autoRotate=null!=l.end.left?[["left","top","rotation",j,!1]]:null!=l.end.x&&[["x","y","rotation",j,!1]]),q.autoRotate&&(g._transform||g._enableTransforms(!1),l.autoRotate=g._target._gsTransform,l.proxy.rotation=l.autoRotate.rotation||0,g._overwriteProps.push("rotation")),i._onInitTween(l.proxy,q,g._tween),h}})}},q._mod=function(a){for(var b,c=this._overwriteProps,d=c.length;--d>-1;)(b=a[c[d]])&&"function"==typeof b&&(this._mod[c[d]]=b)},q._kill=function(a){var b,c,d=this._props;for(b in this._beziers)if(b in a)for(delete this._beziers[b],delete this._func[b],c=d.length;--c>-1;)d[c]===b&&d.splice(c,1);if(d=this._autoRotate)for(c=d.length;--c>-1;)a[d[c][2]]&&d.splice(c,1);return this._super._kill.call(this,a)}}(),c._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(a,b){var d,e,f,g,h=function(){a.call(this,"css"),this._overwriteProps.length=0,this.setRatio=h.prototype.setRatio},i=c._gsDefine.globals,j={},k=h.prototype=new a("css");k.constructor=h,h.version="1.20.5",h.API=2,h.defaultTransformPerspective=0,h.defaultSkewType="compensated",h.defaultSmoothOrigin=!0,k="px",h.suffixMap={top:k,right:k,bottom:k,left:k,width:k,height:k,fontSize:k,padding:k,margin:k,perspective:k,lineHeight:""};var l,m,n,o,p,q,r,s,t=/(?:\-|\.|\b)(\d|\.|e\-)+/g,u=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,v=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,w=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,x=/(?:\d|\-|\+|=|#|\.)*/g,y=/opacity *= *([^)]*)/i,z=/opacity:([^;]*)/i,A=/alpha\(opacity *=.+?\)/i,B=/^(rgb|hsl)/,C=/([A-Z])/g,D=/-([a-z])/gi,E=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,F=function(a,b){return b.toUpperCase()},G=/(?:Left|Right|Width)/i,H=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,I=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,J=/,(?=[^\)]*(?:\(|$))/gi,K=/[\s,\(]/i,L=Math.PI/180,M=180/Math.PI,N={},O={style:{}},P=c.document||{createElement:function(){return O}},Q=function(a,b){return P.createElementNS?P.createElementNS(b||"http://www.w3.org/1999/xhtml",a):P.createElement(a)},R=Q("div"),S=Q("img"),T=h._internals={_specialProps:j},U=(c.navigator||{}).userAgent||"",V=function(){var a=U.indexOf("Android"),b=Q("a");return n=-1!==U.indexOf("Safari")&&-1===U.indexOf("Chrome")&&(-1===a||parseFloat(U.substr(a+8,2))>3),p=n&&parseFloat(U.substr(U.indexOf("Version/")+8,2))<6,o=-1!==U.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(U)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(U))&&(q=parseFloat(RegExp.$1)),!!b&&(b.style.cssText="top:1px;opacity:.55;",/^0.55/.test(b.style.opacity))}(),W=function(a){return y.test("string"==typeof a?a:(a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},X=function(a){c.console},Y="",Z="",$=function(a,b){b=b||R;var c,d,e=b.style;if(void 0!==e[a])return a;for(a=a.charAt(0).toUpperCase()+a.substr(1),c=["O","Moz","ms","Ms","Webkit"],d=5;--d>-1&&void 0===e[c[d]+a];);return d>=0?(Z=3===d?"ms":c[d],Y="-"+Z.toLowerCase()+"-",Z+a):null},_=("undefined"!=typeof window?window:P.defaultView||{getComputedStyle:function(){}}).getComputedStyle,aa=h.getStyle=function(a,b,c,d,e){var f;return V||"opacity"!==b?(!d&&a.style[b]?f=a.style[b]:(c=c||_(a))?f=c[b]||c.getPropertyValue(b)||c.getPropertyValue(b.replace(C,"-$1").toLowerCase()):a.currentStyle&&(f=a.currentStyle[b]),null==e||f&&"none"!==f&&"auto"!==f&&"auto auto"!==f?f:e):W(a)},ba=T.convertToPixels=function(a,c,d,e,f){if("px"===e||!e&&"lineHeight"!==c)return d;if("auto"===e||!d)return 0;var g,i,j,k=G.test(c),l=a,m=R.style,n=0>d,o=1===d;if(n&&(d=-d),o&&(d*=100),"lineHeight"!==c||e)if("%"===e&&-1!==c.indexOf("border"))g=d/100*(k?a.clientWidth:a.clientHeight);else{if(m.cssText="border:0 solid red;position:"+aa(a,"position")+";line-height:0;","%"!==e&&l.appendChild&&"v"!==e.charAt(0)&&"rem"!==e)m[k?"borderLeftWidth":"borderTopWidth"]=d+e;else{if(l=a.parentNode||P.body,-1!==aa(l,"display").indexOf("flex")&&(m.position="absolute"),i=l._gsCache,j=b.ticker.frame,i&&k&&i.time===j)return i.width*d/100;m[k?"width":"height"]=d+e}l.appendChild(R),g=parseFloat(R[k?"offsetWidth":"offsetHeight"]),l.removeChild(R),k&&"%"===e&&!1!==h.cacheWidths&&(i=l._gsCache=l._gsCache||{},i.time=j,i.width=g/d*100),0!==g||f||(g=ba(a,c,d,e,!0))}else i=_(a).lineHeight,a.style.lineHeight=d,g=parseFloat(_(a).lineHeight),a.style.lineHeight=i;return o&&(g/=100),n?-g:g},ca=T.calculateOffset=function(a,b,c){if("absolute"!==aa(a,"position",c))return 0;var d="left"===b?"Left":"Top",e=aa(a,"margin"+d,c);return a["offset"+d]-(ba(a,b,parseFloat(e),e.replace(x,""))||0)},da=function(a,b){var c,d,e,f={};if(b=b||_(a,null))if(c=b.length)for(;--c>-1;)e=b[c],(-1===e.indexOf("-transform")||Ea===e)&&(f[e.replace(D,F)]=b.getPropertyValue(e));else for(c in b)(-1===c.indexOf("Transform")||Da===c)&&(f[c]=b[c]);else if(b=a.currentStyle||a.style)for(c in b)"string"==typeof c&&void 0===f[c]&&(f[c.replace(D,F)]=b[c]);return V||(f.opacity=W(a)),d=Sa(a,b,!1),f.rotation=d.rotation,f.skewX=d.skewX,f.scaleX=d.scaleX,f.scaleY=d.scaleY,f.x=d.x,f.y=d.y,Ga&&(f.z=d.z,f.rotationX=d.rotationX,f.rotationY=d.rotationY,f.scaleZ=d.scaleZ),f.filters&&delete f.filters,f},ea=function(a,b,c,d,e){var f,g,h,i={},j=a.style;for(g in c)"cssText"!==g&&"length"!==g&&isNaN(g)&&(b[g]!==(f=c[g])||e&&e[g])&&-1===g.indexOf("Origin")&&("number"==typeof f||"string"==typeof f)&&(i[g]="auto"!==f||"left"!==g&&"top"!==g?""!==f&&"auto"!==f&&"none"!==f||"string"!=typeof b[g]||""===b[g].replace(w,"")?f:0:ca(a,g),void 0!==j[g]&&(h=new ta(j,g,j[g],h)));if(d)for(g in d)"className"!==g&&(i[g]=d[g]);return{difs:i,firstMPT:h}},fa={width:["Left","Right"],height:["Top","Bottom"]},ga=["marginLeft","marginRight","marginTop","marginBottom"],ha=function(a,b,c){if("svg"===(a.nodeName+"").toLowerCase())return(c||_(a))[b]||0;if(a.getCTM&&Pa(a))return a.getBBox()[b]||0;var d=parseFloat("width"===b?a.offsetWidth:a.offsetHeight),e=fa[b],f=e.length;for(c=c||_(a,null);--f>-1;)d-=parseFloat(aa(a,"padding"+e[f],c,!0))||0,d-=parseFloat(aa(a,"border"+e[f]+"Width",c,!0))||0;return d},ia=function(a,b){if("contain"===a||"auto"===a||"auto auto"===a)return a+" ";(null==a||""===a)&&(a="0 0");var c,d=a.split(" "),e=-1!==a.indexOf("left")?"0%":-1!==a.indexOf("right")?"100%":d[0],f=-1!==a.indexOf("top")?"0%":-1!==a.indexOf("bottom")?"100%":d[1];if(d.length>3&&!b){for(d=a.split(", ").join(",").split(","),a=[],c=0;c<d.length;c++)a.push(ia(d[c]));return a.join(",")}return null==f?f="center"===e?"50%":"0":"center"===f&&(f="50%"),("center"===e||isNaN(parseFloat(e))&&-1===(e+"").indexOf("="))&&(e="50%"),a=e+" "+f+(d.length>2?" "+d[2]:""),b&&(b.oxp=-1!==e.indexOf("%"),b.oyp=-1!==f.indexOf("%"),b.oxr="="===e.charAt(1),b.oyr="="===f.charAt(1),b.ox=parseFloat(e.replace(w,"")),b.oy=parseFloat(f.replace(w,"")),b.v=a),b||a},ja=function(a,b){return"function"==typeof a&&(a=a(s,r)),"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-parseFloat(b)||0},ka=function(a,b){return"function"==typeof a&&(a=a(s,r)),null==a?b:"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2))+b:parseFloat(a)||0},la=function(a,b,c,d){var e,f,g,h,i;return"function"==typeof a&&(a=a(s,r)),null==a?h=b:"number"==typeof a?h=a:(e=360,f=a.split("_"),i="="===a.charAt(1),g=(i?parseInt(a.charAt(0)+"1",10)*parseFloat(f[0].substr(2)):parseFloat(f[0]))*(-1===a.indexOf("rad")?1:M)-(i?0:b),f.length&&(d&&(d[c]=b+g),-1!==a.indexOf("short")&&(g%=e)!==g%(e/2)&&(g=0>g?g+e:g-e),-1!==a.indexOf("_cw")&&0>g?g=(g+9999999999*e)%e-(g/e|0)*e:-1!==a.indexOf("ccw")&&g>0&&(g=(g-9999999999*e)%e-(g/e|0)*e)),h=b+g),1e-6>h&&h>-1e-6&&(h=0),h},ma={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},na=function(a,b,c){return a=0>a?a+1:a>1?a-1:a,255*(1>6*a?b+(c-b)*a*6:.5>a?c:2>3*a?b+(c-b)*(2/3-a)*6:b)+.5|0},oa=h.parseColor=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(a)if("number"==typeof a)c=[a>>16,a>>8&255,255&a];else{if(","===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),ma[a])c=ma[a];else if("#"===a.charAt(0))4===a.length&&(d=a.charAt(1),e=a.charAt(2),f=a.charAt(3),a="#"+d+d+e+e+f+f),a=parseInt(a.substr(1),16),c=[a>>16,a>>8&255,255&a];else if("hsl"===a.substr(0,3))if(c=m=a.match(t),b){if(-1!==a.indexOf("="))return a.match(u)}else g=Number(c[0])%360/360,h=Number(c[1])/100,i=Number(c[2])/100,e=.5>=i?i*(h+1):i+h-i*h,d=2*i-e,c.length>3&&(c[3]=Number(c[3])),c[0]=na(g+1/3,d,e),c[1]=na(g,d,e),c[2]=na(g-1/3,d,e);else c=a.match(t)||ma.transparent;c[0]=Number(c[0]),c[1]=Number(c[1]),c[2]=Number(c[2]),c.length>3&&(c[3]=Number(c[3]))}else c=ma.black;return b&&!m&&(d=c[0]/255,e=c[1]/255,f=c[2]/255,j=Math.max(d,e,f),k=Math.min(d,e,f),i=(j+k)/2,j===k?g=h=0:(l=j-k,h=i>.5?l/(2-j-k):l/(j+k),g=j===d?(e-f)/l+(f>e?6:0):j===e?(f-d)/l+2:(d-e)/l+4,g*=60),c[0]=g+.5|0,c[1]=100*h+.5|0,c[2]=100*i+.5|0),c},pa=function(a,b){var c,d,e,f=a.match(qa)||[],g=0,h="";if(!f.length)return a;for(c=0;c<f.length;c++)d=f[c],e=a.substr(g,a.indexOf(d,g)-g),g+=e.length+d.length,d=oa(d,b),3===d.length&&d.push(1),h+=e+(b?"hsla("+d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:"rgba("+d.join(","))+")";return h+a.substr(g)},qa="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(k in ma)qa+="|"+k+"\\b";qa=new RegExp(qa+")","gi"),h.colorStringFilter=function(a){var b,c=a[0]+" "+a[1];qa.test(c)&&(b=-1!==c.indexOf("hsl(")||-1!==c.indexOf("hsla("),a[0]=pa(a[0],b),a[1]=pa(a[1],b)),qa.lastIndex=0},b.defaultStringFilter||(b.defaultStringFilter=h.colorStringFilter);var ra=function(a,b,c,d){if(null==a)return function(a){return a};var e,f=b?(a.match(qa)||[""])[0]:"",g=a.split(f).join("").match(v)||[],h=a.substr(0,a.indexOf(g[0])),i=")"===a.charAt(a.length-1)?")":"",j=-1!==a.indexOf(" ")?" ":",",k=g.length,l=k>0?g[0].replace(t,""):"";return k?e=b?function(a){var b,m,n,o;if("number"==typeof a)a+=l;else if(d&&J.test(a)){for(o=a.replace(J,"|").split("|"),n=0;n<o.length;n++)o[n]=e(o[n]);return o.join(",")}if(b=(a.match(qa)||[f])[0],m=a.split(b).join("").match(v)||[],n=m.length,k>n--)for(;++n<k;)m[n]=c?m[(n-1)/2|0]:g[n];return h+m.join(j)+j+b+i+(-1!==a.indexOf("inset")?" inset":"")}:function(a){var b,f,m
;if("number"==typeof a)a+=l;else if(d&&J.test(a)){for(f=a.replace(J,"|").split("|"),m=0;m<f.length;m++)f[m]=e(f[m]);return f.join(",")}if(b=a.match(v)||[],m=b.length,k>m--)for(;++m<k;)b[m]=c?b[(m-1)/2|0]:g[m];return h+b.join(j)+i}:function(a){return a}},sa=function(a){return a=a.split(","),function(b,c,d,e,f,g,h){var i,j=(c+"").split(" ");for(h={},i=0;4>i;i++)h[a[i]]=j[i]=j[i]||j[(i-1)/2>>0];return e.parse(b,h,f,g)}},ta=(T._setPluginRatio=function(a){this.plugin.setRatio(a);for(var b,c,d,e,f,g=this.data,h=g.proxy,i=g.firstMPT;i;)b=h[i.v],i.r?b=i.r(b):1e-6>b&&b>-1e-6&&(b=0),i.t[i.p]=b,i=i._next;if(g.autoRotate&&(g.autoRotate.rotation=g.mod?g.mod.call(this._tween,h.rotation,this.t,this._tween):h.rotation),1===a||0===a)for(i=g.firstMPT,f=1===a?"e":"b";i;){if(c=i.t,c.type){if(1===c.type){for(e=c.xs0+c.s+c.xs1,d=1;d<c.l;d++)e+=c["xn"+d]+c["xs"+(d+1)];c[f]=e}}else c[f]=c.s+c.xs0;i=i._next}},function(a,b,c,d,e){this.t=a,this.p=b,this.v=c,this.r=e,d&&(d._prev=this,this._next=d)}),ua=(T._parseToProxy=function(a,b,c,d,e,f){var g,h,i,j,k,l=d,m={},n={},o=c._transform,p=N;for(c._transform=null,N=b,d=k=c.parse(a,b,d,e),N=p,f&&(c._transform=o,l&&(l._prev=null,l._prev&&(l._prev._next=null)));d&&d!==l;){if(d.type<=1&&(h=d.p,n[h]=d.s+d.c,m[h]=d.s,f||(j=new ta(d,"s",h,j,d.r),d.c=0),1===d.type))for(g=d.l;--g>0;)i="xn"+g,h=d.p+"_"+i,n[h]=d.data[i],m[h]=d[i],f||(j=new ta(d,i,h,j,d.rxp[i]));d=d._next}return{proxy:m,end:n,firstMPT:j,pt:k}},T.CSSPropTween=function(a,b,c,e,f,h,i,j,k,l,m){this.t=a,this.p=b,this.s=c,this.c=e,this.n=i||b,a instanceof ua||g.push(this.n),this.r=j?"function"==typeof j?j:Math.round:j,this.type=h||0,k&&(this.pr=k,d=!0),this.b=void 0===l?c:l,this.e=void 0===m?c+e:m,f&&(this._next=f,f._prev=this)}),va=function(a,b,c,d,e,f){var g=new ua(a,b,c,d-c,e,-1,f);return g.b=c,g.e=g.xs0=d,g},wa=h.parseComplex=function(a,b,c,d,e,f,g,i,j,k){c=c||f||"","function"==typeof d&&(d=d(s,r)),g=new ua(a,b,0,0,g,k?2:1,null,!1,i,c,d),d+="",e&&qa.test(d+c)&&(d=[c,d],h.colorStringFilter(d),c=d[0],d=d[1]);var m,n,o,p,q,v,w,x,y,z,A,B,C,D=c.split(", ").join(",").split(" "),E=d.split(", ").join(",").split(" "),F=D.length,G=!1!==l;for((-1!==d.indexOf(",")||-1!==c.indexOf(","))&&(-1!==(d+c).indexOf("rgb")||-1!==(d+c).indexOf("hsl")?(D=D.join(" ").replace(J,", ").split(" "),E=E.join(" ").replace(J,", ").split(" ")):(D=D.join(" ").split(",").join(", ").split(" "),E=E.join(" ").split(",").join(", ").split(" ")),F=D.length),F!==E.length&&(D=(f||"").split(" "),F=D.length),g.plugin=j,g.setRatio=k,qa.lastIndex=0,m=0;F>m;m++)if(p=D[m],q=E[m]+"",(x=parseFloat(p))||0===x)g.appendXtra("",x,ja(q,x),q.replace(u,""),!(!G||-1===q.indexOf("px"))&&Math.round,!0);else if(e&&qa.test(p))B=q.indexOf(")")+1,B=")"+(B?q.substr(B):""),C=-1!==q.indexOf("hsl")&&V,z=q,p=oa(p,C),q=oa(q,C),y=p.length+q.length>6,y&&!V&&0===q[3]?(g["xs"+g.l]+=g.l?" transparent":"transparent",g.e=g.e.split(E[m]).join("transparent")):(V||(y=!1),C?g.appendXtra(z.substr(0,z.indexOf("hsl"))+(y?"hsla(":"hsl("),p[0],ja(q[0],p[0]),",",!1,!0).appendXtra("",p[1],ja(q[1],p[1]),"%,",!1).appendXtra("",p[2],ja(q[2],p[2]),y?"%,":"%"+B,!1):g.appendXtra(z.substr(0,z.indexOf("rgb"))+(y?"rgba(":"rgb("),p[0],q[0]-p[0],",",Math.round,!0).appendXtra("",p[1],q[1]-p[1],",",Math.round).appendXtra("",p[2],q[2]-p[2],y?",":B,Math.round),y&&(p=p.length<4?1:p[3],g.appendXtra("",p,(q.length<4?1:q[3])-p,B,!1))),qa.lastIndex=0;else if(v=p.match(t)){if(!(w=q.match(u))||w.length!==v.length)return g;for(o=0,n=0;n<v.length;n++)A=v[n],z=p.indexOf(A,o),g.appendXtra(p.substr(o,z-o),Number(A),ja(w[n],A),"",!(!G||"px"!==p.substr(z+A.length,2))&&Math.round,0===n),o=z+A.length;g["xs"+g.l]+=p.substr(o)}else g["xs"+g.l]+=g.l||g["xs"+g.l]?" "+q:q;if(-1!==d.indexOf("=")&&g.data){for(B=g.xs0+g.data.s,m=1;m<g.l;m++)B+=g["xs"+m]+g.data["xn"+m];g.e=B+g["xs"+m]}return g.l||(g.type=-1,g.xs0=g.e),g.xfirst||g},xa=9;for(k=ua.prototype,k.l=k.pr=0;--xa>0;)k["xn"+xa]=0,k["xs"+xa]="";k.xs0="",k._next=k._prev=k.xfirst=k.data=k.plugin=k.setRatio=k.rxp=null,k.appendXtra=function(a,b,c,d,e,f){var g=this,h=g.l;return g["xs"+h]+=f&&(h||g["xs"+h])?" "+a:a||"",c||0===h||g.plugin?(g.l++,g.type=g.setRatio?2:1,g["xs"+g.l]=d||"",h>0?(g.data["xn"+h]=b+c,g.rxp["xn"+h]=e,g["xn"+h]=b,g.plugin||(g.xfirst=new ua(g,"xn"+h,b,c,g.xfirst||g,0,g.n,e,g.pr),g.xfirst.xs0=0),g):(g.data={s:b+c},g.rxp={},g.s=b,g.c=c,g.r=e,g)):(g["xs"+h]+=b+(d||""),g)};var ya=function(a,b){b=b||{},this.p=b.prefix?$(a)||a:a,j[a]=j[this.p]=this,this.format=b.formatter||ra(b.defaultValue,b.color,b.collapsible,b.multi),b.parser&&(this.parse=b.parser),this.clrs=b.color,this.multi=b.multi,this.keyword=b.keyword,this.dflt=b.defaultValue,this.pr=b.priority||0},za=T._registerComplexSpecialProp=function(a,b,c){"object"!=typeof b&&(b={parser:c});var d,e=a.split(","),f=b.defaultValue;for(c=c||[f],d=0;d<e.length;d++)b.prefix=0===d&&b.prefix,b.defaultValue=c[d]||f,new ya(e[d],b)},Aa=T._registerPluginProp=function(a){if(!j[a]){var b=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";za(a,{parser:function(a,c,d,e,f,g,h){var k=i.com.greensock.plugins[b];return k?(k._cssRegister(),j[d].parse(a,c,d,e,f,g,h)):(X(),f)}})}};k=ya.prototype,k.parseComplex=function(a,b,c,d,e,f){var g,h,i,j,k,l,m=this.keyword;if(this.multi&&(J.test(c)||J.test(b)?(h=b.replace(J,"|").split("|"),i=c.replace(J,"|").split("|")):m&&(h=[b],i=[c])),i){for(j=i.length>h.length?i.length:h.length,g=0;j>g;g++)b=h[g]=h[g]||this.dflt,c=i[g]=i[g]||this.dflt,m&&(k=b.indexOf(m),l=c.indexOf(m),k!==l&&(-1===l?h[g]=h[g].split(m).join(""):-1===k&&(h[g]+=" "+m)));b=h.join(", "),c=i.join(", ")}return wa(a,this.p,b,c,this.clrs,this.dflt,d,this.pr,e,f)},k.parse=function(a,b,c,d,e,g,h){return this.parseComplex(a.style,this.format(aa(a,this.p,f,!1,this.dflt)),this.format(b),e,g)},h.registerSpecialProp=function(a,b,c){za(a,{parser:function(a,d,e,f,g,h,i){var j=new ua(a,e,0,0,g,2,e,!1,c);return j.plugin=h,j.setRatio=b(a,d,f._tween,e),j},priority:c})},h.useSVGTransformAttr=!0;var Ba,Ca="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Da=$("transform"),Ea=Y+"transform",Fa=$("transformOrigin"),Ga=null!==$("perspective"),Ha=T.Transform=function(){this.perspective=parseFloat(h.defaultTransformPerspective)||0,this.force3D=!(!1===h.defaultForce3D||!Ga)&&(h.defaultForce3D||"auto")},Ia=c.SVGElement,Ja=function(a,b,c){var d,e=P.createElementNS("http://www.w3.org/2000/svg",a),f=/([a-z])([A-Z])/g;for(d in c)e.setAttributeNS(null,d.replace(f,"$1-$2").toLowerCase(),c[d]);return b.appendChild(e),e},Ka=P.documentElement||{},La=function(){var a,b,d,e=q||/Android/i.test(U)&&!c.chrome;return P.createElementNS&&!e&&(a=Ja("svg",Ka),b=Ja("rect",a,{width:100,height:50,x:100}),d=b.getBoundingClientRect().width,b.style[Fa]="50% 50%",b.style[Da]="scaleX(0.5)",e=d===b.getBoundingClientRect().width&&!(o&&Ga),Ka.removeChild(a)),e}(),Ma=function(a,b,c,d,e,f){var g,i,j,k,l,m,n,o,p,q,r,s,t,u,v=a._gsTransform,w=Ra(a,!0);v&&(t=v.xOrigin,u=v.yOrigin),(!d||(g=d.split(" ")).length<2)&&(n=a.getBBox(),0===n.x&&0===n.y&&n.width+n.height===0&&(n={x:parseFloat(a.hasAttribute("x")?a.getAttribute("x"):a.hasAttribute("cx")?a.getAttribute("cx"):0)||0,y:parseFloat(a.hasAttribute("y")?a.getAttribute("y"):a.hasAttribute("cy")?a.getAttribute("cy"):0)||0,width:0,height:0}),b=ia(b).split(" "),g=[(-1!==b[0].indexOf("%")?parseFloat(b[0])/100*n.width:parseFloat(b[0]))+n.x,(-1!==b[1].indexOf("%")?parseFloat(b[1])/100*n.height:parseFloat(b[1]))+n.y]),c.xOrigin=k=parseFloat(g[0]),c.yOrigin=l=parseFloat(g[1]),d&&w!==Qa&&(m=w[0],n=w[1],o=w[2],p=w[3],q=w[4],r=w[5],(s=m*p-n*o)&&(i=k*(p/s)+l*(-o/s)+(o*r-p*q)/s,j=k*(-n/s)+l*(m/s)-(m*r-n*q)/s,k=c.xOrigin=g[0]=i,l=c.yOrigin=g[1]=j)),v&&(f&&(c.xOffset=v.xOffset,c.yOffset=v.yOffset,v=c),e||!1!==e&&!1!==h.defaultSmoothOrigin?(i=k-t,j=l-u,v.xOffset+=i*w[0]+j*w[2]-i,v.yOffset+=i*w[1]+j*w[3]-j):v.xOffset=v.yOffset=0),f||a.setAttribute("data-svg-origin",g.join(" "))},Na=function(a){var b,c=Q("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),d=this.parentNode,e=this.nextSibling,f=this.style.cssText;if(Ka.appendChild(c),c.appendChild(this),this.style.display="block",a)try{b=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Na}catch(a){}else this._originalGetBBox&&(b=this._originalGetBBox());return e?d.insertBefore(this,e):d.appendChild(this),Ka.removeChild(c),this.style.cssText=f,b},Oa=function(a){try{return a.getBBox()}catch(b){return Na.call(a,!0)}},Pa=function(a){return!(!Ia||!a.getCTM||a.parentNode&&!a.ownerSVGElement||!Oa(a))},Qa=[1,0,0,1,0,0],Ra=function(a,b){var c,d,e,f,g,h,i=a._gsTransform||new Ha,j=a.style;if(Da?d=aa(a,Ea,null,!0):a.currentStyle&&(d=a.currentStyle.filter.match(H),d=d&&4===d.length?[d[0].substr(4),Number(d[2].substr(4)),Number(d[1].substr(4)),d[3].substr(4),i.x||0,i.y||0].join(","):""),c=!d||"none"===d||"matrix(1, 0, 0, 1, 0, 0)"===d,!Da||!(h=!_(a)||"none"===_(a).display)&&a.parentNode||(h&&(f=j.display,j.display="block"),a.parentNode||(g=1,Ka.appendChild(a)),d=aa(a,Ea,null,!0),c=!d||"none"===d||"matrix(1, 0, 0, 1, 0, 0)"===d,f?j.display=f:h&&Wa(j,"display"),g&&Ka.removeChild(a)),(i.svg||a.getCTM&&Pa(a))&&(c&&-1!==(j[Da]+"").indexOf("matrix")&&(d=j[Da],c=0),e=a.getAttribute("transform"),c&&e&&(e=a.transform.baseVal.consolidate().matrix,d="matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")",c=0)),c)return Qa;for(e=(d||"").match(t)||[],xa=e.length;--xa>-1;)f=Number(e[xa]),e[xa]=(g=f-(f|=0))?(1e5*g+(0>g?-.5:.5)|0)/1e5+f:f;return b&&e.length>6?[e[0],e[1],e[4],e[5],e[12],e[13]]:e},Sa=T.getTransform=function(a,c,d,e){if(a._gsTransform&&d&&!e)return a._gsTransform;var f,g,i,j,k,l,m=d?a._gsTransform||new Ha:new Ha,n=m.scaleX<0,o=2e-5,p=1e5,q=Ga?parseFloat(aa(a,Fa,c,!1,"0 0 0").split(" ")[2])||m.zOrigin||0:0,r=parseFloat(h.defaultTransformPerspective)||0;if(m.svg=!(!a.getCTM||!Pa(a)),m.svg&&(Ma(a,aa(a,Fa,c,!1,"50% 50%")+"",m,a.getAttribute("data-svg-origin")),Ba=h.useSVGTransformAttr||La),(f=Ra(a))!==Qa){if(16===f.length){var s,t,u,v,w,x=f[0],y=f[1],z=f[2],A=f[3],B=f[4],C=f[5],D=f[6],E=f[7],F=f[8],G=f[9],H=f[10],I=f[12],J=f[13],K=f[14],L=f[11],N=Math.atan2(D,H);m.zOrigin&&(K=-m.zOrigin,I=F*K-f[12],J=G*K-f[13],K=H*K+m.zOrigin-f[14]),m.rotationX=N*M,N&&(v=Math.cos(-N),w=Math.sin(-N),s=B*v+F*w,t=C*v+G*w,u=D*v+H*w,F=B*-w+F*v,G=C*-w+G*v,H=D*-w+H*v,L=E*-w+L*v,B=s,C=t,D=u),N=Math.atan2(-z,H),m.rotationY=N*M,N&&(v=Math.cos(-N),w=Math.sin(-N),s=x*v-F*w,t=y*v-G*w,u=z*v-H*w,G=y*w+G*v,H=z*w+H*v,L=A*w+L*v,x=s,y=t,z=u),N=Math.atan2(y,x),m.rotation=N*M,N&&(v=Math.cos(N),w=Math.sin(N),s=x*v+y*w,t=B*v+C*w,u=F*v+G*w,y=y*v-x*w,C=C*v-B*w,G=G*v-F*w,x=s,B=t,F=u),m.rotationX&&Math.abs(m.rotationX)+Math.abs(m.rotation)>359.9&&(m.rotationX=m.rotation=0,m.rotationY=180-m.rotationY),N=Math.atan2(B,C),m.scaleX=(Math.sqrt(x*x+y*y+z*z)*p+.5|0)/p,m.scaleY=(Math.sqrt(C*C+D*D)*p+.5|0)/p,m.scaleZ=(Math.sqrt(F*F+G*G+H*H)*p+.5|0)/p,x/=m.scaleX,B/=m.scaleY,y/=m.scaleX,C/=m.scaleY,Math.abs(N)>o?(m.skewX=N*M,B=0,"simple"!==m.skewType&&(m.scaleY*=1/Math.cos(N))):m.skewX=0,m.perspective=L?1/(0>L?-L:L):0,m.x=I,m.y=J,m.z=K,m.svg&&(m.x-=m.xOrigin-(m.xOrigin*x-m.yOrigin*B),m.y-=m.yOrigin-(m.yOrigin*y-m.xOrigin*C))}else if(!Ga||e||!f.length||m.x!==f[4]||m.y!==f[5]||!m.rotationX&&!m.rotationY){var O=f.length>=6,P=O?f[0]:1,Q=f[1]||0,R=f[2]||0,S=O?f[3]:1;m.x=f[4]||0,m.y=f[5]||0,i=Math.sqrt(P*P+Q*Q),j=Math.sqrt(S*S+R*R),k=P||Q?Math.atan2(Q,P)*M:m.rotation||0,l=R||S?Math.atan2(R,S)*M+k:m.skewX||0,m.scaleX=i,m.scaleY=j,m.rotation=k,m.skewX=l,Ga&&(m.rotationX=m.rotationY=m.z=0,m.perspective=r,m.scaleZ=1),m.svg&&(m.x-=m.xOrigin-(m.xOrigin*P+m.yOrigin*R),m.y-=m.yOrigin-(m.xOrigin*Q+m.yOrigin*S))}Math.abs(m.skewX)>90&&Math.abs(m.skewX)<270&&(n?(m.scaleX*=-1,m.skewX+=m.rotation<=0?180:-180,m.rotation+=m.rotation<=0?180:-180):(m.scaleY*=-1,m.skewX+=m.skewX<=0?180:-180)),m.zOrigin=q;for(g in m)m[g]<o&&m[g]>-o&&(m[g]=0)}return d&&(a._gsTransform=m,m.svg&&(Ba&&a.style[Da]?b.delayedCall(.001,function(){Wa(a.style,Da)}):!Ba&&a.getAttribute("transform")&&b.delayedCall(.001,function(){a.removeAttribute("transform")}))),m},Ta=function(a){var b,c,d=this.data,e=-d.rotation*L,f=e+d.skewX*L,g=1e5,h=(Math.cos(e)*d.scaleX*g|0)/g,i=(Math.sin(e)*d.scaleX*g|0)/g,j=(Math.sin(f)*-d.scaleY*g|0)/g,k=(Math.cos(f)*d.scaleY*g|0)/g,l=this.t.style,m=this.t.currentStyle;if(m){c=i,i=-j,j=-c,b=m.filter,l.filter="";var n,o,p=this.t.offsetWidth,r=this.t.offsetHeight,s="absolute"!==m.position,t="progid:DXImageTransform.Microsoft.Matrix(M11="+h+", M12="+i+", M21="+j+", M22="+k,u=d.x+p*d.xPercent/100,v=d.y+r*d.yPercent/100;if(null!=d.ox&&(n=(d.oxp?p*d.ox*.01:d.ox)-p/2,o=(d.oyp?r*d.oy*.01:d.oy)-r/2,u+=n-(n*h+o*i),v+=o-(n*j+o*k)),s?(n=p/2,o=r/2,t+=", Dx="+(n-(n*h+o*i)+u)+", Dy="+(o-(n*j+o*k)+v)+")"):t+=", sizingMethod='auto expand')",-1!==b.indexOf("DXImageTransform.Microsoft.Matrix(")?l.filter=b.replace(I,t):l.filter=t+" "+b,(0===a||1===a)&&1===h&&0===i&&0===j&&1===k&&(s&&-1===t.indexOf("Dx=0, Dy=0")||y.test(b)&&100!==parseFloat(RegExp.$1)||-1===b.indexOf(b.indexOf("Alpha"))&&l.removeAttribute("filter")),!s){var w,z,A,B=8>q?1:-1;for(n=d.ieOffsetX||0,o=d.ieOffsetY||0,d.ieOffsetX=Math.round((p-((0>h?-h:h)*p+(0>i?-i:i)*r))/2+u),d.ieOffsetY=Math.round((r-((0>k?-k:k)*r+(0>j?-j:j)*p))/2+v),xa=0;4>xa;xa++)z=ga[xa],w=m[z],c=-1!==w.indexOf("px")?parseFloat(w):ba(this.t,z,parseFloat(w),w.replace(x,""))||0,A=c!==d[z]?2>xa?-d.ieOffsetX:-d.ieOffsetY:2>xa?n-d.ieOffsetX:o-d.ieOffsetY,l[z]=(d[z]=Math.round(c-A*(0===xa||2===xa?1:B)))+"px"}}},Ua=T.set3DTransformRatio=T.setTransformRatio=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,p,q,r,s,t,u,v,w,x,y,z=this.data,A=this.t.style,B=z.rotation,C=z.rotationX,D=z.rotationY,E=z.scaleX,F=z.scaleY,G=z.scaleZ,H=z.x,I=z.y,J=z.z,K=z.svg,M=z.perspective,N=z.force3D,O=z.skewY,P=z.skewX;if(O&&(P+=O,B+=O),((1===a||0===a)&&"auto"===N&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!N)&&!J&&!M&&!D&&!C&&1===G||Ba&&K||!Ga)return void(B||P||K?(B*=L,x=P*L,y=1e5,c=Math.cos(B)*E,f=Math.sin(B)*E,d=Math.sin(B-x)*-F,g=Math.cos(B-x)*F,x&&"simple"===z.skewType&&(b=Math.tan(x-O*L),b=Math.sqrt(1+b*b),d*=b,g*=b,O&&(b=Math.tan(O*L),b=Math.sqrt(1+b*b),c*=b,f*=b)),K&&(H+=z.xOrigin-(z.xOrigin*c+z.yOrigin*d)+z.xOffset,I+=z.yOrigin-(z.xOrigin*f+z.yOrigin*g)+z.yOffset,Ba&&(z.xPercent||z.yPercent)&&(q=this.t.getBBox(),H+=.01*z.xPercent*q.width,I+=.01*z.yPercent*q.height),q=1e-6,q>H&&H>-q&&(H=0),q>I&&I>-q&&(I=0)),u=(c*y|0)/y+","+(f*y|0)/y+","+(d*y|0)/y+","+(g*y|0)/y+","+H+","+I+")",K&&Ba?this.t.setAttribute("transform","matrix("+u):A[Da]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix(":"matrix(")+u):A[Da]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix(":"matrix(")+E+",0,0,"+F+","+H+","+I+")");if(o&&(q=1e-4,q>E&&E>-q&&(E=G=2e-5),q>F&&F>-q&&(F=G=2e-5),!M||z.z||z.rotationX||z.rotationY||(M=0)),B||P)B*=L,r=c=Math.cos(B),s=f=Math.sin(B),P&&(B-=P*L,r=Math.cos(B),s=Math.sin(B),"simple"===z.skewType&&(b=Math.tan((P-O)*L),b=Math.sqrt(1+b*b),r*=b,s*=b,z.skewY&&(b=Math.tan(O*L),b=Math.sqrt(1+b*b),c*=b,f*=b))),d=-s,g=r;else{if(!(D||C||1!==G||M||K))return void(A[Da]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) translate3d(":"translate3d(")+H+"px,"+I+"px,"+J+"px)"+(1!==E||1!==F?" scale("+E+","+F+")":""));c=g=1,d=f=0}k=1,e=h=i=j=l=m=0,n=M?-1/M:0,p=z.zOrigin,q=1e-6,v=",",w="0",B=D*L,B&&(r=Math.cos(B),s=Math.sin(B),i=-s,l=n*-s,e=c*s,h=f*s,k=r,n*=r,c*=r,f*=r),B=C*L,B&&(r=Math.cos(B),s=Math.sin(B),b=d*r+e*s,t=g*r+h*s,j=k*s,m=n*s,e=d*-s+e*r,h=g*-s+h*r,k*=r,n*=r,d=b,g=t),1!==G&&(e*=G,h*=G,k*=G,n*=G),1!==F&&(d*=F,g*=F,j*=F,m*=F),1!==E&&(c*=E,f*=E,i*=E,l*=E),(p||K)&&(p&&(H+=e*-p,I+=h*-p,J+=k*-p+p),K&&(H+=z.xOrigin-(z.xOrigin*c+z.yOrigin*d)+z.xOffset,I+=z.yOrigin-(z.xOrigin*f+z.yOrigin*g)+z.yOffset),q>H&&H>-q&&(H=w),q>I&&I>-q&&(I=w),q>J&&J>-q&&(J=0)),u=z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix3d(":"matrix3d(",u+=(q>c&&c>-q?w:c)+v+(q>f&&f>-q?w:f)+v+(q>i&&i>-q?w:i),u+=v+(q>l&&l>-q?w:l)+v+(q>d&&d>-q?w:d)+v+(q>g&&g>-q?w:g),C||D||1!==G?(u+=v+(q>j&&j>-q?w:j)+v+(q>m&&m>-q?w:m)+v+(q>e&&e>-q?w:e),u+=v+(q>h&&h>-q?w:h)+v+(q>k&&k>-q?w:k)+v+(q>n&&n>-q?w:n)+v):u+=",0,0,0,0,1,0,",u+=H+v+I+v+J+v+(M?1+-J/M:1)+")",A[Da]=u};k=Ha.prototype,k.x=k.y=k.z=k.skewX=k.skewY=k.rotation=k.rotationX=k.rotationY=k.zOrigin=k.xPercent=k.yPercent=k.xOffset=k.yOffset=0,k.scaleX=k.scaleY=k.scaleZ=1,za("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(a,b,c,d,e,g,i){if(d._lastParsedTransform===i)return e;d._lastParsedTransform=i;var j,k=i.scale&&"function"==typeof i.scale?i.scale:0;"function"==typeof i[c]&&(j=i[c],i[c]=b),k&&(i.scale=k(s,a));var l,m,n,o,p,q,t,u,v,w=a._gsTransform,x=a.style,y=Ca.length,z=i,A={},B="transformOrigin",C=Sa(a,f,!0,z.parseTransform),D=z.transform&&("function"==typeof z.transform?z.transform(s,r):z.transform);if(C.skewType=z.skewType||C.skewType||h.defaultSkewType,d._transform=C,D&&"string"==typeof D&&Da)m=R.style,m[Da]=D,m.display="block",m.position="absolute",-1!==D.indexOf("%")&&(m.width=aa(a,"width"),m.height=aa(a,"height")),P.body.appendChild(R),l=Sa(R,null,!1),"simple"===C.skewType&&(l.scaleY*=Math.cos(l.skewX*L)),C.svg&&(q=C.xOrigin,t=C.yOrigin,l.x-=C.xOffset,l.y-=C.yOffset,(z.transformOrigin||z.svgOrigin)&&(D={},Ma(a,ia(z.transformOrigin),D,z.svgOrigin,z.smoothOrigin,!0),q=D.xOrigin,t=D.yOrigin,l.x-=D.xOffset-C.xOffset,l.y-=D.yOffset-C.yOffset),(q||t)&&(u=Ra(R,!0),l.x-=q-(q*u[0]+t*u[2]),l.y-=t-(q*u[1]+t*u[3]))),P.body.removeChild(R),l.perspective||(l.perspective=C.perspective),null!=z.xPercent&&(l.xPercent=ka(z.xPercent,C.xPercent)),null!=z.yPercent&&(l.yPercent=ka(z.yPercent,C.yPercent));else if("object"==typeof z){if(l={scaleX:ka(null!=z.scaleX?z.scaleX:z.scale,C.scaleX),scaleY:ka(null!=z.scaleY?z.scaleY:z.scale,C.scaleY),scaleZ:ka(z.scaleZ,C.scaleZ),x:ka(z.x,C.x),y:ka(z.y,C.y),z:ka(z.z,C.z),xPercent:ka(z.xPercent,C.xPercent),yPercent:ka(z.yPercent,C.yPercent),perspective:ka(z.transformPerspective,C.perspective)},null!=(p=z.directionalRotation))if("object"==typeof p)for(m in p)z[m]=p[m];else z.rotation=p;"string"==typeof z.x&&-1!==z.x.indexOf("%")&&(l.x=0,l.xPercent=ka(z.x,C.xPercent)),"string"==typeof z.y&&-1!==z.y.indexOf("%")&&(l.y=0,l.yPercent=ka(z.y,C.yPercent)),l.rotation=la("rotation"in z?z.rotation:"shortRotation"in z?z.shortRotation+"_short":"rotationZ"in z?z.rotationZ:C.rotation,C.rotation,"rotation",A),Ga&&(l.rotationX=la("rotationX"in z?z.rotationX:"shortRotationX"in z?z.shortRotationX+"_short":C.rotationX||0,C.rotationX,"rotationX",A),l.rotationY=la("rotationY"in z?z.rotationY:"shortRotationY"in z?z.shortRotationY+"_short":C.rotationY||0,C.rotationY,"rotationY",A)),l.skewX=la(z.skewX,C.skewX),l.skewY=la(z.skewY,C.skewY)}for(Ga&&null!=z.force3D&&(C.force3D=z.force3D,o=!0),(n=C.force3D||C.z||C.rotationX||C.rotationY||l.z||l.rotationX||l.rotationY||l.perspective)||null==z.scale||(l.scaleZ=1);--y>-1;)v=Ca[y],((D=l[v]-C[v])>1e-6||-1e-6>D||null!=z[v]||null!=N[v])&&(o=!0,e=new ua(C,v,C[v],D,e),v in A&&(e.e=A[v]),e.xs0=0,e.plugin=g,d._overwriteProps.push(e.n));return D=z.transformOrigin,C.svg&&(D||z.svgOrigin)&&(q=C.xOffset,t=C.yOffset,Ma(a,ia(D),l,z.svgOrigin,z.smoothOrigin),e=va(C,"xOrigin",(w?C:l).xOrigin,l.xOrigin,e,B),e=va(C,"yOrigin",(w?C:l).yOrigin,l.yOrigin,e,B),(q!==C.xOffset||t!==C.yOffset)&&(e=va(C,"xOffset",w?q:C.xOffset,C.xOffset,e,B),e=va(C,"yOffset",w?t:C.yOffset,C.yOffset,e,B)),D="0px 0px"),(D||Ga&&n&&C.zOrigin)&&(Da?(o=!0,v=Fa,D=(D||aa(a,v,f,!1,"50% 50%"))+"",e=new ua(x,v,0,0,e,-1,B),e.b=x[v],e.plugin=g,Ga?(m=C.zOrigin,D=D.split(" "),C.zOrigin=(D.length>2&&(0===m||"0px"!==D[2])?parseFloat(D[2]):m)||0,e.xs0=e.e=D[0]+" "+(D[1]||"50%")+" 0px",e=new ua(C,"zOrigin",0,0,e,-1,e.n),e.b=m,e.xs0=e.e=C.zOrigin):e.xs0=e.e=D):ia(D+"",C)),o&&(d._transformType=C.svg&&Ba||!n&&3!==this._transformType?2:3),j&&(i[c]=j),k&&(i.scale=k),e},prefix:!0}),za("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),za("borderRadius",{defaultValue:"0px",parser:function(a,b,c,d,g,h){b=this.format(b);var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],z=a.style;for(q=parseFloat(a.offsetWidth),r=parseFloat(a.offsetHeight),i=b.split(" "),j=0;j<y.length;j++)this.p.indexOf("border")&&(y[j]=$(y[j])),m=l=aa(a,y[j],f,!1,"0px"),-1!==m.indexOf(" ")&&(l=m.split(" "),m=l[0],l=l[1]),n=k=i[j],o=parseFloat(m),t=m.substr((o+"").length),u="="===n.charAt(1),u?(p=parseInt(n.charAt(0)+"1",10),n=n.substr(2),p*=parseFloat(n),s=n.substr((p+"").length-(0>p?1:0))||""):(p=parseFloat(n),s=n.substr((p+"").length)),""===s&&(s=e[c]||t),s!==t&&(v=ba(a,"borderLeft",o,t),w=ba(a,"borderTop",o,t),"%"===s?(m=v/q*100+"%",l=w/r*100+"%"):"em"===s?(x=ba(a,"borderLeft",1,"em"),m=v/x+"em",l=w/x+"em"):(m=v+"px",l=w+"px"),u&&(n=parseFloat(m)+p+s,k=parseFloat(l)+p+s)),g=wa(z,y[j],m+" "+l,n+" "+k,!1,"0px",g);return g},prefix:!0,formatter:ra("0px 0px 0px 0px",!1,!0)}),za("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(a,b,c,d,e,g){return wa(a.style,c,this.format(aa(a,c,f,!1,"0px 0px")),this.format(b),!1,"0px",e)},prefix:!0,formatter:ra("0px 0px",!1,!0)}),za("backgroundPosition",{defaultValue:"0 0",parser:function(a,b,c,d,e,g){var h,i,j,k,l,m,n="background-position",o=f||_(a,null),p=this.format((o?q?o.getPropertyValue(n+"-x")+" "+o.getPropertyValue(n+"-y"):o.getPropertyValue(n):a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY)||"0 0"),r=this.format(b);if(-1!==p.indexOf("%")!=(-1!==r.indexOf("%"))&&r.split(",").length<2&&(m=aa(a,"backgroundImage").replace(E,""))&&"none"!==m){for(h=p.split(" "),i=r.split(" "),S.setAttribute("src",m),j=2;--j>-1;)p=h[j],(k=-1!==p.indexOf("%"))!==(-1!==i[j].indexOf("%"))&&(l=0===j?a.offsetWidth-S.width:a.offsetHeight-S.height,h[j]=k?parseFloat(p)/100*l+"px":parseFloat(p)/l*100+"%");p=h.join(" ")}return this.parseComplex(a.style,p,r,e,g)},formatter:ia}),za("backgroundSize",{defaultValue:"0 0",formatter:function(a){return a+="","co"===a.substr(0,2)?a:ia(-1===a.indexOf(" ")?a+" "+a:a)}}),za("perspective",{defaultValue:"0px",prefix:!0}),za("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),za("transformStyle",{prefix:!0}),za("backfaceVisibility",{prefix:!0}),za("userSelect",{prefix:!0}),za("margin",{parser:sa("marginTop,marginRight,marginBottom,marginLeft")}),za("padding",{parser:sa("paddingTop,paddingRight,paddingBottom,paddingLeft")}),za("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(a,b,c,d,e,g){var h,i,j;return 9>q?(i=a.currentStyle,j=8>q?" ":",",h="rect("+i.clipTop+j+i.clipRight+j+i.clipBottom+j+i.clipLeft+")",b=this.format(b).split(",").join(j)):(h=this.format(aa(a,this.p,f,!1,this.dflt)),b=this.format(b)),this.parseComplex(a.style,h,b,e,g)}}),za("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),za("autoRound,strictUnits",{parser:function(a,b,c,d,e){return e}}),za("border",{defaultValue:"0px solid #000",parser:function(a,b,c,d,e,g){var h=aa(a,"borderTopWidth",f,!1,"0px"),i=this.format(b).split(" "),j=i[0].replace(x,"");return"px"!==j&&(h=parseFloat(h)/ba(a,"borderTopWidth",1,j)+j),this.parseComplex(a.style,this.format(h+" "+aa(a,"borderTopStyle",f,!1,"solid")+" "+aa(a,"borderTopColor",f,!1,"#000")),i.join(" "),e,g)},color:!0,formatter:function(a){var b=a.split(" ");return b[0]+" "+(b[1]||"solid")+" "+(a.match(qa)||["#000"])[0]}}),za("borderWidth",{parser:sa("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),za("float,cssFloat,styleFloat",{parser:function(a,b,c,d,e,f){var g=a.style,h="cssFloat"in g?"cssFloat":"styleFloat";return new ua(g,h,0,0,e,-1,c,!1,0,g[h],b)}});var Va=function(a){var b,c=this.t,d=c.filter||aa(this.data,"filter")||"",e=this.s+this.c*a|0;100===e&&(-1===d.indexOf("atrix(")&&-1===d.indexOf("radient(")&&-1===d.indexOf("oader(")?(c.removeAttribute("filter"),b=!aa(this.data,"filter")):(c.filter=d.replace(A,""),b=!0)),b||(this.xn1&&(c.filter=d=d||"alpha(opacity="+e+")"),-1===d.indexOf("pacity")?0===e&&this.xn1||(c.filter=d+" alpha(opacity="+e+")"):c.filter=d.replace(y,"opacity="+e))};za("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(a,b,c,d,e,g){var h=parseFloat(aa(a,"opacity",f,!1,"1")),i=a.style,j="autoAlpha"===c;return"string"==typeof b&&"="===b.charAt(1)&&(b=("-"===b.charAt(0)?-1:1)*parseFloat(b.substr(2))+h),j&&1===h&&"hidden"===aa(a,"visibility",f)&&0!==b&&(h=0),V?e=new ua(i,"opacity",h,b-h,e):(e=new ua(i,"opacity",100*h,100*(b-h),e),e.xn1=j?1:0,i.zoom=1,e.type=2,e.b="alpha(opacity="+e.s+")",e.e="alpha(opacity="+(e.s+e.c)+")",e.data=a,e.plugin=g,e.setRatio=Va),j&&(e=new ua(i,"visibility",0,0,e,-1,null,!1,0,0!==h?"inherit":"hidden",0===b?"hidden":"inherit"),e.xs0="inherit",d._overwriteProps.push(e.n),d._overwriteProps.push(c)),e}});var Wa=function(a,b){b&&(a.removeProperty?(("ms"===b.substr(0,2)||"webkit"===b.substr(0,6))&&(b="-"+b),a.removeProperty(b.replace(C,"-$1").toLowerCase())):a.removeAttribute(b))},Xa=function(a){if(this.t._gsClassPT=this,1===a||0===a){this.t.setAttribute("class",0===a?this.b:this.e);for(var b=this.data,c=this.t.style;b;)b.v?c[b.p]=b.v:Wa(c,b.p),b=b._next;1===a&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};za("className",{parser:function(a,b,c,e,g,h,i){var j,k,l,m,n,o=a.getAttribute("class")||"",p=a.style.cssText;if(g=e._classNamePT=new ua(a,c,0,0,g,2),g.setRatio=Xa,g.pr=-11,d=!0,g.b=o,k=da(a,f),l=a._gsClassPT){for(m={},n=l.data;n;)m[n.p]=1,n=n._next;l.setRatio(1)}return a._gsClassPT=g,g.e="="!==b.charAt(1)?b:o.replace(new RegExp("(?:\\s|^)"+b.substr(2)+"(?![\\w-])"),"")+("+"===b.charAt(0)?" "+b.substr(2):""),a.setAttribute("class",g.e),j=ea(a,k,da(a),i,m),a.setAttribute("class",o),g.data=j.firstMPT,a.style.cssText=p,g=g.xfirst=e.parse(a,j.difs,g,h)}});var Ya=function(a){if((1===a||0===a)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var b,c,d,e,f,g=this.t.style,h=j.transform.parse;if("all"===this.e)g.cssText="",e=!0;else for(b=this.e.split(" ").join("").split(","),d=b.length;--d>-1;)c=b[d],j[c]&&(j[c].parse===h?e=!0:c="transformOrigin"===c?Fa:j[c].p),Wa(g,c);e&&(Wa(g,Da),(f=this.t._gsTransform)&&(f.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(za("clearProps",{parser:function(a,b,c,e,f){return f=new ua(a,c,0,0,f,2),f.setRatio=Ya,f.e=b,f.pr=-10,f.data=e._tween,d=!0,f}}),k="bezier,throwProps,physicsProps,physics2D".split(","),xa=k.length;xa--;)Aa(k[xa]);k=h.prototype,k._firstPT=k._lastParsedTransform=k._transform=null,k._onInitTween=function(a,b,c,i){if(!a.nodeType)return!1;this._target=r=a,this._tween=c,this._vars=b,s=i,l=b.autoRound,d=!1,e=b.suffixMap||h.suffixMap,f=_(a,""),g=this._overwriteProps;var k,o,q,t,u,v,w,x,y,A=a.style;if(m&&""===A.zIndex&&("auto"===(k=aa(a,"zIndex",f))||""===k)&&this._addLazySet(A,"zIndex",0),"string"==typeof b&&(t=A.cssText,k=da(a,f),A.cssText=t+";"+b,k=ea(a,k,da(a)).difs,!V&&z.test(b)&&(k.opacity=parseFloat(RegExp.$1)),b=k,A.cssText=t),b.className?this._firstPT=o=j.className.parse(a,b.className,"className",this,null,null,b):this._firstPT=o=this.parse(a,b,null),this._transformType){for(y=3===this._transformType,Da?n&&(m=!0,""===A.zIndex&&("auto"===(w=aa(a,"zIndex",f))||""===w)&&this._addLazySet(A,"zIndex",0),p&&this._addLazySet(A,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(y?"visible":"hidden"))):A.zoom=1,q=o;q&&q._next;)q=q._next;x=new ua(a,"transform",0,0,null,2),this._linkCSSP(x,null,q),x.setRatio=Da?Ua:Ta,x.data=this._transform||Sa(a,f,!0),x.tween=c,x.pr=-1,g.pop()}if(d){for(;o;){for(v=o._next,q=t;q&&q.pr>o.pr;)q=q._next;(o._prev=q?q._prev:u)?o._prev._next=o:t=o,(o._next=q)?q._prev=o:u=o,o=v}this._firstPT=t}return!0},k.parse=function(a,b,c,d){var g,h,i,k,m,n,o,p,q,t,u=a.style;for(g in b){if(n=b[g],"function"==typeof n&&(n=n(s,r)),h=j[g])c=h.parse(a,n,g,this,c,d,b);else{if("--"===g.substr(0,2)){this._tween._propLookup[g]=this._addTween.call(this._tween,a.style,"setProperty",_(a).getPropertyValue(g)+"",n+"",g,!1,g);continue}m=aa(a,g,f)+"",q="string"==typeof n,"color"===g||"fill"===g||"stroke"===g||-1!==g.indexOf("Color")||q&&B.test(n)?(q||(n=oa(n),n=(n.length>3?"rgba(":"rgb(")+n.join(",")+")"),c=wa(u,g,m,n,!0,"transparent",c,0,d)):q&&K.test(n)?c=wa(u,g,m,n,!0,null,c,0,d):(i=parseFloat(m),o=i||0===i?m.substr((i+"").length):"",(""===m||"auto"===m)&&("width"===g||"height"===g?(i=ha(a,g,f),o="px"):"left"===g||"top"===g?(i=ca(a,g,f),o="px"):(i="opacity"!==g?0:1,o="")),t=q&&"="===n.charAt(1),t?(k=parseInt(n.charAt(0)+"1",10),n=n.substr(2),k*=parseFloat(n),p=n.replace(x,"")):(k=parseFloat(n),p=q?n.replace(x,""):""),""===p&&(p=g in e?e[g]:o),n=k||0===k?(t?k+i:k)+p:b[g],o!==p&&(""!==p||"lineHeight"===g)&&(k||0===k)&&i&&(i=ba(a,g,i,o),"%"===p?(i/=ba(a,g,100,"%")/100,!0!==b.strictUnits&&(m=i+"%")):"em"===p||"rem"===p||"vw"===p||"vh"===p?i/=ba(a,g,1,p):"px"!==p&&(k=ba(a,g,k,p),p="px"),t&&(k||0===k)&&(n=k+i+p)),t&&(k+=i),!i&&0!==i||!k&&0!==k?void 0!==u[g]&&(n||n+""!="NaN"&&null!=n)?(c=new ua(u,g,k||i||0,0,c,-1,g,!1,0,m,n),c.xs0="none"!==n||"display"!==g&&-1===g.indexOf("Style")?n:m):X(b[g]):(c=new ua(u,g,i,k-i,c,0,g,!1!==l&&("px"===p||"zIndex"===g),0,m,n),c.xs0=p))}d&&c&&!c.plugin&&(c.plugin=d)}return c},k.setRatio=function(a){var b,c,d,e=this._firstPT;if(1!==a||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(a||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;e;){if(b=e.c*a+e.s,e.r?b=e.r(b):1e-6>b&&b>-1e-6&&(b=0),e.type)if(1===e.type)if(2===(d=e.l))e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2;else if(3===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3;else if(4===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4;else if(5===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4+e.xn4+e.xs5;else{for(c=e.xs0+b+e.xs1,d=1;d<e.l;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}else-1===e.type?e.t[e.p]=e.xs0:e.setRatio&&e.setRatio(a);else e.t[e.p]=b+e.xs0;e=e._next}else for(;e;)2!==e.type?e.t[e.p]=e.b:e.setRatio(a),e=e._next;else for(;e;){if(2!==e.type)if(e.r&&-1!==e.type)if(b=e.r(e.s+e.c),e.type){if(1===e.type){for(d=e.l,c=e.xs0+b+e.xs1,d=1;d<e.l;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}}else e.t[e.p]=b+e.xs0;else e.t[e.p]=e.e;else e.setRatio(a);e=e._next}},k._enableTransforms=function(a){this._transform=this._transform||Sa(this._target,f,!0),this._transformType=this._transform.svg&&Ba||!a&&3!==this._transformType?2:3};var Za=function(a){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};k._addLazySet=function(a,b,c){var d=this._firstPT=new ua(a,b,0,0,this._firstPT,2);d.e=c,d.setRatio=Za,d.data=this},k._linkCSSP=function(a,b,c,d){return a&&(b&&(b._prev=a),a._next&&(a._next._prev=a._prev),a._prev?a._prev._next=a._next:this._firstPT===a&&(this._firstPT=a._next,d=!0),c?c._next=a:d||null!==this._firstPT||(this._firstPT=a),a._next=b,a._prev=c),a},k._mod=function(a){for(var b=this._firstPT;b;)"function"==typeof a[b.p]&&(b.r=a[b.p]),b=b._next},k._kill=function(b){var c,d,e,f=b;if(b.autoAlpha||b.alpha){f={};for(d in b)f[d]=b[d];f.opacity=1,f.autoAlpha&&(f.visibility=1)}for(b.className&&(c=this._classNamePT)&&(e=c.xfirst,e&&e._prev?this._linkCSSP(e._prev,c._next,e._prev._prev):e===this._firstPT&&(this._firstPT=c._next),c._next&&this._linkCSSP(c._next,c._next._next,e._prev),this._classNamePT=null),c=this._firstPT;c;)c.plugin&&c.plugin!==d&&c.plugin._kill&&(c.plugin._kill(b),d=c.plugin),c=c._next;return a.prototype._kill.call(this,f)};var $a=function(a,b,c){var d,e,f,g;if(a.slice)for(e=a.length;--e>-1;)$a(a[e],b,c);else for(d=a.childNodes,e=d.length;--e>-1;)f=d[e],g=f.type,f.style&&(b.push(da(f)),c&&c.push(f)),
1!==g&&9!==g&&11!==g||!f.childNodes.length||$a(f,b,c)};return h.cascadeTo=function(a,c,d){var e,f,g,h,i=b.to(a,c,d),j=[i],k=[],l=[],m=[],n=b._internals.reservedProps;for(a=i._targets||i.target,$a(a,k,m),i.render(c,!0,!0),$a(a,l),i.render(0,!0,!0),i._enabled(!0),e=m.length;--e>-1;)if(f=ea(m[e],k[e],l[e]),f.firstMPT){f=f.difs;for(g in d)n[g]&&(f[g]=d[g]);h={};for(g in f)h[g]=k[e][g];j.push(b.fromTo(m[e],c,h,f))}return j},a.activate([h]),h},!0),function(){var a=c._gsDefine.plugin({propName:"roundProps",version:"1.7.0",priority:-1,API:2,init:function(a,b,c){return this._tween=c,!0}}),b=function(a){var b=1>a?Math.pow(10,(a+"").length-2):1;return function(c){return(Math.round(c/a)*a*b|0)/b}},d=function(a,b){for(;a;)a.f||a.blob||(a.m=b||Math.round),a=a._next},e=a.prototype;e._onInitAllProps=function(){var a,c,e,f,g=this._tween,h=g.vars.roundProps,i={},j=g._propLookup.roundProps;if("object"!=typeof h||h.push)for("string"==typeof h&&(h=h.split(",")),e=h.length;--e>-1;)i[h[e]]=Math.round;else for(f in h)i[f]=b(h[f]);for(f in i)for(a=g._firstPT;a;)c=a._next,a.pg?a.t._mod(i):a.n===f&&(2===a.f&&a.t?d(a.t._firstPT,i[f]):(this._add(a.t,f,a.s,a.c,i[f]),c&&(c._prev=a._prev),a._prev?a._prev._next=c:g._firstPT===a&&(g._firstPT=c),a._next=a._prev=null,g._propLookup[f]=j)),a=c;return!1},e._add=function(a,b,c,d,e){this._addTween(a,b,c,c+d,b,e||Math.round),this._overwriteProps.push(b)}}(),function(){c._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(a,b,c,d){var e,f;if("function"!=typeof a.setAttribute)return!1;for(e in b)f=b[e],"function"==typeof f&&(f=f(d,a)),this._addTween(a,"setAttribute",a.getAttribute(e)+"",f+"",e,!1,e),this._overwriteProps.push(e);return!0}})}(),c._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(a,b,c,d){"object"!=typeof b&&(b={rotation:b}),this.finals={};var e,f,g,h,i,j,k=!0===b.useRadians?2*Math.PI:360;for(e in b)"useRadians"!==e&&(h=b[e],"function"==typeof h&&(h=h(d,a)),j=(h+"").split("_"),f=j[0],g=parseFloat("function"!=typeof a[e]?a[e]:a[e.indexOf("set")||"function"!=typeof a["get"+e.substr(3)]?e:"get"+e.substr(3)]()),h=this.finals[e]="string"==typeof f&&"="===f.charAt(1)?g+parseInt(f.charAt(0)+"1",10)*Number(f.substr(2)):Number(f)||0,i=h-g,j.length&&(f=j.join("_"),-1!==f.indexOf("short")&&(i%=k)!==i%(k/2)&&(i=0>i?i+k:i-k),-1!==f.indexOf("_cw")&&0>i?i=(i+9999999999*k)%k-(i/k|0)*k:-1!==f.indexOf("ccw")&&i>0&&(i=(i-9999999999*k)%k-(i/k|0)*k)),(i>1e-6||-1e-6>i)&&(this._addTween(a,e,g,g+i,e),this._overwriteProps.push(e)));return!0},set:function(a){var b;if(1!==a)this._super.setRatio.call(this,a);else for(b=this._firstPT;b;)b.f?b.t[b.p](this.finals[b.p]):b.t[b.p]=this.finals[b.p],b=b._next}})._autoCSS=!0,c._gsDefine("easing.Back",["easing.Ease"],function(a){var b,d,e,f,g=c.GreenSockGlobals||c,h=g.com.greensock,i=2*Math.PI,j=Math.PI/2,k=h._class,l=function(b,c){var d=k("easing."+b,function(){},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,d},m=a.register||function(){},n=function(a,b,c,d,e){var f=k("easing."+a,{easeOut:new b,easeIn:new c,easeInOut:new d},!0);return m(f,a),f},o=function(a,b,c){this.t=a,this.v=b,c&&(this.next=c,c.prev=this,this.c=c.v-b,this.gap=c.t-a)},p=function(b,c){var d=k("easing."+b,function(a){this._p1=a||0===a?a:1.70158,this._p2=1.525*this._p1},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,e.config=function(a){return new d(a)},d},q=n("Back",p("BackOut",function(a){return(a-=1)*a*((this._p1+1)*a+this._p1)+1}),p("BackIn",function(a){return a*a*((this._p1+1)*a-this._p1)}),p("BackInOut",function(a){return(a*=2)<1?.5*a*a*((this._p2+1)*a-this._p2):.5*((a-=2)*a*((this._p2+1)*a+this._p2)+2)})),r=k("easing.SlowMo",function(a,b,c){b=b||0===b?b:.7,null==a?a=.7:a>1&&(a=1),this._p=1!==a?b:0,this._p1=(1-a)/2,this._p2=a,this._p3=this._p1+this._p2,this._calcEnd=!0===c},!0),s=r.prototype=new a;return s.constructor=r,s.getRatio=function(a){var b=a+(.5-a)*this._p;return a<this._p1?this._calcEnd?1-(a=1-a/this._p1)*a:b-(a=1-a/this._p1)*a*a*a*b:a>this._p3?this._calcEnd?1===a?0:1-(a=(a-this._p3)/this._p1)*a:b+(a-b)*(a=(a-this._p3)/this._p1)*a*a*a:this._calcEnd?1:b},r.ease=new r(.7,.7),s.config=r.config=function(a,b,c){return new r(a,b,c)},b=k("easing.SteppedEase",function(a,b){a=a||1,this._p1=1/a,this._p2=a+(b?0:1),this._p3=b?1:0},!0),s=b.prototype=new a,s.constructor=b,s.getRatio=function(a){return 0>a?a=0:a>=1&&(a=.999999999),((this._p2*a|0)+this._p3)*this._p1},s.config=b.config=function(a,c){return new b(a,c)},d=k("easing.ExpoScaleEase",function(a,b,c){this._p1=Math.log(b/a),this._p2=b-a,this._p3=a,this._ease=c},!0),s=d.prototype=new a,s.constructor=d,s.getRatio=function(a){return this._ease&&(a=this._ease.getRatio(a)),(this._p3*Math.exp(this._p1*a)-this._p3)/this._p2},s.config=d.config=function(a,b,c){return new d(a,b,c)},e=k("easing.RoughEase",function(b){b=b||{};for(var c,d,e,f,g,h,i=b.taper||"none",j=[],k=0,l=0|(b.points||20),m=l,n=!1!==b.randomize,p=!0===b.clamp,q=b.template instanceof a?b.template:null,r="number"==typeof b.strength?.4*b.strength:.4;--m>-1;)c=n?Math.random():1/l*m,d=q?q.getRatio(c):c,"none"===i?e=r:"out"===i?(f=1-c,e=f*f*r):"in"===i?e=c*c*r:.5>c?(f=2*c,e=f*f*.5*r):(f=2*(1-c),e=f*f*.5*r),n?d+=Math.random()*e-.5*e:m%2?d+=.5*e:d-=.5*e,p&&(d>1?d=1:0>d&&(d=0)),j[k++]={x:c,y:d};for(j.sort(function(a,b){return a.x-b.x}),h=new o(1,1,null),m=l;--m>-1;)g=j[m],h=new o(g.x,g.y,h);this._prev=new o(0,0,0!==h.t?h:h.next)},!0),s=e.prototype=new a,s.constructor=e,s.getRatio=function(a){var b=this._prev;if(a>b.t){for(;b.next&&a>=b.t;)b=b.next;b=b.prev}else for(;b.prev&&a<=b.t;)b=b.prev;return this._prev=b,b.v+(a-b.t)/b.gap*b.c},s.config=function(a){return new e(a)},e.ease=new e,n("Bounce",l("BounceOut",function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}),l("BounceIn",function(a){return(a=1-a)<1/2.75?1-7.5625*a*a:2/2.75>a?1-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?1-(7.5625*(a-=2.25/2.75)*a+.9375):1-(7.5625*(a-=2.625/2.75)*a+.984375)}),l("BounceInOut",function(a){var b=.5>a;return a=b?1-2*a:2*a-1,a=1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,b?.5*(1-a):.5*a+.5})),n("Circ",l("CircOut",function(a){return Math.sqrt(1-(a-=1)*a)}),l("CircIn",function(a){return-(Math.sqrt(1-a*a)-1)}),l("CircInOut",function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)})),f=function(b,c,d){var e=k("easing."+b,function(a,b){this._p1=a>=1?a:1,this._p2=(b||d)/(1>a?a:1),this._p3=this._p2/i*(Math.asin(1/this._p1)||0),this._p2=i/this._p2},!0),f=e.prototype=new a;return f.constructor=e,f.getRatio=c,f.config=function(a,b){return new e(a,b)},e},n("Elastic",f("ElasticOut",function(a){return this._p1*Math.pow(2,-10*a)*Math.sin((a-this._p3)*this._p2)+1},.3),f("ElasticIn",function(a){return-this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*this._p2)},.3),f("ElasticInOut",function(a){return(a*=2)<1?this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(a-=1))*Math.sin((a-this._p3)*this._p2)*.5+1},.45)),n("Expo",l("ExpoOut",function(a){return 1-Math.pow(2,-10*a)}),l("ExpoIn",function(a){return Math.pow(2,10*(a-1))-.001}),l("ExpoInOut",function(a){return(a*=2)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*(a-1)))})),n("Sine",l("SineOut",function(a){return Math.sin(a*j)}),l("SineIn",function(a){return 1-Math.cos(a*j)}),l("SineInOut",function(a){return-.5*(Math.cos(Math.PI*a)-1)})),k("easing.EaseLookup",{find:function(b){return a.map[b]}},!0),m(g.SlowMo,"SlowMo","ease,"),m(e,"RoughEase","ease,"),m(b,"SteppedEase","ease,"),q},!0)}),c._gsDefine&&c._gsQueue.pop()(),function(a,c){"use strict";var d={},e=a.document,f=a.GreenSockGlobals=a.GreenSockGlobals||a;if(f.TweenLite)return f.TweenLite;var g,h,i,j,k,l=function(a){var b,c=a.split("."),d=f;for(b=0;b<c.length;b++)d[c[b]]=d=d[c[b]]||{};return d},m=l("com.greensock"),n=1e-10,o=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},p=function(){},q=function(){var a=Object.prototype.toString,b=a.call([]);return function(c){return null!=c&&(c instanceof Array||"object"==typeof c&&!!c.push&&a.call(c)===b)}}(),r={},s=function(e,g,h,i){this.sc=r[e]?r[e].sc:[],r[e]=this,this.gsClass=null,this.func=h;var j=[];this.check=function(k){for(var m,n,o,p,q=g.length,t=q;--q>-1;)(m=r[g[q]]||new s(g[q],[])).gsClass?(j[q]=m.gsClass,t--):k&&m.sc.push(this);if(0===t&&h){if(n=("com.greensock."+e).split("."),o=n.pop(),p=l(n.join("."))[o]=this.gsClass=h.apply(h,j),i)if(f[o]=d[o]=p,void 0!==b&&b.exports)if(e===c){b.exports=d[c]=p;for(q in d)p[q]=d[q]}else d[c]&&(d[c][o]=p);else"function"==typeof define&&define.amd&&define((a.GreenSockAMDPath?a.GreenSockAMDPath+"/":"")+e.split(".").pop(),[],function(){return p});for(q=0;q<this.sc.length;q++)this.sc[q].check()}},this.check(!0)},t=a._gsDefine=function(a,b,c,d){return new s(a,b,c,d)},u=m._class=function(a,b,c){return b=b||function(){},t(a,[],function(){return b},c),b};t.globals=f;var v=[0,0,1,1],w=u("easing.Ease",function(a,b,c,d){this._func=a,this._type=c||0,this._power=d||0,this._params=b?v.concat(b):v},!0),x=w.map={},y=w.register=function(a,b,c,d){for(var e,f,g,h,i=b.split(","),j=i.length,k=(c||"easeIn,easeOut,easeInOut").split(",");--j>-1;)for(f=i[j],e=d?u("easing."+f,null,!0):m.easing[f]||{},g=k.length;--g>-1;)h=k[g],x[f+"."+h]=x[h+f]=e[h]=a.getRatio?a:a[h]||new a};for(i=w.prototype,i._calcEnd=!1,i.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var b=this._type,c=this._power,d=1===b?1-a:2===b?a:.5>a?2*a:2*(1-a);return 1===c?d*=d:2===c?d*=d*d:3===c?d*=d*d*d:4===c&&(d*=d*d*d*d),1===b?1-d:2===b?d:.5>a?d/2:1-d/2},g=["Linear","Quad","Cubic","Quart","Quint,Strong"],h=g.length;--h>-1;)i=g[h]+",Power"+h,y(new w(null,null,1,h),i,"easeOut",!0),y(new w(null,null,2,h),i,"easeIn"+(0===h?",easeNone":"")),y(new w(null,null,3,h),i,"easeInOut");x.linear=m.easing.Linear.easeIn,x.swing=m.easing.Quad.easeInOut;var z=u("events.EventDispatcher",function(a){this._listeners={},this._eventTarget=a||this});i=z.prototype,i.addEventListener=function(a,b,c,d,e){e=e||0;var f,g,h=this._listeners[a],i=0;for(this!==j||k||j.wake(),null==h&&(this._listeners[a]=h=[]),g=h.length;--g>-1;)f=h[g],f.c===b&&f.s===c?h.splice(g,1):0===i&&f.pr<e&&(i=g+1);h.splice(i,0,{c:b,s:c,up:d,pr:e})},i.removeEventListener=function(a,b){var c,d=this._listeners[a];if(d)for(c=d.length;--c>-1;)if(d[c].c===b)return void d.splice(c,1)},i.dispatchEvent=function(a){var b,c,d,e=this._listeners[a];if(e)for(b=e.length,b>1&&(e=e.slice(0)),c=this._eventTarget;--b>-1;)(d=e[b])&&(d.up?d.c.call(d.s||c,{type:a,target:c}):d.c.call(d.s||c))};var A=a.requestAnimationFrame,B=a.cancelAnimationFrame,C=Date.now||function(){return(new Date).getTime()},D=C();for(g=["ms","moz","webkit","o"],h=g.length;--h>-1&&!A;)A=a[g[h]+"RequestAnimationFrame"],B=a[g[h]+"CancelAnimationFrame"]||a[g[h]+"CancelRequestAnimationFrame"];u("Ticker",function(a,b){var c,d,f,g,h,i=this,l=C(),m=!(!1===b||!A)&&"auto",o=500,q=33,r=function(a){var b,e,j=C()-D;j>o&&(l+=j-q),D+=j,i.time=(D-l)/1e3,b=i.time-h,(!c||b>0||!0===a)&&(i.frame++,h+=b+(b>=g?.004:g-b),e=!0),!0!==a&&(f=d(r)),e&&i.dispatchEvent("tick")};z.call(i),i.time=i.frame=0,i.tick=function(){r(!0)},i.lagSmoothing=function(a,b){return arguments.length?(o=a||1/n,void(q=Math.min(b,o,0))):1/n>o},i.sleep=function(){null!=f&&(m&&B?B(f):clearTimeout(f),d=p,f=null,i===j&&(k=!1))},i.wake=function(a){null!==f?i.sleep():a?l+=-D+(D=C()):i.frame>10&&(D=C()-o+5),d=0===c?p:m&&A?A:function(a){return setTimeout(a,1e3*(h-i.time)+1|0)},i===j&&(k=!0),r(2)},i.fps=function(a){return arguments.length?(c=a,g=1/(c||60),h=this.time+g,void i.wake()):c},i.useRAF=function(a){return arguments.length?(i.sleep(),m=a,void i.fps(c)):m},i.fps(a),setTimeout(function(){"auto"===m&&i.frame<5&&"hidden"!==(e||{}).visibilityState&&i.useRAF(!1)},1500)}),i=m.Ticker.prototype=new m.events.EventDispatcher,i.constructor=m.Ticker;var E=u("core.Animation",function(a,b){if(this.vars=b=b||{},this._duration=this._totalDuration=a||0,this._delay=Number(b.delay)||0,this._timeScale=1,this._active=!0===b.immediateRender,this.data=b.data,this._reversed=!0===b.reversed,Y){k||j.wake();var c=this.vars.useFrames?X:Y;c.add(this,c._time),this.vars.paused&&this.paused(!0)}});j=E.ticker=new m.Ticker,i=E.prototype,i._dirty=i._gc=i._initted=i._paused=!1,i._totalTime=i._time=0,i._rawPrevTime=-1,i._next=i._last=i._onUpdate=i._timeline=i.timeline=null,i._paused=!1;var F=function(){k&&C()-D>2e3&&("hidden"!==(e||{}).visibilityState||!j.lagSmoothing())&&j.wake();var a=setTimeout(F,2e3);a.unref&&a.unref()};F(),i.play=function(a,b){return null!=a&&this.seek(a,b),this.reversed(!1).paused(!1)},i.pause=function(a,b){return null!=a&&this.seek(a,b),this.paused(!0)},i.resume=function(a,b){return null!=a&&this.seek(a,b),this.paused(!1)},i.seek=function(a,b){return this.totalTime(Number(a),!1!==b)},i.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,!1!==b,!0)},i.reverse=function(a,b){return null!=a&&this.seek(a||this.totalDuration(),b),this.reversed(!0).paused(!1)},i.render=function(a,b,c){},i.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},i.isActive=function(){var a,b=this._timeline,c=this._startTime;return!b||!this._gc&&!this._paused&&b.isActive()&&(a=b.rawTime(!0))>=c&&a<c+this.totalDuration()/this._timeScale-1e-7},i._enabled=function(a,b){return k||j.wake(),this._gc=!a,this._active=this.isActive(),!0!==b&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,!0)),!1},i._kill=function(a,b){return this._enabled(!1,!1)},i.kill=function(a,b){return this._kill(a,b),this},i._uncache=function(a){for(var b=a?this:this.timeline;b;)b._dirty=!0,b=b.timeline;return this},i._swapSelfInParams=function(a){for(var b=a.length,c=a.concat();--b>-1;)"{self}"===a[b]&&(c[b]=this);return c},i._callback=function(a){var b=this.vars,c=b[a],d=b[a+"Params"],e=b[a+"Scope"]||b.callbackScope||this;switch(d?d.length:0){case 0:c.call(e);break;case 1:c.call(e,d[0]);break;case 2:c.call(e,d[0],d[1]);break;default:c.apply(e,d)}},i.eventCallback=function(a,b,c,d){if("on"===(a||"").substr(0,2)){var e=this.vars;if(1===arguments.length)return e[a];null==b?delete e[a]:(e[a]=b,e[a+"Params"]=q(c)&&-1!==c.join("").indexOf("{self}")?this._swapSelfInParams(c):c,e[a+"Scope"]=d),"onUpdate"===a&&(this._onUpdate=b)}return this},i.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay},i.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==a&&this.totalTime(this._totalTime*(a/this._duration),!0),this):(this._dirty=!1,this._duration)},i.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration},i.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,b)):this._time},i.totalTime=function(a,b,c){if(k||j.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>a&&!c&&(a+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var d=this._totalDuration,e=this._timeline;if(a>d&&!c&&(a=d),this._startTime=(this._paused?this._pauseTime:e._time)-(this._reversed?d-a:a)/this._timeScale,e._dirty||this._uncache(!1),e._timeline)for(;e._timeline;)e._timeline._time!==(e._startTime+e._totalTime)/e._timeScale&&e.totalTime(e._totalTime,!0),e=e._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==a||0===this._duration)&&(K.length&&$(),this.render(a,b,!1),K.length&&$())}return this},i.progress=i.totalProgress=function(a,b){var c=this.duration();return arguments.length?this.totalTime(c*a,b):c?this._time/c:this.ratio},i.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime},i.endTime=function(a){return this._startTime+(0!=a?this.totalDuration():this.duration())/this._timeScale},i.timeScale=function(a){if(!arguments.length)return this._timeScale;var b,c;for(a=a||n,this._timeline&&this._timeline.smoothChildTiming&&(b=this._pauseTime,c=b||0===b?b:this._timeline.totalTime(),this._startTime=c-(c-this._startTime)*this._timeScale/a),this._timeScale=a,c=this.timeline;c&&c.timeline;)c._dirty=!0,c.totalDuration(),c=c.timeline;return this},i.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},i.paused=function(a){if(!arguments.length)return this._paused;var b,c,d=this._timeline;return a!=this._paused&&d&&(k||a||j.wake(),b=d.rawTime(),c=b-this._pauseTime,!a&&d.smoothChildTiming&&(this._startTime+=c,this._uncache(!1)),this._pauseTime=a?b:null,this._paused=a,this._active=this.isActive(),!a&&0!==c&&this._initted&&this.duration()&&(b=d.smoothChildTiming?this._totalTime:(b-this._startTime)/this._timeScale,this.render(b,b===this._totalTime,!0))),this._gc&&!a&&this._enabled(!0,!1),this};var G=u("core.SimpleTimeline",function(a){E.call(this,0,a),this.autoRemoveChildren=this.smoothChildTiming=!0});i=G.prototype=new E,i.constructor=G,i.kill()._gc=!1,i._first=i._last=i._recent=null,i._sortChildren=!1,i.add=i.insert=function(a,b,c,d){var e,f;if(a._startTime=Number(b||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=this.rawTime()-(a._timeline.rawTime()-a._pauseTime)),a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),e=this._last,this._sortChildren)for(f=a._startTime;e&&e._startTime>f;)e=e._prev;return e?(a._next=e._next,e._next=a):(a._next=this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=e,this._recent=a,this._timeline&&this._uncache(!0),this},i._remove=function(a,b){return a.timeline===this&&(b||a._enabled(!1,!0),a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),a._next=a._prev=a.timeline=null,a===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},i.render=function(a,b,c){var d,e=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;e;)d=e._next,(e._active||a>=e._startTime&&!e._paused&&!e._gc)&&(e._reversed?e.render((e._dirty?e.totalDuration():e._totalDuration)-(a-e._startTime)*e._timeScale,b,c):e.render((a-e._startTime)*e._timeScale,b,c)),e=d},i.rawTime=function(){return k||j.wake(),this._totalTime};var H=u("TweenLite",function(b,c,d){if(E.call(this,c,d),this.render=H.prototype.render,null==b)throw"Cannot tween a null target.";this.target=b="string"!=typeof b?b:H.selector(b)||b;var e,f,g,h=b.jquery||b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType),i=this.vars.overwrite;if(this._overwrite=i=null==i?W[H.defaultOverwrite]:"number"==typeof i?i>>0:W[i],(h||b instanceof Array||b.push&&q(b))&&"number"!=typeof b[0])for(this._targets=g=o(b),this._propLookup=[],this._siblings=[],e=0;e<g.length;e++)f=g[e],f?"string"!=typeof f?f.length&&f!==a&&f[0]&&(f[0]===a||f[0].nodeType&&f[0].style&&!f.nodeType)?(g.splice(e--,1),this._targets=g=g.concat(o(f))):(this._siblings[e]=_(f,this,!1),1===i&&this._siblings[e].length>1&&ba(f,this,null,1,this._siblings[e])):"string"==typeof(f=g[e--]=H.selector(f))&&g.splice(e+1,1):g.splice(e--,1);else this._propLookup={},this._siblings=_(b,this,!1),1===i&&this._siblings.length>1&&ba(b,this,null,1,this._siblings);(this.vars.immediateRender||0===c&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-n,this.render(Math.min(0,-this._delay)))},!0),I=function(b){return b&&b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType)},J=function(a,b){var c,d={};for(c in a)V[c]||c in b&&"transform"!==c&&"x"!==c&&"y"!==c&&"width"!==c&&"height"!==c&&"className"!==c&&"border"!==c||!(!S[c]||S[c]&&S[c]._autoCSS)||(d[c]=a[c],delete a[c]);a.css=d};i=H.prototype=new E,i.constructor=H,i.kill()._gc=!1,i.ratio=0,i._firstPT=i._targets=i._overwrittenProps=i._startAt=null,i._notifyPluginsOfEnabled=i._lazy=!1,H.version="1.20.5",H.defaultEase=i._ease=new w(null,null,1,1),H.defaultOverwrite="auto",H.ticker=j,H.autoSleep=120,H.lagSmoothing=function(a,b){j.lagSmoothing(a,b)},H.selector=a.$||a.jQuery||function(b){var c=a.$||a.jQuery;return c?(H.selector=c,c(b)):(e||(e=a.document),e?e.querySelectorAll?e.querySelectorAll(b):e.getElementById("#"===b.charAt(0)?b.substr(1):b):b)};var K=[],L={},M=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,N=/[\+-]=-?[\.\d]/,O=function(a){for(var b,c=this._firstPT;c;)b=c.blob?1===a&&null!=this.end?this.end:a?this.join(""):this.start:c.c*a+c.s,c.m?b=c.m.call(this._tween,b,this._target||c.t,this._tween):1e-6>b&&b>-1e-6&&!c.blob&&(b=0),c.f?c.fp?c.t[c.p](c.fp,b):c.t[c.p](b):c.t[c.p]=b,c=c._next},P=function(a,b,c,d){var e,f,g,h,i,j,k,l=[],m=0,n="",o=0;for(l.start=a,l.end=b,a=l[0]=a+"",b=l[1]=b+"",c&&(c(l),a=l[0],b=l[1]),l.length=0,e=a.match(M)||[],f=b.match(M)||[],d&&(d._next=null,d.blob=1,l._firstPT=l._applyPT=d),i=f.length,h=0;i>h;h++)k=f[h],j=b.substr(m,b.indexOf(k,m)-m),n+=j||!h?j:",",m+=j.length,o?o=(o+1)%5:"rgba("===j.substr(-5)&&(o=1),k===e[h]||e.length<=h?n+=k:(n&&(l.push(n),n=""),g=parseFloat(e[h]),l.push(g),l._firstPT={_next:l._firstPT,t:l,p:l.length-1,s:g,c:("="===k.charAt(1)?parseInt(k.charAt(0)+"1",10)*parseFloat(k.substr(2)):parseFloat(k)-g)||0,f:0,m:o&&4>o?Math.round:0}),m+=k.length;return n+=b.substr(m),n&&l.push(n),l.setRatio=O,N.test(b)&&(l.end=null),l},Q=function(a,b,c,d,e,f,g,h,i){"function"==typeof d&&(d=d(i||0,a));var j,k=typeof a[b],l="function"!==k?"":b.indexOf("set")||"function"!=typeof a["get"+b.substr(3)]?b:"get"+b.substr(3),m="get"!==c?c:l?g?a[l](g):a[l]():a[b],n="string"==typeof d&&"="===d.charAt(1),o={t:a,p:b,s:m,f:"function"===k,pg:0,n:e||b,m:f?"function"==typeof f?f:Math.round:0,pr:0,c:n?parseInt(d.charAt(0)+"1",10)*parseFloat(d.substr(2)):parseFloat(d)-m||0};return("number"!=typeof m||"number"!=typeof d&&!n)&&(g||isNaN(m)||!n&&isNaN(d)||"boolean"==typeof m||"boolean"==typeof d?(o.fp=g,j=P(m,n?parseFloat(o.s)+o.c+(o.s+"").replace(/[0-9\-\.]/g,""):d,h||H.defaultStringFilter,o),o={t:j,p:"setRatio",s:0,c:1,f:2,pg:0,n:e||b,pr:0,m:0}):(o.s=parseFloat(m),n||(o.c=parseFloat(d)-o.s||0))),o.c?((o._next=this._firstPT)&&(o._next._prev=o),this._firstPT=o,o):void 0},R=H._internals={isArray:q,isSelector:I,lazyTweens:K,blobDif:P},S=H._plugins={},T=R.tweenLookup={},U=0,V=R.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},W={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},X=E._rootFramesTimeline=new G,Y=E._rootTimeline=new G,Z=30,$=R.lazyRender=function(){var a,b=K.length;for(L={};--b>-1;)(a=K[b])&&!1!==a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0),a._lazy=!1);K.length=0};Y._startTime=j.time,X._startTime=j.frame,Y._active=X._active=!0,setTimeout($,1),E._updateRoot=H.render=function(){var a,b,c;if(K.length&&$(),Y.render((j.time-Y._startTime)*Y._timeScale,!1,!1),X.render((j.frame-X._startTime)*X._timeScale,!1,!1),K.length&&$(),j.frame>=Z){Z=j.frame+(parseInt(H.autoSleep,10)||120);for(c in T){for(b=T[c].tweens,a=b.length;--a>-1;)b[a]._gc&&b.splice(a,1);0===b.length&&delete T[c]}if((!(c=Y._first)||c._paused)&&H.autoSleep&&!X._first&&1===j._listeners.tick.length){for(;c&&c._paused;)c=c._next;c||j.sleep()}}},j.addEventListener("tick",E._updateRoot);var _=function(a,b,c){var d,e,f=a._gsTweenID;if(T[f||(a._gsTweenID=f="t"+U++)]||(T[f]={target:a,tweens:[]}),b&&(d=T[f].tweens,d[e=d.length]=b,c))for(;--e>-1;)d[e]===b&&d.splice(e,1);return T[f].tweens},aa=function(a,b,c,d){var e,f,g=a.vars.onOverwrite;return g&&(e=g(a,b,c,d)),g=H.onOverwrite,g&&(f=g(a,b,c,d)),!1!==e&&!1!==f},ba=function(a,b,c,d,e){var f,g,h,i;if(1===d||d>=4){for(i=e.length,f=0;i>f;f++)if((h=e[f])!==b)h._gc||h._kill(null,a,b)&&(g=!0);else if(5===d)break;return g}var j,k=b._startTime+n,l=[],m=0,o=0===b._duration;for(f=e.length;--f>-1;)(h=e[f])===b||h._gc||h._paused||(h._timeline!==b._timeline?(j=j||ca(b,0,o),0===ca(h,j,o)&&(l[m++]=h)):h._startTime<=k&&h._startTime+h.totalDuration()/h._timeScale>k&&((o||!h._initted)&&k-h._startTime<=2e-10||(l[m++]=h)));for(f=m;--f>-1;)if(h=l[f],2===d&&h._kill(c,a,b)&&(g=!0),2!==d||!h._firstPT&&h._initted){if(2!==d&&!aa(h,b))continue;h._enabled(!1,!1)&&(g=!0)}return g},ca=function(a,b,c){for(var d=a._timeline,e=d._timeScale,f=a._startTime;d._timeline;){if(f+=d._startTime,e*=d._timeScale,d._paused)return-100;d=d._timeline}return f/=e,f>b?f-b:c&&f===b||!a._initted&&2*n>f-b?n:(f+=a.totalDuration()/a._timeScale/e)>b+n?0:f-b-n};i._init=function(){var a,b,c,d,e,f,g=this.vars,h=this._overwrittenProps,i=this._duration,j=!!g.immediateRender,k=g.ease;if(g.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),e={};for(d in g.startAt)e[d]=g.startAt[d];if(e.data="isStart",e.overwrite=!1,e.immediateRender=!0,e.lazy=j&&!1!==g.lazy,e.startAt=e.delay=null,e.onUpdate=g.onUpdate,e.onUpdateParams=g.onUpdateParams,e.onUpdateScope=g.onUpdateScope||g.callbackScope||this,this._startAt=H.to(this.target||{},0,e),j)if(this._time>0)this._startAt=null;else if(0!==i)return}else if(g.runBackwards&&0!==i)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(j=!1),c={};for(d in g)V[d]&&"autoCSS"!==d||(c[d]=g[d]);if(c.overwrite=0,c.data="isFromStart",c.lazy=j&&!1!==g.lazy,c.immediateRender=j,this._startAt=H.to(this.target,0,c),j){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=k=k?k instanceof w?k:"function"==typeof k?new w(k,g.easeParams):x[k]||H.defaultEase:H.defaultEase,g.easeParams instanceof Array&&k.config&&(this._ease=k.config.apply(k,g.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(f=this._targets.length,a=0;f>a;a++)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],h?h[a]:null,a)&&(b=!0);else b=this._initProps(this.target,this._propLookup,this._siblings,h,0);if(b&&H._onPluginEvent("_onInitAllProps",this),h&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),g.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=g.onUpdate,this._initted=!0},i._initProps=function(b,c,d,e,f){var g,h,i,j,k,l;if(null==b)return!1;L[b._gsTweenID]&&$(),this.vars.css||b.style&&b!==a&&b.nodeType&&S.css&&!1!==this.vars.autoCSS&&J(this.vars,b);for(g in this.vars)if(l=this.vars[g],V[g])l&&(l instanceof Array||l.push&&q(l))&&-1!==l.join("").indexOf("{self}")&&(this.vars[g]=l=this._swapSelfInParams(l,this));else if(S[g]&&(j=new S[g])._onInitTween(b,this.vars[g],this,f)){for(this._firstPT=k={_next:this._firstPT,t:j,p:"setRatio",s:0,c:1,f:1,n:g,pg:1,pr:j._priority,m:0},h=j._overwriteProps.length;--h>-1;)c[j._overwriteProps[h]]=this._firstPT;(j._priority||j._onInitAllProps)&&(i=!0),(j._onDisable||j._onEnable)&&(this._notifyPluginsOfEnabled=!0),k._next&&(k._next._prev=k)}else c[g]=Q.call(this,b,g,"get",l,g,0,null,this.vars.stringFilter,f);return e&&this._kill(e,b)?this._initProps(b,c,d,e,f):this._overwrite>1&&this._firstPT&&d.length>1&&ba(b,this,c,this._overwrite,d)?(this._kill(c,b),this._initProps(b,c,d,e,f)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(L[b._gsTweenID]=!0),i)},i.render=function(a,b,c){var d,e,f,g,h=this._time,i=this._duration,j=this._rawPrevTime;if(a>=i-1e-7&&a>=0)this._totalTime=this._time=i,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(d=!0,e="onComplete",c=c||this._timeline.autoRemoveChildren),0===i&&(this._initted||!this.vars.lazy||c)&&(this._startTime===this._timeline._duration&&(a=0),(0>j||0>=a&&a>=-1e-7||j===n&&"isPause"!==this.data)&&j!==a&&(c=!0,j>n&&(e="onReverseComplete")),this._rawPrevTime=g=!b||a||j===a?a:n);else if(1e-7>a)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==h||0===i&&j>0)&&(e="onReverseComplete",d=this._reversed),0>a&&(this._active=!1,0===i&&(this._initted||!this.vars.lazy||c)&&(j>=0&&(j!==n||"isPause"!==this.data)&&(c=!0),this._rawPrevTime=g=!b||a||j===a?a:n)),(!this._initted||this._startAt&&this._startAt.progress())&&(c=!0);else if(this._totalTime=this._time=a,this._easeType){var k=a/i,l=this._easeType,m=this._easePower;(1===l||3===l&&k>=.5)&&(k=1-k),3===l&&(k*=2),1===m?k*=k:2===m?k*=k*k:3===m?k*=k*k*k:4===m&&(k*=k*k*k*k),this.ratio=1===l?1-k:2===l?k:.5>a/i?k/2:1-k/2}else this.ratio=this._ease.getRatio(a/i);if(this._time!==h||c){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!c&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=h,this._rawPrevTime=j,K.push(this),void(this._lazy=[a,b]);this._time&&!d?this.ratio=this._ease.getRatio(this._time/i):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==h&&a>=0&&(this._active=!0),0===h&&(this._startAt&&(a>=0?this._startAt.render(a,!0,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._time||0===i)&&(b||this._callback("onStart"))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&-1e-4!==a&&this._startAt.render(a,!0,c),b||(this._time!==h||d||c)&&this._callback("onUpdate")),e&&(!this._gc||c)&&(0>a&&this._startAt&&!this._onUpdate&&-1e-4!==a&&this._startAt.render(a,!0,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this._callback(e),0===i&&this._rawPrevTime===n&&g!==n&&(this._rawPrevTime=0))}},i._kill=function(a,b,c){if("all"===a&&(a=null),null==a&&(null==b||b===this.target))return this._lazy=!1,this._enabled(!1,!1);b="string"!=typeof b?b||this._targets||this.target:H.selector(b)||b;var d,e,f,g,h,i,j,k,l,m=c&&this._time&&c._startTime===this._startTime&&this._timeline===c._timeline;if((q(b)||I(b))&&"number"!=typeof b[0])for(d=b.length;--d>-1;)this._kill(a,b[d],c)&&(i=!0);else{if(this._targets){for(d=this._targets.length;--d>-1;)if(b===this._targets[d]){h=this._propLookup[d]||{},this._overwrittenProps=this._overwrittenProps||[],e=this._overwrittenProps[d]=a?this._overwrittenProps[d]||{}:"all";break}}else{if(b!==this.target)return!1;h=this._propLookup,e=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(h){if(j=a||h,k=a!==e&&"all"!==e&&a!==h&&("object"!=typeof a||!a._tempKill),c&&(H.onOverwrite||this.vars.onOverwrite)){for(f in j)h[f]&&(l||(l=[]),l.push(f));if((l||!a)&&!aa(this,c,b,l))return!1}for(f in j)(g=h[f])&&(m&&(g.f?g.t[g.p](g.s):g.t[g.p]=g.s,i=!0),g.pg&&g.t._kill(j)&&(i=!0),g.pg&&0!==g.t._overwriteProps.length||(g._prev?g._prev._next=g._next:g===this._firstPT&&(this._firstPT=g._next),g._next&&(g._next._prev=g._prev),g._next=g._prev=null),delete h[f]),k&&(e[f]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return i},i.invalidate=function(){return this._notifyPluginsOfEnabled&&H._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],
E.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-n,this.render(Math.min(0,-this._delay))),this},i._enabled=function(a,b){if(k||j.wake(),a&&this._gc){var c,d=this._targets;if(d)for(c=d.length;--c>-1;)this._siblings[c]=_(d[c],this,!0);else this._siblings=_(this.target,this,!0)}return E.prototype._enabled.call(this,a,b),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&H._onPluginEvent(a?"_onEnable":"_onDisable",this)},H.to=function(a,b,c){return new H(a,b,c)},H.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new H(a,b,c)},H.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new H(a,b,d)},H.delayedCall=function(a,b,c,d,e){return new H(b,0,{delay:a,onComplete:b,onCompleteParams:c,callbackScope:d,onReverseComplete:b,onReverseCompleteParams:c,immediateRender:!1,lazy:!1,useFrames:e,overwrite:0})},H.set=function(a,b){return new H(a,0,b)},H.getTweensOf=function(a,b){if(null==a)return[];a="string"!=typeof a?a:H.selector(a)||a;var c,d,e,f;if((q(a)||I(a))&&"number"!=typeof a[0]){for(c=a.length,d=[];--c>-1;)d=d.concat(H.getTweensOf(a[c],b));for(c=d.length;--c>-1;)for(f=d[c],e=c;--e>-1;)f===d[e]&&d.splice(c,1)}else if(a._gsTweenID)for(d=_(a).concat(),c=d.length;--c>-1;)(d[c]._gc||b&&!d[c].isActive())&&d.splice(c,1);return d||[]},H.killTweensOf=H.killDelayedCallsTo=function(a,b,c){"object"==typeof b&&(c=b,b=!1);for(var d=H.getTweensOf(a,b),e=d.length;--e>-1;)d[e]._kill(c,a)};var da=u("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(","),this._propName=this._overwriteProps[0],this._priority=b||0,this._super=da.prototype},!0);if(i=da.prototype,da.version="1.19.0",da.API=2,i._firstPT=null,i._addTween=Q,i.setRatio=O,i._kill=function(a){var b,c=this._overwriteProps,d=this._firstPT;if(null!=a[this._propName])this._overwriteProps=[];else for(b=c.length;--b>-1;)null!=a[c[b]]&&c.splice(b,1);for(;d;)null!=a[d.n]&&(d._next&&(d._next._prev=d._prev),d._prev?(d._prev._next=d._next,d._prev=null):this._firstPT===d&&(this._firstPT=d._next)),d=d._next;return!1},i._mod=i._roundProps=function(a){for(var b,c=this._firstPT;c;)b=a[this._propName]||null!=c.n&&a[c.n.split(this._propName+"_").join("")],b&&"function"==typeof b&&(2===c.f?c.t._applyPT.m=b:c.m=b),c=c._next},H._onPluginEvent=function(a,b){var c,d,e,f,g,h=b._firstPT;if("_onInitAllProps"===a){for(;h;){for(g=h._next,d=e;d&&d.pr>h.pr;)d=d._next;(h._prev=d?d._prev:f)?h._prev._next=h:e=h,(h._next=d)?d._prev=h:f=h,h=g}h=b._firstPT=e}for(;h;)h.pg&&"function"==typeof h.t[a]&&h.t[a]()&&(c=!0),h=h._next;return c},da.activate=function(a){for(var b=a.length;--b>-1;)a[b].API===da.API&&(S[(new a[b])._propName]=a[b]);return!0},t.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var b,c=a.propName,d=a.priority||0,e=a.overwriteProps,f={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},g=u("plugins."+c.charAt(0).toUpperCase()+c.substr(1)+"Plugin",function(){da.call(this,c,d),this._overwriteProps=e||[]},!0===a.global),h=g.prototype=new da(c);h.constructor=g,g.API=a.API;for(b in f)"function"==typeof a[b]&&(h[f[b]]=a[b]);return g.version=a.version,da.activate([g]),g},g=a._gsQueue){for(h=0;h<g.length;h++)g[h]();for(i in r)r[i].func||a.console.log("GSAP encountered missing dependency: "+i)}k=!1}(void 0!==b&&b.exports&&void 0!==a?a:this||window,"TweenMax")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],339:[function(a,b,c){(function(c){var d=void 0!==b&&b.exports&&void 0!==c?c:this||window;(d._gsQueue||(d._gsQueue=[])).push(function(){"use strict";var a=(d.document||{}).documentElement,b=d,c=function(c,d){var e="x"===d?"Width":"Height",f="scroll"+e,g="client"+e,h=document.body;return c===b||c===a||c===h?Math.max(a[f],h[f])-(b["inner"+e]||a[g]||h[g]):c[f]-c["offset"+e]},e=function(a){return"string"==typeof a&&(a=TweenLite.selector(a)),a.length&&a!==b&&a[0]&&a[0].style&&!a.nodeType&&(a=a[0]),a===b||a.nodeType&&a.style?a:null},f=function(c,d){var e="scroll"+("x"===d?"Left":"Top");return c===b&&(null!=c.pageXOffset?e="page"+d.toUpperCase()+"Offset":c=null!=a[e]?a:document.body),function(){return c[e]}},g=function(c,d){var g=e(c).getBoundingClientRect(),h=document.body,i=!d||d===b||d===h,j=i?{top:a.clientTop-(window.pageYOffset||a.scrollTop||h.scrollTop||0),left:a.clientLeft-(window.pageXOffset||a.scrollLeft||h.scrollLeft||0)}:d.getBoundingClientRect(),k={x:g.left-j.left,y:g.top-j.top};return!i&&d&&(k.x+=f(d,"x")(),k.y+=f(d,"y")()),k},h=function(a,b,d){var e=typeof a;return isNaN(a)?"number"===e||"string"===e&&"="===a.charAt(1)?a:"max"===a?c(b,d):Math.min(c(b,d),g(a,b)[d]):parseFloat(a)},i=d._gsDefine.plugin({propName:"scrollTo",API:2,global:!0,version:"1.9.1",init:function(a,c,d){return this._wdw=a===b,this._target=a,this._tween=d,"object"!=typeof c?(c={y:c},"string"==typeof c.y&&"max"!==c.y&&"="!==c.y.charAt(1)&&(c.x=c.y)):c.nodeType&&(c={y:c,x:c}),this.vars=c,this._autoKill=!1!==c.autoKill,this.getX=f(a,"x"),this.getY=f(a,"y"),this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),null!=c.x?(this._addTween(this,"x",this.x,h(c.x,a,"x")-(c.offsetX||0),"scrollTo_x",!0),this._overwriteProps.push("scrollTo_x")):this.skipX=!0,null!=c.y?(this._addTween(this,"y",this.y,h(c.y,a,"y")-(c.offsetY||0),"scrollTo_y",!0),this._overwriteProps.push("scrollTo_y")):this.skipY=!0,!0},set:function(a){this._super.setRatio.call(this,a);var d=this._wdw||!this.skipX?this.getX():this.xPrev,e=this._wdw||!this.skipY?this.getY():this.yPrev,f=e-this.yPrev,g=d-this.xPrev,h=i.autoKillThreshold;this.x<0&&(this.x=0),this.y<0&&(this.y=0),this._autoKill&&(!this.skipX&&(g>h||-h>g)&&d<c(this._target,"x")&&(this.skipX=!0),!this.skipY&&(f>h||-h>f)&&e<c(this._target,"y")&&(this.skipY=!0),this.skipX&&this.skipY&&(this._tween.kill(),this.vars.onAutoKill&&this.vars.onAutoKill.apply(this.vars.onAutoKillScope||this._tween,this.vars.onAutoKillParams||[]))),this._wdw?b.scrollTo(this.skipX?d:this.x,this.skipY?e:this.y):(this.skipY||(this._target.scrollTop=this.y),this.skipX||(this._target.scrollLeft=this.x)),this.xPrev=this.x,this.yPrev=this.y}}),j=i.prototype;i.max=c,i.getOffset=g,i.buildGetter=f,i.autoKillThreshold=7,j._kill=function(a){return a.scrollTo_x&&(this.skipX=!0),a.scrollTo_y&&(this.skipY=!0),this._super._kill.call(this,a)}}),d._gsDefine&&d._gsQueue.pop()(),function(c){"use strict";var e=function(){return(d.GreenSockGlobals||d).ScrollToPlugin};void 0!==b&&b.exports?(a("../TweenLite.min.js"),b.exports=e()):"function"==typeof define&&define.amd&&define(["TweenLite"],e)}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../TweenLite.min.js":337}],340:[function(a,b,c){b.exports=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)}},{}],341:[function(a,b,c){!function(c){"function"==typeof define&&define.amd?define(["jquery"],c):"object"==typeof b&&b.exports?b.exports=c(a("jquery")):c(jQuery)}(function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console);var c=a.data(this[0],"validator");return c||(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.on("click.validate",":submit",function(b){c.submitButton=b.currentTarget,a(this).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(this).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.on("submit.validate",function(b){function d(){var d,e;return c.submitButton&&(c.settings.submitHandler||c.formSubmitted)&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),!(c.settings.submitHandler&&!c.settings.debug)||(e=c.settings.submitHandler.call(c,c.currentForm,b),d&&d.remove(),void 0!==e&&e)}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){var b,c,d;return a(this[0]).is("form")?b=this.validate().form():(d=[],b=!0,c=a(this[0].form).validate(),this.each(function(){(b=c.element(this)&&b)||(d=d.concat(c.errorList))}),c.errorList=d),b},rules:function(b,c){var d,e,f,g,h,i,j=this[0],k=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=j&&(!j.form&&k&&(j.form=this.closest("form")[0],j.name=this.attr("name")),null!=j.form)){if(b)switch(d=a.data(j.form,"validator").settings,e=d.rules,f=a.validator.staticRules(j),b){case"add":a.extend(f,a.validator.normalizeRule(c)),delete f.messages,e[j.name]=f,c.messages&&(d.messages[j.name]=a.extend(d.messages[j.name],c.messages));break;case"remove":return c?(i={},a.each(c.split(/\s/),function(a,b){i[b]=f[b],delete f[b]}),i):(delete e[j.name],f)}return g=a.validator.normalizeRules(a.extend({},a.validator.classRules(j),a.validator.attributeRules(j),a.validator.dataRules(j),a.validator.staticRules(j)),j),g.required&&(h=g.required,delete g.required,g=a.extend({required:h},g)),g.remote&&(h=g.remote,delete g.remote,g=a.extend(g,{remote:h})),g}}}),a.extend(a.expr.pseudos||a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){var c=a(b).val();return null!==c&&!!a.trim(""+c)},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:void 0===c?b:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(b,c){var d=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===c.which&&""===this.elementValue(b)||-1!==a.inArray(c.keyCode,d)||(b.name in this.submitted||b.name in this.invalid)&&this.element(b)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}."),step:a.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=void 0!==a(this).attr("contenteditable")&&"false"!==a(this).attr("contenteditable");if(!this.form&&c&&(this.form=a(this).closest("form")[0],this.name=a(this).attr("name")),d===this.form){var e=a.data(this.form,"validator"),f="on"+b.type.replace(/^validate/,""),g=e.settings;g[f]&&!a(this).is(g.ignore)&&g[f].call(e,this,b)}}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,d=this.currentForm,e=this.groups={};a.each(this.settings.groups,function(b,c){"string"==typeof c&&(c=c.split(/\s/)),a.each(c,function(a,c){e[c]=b})}),c=this.settings.rules,a.each(c,function(b,d){c[b]=a.validator.normalizeRule(d)}),a(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",b).on("click.validate","select, option, [type='radio'], [type='checkbox']",b),this.settings.invalidHandler&&a(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){var c,d,e=this.clean(b),f=this.validationTargetFor(e),g=this,h=!0;return void 0===f?delete this.invalid[e.name]:(this.prepareElement(f),this.currentElements=a(f),d=this.groups[f.name],d&&a.each(this.groups,function(a,b){b===d&&a!==f.name&&(e=g.validationTargetFor(g.clean(g.findByName(a))))&&e.name in g.invalid&&(g.currentElements.push(e),h=g.check(e)&&h)}),c=!1!==this.check(f),h=h&&c,this.invalid[f.name]=!c,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),a(b).attr("aria-invalid",!c)),h},showErrors:function(b){if(b){var c=this;a.extend(this.errorMap,b),this.errorList=a.map(this.errorMap,function(a,b){return{message:a,element:c.findByName(b)[0]}}),this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var b=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(b)},resetElements:function(a){var b;if(this.settings.unhighlight)for(b=0;a[b];b++)this.settings.unhighlight.call(this,a[b],this.settings.errorClass,""),this.findByName(a[b].name).removeClass(this.settings.validClass);else a.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b,c=0;for(b in a)void 0!==a[b]&&null!==a[b]&&!1!==a[b]&&c++;return c},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(""),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var d=this.name||a(this).attr("name"),e=void 0!==a(this).attr("contenteditable")&&"false"!==a(this).attr("contenteditable");return!d&&b.settings.debug&&window.console,e&&(this.form=a(this).closest("form")[0],this.name=d),this.form===b.currentForm&&(!(d in c||!b.objectLength(a(this).rules()))&&(c[d]=!0,!0))})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+b,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([])},reset:function(){this.resetInternals(),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c,d,e=a(b),f=b.type,g=void 0!==e.attr("contenteditable")&&"false"!==e.attr("contenteditable");return"radio"===f||"checkbox"===f?this.findByName(b.name).filter(":checked").val():"number"===f&&void 0!==b.validity?b.validity.badInput?"NaN":e.val():(c=g?e.text():e.val(),"file"===f?"C:\\fakepath\\"===c.substr(0,12)?c.substr(12):(d=c.lastIndexOf("/"))>=0?c.substr(d+1):(d=c.lastIndexOf("\\"),d>=0?c.substr(d+1):c):"string"==typeof c?c.replace(/\r/g,""):c)},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d,e,f,g=a(b).rules(),h=a.map(g,function(a,b){return b}).length,i=!1,j=this.elementValue(b);"function"==typeof g.normalizer?f=g.normalizer:"function"==typeof this.settings.normalizer&&(f=this.settings.normalizer),f&&(j=f.call(b,j),delete g.normalizer);for(d in g){e={method:d,parameters:g[d]};try{if("dependency-mismatch"===(c=a.validator.methods[d].call(this,j,b,e.parameters))&&1===h){i=!0;continue}if(i=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,e),!1}catch(a){throw this.settings.debug&&window.console,a instanceof TypeError&&(a.message+=".  Exception occurred when checking element "+b.id+", check the '"+e.method+"' method."),a}}if(!i)return this.objectLength(g)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data("msg"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||a(b).data("msg")},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(b,c){"string"==typeof c&&(c={method:c});var d=this.findDefined(this.customMessage(b.name,c.method),this.customDataMessage(b,c.method),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c.method],"<strong>Warning: No message defined for "+b.name+"</strong>"),e=/\$?\{(\d+)\}/g;return"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),d},formatAndAdd:function(a,b){var c=this.defaultMessage(a,b);this.errorList.push({message:c,element:a,method:b.method}),this.errorMap[a.name]=c,this.submitted[a.name]=c},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d,e,f,g,h=this.errorsFor(b),i=this.idOrName(b),j=a(b).attr("aria-describedby");h.length?(h.removeClass(this.settings.validClass).addClass(this.settings.errorClass),h.html(c)):(h=a("<"+this.settings.errorElement+">").attr("id",i+"-error").addClass(this.settings.errorClass).html(c||""),d=h,this.settings.wrapper&&(d=h.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(d):this.settings.errorPlacement?this.settings.errorPlacement.call(this,d,a(b)):d.insertAfter(b),h.is("label")?h.attr("for",i):0===h.parents("label[for='"+this.escapeCssMeta(i)+"']").length&&(f=h.attr("id"),j?j.match(new RegExp("\\b"+this.escapeCssMeta(f)+"\\b"))||(j+=" "+f):j=f,a(b).attr("aria-describedby",j),(e=this.groups[b.name])&&(g=this,a.each(g.groups,function(b,c){c===e&&a("[name='"+g.escapeCssMeta(b)+"']",g.currentForm).attr("aria-describedby",h.attr("id"))})))),!c&&this.settings.success&&(h.text(""),"string"==typeof this.settings.success?h.addClass(this.settings.success):this.settings.success(h,b)),this.toShow=this.toShow.add(h)},errorsFor:function(b){var c=this.escapeCssMeta(this.idOrName(b)),d=a(b).attr("aria-describedby"),e="label[for='"+c+"'], label[for='"+c+"'] *";return d&&(e=e+", #"+this.escapeCssMeta(d).replace(/\s+/g,", #")),this.errors().filter(e)},escapeCssMeta:function(a){return a.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(b){return this.checkable(b)&&(b=this.findByName(b.name)),a(b).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+this.escapeCssMeta(b)+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return!this.dependTypes[typeof a]||this.dependTypes[typeof a](a,b)},dependTypes:{boolean:function(a){return a},string:function(b,c){return!!a(b,c.form).length},function:function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(b){this.pending[b.name]||(this.pendingRequest++,a(b).addClass(this.settings.pendingClass),this.pending[b.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],a(b).removeClass(this.settings.pendingClass),c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.submitButton&&a("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b,c){return c="string"==typeof c&&c||"remote",a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,{method:c})})},destroy:function(){this.resetForm(),a(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},normalizeAttributeRule:function(a,b,c,d){/min|max|step/.test(c)&&(null===b||/number|range|text/.test(b))&&(d=Number(d),isNaN(d)&&(d=void 0)),d||0===d?a[c]=d:b===c&&"range"!==b&&(a[c]=!0)},attributeRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)"required"===c?(d=b.getAttribute(c),""===d&&(d=!0),d=!!d):d=f.attr(c),this.normalizeAttributeRule(e,g,c,d);return e.maxlength&&/-1|2147483647|524288/.test(e.maxlength)&&delete e.maxlength,e},dataRules:function(b){var c,d,e={},f=a(b),g=b.getAttribute("type");for(c in a.validator.methods)d=f.data("rule"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),""===d&&(d=!0),this.normalizeAttributeRule(e,g,c,d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(!1===e)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0===e.param||e.param:(a.data(c.form,"validator").resetElements(a(c)),delete b[d])}}),a.each(b,function(d,e){b[d]=a.isFunction(e)&&"normalizer"!==d?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].replace(/[\[\]]/g,"").split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(null!=b.min&&null!=b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),null!=b.minlength&&null!=b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:void 0!==b&&null!==b&&b.length>0},email:function(a,b){return this.optional(b)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,b){return this.optional(b)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(a)},date:function(){var a=!1;return function(b,c){return a||(a=!0,this.settings.debug&&window.console),this.optional(c)||!/Invalid|NaN/.test(new Date(b).toString())}}(),dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,b){return this.optional(b)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e<=d},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(b,c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||a<=c},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},step:function(b,c,d){var e,f=a(c).attr("type"),g="Step attribute on input type "+f+" is not supported.",h=["text","number","range"],i=new RegExp("\\b"+f+"\\b"),j=f&&!i.test(h.join()),k=function(a){var b=(""+a).match(/(?:\.(\d+))?$/);return b&&b[1]?b[1].length:0},l=function(a){return Math.round(a*Math.pow(10,e))},m=!0;if(j)throw new Error(g);return e=k(d),(k(b)>e||l(b)%l(d)!=0)&&(m=!1),this.optional(c)||m},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.not(".validate-equalTo-blur").length&&e.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d,e){if(this.optional(c))return"dependency-mismatch";e="string"==typeof e&&e||"remote";var f,g,h,i=this.previousValue(c,e);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),i.originalMessage=i.originalMessage||this.settings.messages[c.name][e],this.settings.messages[c.name][e]=i.message,d="string"==typeof d&&{url:d}||d,h=a.param(a.extend({data:b},d.data)),i.old===h?i.valid:(i.old=h,f=this,this.startRequest(c),g={},g[c.name]=b,a.ajax(a.extend(!0,{mode:"abort",port:"validate"+c.name,dataType:"json",data:g,context:f.currentForm,success:function(a){var d,g,h,j=!0===a||"true"===a;f.settings.messages[c.name][e]=i.originalMessage,j?(h=f.formSubmitted,f.resetInternals(),f.toHide=f.errorsFor(c),f.formSubmitted=h,f.successList.push(c),f.invalid[c.name]=!1,f.showErrors()):(d={},g=a||f.defaultMessage(c,{method:e,parameters:b}),d[c.name]=i.message=g,f.invalid[c.name]=!0,f.showErrors(d)),i.valid=j,f.stopRequest(c,j)}},d)),"pending")}}});var b,c={};return a.ajaxPrefilter?a.ajaxPrefilter(function(a,b,d){var e=a.port;"abort"===a.mode&&(c[e]&&c[e].abort(),c[e]=d)}):(b=a.ajax,a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(c[f]&&c[f].abort(),c[f]=b.apply(this,arguments),c[f]):b.apply(this,arguments)}),a})},{jquery:342}],342:[function(a,b,c){!function(a,c){"use strict";"object"==typeof b&&"object"==typeof b.exports?b.exports=a.document?c(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return c(a)}:c(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";function c(a,b,c){b=b||ga;var d,e=b.createElement("script");if(e.text=a,c)for(d in ua)c[d]&&(e[d]=c[d]);b.head.appendChild(e).parentNode.removeChild(e)}function d(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ma[na.call(a)]||"object":typeof a}function e(a){var b=!!a&&"length"in a&&a.length,c=d(a);return!sa(a)&&!ta(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}function f(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}function g(a,b,c){return sa(b)?va.grep(a,function(a,d){return!!b.call(a,d,a)!==c}):b.nodeType?va.grep(a,function(a){return a===b!==c}):"string"!=typeof b?va.grep(a,function(a){return la.call(b,a)>-1!==c}):va.filter(b,a,c)}function h(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function i(a){var b={};return va.each(a.match(Ga)||[],function(a,c){b[c]=!0}),b}function j(a){return a}function k(a){throw a}function l(a,b,c,d){var e;try{a&&sa(e=a.promise)?e.call(a).done(b).fail(c):a&&sa(e=a.then)?e.call(a,b,c):b.apply(void 0,[a].slice(d))}catch(a){c.apply(void 0,[a])}}function m(){ga.removeEventListener("DOMContentLoaded",m),a.removeEventListener("load",m),va.ready()}function n(a,b){
return b.toUpperCase()}function o(a){return a.replace(Ka,"ms-").replace(La,n)}function p(){this.expando=va.expando+p.uid++}function q(a){return"true"===a||"false"!==a&&("null"===a?null:a===+a+""?+a:Pa.test(a)?JSON.parse(a):a)}function r(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Qa,"-$&").toLowerCase(),"string"==typeof(c=a.getAttribute(d))){try{c=q(c)}catch(a){}Oa.set(a,b,c)}else c=void 0;return c}function s(a,b,c,d){var e,f,g=20,h=d?function(){return d.cur()}:function(){return va.css(a,b,"")},i=h(),j=c&&c[3]||(va.cssNumber[b]?"":"px"),k=(va.cssNumber[b]||"px"!==j&&+i)&&Sa.exec(va.css(a,b));if(k&&k[3]!==j){for(i/=2,j=j||k[3],k=+i||1;g--;)va.style(a,b,k+j),(1-f)*(1-(f=h()/i||.5))<=0&&(g=0),k/=f;k*=2,va.style(a,b,k+j),c=c||[]}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function t(a){var b,c=a.ownerDocument,d=a.nodeName,e=Wa[d];return e||(b=c.body.appendChild(c.createElement(d)),e=va.css(b,"display"),b.parentNode.removeChild(b),"none"===e&&(e="block"),Wa[d]=e,e)}function u(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++)d=a[f],d.style&&(c=d.style.display,b?("none"===c&&(e[f]=Na.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&Ua(d)&&(e[f]=t(d))):"none"!==c&&(e[f]="none",Na.set(d,"display",c)));for(f=0;f<g;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}function v(a,b){var c;return c=void 0!==a.getElementsByTagName?a.getElementsByTagName(b||"*"):void 0!==a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&f(a,b)?va.merge([a],c):c}function w(a,b){for(var c=0,d=a.length;c<d;c++)Na.set(a[c],"globalEval",!b||Na.get(b[c],"globalEval"))}function x(a,b,c,e,f){for(var g,h,i,j,k,l,m=b.createDocumentFragment(),n=[],o=0,p=a.length;o<p;o++)if((g=a[o])||0===g)if("object"===d(g))va.merge(n,g.nodeType?[g]:g);else if(_a.test(g)){for(h=h||m.appendChild(b.createElement("div")),i=(Ya.exec(g)||["",""])[1].toLowerCase(),j=$a[i]||$a._default,h.innerHTML=j[1]+va.htmlPrefilter(g)+j[2],l=j[0];l--;)h=h.lastChild;va.merge(n,h.childNodes),h=m.firstChild,h.textContent=""}else n.push(b.createTextNode(g));for(m.textContent="",o=0;g=n[o++];)if(e&&va.inArray(g,e)>-1)f&&f.push(g);else if(k=va.contains(g.ownerDocument,g),h=v(m.appendChild(g),"script"),k&&w(h),c)for(l=0;g=h[l++];)Za.test(g.type||"")&&c.push(g);return m}function y(){return!0}function z(){return!1}function A(){try{return ga.activeElement}catch(a){}}function B(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)B(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),!1===e)e=z;else if(!e)return a;return 1===f&&(g=e,e=function(a){return va().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=va.guid++)),a.each(function(){va.event.add(this,b,e,d,c)})}function C(a,b){return f(a,"table")&&f(11!==b.nodeType?b:b.firstChild,"tr")?va(a).children("tbody")[0]||a:a}function D(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function E(a){return"true/"===(a.type||"").slice(0,5)?a.type=a.type.slice(5):a.removeAttribute("type"),a}function F(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(Na.hasData(a)&&(f=Na.access(a),g=Na.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)va.event.add(b,e,j[e][c])}Oa.hasData(a)&&(h=Oa.access(a),i=va.extend({},h),Oa.set(b,i))}}function G(a,b){var c=b.nodeName.toLowerCase();"input"===c&&Xa.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function H(a,b,d,e){b=ja.apply([],b);var f,g,h,i,j,k,l=0,m=a.length,n=m-1,o=b[0],p=sa(o);if(p||m>1&&"string"==typeof o&&!ra.checkClone&&gb.test(o))return a.each(function(c){var f=a.eq(c);p&&(b[0]=o.call(this,c,f.html())),H(f,b,d,e)});if(m&&(f=x(b,a[0].ownerDocument,!1,a,e),g=f.firstChild,1===f.childNodes.length&&(f=g),g||e)){for(h=va.map(v(f,"script"),D),i=h.length;l<m;l++)j=f,l!==n&&(j=va.clone(j,!0,!0),i&&va.merge(h,v(j,"script"))),d.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,va.map(h,E),l=0;l<i;l++)j=h[l],Za.test(j.type||"")&&!Na.access(j,"globalEval")&&va.contains(k,j)&&(j.src&&"module"!==(j.type||"").toLowerCase()?va._evalUrl&&va._evalUrl(j.src):c(j.textContent.replace(hb,""),k,j))}return a}function I(a,b,c){for(var d,e=b?va.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||va.cleanData(v(d)),d.parentNode&&(c&&va.contains(d.ownerDocument,d)&&w(v(d,"script")),d.parentNode.removeChild(d));return a}function J(a,b,c){var d,e,f,g,h=a.style;return c=c||jb(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||va.contains(a.ownerDocument,a)||(g=va.style(a,b)),!ra.pixelBoxStyles()&&ib.test(g)&&kb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function K(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function L(a){if(a in qb)return a;for(var b=a[0].toUpperCase()+a.slice(1),c=pb.length;c--;)if((a=pb[c]+b)in qb)return a}function M(a){var b=va.cssProps[a];return b||(b=va.cssProps[a]=L(a)||a),b}function N(a,b,c){var d=Sa.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function O(a,b,c,d,e,f){var g="width"===b?1:0,h=0,i=0;if(c===(d?"border":"content"))return 0;for(;g<4;g+=2)"margin"===c&&(i+=va.css(a,c+Ta[g],!0,e)),d?("content"===c&&(i-=va.css(a,"padding"+Ta[g],!0,e)),"margin"!==c&&(i-=va.css(a,"border"+Ta[g]+"Width",!0,e))):(i+=va.css(a,"padding"+Ta[g],!0,e),"padding"!==c?i+=va.css(a,"border"+Ta[g]+"Width",!0,e):h+=va.css(a,"border"+Ta[g]+"Width",!0,e));return!d&&f>=0&&(i+=Math.max(0,Math.ceil(a["offset"+b[0].toUpperCase()+b.slice(1)]-f-i-h-.5))),i}function P(a,b,c){var d=jb(a),e=J(a,b,d),f="border-box"===va.css(a,"boxSizing",!1,d),g=f;if(ib.test(e)){if(!c)return e;e="auto"}return g=g&&(ra.boxSizingReliable()||e===a.style[b]),("auto"===e||!parseFloat(e)&&"inline"===va.css(a,"display",!1,d))&&(e=a["offset"+b[0].toUpperCase()+b.slice(1)],g=!0),(e=parseFloat(e)||0)+O(a,b,c||(f?"border":"content"),g,d,e)+"px"}function Q(a,b,c,d,e){return new Q.prototype.init(a,b,c,d,e)}function R(){sb&&(!1===ga.hidden&&a.requestAnimationFrame?a.requestAnimationFrame(R):a.setTimeout(R,va.fx.interval),va.fx.tick())}function S(){return a.setTimeout(function(){rb=void 0}),rb=Date.now()}function T(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=Ta[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function U(a,b,c){for(var d,e=(X.tweeners[b]||[]).concat(X.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function V(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&Ua(a),q=Na.get(a,"fxshow");c.queue||(g=va._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,va.queue(a,"fx").length||g.empty.fire()})}));for(d in b)if(e=b[d],tb.test(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}n[d]=q&&q[d]||va.style(a,d)}if((i=!va.isEmptyObject(b))||!va.isEmptyObject(n)){l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=q&&q.display,null==j&&(j=Na.get(a,"display")),k=va.css(a,"display"),"none"===k&&(j?k=j:(u([a],!0),j=a.style.display||j,k=va.css(a,"display"),u([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===va.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1;for(d in n)i||(q?"hidden"in q&&(p=q.hidden):q=Na.access(a,"fxshow",{display:j}),f&&(q.hidden=!p),p&&u([a],!0),m.done(function(){p||u([a]),Na.remove(a,"fxshow");for(d in n)va.style(a,d,n[d])})),i=U(p?q[d]:0,d,m),d in q||(q[d]=i.start,p&&(i.end=i.start,i.start=0))}}function W(a,b){var c,d,e,f,g;for(c in a)if(d=o(c),e=b[d],f=a[c],Array.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(g=va.cssHooks[d])&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function X(a,b,c){var d,e,f=0,g=X.prefilters.length,h=va.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=rb||S(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(i||h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:va.extend({},b),opts:va.extend(!0,{specialEasing:{},easing:va.easing._default},c),originalProperties:b,originalOptions:c,startTime:rb||S(),duration:c.duration,tweens:[],createTween:function(b,c){var d=va.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(W(k,j.opts.specialEasing);f<g;f++)if(d=X.prefilters[f].call(j,a,k,j.opts))return sa(d.stop)&&(va._queueHooks(j.elem,j.opts.queue).stop=d.stop.bind(d)),d;return va.map(k,U,j),sa(j.opts.start)&&j.opts.start.call(a,j),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always),va.fx.timer(va.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j}function Y(a){return(a.match(Ga)||[]).join(" ")}function Z(a){return a.getAttribute&&a.getAttribute("class")||""}function $(a){return Array.isArray(a)?a:"string"==typeof a?a.match(Ga)||[]:[]}function _(a,b,c,e){var f;if(Array.isArray(b))va.each(b,function(b,d){c||Fb.test(a)?e(a,d):_(a+"["+("object"==typeof d&&null!=d?b:"")+"]",d,c,e)});else if(c||"object"!==d(b))e(a,b);else for(f in b)_(a+"["+f+"]",b[f],c,e)}function aa(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(Ga)||[];if(sa(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function ba(a,b,c,d){function e(h){var i;return f[h]=!0,va.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Rb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function ca(a,b){var c,d,e=va.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&va.extend(!0,a,d),a}function da(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function ea(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(!(g=j[i+" "+f]||j["* "+f]))for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){!0===g?g=j[e]:!0!==j[e]&&(f=h[0],k.unshift(h[1]));break}if(!0!==g)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(a){return{state:"parsererror",error:g?a:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}var fa=[],ga=a.document,ha=Object.getPrototypeOf,ia=fa.slice,ja=fa.concat,ka=fa.push,la=fa.indexOf,ma={},na=ma.toString,oa=ma.hasOwnProperty,pa=oa.toString,qa=pa.call(Object),ra={},sa=function(a){return"function"==typeof a&&"number"!=typeof a.nodeType},ta=function(a){return null!=a&&a===a.window},ua={type:!0,src:!0,noModule:!0},va=function(a,b){return new va.fn.init(a,b)},wa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;va.fn=va.prototype={jquery:"3.3.1",constructor:va,length:0,toArray:function(){return ia.call(this)},get:function(a){return null==a?ia.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var b=va.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return va.each(this,a)},map:function(a){return this.pushStack(va.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(ia.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:ka,sort:fa.sort,splice:fa.splice},va.extend=va.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||sa(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(va.isPlainObject(d)||(e=Array.isArray(d)))?(e?(e=!1,f=c&&Array.isArray(c)?c:[]):f=c&&va.isPlainObject(c)?c:{},g[b]=va.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},va.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isPlainObject:function(a){var b,c;return!(!a||"[object Object]"!==na.call(a))&&(!(b=ha(a))||"function"==typeof(c=oa.call(b,"constructor")&&b.constructor)&&pa.call(c)===qa)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},globalEval:function(a){c(a)},each:function(a,b){var c,d=0;if(e(a))for(c=a.length;d<c&&!1!==b.call(a[d],d,a[d]);d++);else for(d in a)if(!1===b.call(a[d],d,a[d]))break;return a},trim:function(a){return null==a?"":(a+"").replace(wa,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(e(Object(a))?va.merge(c,"string"==typeof a?[a]:a):ka.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:la.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d=[],e=0,f=a.length,g=!c;e<f;e++)!b(a[e],e)!==g&&d.push(a[e]);return d},map:function(a,b,c){var d,f,g=0,h=[];if(e(a))for(d=a.length;g<d;g++)null!=(f=b(a[g],g,c))&&h.push(f);else for(g in a)null!=(f=b(a[g],g,c))&&h.push(f);return ja.apply([],h)},guid:1,support:ra}),"function"==typeof Symbol&&(va.fn[Symbol.iterator]=fa[Symbol.iterator]),va.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){ma["[object "+b+"]"]=b.toLowerCase()});var xa=function(a){function b(a,b,c,d){var e,f,g,h,i,k,m,n=b&&b.ownerDocument,o=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==o&&9!==o&&11!==o)return c;if(!d&&((b?b.ownerDocument||b:N)!==F&&E(b),b=b||F,H)){if(11!==o&&(i=pa.exec(a)))if(e=i[1]){if(9===o){if(!(g=b.getElementById(e)))return c;if(g.id===e)return c.push(g),c}else if(n&&(g=n.getElementById(e))&&L(b,g)&&g.id===e)return c.push(g),c}else{if(i[2])return Y.apply(c,b.getElementsByTagName(a)),c;if((e=i[3])&&u.getElementsByClassName&&b.getElementsByClassName)return Y.apply(c,b.getElementsByClassName(e)),c}if(u.qsa&&!S[a+" "]&&(!I||!I.test(a))){if(1!==o)n=b,m=a;else if("object"!==b.nodeName.toLowerCase()){for((h=b.getAttribute("id"))?h=h.replace(ta,ua):b.setAttribute("id",h=M),k=y(a),f=k.length;f--;)k[f]="#"+h+" "+l(k[f]);m=k.join(","),n=qa.test(a)&&j(b.parentNode)||b}if(m)try{return Y.apply(c,n.querySelectorAll(m)),c}catch(a){}finally{h===M&&b.removeAttribute("id")}}}return A(a.replace(fa,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>v.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[M]=!0,a}function e(a){var b=F.createElement("fieldset");try{return!!a(b)}catch(a){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=c.length;d--;)v.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){return"form"in b?b.parentNode&&!1===b.disabled?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&wa(b)===a:b.disabled===a:"label"in b&&b.disabled===a}}function i(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function j(a){return a&&void 0!==a.getElementsByTagName&&a}function k(){}function l(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function m(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=P++;return b.first?function(b,c,e){for(;b=b[d];)if(1===b.nodeType||g)return a(b,c,e);return!1}:function(b,c,i){var j,k,l,m=[O,h];if(i){for(;b=b[d];)if((1===b.nodeType||g)&&a(b,c,i))return!0}else for(;b=b[d];)if(1===b.nodeType||g)if(l=b[M]||(b[M]={}),k=l[b.uniqueID]||(l[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((j=k[f])&&j[0]===O&&j[1]===h)return m[2]=j[2];if(k[f]=m,m[2]=a(b,c,i))return!0}return!1}}function n(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function o(a,c,d){for(var e=0,f=c.length;e<f;e++)b(a,c[e],d);return d}function p(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function q(a,b,c,e,f,g){return e&&!e[M]&&(e=q(e)),f&&!f[M]&&(f=q(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],q=g.length,r=d||o(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:p(r,m,a,h,i),t=c?f||(d?a:q||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=p(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?$(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=p(t===g?t.splice(q,t.length):t),f?f(null,g,t,i):Y.apply(g,t)})}function r(a){for(var b,c,d,e=a.length,f=v.relative[a[0].type],g=f||v.relative[" "],h=f?1:0,i=m(function(a){return a===b},g,!0),j=m(function(a){return $(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==B)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];h<e;h++)if(c=v.relative[a[h].type])k=[m(n(k),c)];else{if(c=v.filter[a[h].type].apply(null,a[h].matches),c[M]){for(d=++h;d<e&&!v.relative[a[d].type];d++);return q(h>1&&n(k),h>1&&l(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(fa,"$1"),c,h<d&&r(a.slice(h,d)),d<e&&r(a=a.slice(d)),d<e&&l(a))}k.push(c)}return n(k)}function s(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",q=d&&[],r=[],s=B,t=d||f&&v.find.TAG("*",j),u=O+=null==s?1:Math.random()||.1,w=t.length;for(j&&(B=g===F||g||j);o!==w&&null!=(k=t[o]);o++){if(f&&k){for(l=0,g||k.ownerDocument===F||(E(k),h=!H);m=a[l++];)if(m(k,g||F,h)){i.push(k);break}j&&(O=u)}e&&((k=!m&&k)&&n--,d&&q.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(q,r,g,h);if(d){if(n>0)for(;o--;)q[o]||r[o]||(r[o]=W.call(i));r=p(r)}Y.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(O=u,B=s),q};return e?d(g):g}var t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M="sizzle"+1*new Date,N=a.document,O=0,P=0,Q=c(),R=c(),S=c(),T=function(a,b){return a===b&&(D=!0),0},U={}.hasOwnProperty,V=[],W=V.pop,X=V.push,Y=V.push,Z=V.slice,$=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},_="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",aa="[\\x20\\t\\r\\n\\f]",ba="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ca="\\["+aa+"*("+ba+")(?:"+aa+"*([*^$|!~]?=)"+aa+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ba+"))|)"+aa+"*\\]",da=":("+ba+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ca+")*)|.*)\\)|)",ea=new RegExp(aa+"+","g"),fa=new RegExp("^"+aa+"+|((?:^|[^\\\\])(?:\\\\.)*)"+aa+"+$","g"),ga=new RegExp("^"+aa+"*,"+aa+"*"),ha=new RegExp("^"+aa+"*([>+~]|"+aa+")"+aa+"*"),ia=new RegExp("="+aa+"*([^\\]'\"]*?)"+aa+"*\\]","g"),ja=new RegExp(da),ka=new RegExp("^"+ba+"$"),la={ID:new RegExp("^#("+ba+")"),CLASS:new RegExp("^\\.("+ba+")"),TAG:new RegExp("^("+ba+"|[*])"),ATTR:new RegExp("^"+ca),PSEUDO:new RegExp("^"+da),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+aa+"*(even|odd|(([+-]|)(\\d*)n|)"+aa+"*(?:([+-]|)"+aa+"*(\\d+)|))"+aa+"*\\)|)","i"),bool:new RegExp("^(?:"+_+")$","i"),needsContext:new RegExp("^"+aa+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+aa+"*((?:-\\d)?\\d*)"+aa+"*\\)|)(?=[^-]|$)","i")},ma=/^(?:input|select|textarea|button)$/i,na=/^h\d$/i,oa=/^[^{]+\{\s*\[native \w/,pa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,qa=/[+~]/,ra=new RegExp("\\\\([\\da-f]{1,6}"+aa+"?|("+aa+")|.)","ig"),sa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ta=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ua=function(a,b){return b?"\0"===a?"�":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},va=function(){E()},wa=m(function(a){return!0===a.disabled&&("form"in a||"label"in a)},{dir:"parentNode",next:"legend"});try{Y.apply(V=Z.call(N.childNodes),N.childNodes),V[N.childNodes.length].nodeType}catch(a){Y={apply:V.length?function(a,b){X.apply(a,Z.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}u=b.support={},x=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},E=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:N;return d!==F&&9===d.nodeType&&d.documentElement?(F=d,G=F.documentElement,H=!x(F),N!==F&&(c=F.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",va,!1):c.attachEvent&&c.attachEvent("onunload",va)),u.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),u.getElementsByTagName=e(function(a){return a.appendChild(F.createComment("")),!a.getElementsByTagName("*").length}),u.getElementsByClassName=oa.test(F.getElementsByClassName),u.getById=e(function(a){return G.appendChild(a).id=M,!F.getElementsByName||!F.getElementsByName(M).length}),u.getById?(v.filter.ID=function(a){var b=a.replace(ra,sa);return function(a){return a.getAttribute("id")===b}},v.find.ID=function(a,b){if(void 0!==b.getElementById&&H){var c=b.getElementById(a);return c?[c]:[]}}):(v.filter.ID=function(a){var b=a.replace(ra,sa);return function(a){var c=void 0!==a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}},v.find.ID=function(a,b){if(void 0!==b.getElementById&&H){var c,d,e,f=b.getElementById(a);if(f){if((c=f.getAttributeNode("id"))&&c.value===a)return[f];for(e=b.getElementsByName(a),d=0;f=e[d++];)if((c=f.getAttributeNode("id"))&&c.value===a)return[f]}return[]}}),v.find.TAG=u.getElementsByTagName?function(a,b){return void 0!==b.getElementsByTagName?b.getElementsByTagName(a):u.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},v.find.CLASS=u.getElementsByClassName&&function(a,b){if(void 0!==b.getElementsByClassName&&H)return b.getElementsByClassName(a)},J=[],I=[],(u.qsa=oa.test(F.querySelectorAll))&&(e(function(a){G.appendChild(a).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+aa+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||I.push("\\["+aa+"*(?:value|"+_+")"),a.querySelectorAll("[id~="+M+"-]").length||I.push("~="),a.querySelectorAll(":checked").length||I.push(":checked"),a.querySelectorAll("a#"+M+"+*").length||I.push(".#.+[+~]")}),e(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=F.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&I.push("name"+aa+"*[*^$|!~]?="),2!==a.querySelectorAll(":enabled").length&&I.push(":enabled",":disabled"),G.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&I.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),I.push(",.*:")})),(u.matchesSelector=oa.test(K=G.matches||G.webkitMatchesSelector||G.mozMatchesSelector||G.oMatchesSelector||G.msMatchesSelector))&&e(function(a){u.disconnectedMatch=K.call(a,"*"),K.call(a,"[s!='']:x"),J.push("!=",da)}),I=I.length&&new RegExp(I.join("|")),J=J.length&&new RegExp(J.join("|")),b=oa.test(G.compareDocumentPosition),L=b||oa.test(G.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},T=b?function(a,b){if(a===b)return D=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c||(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!u.sortDetached&&b.compareDocumentPosition(a)===c?a===F||a.ownerDocument===N&&L(N,a)?-1:b===F||b.ownerDocument===N&&L(N,b)?1:C?$(C,a)-$(C,b):0:4&c?-1:1)}:function(a,b){if(a===b)return D=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===F?-1:b===F?1:e?-1:f?1:C?$(C,a)-$(C,b):0;if(e===f)return g(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?g(h[d],i[d]):h[d]===N?-1:i[d]===N?1:0},F):F},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==F&&E(a),c=c.replace(ia,"='$1']"),u.matchesSelector&&H&&!S[c+" "]&&(!J||!J.test(c))&&(!I||!I.test(c)))try{var d=K.call(a,c);if(d||u.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(a){}return b(c,F,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==F&&E(a),L(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==F&&E(a);var c=v.attrHandle[b.toLowerCase()],d=c&&U.call(v.attrHandle,b.toLowerCase())?c(a,b,!H):void 0;return void 0!==d?d:u.attributes||!H?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.escape=function(a){return(a+"").replace(ta,ua)},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(D=!u.detectDuplicates,C=!u.sortStable&&a.slice(0),a.sort(T),D){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return C=null,a},w=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=w(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=w(b);return c},v=b.selectors={cacheLength:50,createPseudo:d,match:la,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ra,sa),a[3]=(a[3]||a[4]||a[5]||"").replace(ra,sa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return la.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ja.test(c)&&(b=y(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ra,sa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=Q[a+" "];return b||(b=new RegExp("(^|"+aa+")"+a+"("+aa+"|$)"))&&Q(a,function(a){return b.test("string"==typeof a.className&&a.className||void 0!==a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:!c||(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ea," ")+" ").indexOf(d)>-1:"|="===c&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(m=q,l=m[M]||(m[M]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===O&&j[1],t=n&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[O,n,t];break}}else if(s&&(m=b,l=m[M]||(m[M]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===O&&j[1],t=n),!1===t)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[M]||(m[M]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[O,t]),m!==b)););return(t-=e)===d||t%d==0&&t/d>=0}}},PSEUDO:function(a,c){var e,f=v.pseudos[a]||v.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[M]?f(c):f.length>1?(e=[a,a,"",c],v.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=$(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=z(a.replace(fa,"$1"));return e[M]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(ra,sa),function(b){return(b.textContent||b.innerText||w(b)).indexOf(a)>-1}}),lang:d(function(a){return ka.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(ra,sa).toLowerCase(),function(b){var c;do{if(c=H?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return(c=c.toLowerCase())===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===G},focus:function(a){return a===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:h(!1),disabled:h(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!v.pseudos.empty(a)},header:function(a){return na.test(a.nodeName)},input:function(a){return ma.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:i(function(){return[0]}),last:i(function(a,b){return[b-1]}),eq:i(function(a,b,c){return[c<0?c+b:c]}),even:i(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:i(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:i(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:i(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},v.pseudos.nth=v.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})v.pseudos[t]=function(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}(t);for(t in{submit:!0,reset:!0})v.pseudos[t]=function(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}(t);return k.prototype=v.filters=v.pseudos,v.setFilters=new k,y=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=R[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=v.preFilter;h;){d&&!(e=ga.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,
(e=ha.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(fa," ")}),h=h.slice(d.length));for(g in v.filter)!(e=la[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):R(a,i).slice(0)},z=b.compile=function(a,b){var c,d=[],e=[],f=S[a+" "];if(!f){for(b||(b=y(a)),c=b.length;c--;)f=r(b[c]),f[M]?d.push(f):e.push(f);f=S(a,s(e,d)),f.selector=a}return f},A=b.select=function(a,b,c,d){var e,f,g,h,i,k="function"==typeof a&&a,m=!d&&y(a=k.selector||a);if(c=c||[],1===m.length){if(f=m[0]=m[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&9===b.nodeType&&H&&v.relative[f[1].type]){if(!(b=(v.find.ID(g.matches[0].replace(ra,sa),b)||[])[0]))return c;k&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=la.needsContext.test(a)?0:f.length;e--&&(g=f[e],!v.relative[h=g.type]);)if((i=v.find[h])&&(d=i(g.matches[0].replace(ra,sa),qa.test(f[0].type)&&j(b.parentNode)||b))){if(f.splice(e,1),!(a=d.length&&l(f)))return Y.apply(c,d),c;break}}return(k||z(a,m))(d,b,!H,c,!b||qa.test(a)&&j(b.parentNode)||b),c},u.sortStable=M.split("").sort(T).join("")===M,u.detectDuplicates=!!D,E(),u.sortDetached=e(function(a){return 1&a.compareDocumentPosition(F.createElement("fieldset"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),u.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(_,function(a,b,c){var d;if(!c)return!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);va.find=xa,va.expr=xa.selectors,va.expr[":"]=va.expr.pseudos,va.uniqueSort=va.unique=xa.uniqueSort,va.text=xa.getText,va.isXMLDoc=xa.isXML,va.contains=xa.contains,va.escapeSelector=xa.escape;var ya=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&va(a).is(c))break;d.push(a)}return d},za=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},Aa=va.expr.match.needsContext,Ba=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;va.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?va.find.matchesSelector(d,a)?[d]:[]:va.find.matches(a,va.grep(b,function(a){return 1===a.nodeType}))},va.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(va(a).filter(function(){for(b=0;b<d;b++)if(va.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;b<d;b++)va.find(a,e[b],c);return d>1?va.uniqueSort(c):c},filter:function(a){return this.pushStack(g(this,a||[],!1))},not:function(a){return this.pushStack(g(this,a||[],!0))},is:function(a){return!!g(this,"string"==typeof a&&Aa.test(a)?va(a):a||[],!1).length}});var Ca,Da=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(va.fn.init=function(a,b,c){var d,e;if(!a)return this;if(c=c||Ca,"string"==typeof a){if(!(d="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:Da.exec(a))||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof va?b[0]:b,va.merge(this,va.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:ga,!0)),Ba.test(d[1])&&va.isPlainObject(b))for(d in b)sa(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}return e=ga.getElementById(d[2]),e&&(this[0]=e,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):sa(a)?void 0!==c.ready?c.ready(a):a(va):va.makeArray(a,this)}).prototype=va.fn,Ca=va(ga);var Ea=/^(?:parents|prev(?:Until|All))/,Fa={children:!0,contents:!0,next:!0,prev:!0};va.fn.extend({has:function(a){var b=va(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(va.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&va(a);if(!Aa.test(a))for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&va.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?va.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?la.call(va(a),this[0]):la.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(va.uniqueSort(va.merge(this.get(),va(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),va.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return ya(a,"parentNode")},parentsUntil:function(a,b,c){return ya(a,"parentNode",c)},next:function(a){return h(a,"nextSibling")},prev:function(a){return h(a,"previousSibling")},nextAll:function(a){return ya(a,"nextSibling")},prevAll:function(a){return ya(a,"previousSibling")},nextUntil:function(a,b,c){return ya(a,"nextSibling",c)},prevUntil:function(a,b,c){return ya(a,"previousSibling",c)},siblings:function(a){return za((a.parentNode||{}).firstChild,a)},children:function(a){return za(a.firstChild)},contents:function(a){return f(a,"iframe")?a.contentDocument:(f(a,"template")&&(a=a.content||a),va.merge([],a.childNodes))}},function(a,b){va.fn[a]=function(c,d){var e=va.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=va.filter(d,e)),this.length>1&&(Fa[a]||va.uniqueSort(e),Ea.test(a)&&e.reverse()),this.pushStack(e)}});var Ga=/[^\x20\t\r\n\f]+/g;va.Callbacks=function(a){a="string"==typeof a?i(a):va.extend({},a);var b,c,e,f,g=[],h=[],j=-1,k=function(){for(f=f||a.once,e=b=!0;h.length;j=-1)for(c=h.shift();++j<g.length;)!1===g[j].apply(c[0],c[1])&&a.stopOnFalse&&(j=g.length,c=!1);a.memory||(c=!1),b=!1,f&&(g=c?[]:"")},l={add:function(){return g&&(c&&!b&&(j=g.length-1,h.push(c)),function b(c){va.each(c,function(c,e){sa(e)?a.unique&&l.has(e)||g.push(e):e&&e.length&&"string"!==d(e)&&b(e)})}(arguments),c&&!b&&k()),this},remove:function(){return va.each(arguments,function(a,b){for(var c;(c=va.inArray(b,g,c))>-1;)g.splice(c,1),c<=j&&j--}),this},has:function(a){return a?va.inArray(a,g)>-1:g.length>0},empty:function(){return g&&(g=[]),this},disable:function(){return f=h=[],g=c="",this},disabled:function(){return!g},lock:function(){return f=h=[],c||b||(g=c=""),this},locked:function(){return!!f},fireWith:function(a,c){return f||(c=c||[],c=[a,c.slice?c.slice():c],h.push(c),b||k()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!e}};return l},va.extend({Deferred:function(b){var c=[["notify","progress",va.Callbacks("memory"),va.Callbacks("memory"),2],["resolve","done",va.Callbacks("once memory"),va.Callbacks("once memory"),0,"resolved"],["reject","fail",va.Callbacks("once memory"),va.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},catch:function(a){return e.then(null,a)},pipe:function(){var a=arguments;return va.Deferred(function(b){va.each(c,function(c,d){var e=sa(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);a&&sa(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(b,d,e){function f(b,c,d,e){return function(){var h=this,i=arguments,l=function(){var a,l;if(!(b<g)){if((a=d.apply(h,i))===c.promise())throw new TypeError("Thenable self-resolution");l=a&&("object"==typeof a||"function"==typeof a)&&a.then,sa(l)?e?l.call(a,f(g,c,j,e),f(g,c,k,e)):(g++,l.call(a,f(g,c,j,e),f(g,c,k,e),f(g,c,j,c.notifyWith))):(d!==j&&(h=void 0,i=[a]),(e||c.resolveWith)(h,i))}},m=e?l:function(){try{l()}catch(a){va.Deferred.exceptionHook&&va.Deferred.exceptionHook(a,m.stackTrace),b+1>=g&&(d!==k&&(h=void 0,i=[a]),c.rejectWith(h,i))}};b?m():(va.Deferred.getStackHook&&(m.stackTrace=va.Deferred.getStackHook()),a.setTimeout(m))}}var g=0;return va.Deferred(function(a){c[0][3].add(f(0,a,sa(e)?e:j,a.notifyWith)),c[1][3].add(f(0,a,sa(b)?b:j)),c[2][3].add(f(0,a,sa(d)?d:k))}).promise()},promise:function(a){return null!=a?va.extend(a,e):e}},f={};return va.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add,h&&g.add(function(){d=h},c[3-a][2].disable,c[3-a][3].disable,c[0][2].lock,c[0][3].lock),g.add(b[3].fire),f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this},f[b[0]+"With"]=g.fireWith}),e.promise(f),b&&b.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=ia.call(arguments),f=va.Deferred(),g=function(a){return function(c){d[a]=this,e[a]=arguments.length>1?ia.call(arguments):c,--b||f.resolveWith(d,e)}};if(b<=1&&(l(a,f.done(g(c)).resolve,f.reject,!b),"pending"===f.state()||sa(e[c]&&e[c].then)))return f.then();for(;c--;)l(e[c],g(c),f.reject);return f.promise()}});var Ha=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;va.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&Ha.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)},va.readyException=function(b){a.setTimeout(function(){throw b})};var Ia=va.Deferred();va.fn.ready=function(a){return Ia.then(a).catch(function(a){va.readyException(a)}),this},va.extend({isReady:!1,readyWait:1,ready:function(a){(!0===a?--va.readyWait:va.isReady)||(va.isReady=!0,!0!==a&&--va.readyWait>0||Ia.resolveWith(ga,[va]))}}),va.ready.then=Ia.then,"complete"===ga.readyState||"loading"!==ga.readyState&&!ga.documentElement.doScroll?a.setTimeout(va.ready):(ga.addEventListener("DOMContentLoaded",m),a.addEventListener("load",m));var Ja=function(a,b,c,e,f,g,h){var i=0,j=a.length,k=null==c;if("object"===d(c)){f=!0;for(i in c)Ja(a,b,i,c[i],!0,g,h)}else if(void 0!==e&&(f=!0,sa(e)||(h=!0),k&&(h?(b.call(a,e),b=null):(k=b,b=function(a,b,c){return k.call(va(a),c)})),b))for(;i<j;i++)b(a[i],c,h?e:e.call(a[i],i,b(a[i],c)));return f?a:k?b.call(a):j?b(a[0],c):g},Ka=/^-ms-/,La=/-([a-z])/g,Ma=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};p.uid=1,p.prototype={cache:function(a){var b=a[this.expando];return b||(b={},Ma(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[o(b)]=c;else for(d in b)e[o(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][o(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){Array.isArray(b)?b=b.map(o):(b=o(b),b=b in d?[b]:b.match(Ga)||[]),c=b.length;for(;c--;)delete d[b[c]]}(void 0===b||va.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!va.isEmptyObject(b)}};var Na=new p,Oa=new p,Pa=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Qa=/[A-Z]/g;va.extend({hasData:function(a){return Oa.hasData(a)||Na.hasData(a)},data:function(a,b,c){return Oa.access(a,b,c)},removeData:function(a,b){Oa.remove(a,b)},_data:function(a,b,c){return Na.access(a,b,c)},_removeData:function(a,b){Na.remove(a,b)}}),va.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=Oa.get(f),1===f.nodeType&&!Na.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=o(d.slice(5)),r(f,d,e[d])));Na.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){Oa.set(this,a)}):Ja(this,function(b){var c;if(f&&void 0===b){if(void 0!==(c=Oa.get(f,a)))return c;if(void 0!==(c=r(f,a)))return c}else this.each(function(){Oa.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){Oa.remove(this,a)})}}),va.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=Na.get(a,b),c&&(!d||Array.isArray(c)?d=Na.access(a,b,va.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=va.queue(a,b),d=c.length,e=c.shift(),f=va._queueHooks(a,b),g=function(){va.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return Na.get(a,c)||Na.access(a,c,{empty:va.Callbacks("once memory").add(function(){Na.remove(a,[b+"queue",c])})})}}),va.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?va.queue(this[0],a):void 0===b?this:this.each(function(){var c=va.queue(this,a,b);va._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&va.dequeue(this,a)})},dequeue:function(a){return this.each(function(){va.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=va.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)(c=Na.get(f[g],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Ra=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Sa=new RegExp("^(?:([+-])=|)("+Ra+")([a-z%]*)$","i"),Ta=["Top","Right","Bottom","Left"],Ua=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&va.contains(a.ownerDocument,a)&&"none"===va.css(a,"display")},Va=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Wa={};va.fn.extend({show:function(){return u(this,!0)},hide:function(){return u(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Ua(this)?va(this).show():va(this).hide()})}});var Xa=/^(?:checkbox|radio)$/i,Ya=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Za=/^$|^module$|\/(?:java|ecma)script/i,$a={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$a.optgroup=$a.option,$a.tbody=$a.tfoot=$a.colgroup=$a.caption=$a.thead,$a.th=$a.td;var _a=/<|&#?\w+;/;!function(){var a=ga.createDocumentFragment(),b=a.appendChild(ga.createElement("div")),c=ga.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),ra.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",ra.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var ab=ga.documentElement,bb=/^key/,cb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,db=/^([^.]*)(?:\.(.+)|)/;va.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=Na.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),e&&va.find.matchesSelector(ab,e),c.guid||(c.guid=va.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return void 0!==va&&va.event.triggered!==b.type?va.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(Ga)||[""],j=b.length;j--;)h=db.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=va.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=va.event.special[n]||{},k=va.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&va.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&!1!==l.setup.call(a,d,o,g)||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),va.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=Na.hasData(a)&&Na.get(a);if(q&&(i=q.events)){for(b=(b||"").match(Ga)||[""],j=b.length;j--;)if(h=db.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=va.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&!1!==l.teardown.call(a,o,q.handle)||va.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)va.event.remove(a,n+b[j],c,d,!0);va.isEmptyObject(i)&&Na.remove(a,"handle events")}},dispatch:function(a){var b,c,d,e,f,g,h=va.event.fix(a),i=new Array(arguments.length),j=(Na.get(this,"events")||{})[h.type]||[],k=va.event.special[h.type]||{};for(i[0]=h,b=1;b<arguments.length;b++)i[b]=arguments[b];if(h.delegateTarget=this,!k.preDispatch||!1!==k.preDispatch.call(this,h)){for(g=va.event.handlers.call(this,h,j),b=0;(e=g[b++])&&!h.isPropagationStopped();)for(h.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!h.isImmediatePropagationStopped();)h.rnamespace&&!h.rnamespace.test(f.namespace)||(h.handleObj=f,h.data=f.data,void 0!==(d=((va.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,i))&&!1===(h.result=d)&&(h.preventDefault(),h.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,h),h.result}},handlers:function(a,b){var c,d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&!("click"===a.type&&a.button>=1))for(;j!==this;j=j.parentNode||this)if(1===j.nodeType&&("click"!==a.type||!0!==j.disabled)){for(f=[],g={},c=0;c<i;c++)d=b[c],e=d.selector+" ",void 0===g[e]&&(g[e]=d.needsContext?va(e,this).index(j)>-1:va.find(e,this,null,[j]).length),g[e]&&f.push(d);f.length&&h.push({elem:j,handlers:f})}return j=this,i<b.length&&h.push({elem:j,handlers:b.slice(i)}),h},addProp:function(a,b){Object.defineProperty(va.Event.prototype,a,{enumerable:!0,configurable:!0,get:sa(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[va.expando]?a:new va.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==A()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===A()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&f(this,"input"))return this.click(),!1},_default:function(a){return f(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},va.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},va.Event=function(a,b){if(!(this instanceof va.Event))return new va.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?y:z,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&va.extend(this,b),this.timeStamp=a&&a.timeStamp||Date.now(),this[va.expando]=!0},va.Event.prototype={constructor:va.Event,isDefaultPrevented:z,isPropagationStopped:z,isImmediatePropagationStopped:z,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=y,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=y,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=y,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},va.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&bb.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&cb.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},va.event.addProp),va.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){va.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||va.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),va.fn.extend({on:function(a,b,c,d){return B(this,a,b,c,d)},one:function(a,b,c,d){return B(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,va(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return!1!==b&&"function"!=typeof b||(c=b,b=void 0),!1===c&&(c=z),this.each(function(){va.event.remove(this,a,c,b)})}});var eb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,fb=/<script|<style|<link/i,gb=/checked\s*(?:[^=]|=\s*.checked.)/i,hb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;va.extend({htmlPrefilter:function(a){return a.replace(eb,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=va.contains(a.ownerDocument,a);if(!(ra.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||va.isXMLDoc(a)))for(g=v(h),f=v(a),d=0,e=f.length;d<e;d++)G(f[d],g[d]);if(b)if(c)for(f=f||v(a),g=g||v(h),d=0,e=f.length;d<e;d++)F(f[d],g[d]);else F(a,h);return g=v(h,"script"),g.length>0&&w(g,!i&&v(a,"script")),h},cleanData:function(a){for(var b,c,d,e=va.event.special,f=0;void 0!==(c=a[f]);f++)if(Ma(c)){if(b=c[Na.expando]){if(b.events)for(d in b.events)e[d]?va.event.remove(c,d):va.removeEvent(c,d,b.handle);c[Na.expando]=void 0}c[Oa.expando]&&(c[Oa.expando]=void 0)}}}),va.fn.extend({detach:function(a){return I(this,a,!0)},remove:function(a){return I(this,a)},text:function(a){return Ja(this,function(a){return void 0===a?va.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return H(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){C(this,a).appendChild(a)}})},prepend:function(){return H(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=C(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return H(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return H(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(va.cleanData(v(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return va.clone(this,a,b)})},html:function(a){return Ja(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!fb.test(a)&&!$a[(Ya.exec(a)||["",""])[1].toLowerCase()]){a=va.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(va.cleanData(v(b,!1)),b.innerHTML=a);b=0}catch(a){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return H(this,arguments,function(b){var c=this.parentNode;va.inArray(this,a)<0&&(va.cleanData(v(this)),c&&c.replaceChild(b,this))},a)}}),va.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){va.fn[a]=function(a){for(var c,d=[],e=va(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),va(e[g])[b](c),ka.apply(d,c.get());return this.pushStack(d)}});var ib=new RegExp("^("+Ra+")(?!px)[a-z%]+$","i"),jb=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},kb=new RegExp(Ta.join("|"),"i");!function(){function b(){if(j){i.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",j.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ab.appendChild(i).appendChild(j);var b=a.getComputedStyle(j);d="1%"!==b.top,h=12===c(b.marginLeft),j.style.right="60%",g=36===c(b.right),e=36===c(b.width),j.style.position="absolute",f=36===j.offsetWidth||"absolute",ab.removeChild(i),j=null}}function c(a){return Math.round(parseFloat(a))}var d,e,f,g,h,i=ga.createElement("div"),j=ga.createElement("div");j.style&&(j.style.backgroundClip="content-box",j.cloneNode(!0).style.backgroundClip="",ra.clearCloneStyle="content-box"===j.style.backgroundClip,va.extend(ra,{boxSizingReliable:function(){return b(),e},pixelBoxStyles:function(){return b(),g},pixelPosition:function(){return b(),d},reliableMarginLeft:function(){return b(),h},scrollboxSize:function(){return b(),f}}))}();var lb=/^(none|table(?!-c[ea]).+)/,mb=/^--/,nb={position:"absolute",visibility:"hidden",display:"block"},ob={letterSpacing:"0",fontWeight:"400"},pb=["Webkit","Moz","ms"],qb=ga.createElement("div").style;va.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=J(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=o(b),i=mb.test(b),j=a.style;if(i||(b=M(h)),g=va.cssHooks[b]||va.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:j[b];f=typeof c,"string"===f&&(e=Sa.exec(c))&&e[1]&&(c=s(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(va.cssNumber[h]?"":"px")),ra.clearCloneStyle||""!==c||0!==b.indexOf("background")||(j[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i?j.setProperty(b,c):j[b]=c))}},css:function(a,b,c,d){var e,f,g,h=o(b);return mb.test(b)||(b=M(h)),g=va.cssHooks[b]||va.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=J(a,b,d)),"normal"===e&&b in ob&&(e=ob[b]),""===c||c?(f=parseFloat(e),!0===c||isFinite(f)?f||0:e):e}}),va.each(["height","width"],function(a,b){va.cssHooks[b]={get:function(a,c,d){if(c)return!lb.test(va.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?P(a,b,d):Va(a,nb,function(){return P(a,b,d)})},set:function(a,c,d){var e,f=jb(a),g="border-box"===va.css(a,"boxSizing",!1,f),h=d&&O(a,b,d,g,f);return g&&ra.scrollboxSize()===f.position&&(h-=Math.ceil(a["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(f[b])-O(a,b,"border",!1,f)-.5)),h&&(e=Sa.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=va.css(a,b)),N(a,c,h)}}}),va.cssHooks.marginLeft=K(ra.reliableMarginLeft,function(a,b){if(b)return(parseFloat(J(a,"marginLeft"))||a.getBoundingClientRect().left-Va(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),va.each({margin:"",padding:"",border:"Width"},function(a,b){va.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+Ta[d]+b]=f[d]||f[d-2]||f[0];return e}},"margin"!==a&&(va.cssHooks[a+b].set=N)}),va.fn.extend({css:function(a,b){return Ja(this,function(a,b,c){var d,e,f={},g=0;if(Array.isArray(b)){for(d=jb(a),e=b.length;g<e;g++)f[b[g]]=va.css(a,b[g],!1,d);return f}return void 0!==c?va.style(a,b,c):va.css(a,b)},a,b,arguments.length>1)}}),va.Tween=Q,Q.prototype={constructor:Q,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||va.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(va.cssNumber[c]?"":"px")},cur:function(){var a=Q.propHooks[this.prop];return a&&a.get?a.get(this):Q.propHooks._default.get(this)},run:function(a){var b,c=Q.propHooks[this.prop];return this.options.duration?this.pos=b=va.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Q.propHooks._default.set(this),this}},Q.prototype.init.prototype=Q.prototype,Q.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=va.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){va.fx.step[a.prop]?va.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[va.cssProps[a.prop]]&&!va.cssHooks[a.prop]?a.elem[a.prop]=a.now:va.style(a.elem,a.prop,a.now+a.unit)}}},Q.propHooks.scrollTop=Q.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},va.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},va.fx=Q.prototype.init,va.fx.step={};var rb,sb,tb=/^(?:toggle|show|hide)$/,ub=/queueHooks$/;va.Animation=va.extend(X,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return s(c.elem,a,Sa.exec(b),c),c}]},tweener:function(a,b){sa(a)?(b=a,a=["*"]):a=a.match(Ga);for(var c,d=0,e=a.length;d<e;d++)c=a[d],X.tweeners[c]=X.tweeners[c]||[],X.tweeners[c].unshift(b)},prefilters:[V],prefilter:function(a,b){b?X.prefilters.unshift(a):X.prefilters.push(a)}}),va.speed=function(a,b,c){var d=a&&"object"==typeof a?va.extend({},a):{complete:c||!c&&b||sa(a)&&a,duration:a,easing:c&&b||b&&!sa(b)&&b};return va.fx.off?d.duration=0:"number"!=typeof d.duration&&(d.duration in va.fx.speeds?d.duration=va.fx.speeds[d.duration]:d.duration=va.fx.speeds._default),null!=d.queue&&!0!==d.queue||(d.queue="fx"),d.old=d.complete,d.complete=function(){sa(d.old)&&d.old.call(this),d.queue&&va.dequeue(this,d.queue)},d},va.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Ua).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=va.isEmptyObject(a),f=va.speed(b,c,d),g=function(){var b=X(this,va.extend({},a),f);(e||Na.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||!1===f.queue?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=va.timers,g=Na.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&ub.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||va.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=Na.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=va.timers,g=d?d.length:0;for(c.finish=!0,va.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),va.each(["toggle","show","hide"],function(a,b){var c=va.fn[b];va.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(T(b,!0),a,d,e)}}),va.each({slideDown:T("show"),slideUp:T("hide"),slideToggle:T("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){va.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),va.timers=[],va.fx.tick=function(){var a,b=0,c=va.timers;for(rb=Date.now();b<c.length;b++)(a=c[b])()||c[b]!==a||c.splice(b--,1);c.length||va.fx.stop(),rb=void 0},va.fx.timer=function(a){va.timers.push(a),va.fx.start()},va.fx.interval=13,va.fx.start=function(){sb||(sb=!0,R())},va.fx.stop=function(){sb=null},va.fx.speeds={slow:600,fast:200,_default:400},va.fn.delay=function(b,c){return b=va.fx?va.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=ga.createElement("input"),b=ga.createElement("select"),c=b.appendChild(ga.createElement("option"));a.type="checkbox",ra.checkOn=""!==a.value,ra.optSelected=c.selected,a=ga.createElement("input"),
a.value="t",a.type="radio",ra.radioValue="t"===a.value}();var vb,wb=va.expr.attrHandle;va.fn.extend({attr:function(a,b){return Ja(this,va.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){va.removeAttr(this,a)})}}),va.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return void 0===a.getAttribute?va.prop(a,b,c):(1===f&&va.isXMLDoc(a)||(e=va.attrHooks[b.toLowerCase()]||(va.expr.match.bool.test(b)?vb:void 0)),void 0!==c?null===c?void va.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=va.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!ra.radioValue&&"radio"===b&&f(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(Ga);if(e&&1===a.nodeType)for(;c=e[d++];)a.removeAttribute(c)}}),vb={set:function(a,b,c){return!1===b?va.removeAttr(a,c):a.setAttribute(c,c),c}},va.each(va.expr.match.bool.source.match(/\w+/g),function(a,b){var c=wb[b]||va.find.attr;wb[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=wb[g],wb[g]=e,e=null!=c(a,b,d)?g:null,wb[g]=f),e}});var xb=/^(?:input|select|textarea|button)$/i,yb=/^(?:a|area)$/i;va.fn.extend({prop:function(a,b){return Ja(this,va.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[va.propFix[a]||a]})}}),va.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&va.isXMLDoc(a)||(b=va.propFix[b]||b,e=va.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=va.find.attr(a,"tabindex");return b?parseInt(b,10):xb.test(a.nodeName)||yb.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ra.optSelected||(va.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),va.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){va.propFix[this.toLowerCase()]=this}),va.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(sa(a))return this.each(function(b){va(this).addClass(a.call(this,b,Z(this)))});if(b=$(a),b.length)for(;c=this[i++];)if(e=Z(c),d=1===c.nodeType&&" "+Y(e)+" "){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=Y(d),e!==h&&c.setAttribute("class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(sa(a))return this.each(function(b){va(this).removeClass(a.call(this,b,Z(this)))});if(!arguments.length)return this.attr("class","");if(b=$(a),b.length)for(;c=this[i++];)if(e=Z(c),d=1===c.nodeType&&" "+Y(e)+" "){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");h=Y(d),e!==h&&c.setAttribute("class",h)}return this},toggleClass:function(a,b){var c=typeof a,d="string"===c||Array.isArray(a);return"boolean"==typeof b&&d?b?this.addClass(a):this.removeClass(a):sa(a)?this.each(function(c){va(this).toggleClass(a.call(this,c,Z(this),b),b)}):this.each(function(){var b,e,f,g;if(d)for(e=0,f=va(this),g=$(a);b=g[e++];)f.hasClass(b)?f.removeClass(b):f.addClass(b);else void 0!==a&&"boolean"!==c||(b=Z(this),b&&Na.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===a?"":Na.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+Y(Z(c))+" ").indexOf(b)>-1)return!0;return!1}});var zb=/\r/g;va.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=sa(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,va(this).val()):a,null==e?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=va.map(e,function(a){return null==a?"":a+""})),(b=va.valHooks[this.type]||va.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return(b=va.valHooks[e.type]||va.valHooks[e.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(zb,""):null==c?"":c)}}}),va.extend({valHooks:{option:{get:function(a){var b=va.find.attr(a,"value");return null!=b?b:Y(va.text(a))}},select:{get:function(a){var b,c,d,e=a.options,g=a.selectedIndex,h="select-one"===a.type,i=h?null:[],j=h?g+1:e.length;for(d=g<0?j:h?g:0;d<j;d++)if(c=e[d],(c.selected||d===g)&&!c.disabled&&(!c.parentNode.disabled||!f(c.parentNode,"optgroup"))){if(b=va(c).val(),h)return b;i.push(b)}return i},set:function(a,b){for(var c,d,e=a.options,f=va.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=va.inArray(va.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),va.each(["radio","checkbox"],function(){va.valHooks[this]={set:function(a,b){if(Array.isArray(b))return a.checked=va.inArray(va(a).val(),b)>-1}},ra.checkOn||(va.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),ra.focusin="onfocusin"in a;var Ab=/^(?:focusinfocus|focusoutblur)$/,Bb=function(a){a.stopPropagation()};va.extend(va.event,{trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m,n=[d||ga],o=oa.call(b,"type")?b.type:b,p=oa.call(b,"namespace")?b.namespace.split("."):[];if(g=m=h=d=d||ga,3!==d.nodeType&&8!==d.nodeType&&!Ab.test(o+va.event.triggered)&&(o.indexOf(".")>-1&&(p=o.split("."),o=p.shift(),p.sort()),j=o.indexOf(":")<0&&"on"+o,b=b[va.expando]?b:new va.Event(o,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=p.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:va.makeArray(c,[b]),l=va.event.special[o]||{},e||!l.trigger||!1!==l.trigger.apply(d,c))){if(!e&&!l.noBubble&&!ta(d)){for(i=l.delegateType||o,Ab.test(i+o)||(g=g.parentNode);g;g=g.parentNode)n.push(g),h=g;h===(d.ownerDocument||ga)&&n.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=n[f++])&&!b.isPropagationStopped();)m=g,b.type=f>1?i:l.bindType||o,k=(Na.get(g,"events")||{})[b.type]&&Na.get(g,"handle"),k&&k.apply(g,c),(k=j&&g[j])&&k.apply&&Ma(g)&&(b.result=k.apply(g,c),!1===b.result&&b.preventDefault());return b.type=o,e||b.isDefaultPrevented()||l._default&&!1!==l._default.apply(n.pop(),c)||!Ma(d)||j&&sa(d[o])&&!ta(d)&&(h=d[j],h&&(d[j]=null),va.event.triggered=o,b.isPropagationStopped()&&m.addEventListener(o,Bb),d[o](),b.isPropagationStopped()&&m.removeEventListener(o,Bb),va.event.triggered=void 0,h&&(d[j]=h)),b.result}},simulate:function(a,b,c){var d=va.extend(new va.Event,c,{type:a,isSimulated:!0});va.event.trigger(d,null,b)}}),va.fn.extend({trigger:function(a,b){return this.each(function(){va.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return va.event.trigger(a,b,c,!0)}}),ra.focusin||va.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){va.event.simulate(b,a.target,va.event.fix(a))};va.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=Na.access(d,b);e||d.addEventListener(a,c,!0),Na.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=Na.access(d,b)-1;e?Na.access(d,b,e):(d.removeEventListener(a,c,!0),Na.remove(d,b))}}});var Cb=a.location,Db=Date.now(),Eb=/\?/;va.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(a){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||va.error("Invalid XML: "+b),c};var Fb=/\[\]$/,Gb=/\r?\n/g,Hb=/^(?:submit|button|image|reset|file)$/i,Ib=/^(?:input|select|textarea|keygen)/i;va.param=function(a,b){var c,d=[],e=function(a,b){var c=sa(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(Array.isArray(a)||a.jquery&&!va.isPlainObject(a))va.each(a,function(){e(this.name,this.value)});else for(c in a)_(c,a[c],b,e);return d.join("&")},va.fn.extend({serialize:function(){return va.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=va.prop(this,"elements");return a?va.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!va(this).is(":disabled")&&Ib.test(this.nodeName)&&!Hb.test(a)&&(this.checked||!Xa.test(a))}).map(function(a,b){var c=va(this).val();return null==c?null:Array.isArray(c)?va.map(c,function(a){return{name:b.name,value:a.replace(Gb,"\r\n")}}):{name:b.name,value:c.replace(Gb,"\r\n")}}).get()}});var Jb=/%20/g,Kb=/#.*$/,Lb=/([?&])_=[^&]*/,Mb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Nb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ob=/^(?:GET|HEAD)$/,Pb=/^\/\//,Qb={},Rb={},Sb="*/".concat("*"),Tb=ga.createElement("a");Tb.href=Cb.href,va.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Cb.href,type:"GET",isLocal:Nb.test(Cb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Sb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":va.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?ca(ca(a,va.ajaxSettings),b):ca(va.ajaxSettings,a)},ajaxPrefilter:aa(Qb),ajaxTransport:aa(Rb),ajax:function(b,c){function d(b,c,d,h){var j,m,n,u,v,w=c;k||(k=!0,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&b<300||304===b,d&&(u=da(o,x,d)),u=ea(o,u,x,j),j?(o.ifModified&&(v=x.getResponseHeader("Last-Modified"),v&&(va.lastModified[f]=v),(v=x.getResponseHeader("etag"))&&(va.etag[f]=v)),204===b||"HEAD"===o.type?w="nocontent":304===b?w="notmodified":(w=u.state,m=u.data,n=u.error,j=!n)):(n=w,!b&&w||(w="error",b<0&&(b=0))),x.status=b,x.statusText=(c||w)+"",j?r.resolveWith(p,[m,w,x]):r.rejectWith(p,[x,w,n]),x.statusCode(t),t=void 0,l&&q.trigger(j?"ajaxSuccess":"ajaxError",[x,o,j?m:n]),s.fireWith(p,[x,w]),l&&(q.trigger("ajaxComplete",[x,o]),--va.active||va.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m,n,o=va.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?va(p):va.event,r=va.Deferred(),s=va.Callbacks("once memory"),t=o.statusCode||{},u={},v={},w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h)for(h={};b=Mb.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){return null==k&&(a=v[a.toLowerCase()]=v[a.toLowerCase()]||a,u[a]=b),this},overrideMimeType:function(a){return null==k&&(o.mimeType=a),this},statusCode:function(a){var b;if(a)if(k)x.always(a[x.status]);else for(b in a)t[b]=[t[b],a[b]];return this},abort:function(a){var b=a||w;return e&&e.abort(b),d(0,b),this}};if(r.promise(x),o.url=((b||o.url||Cb.href)+"").replace(Pb,Cb.protocol+"//"),o.type=c.method||c.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(Ga)||[""],null==o.crossDomain){j=ga.createElement("a");try{j.href=o.url,j.href=j.href,o.crossDomain=Tb.protocol+"//"+Tb.host!=j.protocol+"//"+j.host}catch(a){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=va.param(o.data,o.traditional)),ba(Qb,o,c,x),k)return x;l=va.event&&o.global,l&&0==va.active++&&va.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Ob.test(o.type),f=o.url.replace(Kb,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(Jb,"+")):(n=o.url.slice(f.length),o.data&&(o.processData||"string"==typeof o.data)&&(f+=(Eb.test(f)?"&":"?")+o.data,delete o.data),!1===o.cache&&(f=f.replace(Lb,"$1"),n=(Eb.test(f)?"&":"?")+"_="+Db+++n),o.url=f+n),o.ifModified&&(va.lastModified[f]&&x.setRequestHeader("If-Modified-Since",va.lastModified[f]),va.etag[f]&&x.setRequestHeader("If-None-Match",va.etag[f])),(o.data&&o.hasContent&&!1!==o.contentType||c.contentType)&&x.setRequestHeader("Content-Type",o.contentType),x.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+Sb+"; q=0.01":""):o.accepts["*"]);for(m in o.headers)x.setRequestHeader(m,o.headers[m]);if(o.beforeSend&&(!1===o.beforeSend.call(p,x,o)||k))return x.abort();if(w="abort",s.add(o.complete),x.done(o.success),x.fail(o.error),e=ba(Rb,o,c,x)){if(x.readyState=1,l&&q.trigger("ajaxSend",[x,o]),k)return x;o.async&&o.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},o.timeout));try{k=!1,e.send(u,d)}catch(a){if(k)throw a;d(-1,a)}}else d(-1,"No Transport");return x},getJSON:function(a,b,c){return va.get(a,b,c,"json")},getScript:function(a,b){return va.get(a,void 0,b,"script")}}),va.each(["get","post"],function(a,b){va[b]=function(a,c,d,e){return sa(c)&&(e=e||d,d=c,c=void 0),va.ajax(va.extend({url:a,type:b,dataType:e,data:c,success:d},va.isPlainObject(a)&&a))}}),va._evalUrl=function(a){return va.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},va.fn.extend({wrapAll:function(a){var b;return this[0]&&(sa(a)&&(a=a.call(this[0])),b=va(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return sa(a)?this.each(function(b){va(this).wrapInner(a.call(this,b))}):this.each(function(){var b=va(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=sa(a);return this.each(function(c){va(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){va(this).replaceWith(this.childNodes)}),this}}),va.expr.pseudos.hidden=function(a){return!va.expr.pseudos.visible(a)},va.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},va.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(a){}};var Ub={0:200,1223:204},Vb=va.ajaxSettings.xhr();ra.cors=!!Vb&&"withCredentials"in Vb,ra.ajax=Vb=!!Vb,va.ajaxTransport(function(b){var c,d;if(ra.cors||Vb&&!b.crossDomain)return{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.ontimeout=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Ub[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=h.ontimeout=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(a){if(c)throw a}},abort:function(){c&&c()}}}),va.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),va.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return va.globalEval(a),a}}}),va.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),va.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=va("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),ga.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Wb=[],Xb=/(=)\?(?=&|$)|\?\?/;va.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Wb.pop()||va.expando+"_"+Db++;return this[a]=!0,a}}),va.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=!1!==b.jsonp&&(Xb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xb.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=sa(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Xb,"$1"+e):!1!==b.jsonp&&(b.url+=(Eb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||va.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?va(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Wb.push(e)),g&&sa(f)&&f(g[0]),g=f=void 0}),"script"}),ra.createHTMLDocument=function(){var a=ga.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),va.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var d,e,f;return b||(ra.createHTMLDocument?(b=ga.implementation.createHTMLDocument(""),d=b.createElement("base"),d.href=ga.location.href,b.head.appendChild(d)):b=ga),e=Ba.exec(a),f=!c&&[],e?[b.createElement(e[1])]:(e=x([a],b,f),f&&f.length&&va(f).remove(),va.merge([],e.childNodes))},va.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=Y(a.slice(h)),a=a.slice(0,h)),sa(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&va.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?va("<div>").append(va.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},va.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){va.fn[b]=function(a){return this.on(b,a)}}),va.expr.pseudos.animated=function(a){return va.grep(va.timers,function(b){return a===b.elem}).length},va.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=va.css(a,"position"),l=va(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=va.css(a,"top"),i=va.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),sa(b)&&(b=b.call(a,c,va.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},va.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){va.offset.setOffset(this,a,b)});var b,c,d=this[0];if(d)return d.getClientRects().length?(b=d.getBoundingClientRect(),c=d.ownerDocument.defaultView,{top:b.top+c.pageYOffset,left:b.left+c.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var a,b,c,d=this[0],e={top:0,left:0};if("fixed"===va.css(d,"position"))b=d.getBoundingClientRect();else{for(b=this.offset(),c=d.ownerDocument,a=d.offsetParent||c.documentElement;a&&(a===c.body||a===c.documentElement)&&"static"===va.css(a,"position");)a=a.parentNode;a&&a!==d&&1===a.nodeType&&(e=va(a).offset(),e.top+=va.css(a,"borderTopWidth",!0),e.left+=va.css(a,"borderLeftWidth",!0))}return{top:b.top-e.top-va.css(d,"marginTop",!0),left:b.left-e.left-va.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===va.css(a,"position");)a=a.offsetParent;return a||ab})}}),va.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;va.fn[a]=function(d){return Ja(this,function(a,d,e){var f;if(ta(a)?f=a:9===a.nodeType&&(f=a.defaultView),void 0===e)return f?f[b]:a[d];f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e},a,d,arguments.length)}}),va.each(["top","left"],function(a,b){va.cssHooks[b]=K(ra.pixelPosition,function(a,c){if(c)return c=J(a,b),ib.test(c)?va(a).position()[b]+"px":c})}),va.each({Height:"height",Width:"width"},function(a,b){va.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){va.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(!0===e||!0===f?"margin":"border");return Ja(this,function(b,c,e){var f;return ta(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?va.css(b,c,h):va.style(b,c,e,h)},b,g?e:void 0,g)}})}),va.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){va.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),va.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),va.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),va.proxy=function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),sa(a))return d=ia.call(arguments,2),e=function(){return a.apply(b||this,d.concat(ia.call(arguments)))},e.guid=a.guid=a.guid||va.guid++,e},va.holdReady=function(a){a?va.readyWait++:va.ready(!0)},va.isArray=Array.isArray,va.parseJSON=JSON.parse,va.nodeName=f,va.isFunction=sa,va.isWindow=ta,va.camelCase=o,va.type=d,va.now=Date.now,va.isNumeric=function(a){var b=va.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return va});var Yb=a.jQuery,Zb=a.$;return va.noConflict=function(b){return a.$===va&&(a.$=Zb),b&&a.jQuery===va&&(a.jQuery=Yb),va},b||(a.jQuery=a.$=va),va})},{}],343:[function(a,c,d){!function(a){var d=function(){function a(a){var c,d,e,f,g,h,i,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),k=a.length,l=cb=b=bl=v=0,m="";if("string"==typeof a||a instanceof String)for(;l<k;)c=255&a.charCodeAt(l+0),d=255&a.charCodeAt(l+1),e=255&a.charCodeAt(l+2),f=c>>2&63,g=63&(c<<4|d>>4),h=63&(d<<2|e>>6),i=63&e,m+=j[f]+j[g]+j[h]+j[i],l+=3;else for(;l<k;)c=255&a[l+0],d=255&a[l+1],e=255&a[l+2],f=c>>2&63,g=63&(c<<4|d>>4),h=63&(d<<2|e>>6),i=63&e,m+=j[f]+j[g]+j[h]+j[i],l+=3;return l=k%3,k=m.length,1==l?m=m.substr(0,k-2)+"==":2==l&&(m=m.substr(0,k-1)+"="),m}function c(a,b){a&&this._init(a,b)}var d,e=window.URL||window.webkitURL||window.mozURL||window.msURL;try{d=Boolean(Blob)}catch(a){d=!1}return ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(a,b){if(void 0===a&&(a=0),void 0===b&&(b=this.byteLength),a=Math.floor(a),b=Math.floor(b),a<0&&(a+=this.byteLength),b<0&&(b+=this.byteLength),a=Math.min(Math.max(0,a),this.byteLength),(b=Math.min(Math.max(0,b),this.byteLength))-a<=0)return new ArrayBuffer(0);var c=new ArrayBuffer(b-a),d=new Uint8Array(c),e=new Uint8Array(this,a,b-a);return d.set(e),c}),c.prototype._init=function(a,b){this.config=b,this.pack=a},c.prototype.getType=function(a){return this._findFile(a).type||"text/plain"},c.prototype.getAsString=function(a){if(null==this.pack)return"";var b=this.getData(a);if("string"==typeof b||b instanceof String)return b;b=new Uint8Array(b);for(var c="",d=Math.ceil(b.byteLength/65535),e=0,f=0;f<d;f++)c+=String.fromCharCode.apply(null,new Uint8Array(b.buffer.slice(e,e+65535))),e+=65535;return c=decodeURIComponent(escape(c))},c.prototype.getAsURI=function(b){var c=this.getData(b),f=this.getType(b);return d?e.createObjectURL(new Blob([c],{type:f})):"data:"+f+";base64,"+a(c)},c.prototype.getAsBytes=function(a){var b=this.getData(a);if("string"==typeof b||b instanceof String){if("function"!=typeof Uint8Array)throw new Error("TypedArray are not supported");return new Uint8Array(b.split("").map(function(a){return a.charCodeAt(0)}))}return b},c.prototype.getData=function(a){var b=this._findFile(a);return this._slice(b.begin,b.end)},c.prototype._slice=function(a,b){return null==this.pack?"function"==typeof Uint8Array?new Uint8Array([]):"":"function"==typeof this.pack.substr?this.pack.substr(a,b-a):this.pack.slice(a,b)},c.prototype._findFile=function(a){for(var b=this.config.length;b-- >0;)if(this.config[b][0]==a){var c=this.config[b];return{name:c[0],begin:c[1],end:c[2],type:c[3]}}},c}();"function"==typeof define&&define.amd?define(function(){return d}):void 0!==c&&c.exports?c.exports=d:a.Unpacker=d}(this)},{}],344:[function(a,b,c){"use strict";function d(a){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}var e=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;b.exports=function(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de","5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},c=0;c<10;c++)b["_"+String.fromCharCode(c)]=c;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},d)).join("")}catch(a){return!1}}()?Object.assign:function(a,b){for(var c,h,i=d(a),j=1;j<arguments.length;j++){c=Object(arguments[j]);for(var k in c)f.call(c,k)&&(i[k]=c[k]);if(e){h=e(c);for(var l=0;l<h.length;l++)g.call(c,h[l])&&(i[h[l]]=c[h[l]])}}return i}},{}],345:[function(a,b,c){(function(d){!function(a){if("object"==typeof c&&void 0!==b)b.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var e;e="undefined"!=typeof window?window:void 0!==d?d:"undefined"!=typeof self?self:this,e.Parallax=a()}}(function(){return function b(c,d,e){function f(h,i){if(!d[h]){if(!c[h]){var j="function"==typeof a&&a;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var l=d[h]={exports:{}};c[h][0].call(l.exports,function(a){var b=c[h][1][a];return f(b||a)},l,l.exports,b,c,d,e)}return d[h].exports}for(var g="function"==typeof a&&a,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(a,b,c){"use strict";function d(a){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}var e=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;b.exports=function(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de","5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},c=0;c<10;c++)b["_"+String.fromCharCode(c)]=c;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},d)).join("")}catch(a){return!1}}()?Object.assign:function(a,b){for(var c,h,i=d(a),j=1;j<arguments.length;j++){c=Object(arguments[j]);for(var k in c)f.call(c,k)&&(i[k]=c[k]);if(e){h=e(c);for(var l=0;l<h.length;l++)g.call(c,h[l])&&(i[h[l]]=c[h[l]])}}return i}},{}],2:[function(a,b,c){(function(a){(function(){var c,d,e,f,g,h;"undefined"!=typeof performance&&null!==performance&&performance.now?b.exports=function(){return performance.now()}:void 0!==a&&null!==a&&a.hrtime?(b.exports=function(){return(c()-g)/1e6},d=a.hrtime,c=function(){var a;return a=d(),1e9*a[0]+a[1]},f=c(),h=1e9*a.uptime(),g=f-h):Date.now?(b.exports=function(){return Date.now()-e},e=Date.now()):(b.exports=function(){return(new Date).getTime()-e},e=(new Date).getTime())}).call(this)}).call(this,a("_process"))},{_process:3}],3:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],4:[function(a,b,c){(function(c){for(var d=a("performance-now"),e="undefined"==typeof window?c:window,f=["moz","webkit"],g="AnimationFrame",h=e["request"+g],i=e["cancel"+g]||e["cancelRequest"+g],j=0;!h&&j<f.length;j++)h=e[f[j]+"Request"+g],i=e[f[j]+"Cancel"+g]||e[f[j]+"CancelRequest"+g];if(!h||!i){var k=0,l=0,m=[];h=function(a){if(0===m.length){var b=d(),c=Math.max(0,1e3/60-(b-k));k=c+b,setTimeout(function(){var a=m.slice(0);m.length=0;for(var b=0;b<a.length;b++)if(!a[b].cancelled)try{a[b].callback(k)}catch(a){setTimeout(function(){throw a},0)}},Math.round(c))}return m.push({handle:++l,callback:a,cancelled:!1}),l},i=function(a){for(var b=0;b<m.length;b++)m[b].handle===a&&(m[b].cancelled=!0)}}b.exports=function(a){return h.call(e,a)},b.exports.cancel=function(){i.apply(e,arguments)},b.exports.polyfill=function(){e.requestAnimationFrame=h,e.cancelAnimationFrame=i}}).call(this,void 0!==d?d:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":2}],5:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("raf"),g=a("object-assign"),h={propertyCache:{},vendors:[null,["-webkit-","webkit"],["-moz-","Moz"],["-o-","O"],["-ms-","ms"]],clamp:function(a,b,c){return b<c?a<b?b:a>c?c:a:a<c?c:a>b?b:a},data:function(a,b){return h.deserialize(a.getAttribute("data-"+b))},deserialize:function(a){return"true"===a||"false"!==a&&("null"===a?null:!isNaN(parseFloat(a))&&isFinite(a)?parseFloat(a):a)},camelCase:function(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})},accelerate:function(a){h.css(a,"transform","translate3d(0,0,0) rotate(0.0001deg)"),h.css(a,"transform-style","preserve-3d"),h.css(a,"backface-visibility","hidden")},transformSupport:function(a){for(var b=document.createElement("div"),c=!1,d=null,e=!1,f=null,g=null,i=0,j=h.vendors.length;i<j;i++)if(null!==h.vendors[i]?(f=h.vendors[i][0]+"transform",g=h.vendors[i][1]+"Transform"):(f="transform",g="transform"),void 0!==b.style[g]){c=!0;break}switch(a){case"2D":e=c;break;case"3D":if(c){var k=document.body||document.createElement("body"),l=document.documentElement,m=l.style.overflow,n=!1;document.body||(n=!0,l.style.overflow="hidden",l.appendChild(k),k.style.overflow="hidden",k.style.background=""),k.appendChild(b),b.style[g]="translate3d(1px,1px,1px)",d=window.getComputedStyle(b).getPropertyValue(f),
e=void 0!==d&&d.length>0&&"none"!==d,l.style.overflow=m,k.removeChild(b),n&&(k.removeAttribute("style"),k.parentNode.removeChild(k))}}return e},css:function(a,b,c){var d=h.propertyCache[b];if(!d)for(var e=0,f=h.vendors.length;e<f;e++)if(d=null!==h.vendors[e]?h.camelCase(h.vendors[e][1]+"-"+b):b,void 0!==a.style[d]){h.propertyCache[b]=d;break}a.style[d]=c}},i={relativeInput:!1,clipRelativeInput:!1,inputElement:null,hoverOnly:!1,calibrationThreshold:100,calibrationDelay:500,supportDelay:500,calibrateX:!1,calibrateY:!0,invertX:!0,invertY:!0,limitX:!1,limitY:!1,scalarX:10,scalarY:10,frictionX:.1,frictionY:.1,originX:.5,originY:.5,pointerEvents:!1,precision:1,onReady:null,selector:null},j=function(){function a(b,c){d(this,a),this.element=b;var e={calibrateX:h.data(this.element,"calibrate-x"),calibrateY:h.data(this.element,"calibrate-y"),invertX:h.data(this.element,"invert-x"),invertY:h.data(this.element,"invert-y"),limitX:h.data(this.element,"limit-x"),limitY:h.data(this.element,"limit-y"),scalarX:h.data(this.element,"scalar-x"),scalarY:h.data(this.element,"scalar-y"),frictionX:h.data(this.element,"friction-x"),frictionY:h.data(this.element,"friction-y"),originX:h.data(this.element,"origin-x"),originY:h.data(this.element,"origin-y"),pointerEvents:h.data(this.element,"pointer-events"),precision:h.data(this.element,"precision"),relativeInput:h.data(this.element,"relative-input"),clipRelativeInput:h.data(this.element,"clip-relative-input"),hoverOnly:h.data(this.element,"hover-only"),inputElement:document.querySelector(h.data(this.element,"input-element")),selector:h.data(this.element,"selector")};for(var f in e)null===e[f]&&delete e[f];g(this,i,e,c),this.inputElement||(this.inputElement=this.element),this.calibrationTimer=null,this.calibrationFlag=!0,this.enabled=!1,this.depthsX=[],this.depthsY=[],this.raf=null,this.bounds=null,this.elementPositionX=0,this.elementPositionY=0,this.elementWidth=0,this.elementHeight=0,this.elementCenterX=0,this.elementCenterY=0,this.elementRangeX=0,this.elementRangeY=0,this.calibrationX=0,this.calibrationY=0,this.inputX=0,this.inputY=0,this.motionX=0,this.motionY=0,this.velocityX=0,this.velocityY=0,this.onMouseMove=this.onMouseMove.bind(this),this.onDeviceOrientation=this.onDeviceOrientation.bind(this),this.onDeviceMotion=this.onDeviceMotion.bind(this),this.onOrientationTimer=this.onOrientationTimer.bind(this),this.onMotionTimer=this.onMotionTimer.bind(this),this.onCalibrationTimer=this.onCalibrationTimer.bind(this),this.onAnimationFrame=this.onAnimationFrame.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.windowWidth=null,this.windowHeight=null,this.windowCenterX=null,this.windowCenterY=null,this.windowRadiusX=null,this.windowRadiusY=null,this.portrait=!1,this.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),this.motionSupport=!!window.DeviceMotionEvent&&!this.desktop,this.orientationSupport=!!window.DeviceOrientationEvent&&!this.desktop,this.orientationStatus=0,this.motionStatus=0,this.initialise()}return e(a,[{key:"initialise",value:function(){void 0===this.transform2DSupport&&(this.transform2DSupport=h.transformSupport("2D"),this.transform3DSupport=h.transformSupport("3D")),this.transform3DSupport&&h.accelerate(this.element),"static"===window.getComputedStyle(this.element).getPropertyValue("position")&&(this.element.style.position="relative"),this.pointerEvents||(this.element.style.pointerEvents="none"),this.updateLayers(),this.updateDimensions(),this.enable(),this.queueCalibration(this.calibrationDelay)}},{key:"doReadyCallback",value:function(){this.onReady&&this.onReady()}},{key:"updateLayers",value:function(){this.selector?this.layers=this.element.querySelectorAll(this.selector):this.layers=this.element.children,this.layers.length,this.depthsX=[],this.depthsY=[];for(var a=0;a<this.layers.length;a++){var b=this.layers[a];this.transform3DSupport&&h.accelerate(b),b.style.position=a?"absolute":"relative",b.style.display="block",b.style.left=0,b.style.top=0;var c=h.data(b,"depth")||0;this.depthsX.push(h.data(b,"depth-x")||c),this.depthsY.push(h.data(b,"depth-y")||c)}}},{key:"updateDimensions",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.windowCenterX=this.windowWidth*this.originX,this.windowCenterY=this.windowHeight*this.originY,this.windowRadiusX=Math.max(this.windowCenterX,this.windowWidth-this.windowCenterX),this.windowRadiusY=Math.max(this.windowCenterY,this.windowHeight-this.windowCenterY)}},{key:"updateBounds",value:function(){this.bounds=this.inputElement.getBoundingClientRect(),this.elementPositionX=this.bounds.left,this.elementPositionY=this.bounds.top,this.elementWidth=this.bounds.width,this.elementHeight=this.bounds.height,this.elementCenterX=this.elementWidth*this.originX,this.elementCenterY=this.elementHeight*this.originY,this.elementRangeX=Math.max(this.elementCenterX,this.elementWidth-this.elementCenterX),this.elementRangeY=Math.max(this.elementCenterY,this.elementHeight-this.elementCenterY)}},{key:"queueCalibration",value:function(a){clearTimeout(this.calibrationTimer),this.calibrationTimer=setTimeout(this.onCalibrationTimer,a)}},{key:"enable",value:function(){this.enabled||(this.enabled=!0,this.orientationSupport?(this.portrait=!1,window.addEventListener("deviceorientation",this.onDeviceOrientation),this.detectionTimer=setTimeout(this.onOrientationTimer,this.supportDelay)):this.motionSupport?(this.portrait=!1,window.addEventListener("devicemotion",this.onDeviceMotion),this.detectionTimer=setTimeout(this.onMotionTimer,this.supportDelay)):(this.calibrationX=0,this.calibrationY=0,this.portrait=!1,window.addEventListener("mousemove",this.onMouseMove),this.doReadyCallback()),window.addEventListener("resize",this.onWindowResize),this.raf=f(this.onAnimationFrame))}},{key:"disable",value:function(){this.enabled&&(this.enabled=!1,this.orientationSupport?window.removeEventListener("deviceorientation",this.onDeviceOrientation):this.motionSupport?window.removeEventListener("devicemotion",this.onDeviceMotion):window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("resize",this.onWindowResize),f.cancel(this.raf))}},{key:"calibrate",value:function(a,b){this.calibrateX=void 0===a?this.calibrateX:a,this.calibrateY=void 0===b?this.calibrateY:b}},{key:"invert",value:function(a,b){this.invertX=void 0===a?this.invertX:a,this.invertY=void 0===b?this.invertY:b}},{key:"friction",value:function(a,b){this.frictionX=void 0===a?this.frictionX:a,this.frictionY=void 0===b?this.frictionY:b}},{key:"scalar",value:function(a,b){this.scalarX=void 0===a?this.scalarX:a,this.scalarY=void 0===b?this.scalarY:b}},{key:"limit",value:function(a,b){this.limitX=void 0===a?this.limitX:a,this.limitY=void 0===b?this.limitY:b}},{key:"origin",value:function(a,b){this.originX=void 0===a?this.originX:a,this.originY=void 0===b?this.originY:b}},{key:"setInputElement",value:function(a){this.inputElement=a,this.updateDimensions()}},{key:"setPosition",value:function(a,b,c){b=b.toFixed(this.precision)+"px",c=c.toFixed(this.precision)+"px",this.transform3DSupport?h.css(a,"transform","translate3d("+b+","+c+",0)"):this.transform2DSupport?h.css(a,"transform","translate("+b+","+c+")"):(a.style.left=b,a.style.top=c)}},{key:"onOrientationTimer",value:function(){this.orientationSupport&&0===this.orientationStatus?(this.disable(),this.orientationSupport=!1,this.enable()):this.doReadyCallback()}},{key:"onMotionTimer",value:function(){this.motionSupport&&0===this.motionStatus?(this.disable(),this.motionSupport=!1,this.enable()):this.doReadyCallback()}},{key:"onCalibrationTimer",value:function(){this.calibrationFlag=!0}},{key:"onWindowResize",value:function(){this.updateDimensions()}},{key:"onAnimationFrame",value:function(){this.updateBounds();var a=this.inputX-this.calibrationX,b=this.inputY-this.calibrationY;(Math.abs(a)>this.calibrationThreshold||Math.abs(b)>this.calibrationThreshold)&&this.queueCalibration(0),this.portrait?(this.motionX=this.calibrateX?b:this.inputY,this.motionY=this.calibrateY?a:this.inputX):(this.motionX=this.calibrateX?a:this.inputX,this.motionY=this.calibrateY?b:this.inputY),this.motionX*=this.elementWidth*(this.scalarX/100),this.motionY*=this.elementHeight*(this.scalarY/100),isNaN(parseFloat(this.limitX))||(this.motionX=h.clamp(this.motionX,-this.limitX,this.limitX)),isNaN(parseFloat(this.limitY))||(this.motionY=h.clamp(this.motionY,-this.limitY,this.limitY)),this.velocityX+=(this.motionX-this.velocityX)*this.frictionX,this.velocityY+=(this.motionY-this.velocityY)*this.frictionY;for(var c=0;c<this.layers.length;c++){var d=this.layers[c],e=this.depthsX[c],g=this.depthsY[c],i=this.velocityX*(e*(this.invertX?-1:1)),j=this.velocityY*(g*(this.invertY?-1:1));this.setPosition(d,i,j)}this.raf=f(this.onAnimationFrame)}},{key:"rotate",value:function(a,b){var c=(a||0)/30,d=(b||0)/30,e=this.windowHeight>this.windowWidth;this.portrait!==e&&(this.portrait=e,this.calibrationFlag=!0),this.calibrationFlag&&(this.calibrationFlag=!1,this.calibrationX=c,this.calibrationY=d),this.inputX=c,this.inputY=d}},{key:"onDeviceOrientation",value:function(a){var b=a.beta,c=a.gamma;null!==b&&null!==c&&(this.orientationStatus=1,this.rotate(b,c))}},{key:"onDeviceMotion",value:function(a){var b=a.rotationRate.beta,c=a.rotationRate.gamma;null!==b&&null!==c&&(this.motionStatus=1,this.rotate(b,c))}},{key:"onMouseMove",value:function(a){var b=a.clientX,c=a.clientY;if(this.hoverOnly&&(b<this.elementPositionX||b>this.elementPositionX+this.elementWidth||c<this.elementPositionY||c>this.elementPositionY+this.elementHeight))return this.inputX=0,void(this.inputY=0);this.relativeInput?(this.clipRelativeInput&&(b=Math.max(b,this.elementPositionX),b=Math.min(b,this.elementPositionX+this.elementWidth),c=Math.max(c,this.elementPositionY),c=Math.min(c,this.elementPositionY+this.elementHeight)),this.elementRangeX&&this.elementRangeY&&(this.inputX=(b-this.elementPositionX-this.elementCenterX)/this.elementRangeX,this.inputY=(c-this.elementPositionY-this.elementCenterY)/this.elementRangeY)):this.windowRadiusX&&this.windowRadiusY&&(this.inputX=(b-this.windowCenterX)/this.windowRadiusX,this.inputY=(c-this.windowCenterY)/this.windowRadiusY)}},{key:"destroy",value:function(){this.disable(),clearTimeout(this.calibrationTimer),clearTimeout(this.detectionTimer),this.element.removeAttribute("style");for(var a=0;a<this.layers.length;a++)this.layers[a].removeAttribute("style");delete this.element,delete this.layers}},{key:"version",value:function(){return"3.1.0"}}]),a}();b.exports=j},{"object-assign":1,raf:4}]},{},[5])(5)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:352,"object-assign":344,"performance-now":349,raf:353}],346:[function(a,b,c){(function(a){function b(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a){"string"!=typeof a&&(a+="");var b,c=0,d=-1,e=!0;for(b=a.length-1;b>=0;--b)if(47===a.charCodeAt(b)){if(!e){c=b+1;break}}else-1===d&&(e=!1,d=b+1);return-1===d?"":a.slice(c,d)}function e(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}c.resolve=function(){for(var c="",d=!1,f=arguments.length-1;f>=-1&&!d;f--){var g=f>=0?arguments[f]:a.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(c=g+"/"+c,d="/"===g.charAt(0))}return c=b(e(c.split("/"),function(a){return!!a}),!d).join("/"),(d?"/":"")+c||"."},c.normalize=function(a){var d=c.isAbsolute(a),g="/"===f(a,-1);return a=b(e(a.split("/"),function(a){return!!a}),!d).join("/"),a||d||(a="."),a&&g&&(a+="/"),(d?"/":"")+a},c.isAbsolute=function(a){return"/"===a.charAt(0)},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(e(a,function(a,b){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},c.relative=function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=c.resolve(a).substr(1),b=c.resolve(b).substr(1);for(var e=d(a.split("/")),f=d(b.split("/")),g=Math.min(e.length,f.length),h=g,i=0;i<g;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},c.sep="/",c.delimiter=":",c.dirname=function(a){if("string"!=typeof a&&(a+=""),0===a.length)return".";for(var b=a.charCodeAt(0),c=47===b,d=-1,e=!0,f=a.length-1;f>=1;--f)if(47===(b=a.charCodeAt(f))){if(!e){d=f;break}}else e=!1;return-1===d?c?"/":".":c&&1===d?"/":a.slice(0,d)},c.basename=function(a,b){var c=d(a);return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){"string"!=typeof a&&(a+="");for(var b=-1,c=0,d=-1,e=!0,f=0,g=a.length-1;g>=0;--g){var h=a.charCodeAt(g);if(47!==h)-1===d&&(e=!1,d=g+1),46===h?-1===b?b=g:1!==f&&(f=1):-1!==b&&(f=-1);else if(!e){c=g+1;break}}return-1===b||-1===d||0===f||1===f&&b===d-1&&b===c+1?"":a.slice(b,d)};var f="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return b<0&&(b=a.length+b),a.substr(b,c)}}).call(this,a("_process"))},{_process:352}],347:[function(a,b,c){function d(a,b){for(var c,d=[],e=0,f=0,g="",h=b&&b.delimiter||"/";null!=(c=s.exec(a));){var k=c[0],l=c[1],m=c.index;if(g+=a.slice(f,m),f=m+k.length,l)g+=l[1];else{var n=a[f],o=c[2],p=c[3],q=c[4],r=c[5],t=c[6],u=c[7];g&&(d.push(g),g="");var v=null!=o&&null!=n&&n!==o,w="+"===t||"*"===t,x="?"===t||"*"===t,y=c[2]||h,z=q||r;d.push({name:p||e++,prefix:o||"",delimiter:y,optional:x,repeat:w,partial:v,asterisk:!!u,pattern:z?j(z):u?".*":"[^"+i(y)+"]+?"})}}return f<a.length&&(g+=a.substr(f)),g&&d.push(g),d}function e(a,b){return h(d(a,b))}function f(a){return encodeURI(a).replace(/[\/?#]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}function g(a){return encodeURI(a).replace(/[?#]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}function h(a){for(var b=new Array(a.length),c=0;c<a.length;c++)"object"==typeof a[c]&&(b[c]=new RegExp("^(?:"+a[c].pattern+")$"));return function(c,d){for(var e="",h=c||{},i=d||{},j=i.pretty?f:encodeURIComponent,k=0;k<a.length;k++){var l=a[k];if("string"!=typeof l){var m,n=h[l.name];if(null==n){if(l.optional){l.partial&&(e+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(n)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(n)+"`");if(0===n.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var o=0;o<n.length;o++){if(m=j(n[o]),!b[k].test(m))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(m)+"`");e+=(0===o?l.prefix:l.delimiter)+m}}else{if(m=l.asterisk?g(n):j(n),!b[k].test(m))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+m+'"');e+=l.prefix+m}}else e+=l}return e}}function i(a){return a.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function j(a){return a.replace(/([=!:$\/()])/g,"\\$1")}function k(a,b){return a.keys=b,a}function l(a){return a.sensitive?"":"i"}function m(a,b){var c=a.source.match(/\((?!\?)/g);if(c)for(var d=0;d<c.length;d++)b.push({name:d,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return k(a,b)}function n(a,b,c){for(var d=[],e=0;e<a.length;e++)d.push(q(a[e],b,c).source);return k(new RegExp("(?:"+d.join("|")+")",l(c)),b)}function o(a,b,c){return p(d(a,c),b,c)}function p(a,b,c){r(b)||(c=b||c,b=[]),c=c||{};for(var d=c.strict,e=!1!==c.end,f="",g=0;g<a.length;g++){var h=a[g];if("string"==typeof h)f+=i(h);else{var j=i(h.prefix),m="(?:"+h.pattern+")";b.push(h),h.repeat&&(m+="(?:"+j+m+")*"),m=h.optional?h.partial?j+"("+m+")?":"(?:"+j+"("+m+"))?":j+"("+m+")",f+=m}}var n=i(c.delimiter||"/"),o=f.slice(-n.length)===n;return d||(f=(o?f.slice(0,-n.length):f)+"(?:"+n+"(?=$))?"),f+=e?"$":d&&o?"":"(?="+n+"|$)",k(new RegExp("^"+f,l(c)),b)}function q(a,b,c){return r(b)||(c=b||c,b=[]),c=c||{},a instanceof RegExp?m(a,b):r(a)?n(a,b,c):o(a,b,c)}var r=a("isarray");b.exports=q,b.exports.parse=d,b.exports.compile=e,b.exports.tokensToFunction=h,b.exports.tokensToRegExp=p;var s=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},{isarray:340}],348:[function(a,b,c){"use strict";function d(a){return getComputedStyle(a)}function e(a,b){for(var c in b){var d=b[c];"number"==typeof d&&(d+="px"),a.style[c]=d}return a}function f(a){var b=document.createElement("div");return b.className=a,b}function g(a,b){if(!u)throw new Error("No element matching method supported");return u.call(a,b)}function h(a){a.remove?a.remove():a.parentNode&&a.parentNode.removeChild(a)}function i(a,b){return Array.prototype.filter.call(a.children,function(a){return g(a,b)})}function j(a,b){var c=a.element.classList,d=v.state.scrolling(b);c.contains(d)?clearTimeout(w[b]):c.add(d)}function k(a,b){w[b]=setTimeout(function(){return a.isAlive&&a.element.classList.remove(v.state.scrolling(b))},a.settings.scrollingThreshold)}function l(a,b){j(a,b),k(a,b)}function m(a){if("function"==typeof window.CustomEvent)return new CustomEvent(a);var b=document.createEvent("CustomEvent");return b.initCustomEvent(a,!1,!1,void 0),b}function n(a,b,c,d,e){var f=c[0],g=c[1],h=c[2],i=c[3],j=c[4],k=c[5];void 0===d&&(d=!0),void 0===e&&(e=!1);var n=a.element;a.reach[i]=null,n[h]<1&&(a.reach[i]="start"),n[h]>a[f]-a[g]-1&&(a.reach[i]="end"),b&&(n.dispatchEvent(m("ps-scroll-"+i)),b<0?n.dispatchEvent(m("ps-scroll-"+j)):b>0&&n.dispatchEvent(m("ps-scroll-"+k)),d&&l(a,i)),a.reach[i]&&(b||e)&&n.dispatchEvent(m("ps-"+i+"-reach-"+a.reach[i]))}function o(a){return parseInt(a,10)||0}function p(a){return g(a,"input,[contenteditable]")||g(a,"select,[contenteditable]")||g(a,"textarea,[contenteditable]")||g(a,"button,[contenteditable]")}function q(a){var b=d(a);return o(b.width)+o(b.paddingLeft)+o(b.paddingRight)+o(b.borderLeftWidth)+o(b.borderRightWidth)}function r(a,b){return a.settings.minScrollbarLength&&(b=Math.max(b,a.settings.minScrollbarLength)),a.settings.maxScrollbarLength&&(b=Math.min(b,a.settings.maxScrollbarLength)),b}function s(a,b){var c={width:b.railXWidth},d=Math.floor(a.scrollTop);b.isRtl?c.left=b.negativeScrollAdjustment+a.scrollLeft+b.containerWidth-b.contentWidth:c.left=a.scrollLeft,b.isScrollbarXUsingBottom?c.bottom=b.scrollbarXBottom-d:c.top=b.scrollbarXTop+d,e(b.scrollbarXRail,c);var f={top:d,height:b.railYHeight};b.isScrollbarYUsingRight?b.isRtl?f.right=b.contentWidth-(b.negativeScrollAdjustment+a.scrollLeft)-b.scrollbarYRight-b.scrollbarYOuterWidth:f.right=b.scrollbarYRight-a.scrollLeft:b.isRtl?f.left=b.negativeScrollAdjustment+a.scrollLeft+2*b.containerWidth-b.contentWidth-b.scrollbarYLeft-b.scrollbarYOuterWidth:f.left=b.scrollbarYLeft+a.scrollLeft,e(b.scrollbarYRail,f),e(b.scrollbarX,{left:b.scrollbarXLeft,width:b.scrollbarXWidth-b.railBorderXWidth}),e(b.scrollbarY,{top:b.scrollbarYTop,height:b.scrollbarYHeight-b.railBorderYWidth})}function t(a,b){function c(b){p[m]=q+s*(b[g]-r),j(a,n),C(a),b.stopPropagation(),b.preventDefault()}function d(){k(a,n),a[o].classList.remove(v.state.clicking),a.event.unbind(a.ownerDocument,"mousemove",c)}var e=b[0],f=b[1],g=b[2],h=b[3],i=b[4],l=b[5],m=b[6],n=b[7],o=b[8],p=a.element,q=null,r=null,s=null;a.event.bind(a[i],"mousedown",function(b){q=p[m],r=b[g],s=(a[f]-a[e])/(a[h]-a[l]),a.event.bind(a.ownerDocument,"mousemove",c),a.event.once(a.ownerDocument,"mouseup",d),a[o].classList.add(v.state.clicking),b.stopPropagation(),b.preventDefault()})}var u="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),v={main:"ps",element:{thumb:function(a){return"ps__thumb-"+a},rail:function(a){return"ps__rail-"+a},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(a){return"ps--active-"+a},scrolling:function(a){return"ps--scrolling-"+a}}},w={x:null,y:null},x=function(a){this.element=a,this.handlers={}},y={isEmpty:{configurable:!0}};x.prototype.bind=function(a,b){void 0===this.handlers[a]&&(this.handlers[a]=[]),this.handlers[a].push(b),this.element.addEventListener(a,b,!1)},x.prototype.unbind=function(a,b){var c=this;this.handlers[a]=this.handlers[a].filter(function(d){return!(!b||d===b)||(c.element.removeEventListener(a,d,!1),!1)})},x.prototype.unbindAll=function(){var a=this;for(var b in a.handlers)a.unbind(b)},y.isEmpty.get=function(){var a=this;return Object.keys(this.handlers).every(function(b){return 0===a.handlers[b].length})},Object.defineProperties(x.prototype,y);var z=function(){this.eventElements=[]};z.prototype.eventElement=function(a){var b=this.eventElements.filter(function(b){return b.element===a})[0];return b||(b=new x(a),this.eventElements.push(b)),b},z.prototype.bind=function(a,b,c){this.eventElement(a).bind(b,c)},z.prototype.unbind=function(a,b,c){var d=this.eventElement(a);d.unbind(b,c),d.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(d),1)},z.prototype.unbindAll=function(){this.eventElements.forEach(function(a){return a.unbindAll()}),this.eventElements=[]},z.prototype.once=function(a,b,c){var d=this.eventElement(a),e=function(a){d.unbind(b,e),c(a)};d.bind(b,e)};var A=function(a,b,c,d,e){void 0===d&&(d=!0),void 0===e&&(e=!1);var f;if("top"===b)f=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==b)throw new Error("A proper axis should be provided");f=["contentWidth","containerWidth","scrollLeft","x","left","right"]}n(a,c,f,d,e)},B={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},C=function(a){var b=a.element,c=Math.floor(b.scrollTop);a.containerWidth=b.clientWidth,a.containerHeight=b.clientHeight,a.contentWidth=b.scrollWidth,a.contentHeight=b.scrollHeight,b.contains(a.scrollbarXRail)||(i(b,v.element.rail("x")).forEach(function(a){return h(a)}),b.appendChild(a.scrollbarXRail)),b.contains(a.scrollbarYRail)||(i(b,v.element.rail("y")).forEach(function(a){return h(a)}),b.appendChild(a.scrollbarYRail)),!a.settings.suppressScrollX&&a.containerWidth+a.settings.scrollXMarginOffset<a.contentWidth?(a.scrollbarXActive=!0,a.railXWidth=a.containerWidth-a.railXMarginWidth,a.railXRatio=a.containerWidth/a.railXWidth,a.scrollbarXWidth=r(a,o(a.railXWidth*a.containerWidth/a.contentWidth)),a.scrollbarXLeft=o((a.negativeScrollAdjustment+b.scrollLeft)*(a.railXWidth-a.scrollbarXWidth)/(a.contentWidth-a.containerWidth))):a.scrollbarXActive=!1,!a.settings.suppressScrollY&&a.containerHeight+a.settings.scrollYMarginOffset<a.contentHeight?(a.scrollbarYActive=!0,a.railYHeight=a.containerHeight-a.railYMarginHeight,a.railYRatio=a.containerHeight/a.railYHeight,a.scrollbarYHeight=r(a,o(a.railYHeight*a.containerHeight/a.contentHeight)),a.scrollbarYTop=o(c*(a.railYHeight-a.scrollbarYHeight)/(a.contentHeight-a.containerHeight))):a.scrollbarYActive=!1,a.scrollbarXLeft>=a.railXWidth-a.scrollbarXWidth&&(a.scrollbarXLeft=a.railXWidth-a.scrollbarXWidth),a.scrollbarYTop>=a.railYHeight-a.scrollbarYHeight&&(a.scrollbarYTop=a.railYHeight-a.scrollbarYHeight),s(b,a),a.scrollbarXActive?b.classList.add(v.state.active("x")):(b.classList.remove(v.state.active("x")),a.scrollbarXWidth=0,a.scrollbarXLeft=0,b.scrollLeft=0),a.scrollbarYActive?b.classList.add(v.state.active("y")):(b.classList.remove(v.state.active("y")),a.scrollbarYHeight=0,a.scrollbarYTop=0,b.scrollTop=0)},D=function(a){a.event.bind(a.scrollbarY,"mousedown",function(a){return a.stopPropagation()}),a.event.bind(a.scrollbarYRail,"mousedown",function(b){var c=b.pageY-window.pageYOffset-a.scrollbarYRail.getBoundingClientRect().top,d=c>a.scrollbarYTop?1:-1;a.element.scrollTop+=d*a.containerHeight,C(a),b.stopPropagation()}),a.event.bind(a.scrollbarX,"mousedown",function(a){return a.stopPropagation()}),a.event.bind(a.scrollbarXRail,"mousedown",function(b){var c=b.pageX-window.pageXOffset-a.scrollbarXRail.getBoundingClientRect().left,d=c>a.scrollbarXLeft?1:-1;a.element.scrollLeft+=d*a.containerWidth,C(a),b.stopPropagation()})},E=function(a){t(a,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),t(a,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},F=function(a){function b(b,d){var e=Math.floor(c.scrollTop);if(0===b){if(!a.scrollbarYActive)return!1;if(0===e&&d>0||e>=a.contentHeight-a.containerHeight&&d<0)return!a.settings.wheelPropagation}var f=c.scrollLeft;if(0===d){if(!a.scrollbarXActive)return!1;if(0===f&&b<0||f>=a.contentWidth-a.containerWidth&&b>0)return!a.settings.wheelPropagation}return!0}var c=a.element,d=function(){return g(c,":hover")},e=function(){return g(a.scrollbarX,":focus")||g(a.scrollbarY,":focus")};a.event.bind(a.ownerDocument,"keydown",function(f){if(!(f.isDefaultPrevented&&f.isDefaultPrevented()||f.defaultPrevented)&&(d()||e())){var g=document.activeElement?document.activeElement:a.ownerDocument.activeElement;if(g){if("IFRAME"===g.tagName)g=g.contentDocument.activeElement;else for(;g.shadowRoot;)g=g.shadowRoot.activeElement;if(p(g))return}var h=0,i=0;switch(f.which){case 37:h=f.metaKey?-a.contentWidth:f.altKey?-a.containerWidth:-30;break;case 38:i=f.metaKey?a.contentHeight:f.altKey?a.containerHeight:30;break;case 39:h=f.metaKey?a.contentWidth:f.altKey?a.containerWidth:30;break;case 40:i=f.metaKey?-a.contentHeight:f.altKey?-a.containerHeight:-30;break;case 32:i=f.shiftKey?a.containerHeight:-a.containerHeight;break;case 33:i=a.containerHeight;break;case 34:i=-a.containerHeight;break;case 36:i=a.contentHeight;break;case 35:i=-a.contentHeight;break;default:return}a.settings.suppressScrollX&&0!==h||a.settings.suppressScrollY&&0!==i||(c.scrollTop-=i,c.scrollLeft+=h,C(a),b(h,i)&&f.preventDefault())}})},G=function(a){function b(b,c){var d=Math.floor(g.scrollTop),e=0===g.scrollTop,f=d+g.offsetHeight===g.scrollHeight,h=0===g.scrollLeft,i=g.scrollLeft+g.offsetWidth===g.scrollWidth;return!(Math.abs(c)>Math.abs(b)?e||f:h||i)||!a.settings.wheelPropagation}function c(a){var b=a.deltaX,c=-1*a.deltaY;return void 0!==b&&void 0!==c||(b=-1*a.wheelDeltaX/6,c=a.wheelDeltaY/6),a.deltaMode&&1===a.deltaMode&&(b*=10,c*=10),b!==b&&c!==c&&(b=0,c=a.wheelDelta),a.shiftKey?[-c,-b]:[b,c]}function e(a,b,c){if(!B.isWebKit&&g.querySelector("select:focus"))return!0;if(!g.contains(a))return!1;for(var e=a;e&&e!==g;){if(e.classList.contains(v.element.consuming))return!0;var f=d(e);if([f.overflow,f.overflowX,f.overflowY].join("").match(/(scroll|auto)/)){var h=e.scrollHeight-e.clientHeight;if(h>0&&!(0===e.scrollTop&&c>0||e.scrollTop===h&&c<0))return!0;var i=e.scrollWidth-e.clientWidth;if(i>0&&!(0===e.scrollLeft&&b<0||e.scrollLeft===i&&b>0))return!0}e=e.parentNode}return!1}function f(d){var f=c(d),h=f[0],i=f[1];if(!e(d.target,h,i)){var j=!1;a.settings.useBothWheelAxes?a.scrollbarYActive&&!a.scrollbarXActive?(i?g.scrollTop-=i*a.settings.wheelSpeed:g.scrollTop+=h*a.settings.wheelSpeed,j=!0):a.scrollbarXActive&&!a.scrollbarYActive&&(h?g.scrollLeft+=h*a.settings.wheelSpeed:g.scrollLeft-=i*a.settings.wheelSpeed,j=!0):(g.scrollTop-=i*a.settings.wheelSpeed,g.scrollLeft+=h*a.settings.wheelSpeed),C(a),j=j||b(h,i),j&&!d.ctrlKey&&(d.stopPropagation(),d.preventDefault())}}var g=a.element;void 0!==window.onwheel?a.event.bind(g,"wheel",f):void 0!==window.onmousewheel&&a.event.bind(g,"mousewheel",f)},H=function(a){function b(b,c){var d=Math.floor(k.scrollTop),e=k.scrollLeft,f=Math.abs(b),g=Math.abs(c);if(g>f){if(c<0&&d===a.contentHeight-a.containerHeight||c>0&&0===d)return 0===window.scrollY&&c>0&&B.isChrome}else if(f>g&&(b<0&&e===a.contentWidth-a.containerWidth||b>0&&0===e))return!0;return!0}function c(b,c){k.scrollTop-=c,k.scrollLeft-=b,C(a)}function e(a){return a.targetTouches?a.targetTouches[0]:a}function f(a){return(!a.pointerType||"pen"!==a.pointerType||0!==a.buttons)&&(!(!a.targetTouches||1!==a.targetTouches.length)||!(!a.pointerType||"mouse"===a.pointerType||a.pointerType===a.MSPOINTER_TYPE_MOUSE))}function g(a){if(f(a)){var b=e(a);l.pageX=b.pageX,l.pageY=b.pageY,m=(new Date).getTime(),null!==o&&clearInterval(o)}}function h(a,b,c){if(!k.contains(a))return!1;for(var e=a;e&&e!==k;){if(e.classList.contains(v.element.consuming))return!0;var f=d(e);if([f.overflow,f.overflowX,f.overflowY].join("").match(/(scroll|auto)/)){var g=e.scrollHeight-e.clientHeight;if(g>0&&!(0===e.scrollTop&&c>0||e.scrollTop===g&&c<0))return!0;var h=e.scrollLeft-e.clientWidth;if(h>0&&!(0===e.scrollLeft&&b<0||e.scrollLeft===h&&b>0))return!0}e=e.parentNode}return!1}function i(a){if(f(a)){var d=e(a),g={pageX:d.pageX,pageY:d.pageY},i=g.pageX-l.pageX,j=g.pageY-l.pageY;if(h(a.target,i,j))return;c(i,j),l=g;var k=(new Date).getTime(),o=k-m;o>0&&(n.x=i/o,n.y=j/o,m=k),b(i,j)&&a.preventDefault()}}function j(){a.settings.swipeEasing&&(clearInterval(o),o=setInterval(function(){return a.isInitialized?void clearInterval(o):n.x||n.y?Math.abs(n.x)<.01&&Math.abs(n.y)<.01?void clearInterval(o):(c(30*n.x,30*n.y),n.x*=.8,void(n.y*=.8)):void clearInterval(o)},10))}if(B.supportsTouch||B.supportsIePointer){var k=a.element,l={},m=0,n={},o=null;B.supportsTouch?(a.event.bind(k,"touchstart",g),a.event.bind(k,"touchmove",i),a.event.bind(k,"touchend",j)):B.supportsIePointer&&(window.PointerEvent?(a.event.bind(k,"pointerdown",g),a.event.bind(k,"pointermove",i),a.event.bind(k,"pointerup",j)):window.MSPointerEvent&&(a.event.bind(k,"MSPointerDown",g),a.event.bind(k,"MSPointerMove",i),a.event.bind(k,"MSPointerUp",j)))}},I=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},J={"click-rail":D,"drag-thumb":E,keyboard:F,wheel:G,touch:H},K=function(a,b){var c=this;if(void 0===b&&(b={}),"string"==typeof a&&(a=document.querySelector(a)),!a||!a.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=a,a.classList.add(v.main),this.settings=I();for(var g in b)c.settings[g]=b[g];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var h=function(){return a.classList.add(v.state.focus)},i=function(){return a.classList.remove(v.state.focus)};this.isRtl="rtl"===d(a).direction,this.isNegativeScroll=function(){var b=a.scrollLeft,c=null;return a.scrollLeft=-1,c=a.scrollLeft<0,a.scrollLeft=b,c}(),this.negativeScrollAdjustment=this.isNegativeScroll?a.scrollWidth-a.clientWidth:0,this.event=new z,this.ownerDocument=a.ownerDocument||document,this.scrollbarXRail=f(v.element.rail("x")),a.appendChild(this.scrollbarXRail),this.scrollbarX=f(v.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",h),this.event.bind(this.scrollbarX,"blur",i),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var j=d(this.scrollbarXRail);this.scrollbarXBottom=parseInt(j.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=o(j.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=o(j.borderLeftWidth)+o(j.borderRightWidth),e(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=o(j.marginLeft)+o(j.marginRight),e(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,
this.scrollbarYRail=f(v.element.rail("y")),a.appendChild(this.scrollbarYRail),this.scrollbarY=f(v.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",h),this.event.bind(this.scrollbarY,"blur",i),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var k=d(this.scrollbarYRail);this.scrollbarYRight=parseInt(k.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=o(k.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?q(this.scrollbarY):null,this.railBorderYWidth=o(k.borderTopWidth)+o(k.borderBottomWidth),e(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=o(k.marginTop)+o(k.marginBottom),e(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:a.scrollLeft<=0?"start":a.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:a.scrollTop<=0?"start":a.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(a){return J[a](c)}),this.lastScrollTop=Math.floor(a.scrollTop),this.lastScrollLeft=a.scrollLeft,this.event.bind(this.element,"scroll",function(a){return c.onScroll(a)}),C(this)};K.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,e(this.scrollbarXRail,{display:"block"}),e(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=o(d(this.scrollbarXRail).marginLeft)+o(d(this.scrollbarXRail).marginRight),this.railYMarginHeight=o(d(this.scrollbarYRail).marginTop)+o(d(this.scrollbarYRail).marginBottom),e(this.scrollbarXRail,{display:"none"}),e(this.scrollbarYRail,{display:"none"}),C(this),A(this,"top",0,!1,!0),A(this,"left",0,!1,!0),e(this.scrollbarXRail,{display:""}),e(this.scrollbarYRail,{display:""}))},K.prototype.onScroll=function(a){this.isAlive&&(C(this),A(this,"top",this.element.scrollTop-this.lastScrollTop),A(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},K.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),h(this.scrollbarX),h(this.scrollbarY),h(this.scrollbarXRail),h(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},K.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(a){return!a.match(/^ps([-_].+|)$/)}).join(" ")},b.exports=K},{}],349:[function(a,b,c){(function(a){(function(){var c,d,e,f,g,h;"undefined"!=typeof performance&&null!==performance&&performance.now?b.exports=function(){return performance.now()}:void 0!==a&&null!==a&&a.hrtime?(b.exports=function(){return(c()-g)/1e6},d=a.hrtime,c=function(){var a;return a=d(),1e9*a[0]+a[1]},f=c(),h=1e9*a.uptime(),g=f-h):Date.now?(b.exports=function(){return Date.now()-e},e=Date.now()):(b.exports=function(){return(new Date).getTime()-e},e=(new Date).getTime())}).call(this)}).call(this,a("_process"))},{_process:352}],350:[function(a,b,c){(function(a){"object"==typeof navigator&&function(a,d){"object"==typeof c&&void 0!==b?b.exports=d():"function"==typeof define&&define.amd?define("Plyr",d):a.Plyr=d()}(this,function(){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function c(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function d(a,b,d){return b&&c(a.prototype,b),d&&c(a,d),a}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h.return||h.return()}finally{if(e)throw f}}return c}(a,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function g(a){return function(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}}(a)||function(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(a,b){if(b<1){var c=(d="".concat(b).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/))?Math.max(0,(d[1]?d[1].length:0)-(d[2]?+d[2]:0)):0;return parseFloat(a.toFixed(c))}var d;return Math.round(a/b)*b}function i(a,b,c){var d=this,e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(a&&"addEventListener"in a&&!ra.empty(b)&&ra.function(c)){var h=b.split(" "),i=g;sa&&(i={passive:f,capture:g}),h.forEach(function(b){d&&d.eventListeners&&e&&d.eventListeners.push({element:a,type:b,callback:c,options:i}),a[e?"addEventListener":"removeEventListener"](b,c,i)})}}function j(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2?arguments[2]:void 0,d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],e=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i.call(this,a,b,c,!0,d,e)}function k(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2?arguments[2]:void 0,d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],e=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i.call(this,a,b,c,!1,d,e)}function l(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",d=arguments.length>2?arguments[2]:void 0,e=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],f=arguments.length>4&&void 0!==arguments[4]&&arguments[4];i.call(this,a,c,function g(){k(a,c,g,e,f);for(var h=arguments.length,i=new Array(h),j=0;j<h;j++)i[j]=arguments[j];d.apply(b,i)},!0,e,f)}function m(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(ra.element(a)&&!ra.empty(b)){var e=new CustomEvent(b,{bubbles:c,detail:Object.assign({},d,{plyr:this})});a.dispatchEvent(e)}}function n(a,b){var c=a.length?a:[a];Array.from(c).reverse().forEach(function(a,c){var d=c>0?b.cloneNode(!0):b,e=a.parentNode,f=a.nextSibling;d.appendChild(a),f?e.insertBefore(d,f):e.appendChild(d)})}function o(a,b){ra.element(a)&&!ra.empty(b)&&Object.entries(b).filter(function(a){var b=f(a,2)[1];return!ra.nullOrUndefined(b)}).forEach(function(b){var c=f(b,2),d=c[0],e=c[1];return a.setAttribute(d,e)})}function p(a,b,c){var d=document.createElement(a);return ra.object(b)&&o(d,b),ra.string(c)&&(d.innerText=c),d}function q(a,b,c,d){ra.element(b)&&b.appendChild(p(a,c,d))}function r(a){ra.nodeList(a)||ra.array(a)?Array.from(a).forEach(r):ra.element(a)&&ra.element(a.parentNode)&&a.parentNode.removeChild(a)}function s(a){if(ra.element(a))for(var b=a.childNodes.length;b>0;)a.removeChild(a.lastChild),b-=1}function t(a,b){return ra.element(b)&&ra.element(b.parentNode)&&ra.element(a)?(b.parentNode.replaceChild(a,b),a):null}function u(a,b){if(!ra.string(a)||ra.empty(a))return{};var c={},d=b;return a.split(",").forEach(function(a){var b=a.trim(),e=b.replace(".",""),f=b.replace(/[[\]]/g,"").split("="),g=f[0],h=f.length>1?f[1].replace(/["']/g,""):"";switch(b.charAt(0)){case".":ra.object(d)&&ra.string(d.class)&&(d.class+=" ".concat(e)),c.class=e;break;case"#":c.id=b.replace("#","");break;case"[":c[g]=h}}),c}function v(a,b){if(ra.element(a)){var c=b;ra.boolean(c)||(c=!a.hidden),c?a.setAttribute("hidden",""):a.removeAttribute("hidden")}}function w(a,b,c){if(ra.nodeList(a))return Array.from(a).map(function(a){return w(a,b,c)});if(ra.element(a)){var d="toggle";return void 0!==c&&(d=c?"add":"remove"),a.classList[d](b),a.classList.contains(b)}return!1}function x(a,b){return ra.element(a)&&a.classList.contains(b)}function y(a,b){return function(){return Array.from(document.querySelectorAll(b)).includes(this)}.call(a,b)}function z(a){return this.elements.container.querySelectorAll(a)}function A(a){return this.elements.container.querySelector(a)}function B(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ra.element(a)&&(a.focus({preventScroll:!0}),b&&w(a,this.config.classNames.tabFocus))}function C(a){setTimeout(function(){try{v(a,!0),a.offsetHeight,v(a,!1)}catch(a){}},0)}function D(a){return ra.array(a)?a.filter(function(b,c){return a.indexOf(b)===c}):a}function E(a,b){return b.split(".").reduce(function(a,b){return a&&a[b]},a)}function F(){for(var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];if(!c.length)return a;var f=c.shift();return ra.object(f)?(Object.keys(f).forEach(function(b){ra.object(f[b])?(Object.keys(a).includes(b)||Object.assign(a,e({},b,{})),F(a[b],f[b])):Object.assign(a,e({},b,f[b]))}),F.apply(void 0,[a].concat(c))):a}function G(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return ra.empty(a)?a:a.toString().replace(/{(\d+)}/g,function(a,b){return c[b].toString()})}function H(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return a.replace(new RegExp(b.toString().replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1"),"g"),c.toString())}function I(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString().replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})}function J(){var a=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return(a=function(){var a=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString();return a=H(a,"-"," "),a=H(a,"_"," "),H(a=I(a)," ","")}(a)).charAt(0).toLowerCase()+a.slice(1)}function K(a){var b=document.createElement("div");return b.appendChild(a),b.innerHTML}function L(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return new Promise(function(c,d){try{var e=new XMLHttpRequest;if(!("withCredentials"in e))return;e.addEventListener("load",function(){if("text"===b)try{c(JSON.parse(e.responseText))}catch(a){c(e.responseText)}else c(e.response)}),e.addEventListener("error",function(){throw new Error(e.status)}),e.open("GET",a,!0),e.responseType=b,e.send()}catch(a){d(a)}})}function M(a,b){if(ra.string(a)){var c=ra.string(b),d=function(){return null!==document.getElementById(b)},e=function(a,b){a.innerHTML=b,c&&d()||document.body.insertAdjacentElement("afterbegin",a)};if(!c||!d()){var f=Aa.supported,g=document.createElement("div");if(g.setAttribute("hidden",""),c&&g.setAttribute("id",b),f){var h=window.localStorage.getItem("".concat("cache","-").concat(b));if(null!==h){var i=JSON.parse(h);e(g,i.content)}}L(a).then(function(a){ra.empty(a)||(f&&window.localStorage.setItem("".concat("cache","-").concat(b),JSON.stringify({content:a})),e(g,a))}).catch(function(){})}}}function N(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!ra.number(a))return N(null,b,c);var d=function(a){return"0".concat(a).slice(-2)},e=Ba(a),f=Ca(a),g=Da(a);return e=b||e>0?"".concat(e,":"):"","".concat(c&&a>0?"-":"").concat(e).concat(d(f),":").concat(d(g))}function O(a){var b=a;if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var c=document.createElement("a");c.href=b,b=c.href}try{return new URL(b)}catch(a){return null}}function P(a){var b=new URLSearchParams;return ra.object(a)&&Object.entries(a).forEach(function(a){var c=f(a,2),d=c[0],e=c[1];b.set(d,e)}),b}function Q(){if(this.enabled){var a=this.player.elements.buttons.fullscreen;ra.element(a)&&(a.pressed=this.active),m.call(this.player,this.target,this.active?"enterfullscreen":"exitfullscreen",!0),ua.isIos||function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(ra.element(a)){var c=z.call(this,"button:not(:disabled), input:not(:disabled), [tabindex]"),d=c[0],e=c[c.length-1];i.call(this,this.elements.container,"keydown",function(a){if("Tab"===a.key&&9===a.keyCode){var b=document.activeElement;b!==e||a.shiftKey?b===d&&a.shiftKey&&(e.focus(),a.preventDefault()):(d.focus(),a.preventDefault())}},b,!1)}}.call(this.player,this.target,this.active)}}function R(){var a=this,b=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(b?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=b?"hidden":"",w(this.target,this.player.config.classNames.fullscreen.fallback,b),ua.isIos){var c=document.head.querySelector('meta[name="viewport"]'),d="viewport-fit=cover";c||(c=document.createElement("meta")).setAttribute("name","viewport");var e=ra.string(c.content)&&c.content.includes(d);b?(this.cleanupViewport=!e,e||(c.content+=",".concat(d))):this.cleanupViewport&&(c.content=c.content.split(",").filter(function(a){return a.trim()!==d}).join(",")),setTimeout(function(){return C(a.target)},100)}Q.call(this)}function S(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise(function(c,d){var e=new Image,f=function(){delete e.onload,delete e.onerror,(e.naturalWidth>=b?c:d)(e)};Object.assign(e,{onload:f,onerror:f,src:a})})}function T(a){var b=a;ra.string(b)||ra.nullOrUndefined(this.embed)||(b=this.embed.ratio),ra.string(b)||(b=this.config.ratio);var c=f(b.split(":").map(Number),2),d=100/c[0]*c[1];if(this.elements.wrapper.style.paddingBottom="".concat(d,"%"),this.isVimeo&&this.supported.ui){var e=(240-d)/4.8;this.media.style.transform="translateY(-".concat(e,"%)")}return{padding:d,ratio:b}}function U(a){return new Promise(function(b,c){Ra(a,{success:b,error:c})})}function V(a){a&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===a&&(this.media.paused=!a,m.call(this,this.media,a?"play":"pause"))}function W(a){a&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===a&&(this.media.paused=!a,m.call(this,this.media,a?"play":"pause"))}var X,Y,Z,$,_={addCSS:!0,thumbWidth:15,watch:!0},aa=function(a){return null!=a?a.constructor:null},ba=function(a,b){return Boolean(a&&b&&a instanceof b)},ca=function(a){return null==a},da=function(a){return aa(a)===Object},ea=function(a){return aa(a)===String},fa=function(a){return Array.isArray(a)},ga=function(a){return ba(a,NodeList)},ha={nullOrUndefined:ca,object:da,number:function(a){return aa(a)===Number&&!Number.isNaN(a)},string:ea,boolean:function(a){return aa(a)===Boolean},function:function(a){return aa(a)===Function},array:fa,nodeList:ga,element:function(a){return ba(a,Element)},event:function(a){return ba(a,Event)},empty:function(a){return ca(a)||(ea(a)||fa(a)||ga(a))&&!a.length||da(a)&&!Object.keys(a).length}},ia=function(){function a(c,d){b(this,a),ha.element(c)?this.element=c:ha.string(c)&&(this.element=document.querySelector(c)),ha.element(this.element)&&ha.empty(this.element.rangeTouch)&&(this.config=Object.assign({},_,d),this.init())}return d(a,[{key:"init",value:function(){a.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){a.enabled&&(this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(a){var b=this,c=a?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(a){b.element[c](a,function(a){return b.set(a)},!1)})}},{key:"get",value:function(b){if(!a.enabled||!ha.event(b))return null;var c,d=b.target,e=b.changedTouches[0],f=parseFloat(d.getAttribute("min"))||0,g=parseFloat(d.getAttribute("max"))||100,i=parseFloat(d.getAttribute("step"))||1,j=g-f,k=d.getBoundingClientRect(),l=100/k.width*(this.config.thumbWidth/2)/100;return(c=100/k.width*(e.clientX-k.left))<0?c=0:c>100&&(c=100),c<50?c-=(100-2*c)*l:c>50&&(c+=2*(c-50)*l),f+h(j*(c/100),i)}},{key:"set",value:function(b){a.enabled&&ha.event(b)&&!b.target.disabled&&(b.preventDefault(),b.target.value=this.get(b),function(a,b){if(a&&b){var c=new Event(b);a.dispatchEvent(c)}}(b.target,"touchend"===b.type?"change":"input"))}}],[{key:"setup",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=null;if(ha.empty(b)||ha.string(b)?d=Array.from(document.querySelectorAll(ha.string(b)?b:'input[type="range"]')):ha.element(b)?d=[b]:ha.nodeList(b)?d=Array.from(b):ha.array(b)&&(d=b.filter(ha.element)),ha.empty(d))return null;var e=Object.assign({},_,c);return ha.string(b)&&e.watch&&new MutationObserver(function(c){Array.from(c).forEach(function(c){Array.from(c.addedNodes).forEach(function(c){if(ha.element(c)&&function(){return Array.from(document.querySelectorAll(d)).includes(this)}.call(c,d=b)){var d;new a(c,e)}})})}).observe(document.body,{childList:!0,subtree:!0}),d.map(function(b){return new a(b,c)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),a}(),ja=function(a){return null!=a?a.constructor:null},ka=function(a,b){return Boolean(a&&b&&a instanceof b)},la=function(a){return null==a},ma=function(a){return ja(a)===Object},na=function(a){return ja(a)===String},oa=function(a){return Array.isArray(a)},pa=function(a){return ka(a,NodeList)},qa=function(a){return la(a)||(na(a)||oa(a)||pa(a))&&!a.length||ma(a)&&!Object.keys(a).length},ra={nullOrUndefined:la,object:ma,number:function(a){return ja(a)===Number&&!Number.isNaN(a)},string:na,boolean:function(a){return ja(a)===Boolean},function:function(a){return ja(a)===Function},array:oa,weakMap:function(a){return ka(a,WeakMap)},nodeList:pa,element:function(a){return ka(a,Element)},textNode:function(a){return ja(a)===Text},event:function(a){return ka(a,Event)},keyboardEvent:function(a){return ka(a,KeyboardEvent)},cue:function(a){return ka(a,window.TextTrackCue)||ka(a,window.VTTCue)},track:function(a){return ka(a,TextTrack)||!la(a)&&na(a.kind)},promise:function(a){return ka(a,Promise)},url:function(a){if(ka(a,window.URL))return!0;if(!na(a))return!1;var b=a;a.startsWith("http://")&&a.startsWith("https://")||(b="http://".concat(a));try{return!qa(new URL(b).hostname)}catch(a){return!1}},empty:qa},sa=function(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){return a=!0,null}});window.addEventListener("test",null,b),window.removeEventListener("test",null,b)}catch(a){}return a}(),ta=(X=document.createElement("span"),Y={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},Z=Object.keys(Y).find(function(a){return void 0!==X.style[a]}),!!ra.string(Z)&&Y[Z]),ua={isIE:!!document.documentMode,isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)},va={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},wa={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(a,b,c){var d=ua.isIPhone&&c&&wa.playsinline,e=wa[a]||"html5"!==b;return{api:e,ui:e&&wa.rangeInput&&("video"!==a||!ua.isIPhone||d)}},pip:!(ua.isIPhone||!ra.function(p("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||p("video").disablePictureInPicture)),airplay:ra.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(a){if(ra.empty(a))return!1;var b=f(a.split("/"),1)[0],c=a;if(!this.isHTML5||b!==this.type)return!1;Object.keys(va).includes(c)&&(c+='; codecs="'.concat(va[a],'"'));try{return Boolean(c&&this.media.canPlayType(c).replace(/no/,""))}catch(a){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:($=document.createElement("input"),$.type="range","range"===$.type),touch:"ontouchstart"in document.documentElement,transitions:!1!==ta,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},xa={getSources:function(){var a=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(function(b){var c=b.getAttribute("type");return!!ra.empty(c)||wa.mime.call(a,c)}):[]},getQualityOptions:function(){return xa.getSources.call(this).map(function(a){return Number(a.getAttribute("size"))}).filter(Boolean)},extend:function(){if(this.isHTML5){var a=this;Object.defineProperty(a.media,"quality",{get:function(){var b=xa.getSources.call(a).find(function(b){return b.getAttribute("src")===a.source});return b&&Number(b.getAttribute("size"))},set:function(b){var c=xa.getSources.call(a).find(function(a){return Number(a.getAttribute("size"))===b});if(c){var d=a.media,e=d.currentTime,f=d.paused,g=d.preload,h=d.readyState;a.media.src=c.getAttribute("src"),("none"!==g||h)&&(a.once("loadedmetadata",function(){a.currentTime=e,f||a.play()}),a.media.load()),m.call(a,a.media,"qualitychange",!1,{quality:b})}}})}},cancelRequests:function(){this.isHTML5&&(r(xa.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}},ya={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},za=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ra.empty(a)||ra.empty(b))return"";var c=E(b.i18n,a);if(ra.empty(c))return Object.keys(ya).includes(a)?ya[a]:"";var d={"{seektime}":b.seekTime,"{title}":b.title};return Object.entries(d).forEach(function(a){var b=f(a,2),d=b[0],e=b[1];c=H(c,d,e)}),c},Aa=function(){function a(c){b(this,a),this.enabled=c.config.storage.enabled,this.key=c.config.storage.key}return d(a,[{key:"get",value:function(b){if(!a.supported||!this.enabled)return null;var c=window.localStorage.getItem(this.key);if(ra.empty(c))return null;var d=JSON.parse(c);return ra.string(b)&&b.length?d[b]:d}},{key:"set",value:function(b){if(a.supported&&this.enabled&&ra.object(b)){var c=this.get();ra.empty(c)&&(c={}),F(c,b),window.localStorage.setItem(this.key,JSON.stringify(c))}}}],[{key:"supported",get:function(){try{return"localStorage"in window&&(window.localStorage.setItem("___test","___test"),window.localStorage.removeItem("___test"),!0)}catch(a){return!1}}}]),a}(),Ba=function(a){return Math.trunc(a/60/60%60,10)},Ca=function(a){return Math.trunc(a/60%60,10)},Da=function(a){return Math.trunc(a%60,10)},Ea={getIconUrl:function(){var a=new URL(this.config.iconUrl,window.location).host!==window.location.host||ua.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:a}},findElements:function(){try{return this.elements.controls=A.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:z.call(this,this.config.selectors.buttons.play),pause:A.call(this,this.config.selectors.buttons.pause),restart:A.call(this,this.config.selectors.buttons.restart),rewind:A.call(this,this.config.selectors.buttons.rewind),fastForward:A.call(this,this.config.selectors.buttons.fastForward),mute:A.call(this,this.config.selectors.buttons.mute),pip:A.call(this,this.config.selectors.buttons.pip),airplay:A.call(this,this.config.selectors.buttons.airplay),settings:A.call(this,this.config.selectors.buttons.settings),captions:A.call(this,this.config.selectors.buttons.captions),fullscreen:A.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=A.call(this,this.config.selectors.progress),this.elements.inputs={seek:A.call(this,this.config.selectors.inputs.seek),volume:A.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:A.call(this,this.config.selectors.display.buffer),currentTime:A.call(this,this.config.selectors.display.currentTime),duration:A.call(this,this.config.selectors.display.duration)},ra.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(a){return this.debug.warn("It looks like there is a problem with your custom controls HTML",a),this.toggleNativeControls(!0),!1}},createIcon:function(a,b){var c=Ea.getIconUrl.call(this),d="".concat(c.cors?"":c.url,"#").concat(this.config.iconPrefix),e=document.createElementNS("http://www.w3.org/2000/svg","svg");o(e,F(b,{role:"presentation",focusable:"false"}));var f=document.createElementNS("http://www.w3.org/2000/svg","use"),g="".concat(d,"-").concat(a);return"href"in f&&f.setAttributeNS("http://www.w3.org/1999/xlink","href",g),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g),e.appendChild(f),e},createLabel:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=za(a,this.config);return p("span",Object.assign({},b,{class:[b.class,this.config.classNames.hidden].filter(Boolean).join(" ")}),c)},createBadge:function(a){if(ra.empty(a))return null;var b=p("span",{class:this.config.classNames.menu.value});return b.appendChild(p("span",{class:this.config.classNames.menu.badge},a)),b},createButton:function(a,b){var c=Object.assign({},b),d=J(a),e={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(function(a){Object.keys(c).includes(a)&&(e[a]=c[a],delete c[a])}),"button"!==e.element||Object.keys(c).includes("type")||(c.type="button"),Object.keys(c).includes("class")?c.class.includes(this.config.classNames.control)||(c.class+=" ".concat(this.config.classNames.control)):c.class=this.config.classNames.control,a){case"play":e.toggle=!0,e.label="play",e.labelPressed="pause",e.icon="play",e.iconPressed="pause";break;case"mute":e.toggle=!0,e.label="mute",e.labelPressed="unmute",e.icon="volume",e.iconPressed="muted";break;case"captions":e.toggle=!0,e.label="enableCaptions",e.labelPressed="disableCaptions",e.icon="captions-off",e.iconPressed="captions-on";break;case"fullscreen":e.toggle=!0,e.label="enterFullscreen",e.labelPressed="exitFullscreen",e.icon="enter-fullscreen",e.iconPressed="exit-fullscreen";break;case"play-large":c.class+=" ".concat(this.config.classNames.control,"--overlaid"),d="play",e.label="play",e.icon="play";break;default:ra.empty(e.label)&&(e.label=d),ra.empty(e.icon)&&(e.icon=a)}var f=p(e.element);return e.toggle?(f.appendChild(Ea.createIcon.call(this,e.iconPressed,{class:"icon--pressed"})),f.appendChild(Ea.createIcon.call(this,e.icon,{class:"icon--not-pressed"})),f.appendChild(Ea.createLabel.call(this,e.labelPressed,{class:"label--pressed"})),f.appendChild(Ea.createLabel.call(this,e.label,{class:"label--not-pressed"}))):(f.appendChild(Ea.createIcon.call(this,e.icon)),f.appendChild(Ea.createLabel.call(this,e.label))),F(c,u(this.config.selectors.buttons[d],c)),o(f,c),"play"===d?(ra.array(this.elements.buttons[d])||(this.elements.buttons[d]=[]),this.elements.buttons[d].push(f)):this.elements.buttons[d]=f,f},createRange:function(a,b){var c=p("input",F(u(this.config.selectors.inputs[a]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":za(a,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},b));return this.elements.inputs[a]=c,Ea.updateRangeFill.call(this,c),ia.setup(c),c},createProgress:function(a,b){var c=p("progress",F(u(this.config.selectors.display[a]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},b));if("volume"!==a){c.appendChild(p("span",null,"0"));var d={played:"played",buffer:"buffered"}[a],e=d?za(d,this.config):"";c.innerText="% ".concat(e.toLowerCase())}return this.elements.display[a]=c,c},createTime:function(a){var b=u(this.config.selectors.display[a]),c=p("div",F(b,{class:"".concat(this.config.classNames.display.time," ").concat(b.class?b.class:"").trim(),"aria-label":za(a,this.config)}),"00:00");return this.elements.display[a]=c,c},bindMenuItemShortcuts:function(a,b){var c=this;j(a,"keydown keyup",function(d){if([32,38,39,40].includes(d.which)&&(d.preventDefault(),d.stopPropagation(),"keydown"!==d.type)){var e,f=y(a,'[role="menuitemradio"]');!f&&[32,39].includes(d.which)?Ea.showMenuPanel.call(c,b,!0):32!==d.which&&(40===d.which||f&&39===d.which?(e=a.nextElementSibling,ra.element(e)||(e=a.parentNode.firstElementChild)):(e=a.previousElementSibling,ra.element(e)||(e=a.parentNode.lastElementChild)),B.call(c,e,!0))}},!1),j(a,"keyup",function(a){13===a.which&&Ea.focusFirstMenuItem.call(c,null,!0)})},createMenuItem:function(a){var b=this,c=a.value,d=a.list,e=a.type,f=a.title,g=a.badge,h=void 0===g?null:g,i=a.checked,j=void 0!==i&&i,k=u(this.config.selectors.inputs[e]),l=p("button",F(k,{type:"button",role:"menuitemradio",class:"".concat(this.config.classNames.control," ").concat(k.class?k.class:"").trim(),"aria-checked":j,value:c})),m=p("span");m.innerHTML=f,ra.element(h)&&m.appendChild(h),l.appendChild(m),Object.defineProperty(l,"checked",{enumerable:!0,get:function(){return"true"===l.getAttribute("aria-checked")},set:function(a){a&&Array.from(l.parentNode.children).filter(function(a){return y(a,'[role="menuitemradio"]')}).forEach(function(a){return a.setAttribute("aria-checked","false")}),l.setAttribute("aria-checked",a?"true":"false")}}),this.listeners.bind(l,"click keyup",function(a){if(!ra.keyboardEvent(a)||32===a.which){switch(a.preventDefault(),a.stopPropagation(),l.checked=!0,e){case"language":b.currentTrack=Number(c);break;case"quality":b.quality=c;break;case"speed":b.speed=parseFloat(c)}Ea.showMenuPanel.call(b,"home",ra.keyboardEvent(a))}},e,!1),Ea.bindMenuItemShortcuts.call(this,l,e),d.appendChild(l)},formatTime:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ra.number(a)?N(a,Ba(this.duration)>0,b):a},updateTimeDisplay:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];ra.element(a)&&ra.number(b)&&(a.innerText=Ea.formatTime(b,c))},updateVolume:function(){this.supported.ui&&(ra.element(this.elements.inputs.volume)&&Ea.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),ra.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;ra.element(a)&&(a.value=b,Ea.updateRangeFill.call(this,a))},updateProgress:function(a){var b=this;if(this.supported.ui&&ra.event(a)){var c,d,e=0;if(a)switch(a.type){case"timeupdate":case"seeking":case"seeked":c=this.currentTime,d=this.duration,e=0===c||0===d||Number.isNaN(c)||Number.isNaN(d)?0:(c/d*100).toFixed(2),"timeupdate"===a.type&&Ea.setRange.call(this,this.elements.inputs.seek,e);break;case"playing":case"progress":!function(a,c){var d=ra.number(c)?c:0,e=ra.element(a)?a:b.elements.display.buffer;if(ra.element(e)){e.value=d;var f=e.getElementsByTagName("span")[0];ra.element(f)&&(f.childNodes[0].nodeValue=d)}}(this.elements.display.buffer,100*this.buffered)}}},updateRangeFill:function(a){var b=ra.event(a)?a.target:a;if(ra.element(b)&&"range"===b.getAttribute("type")){if(y(b,this.config.selectors.inputs.seek)){b.setAttribute("aria-valuenow",this.currentTime)
;var c=Ea.formatTime(this.currentTime),d=Ea.formatTime(this.duration),e=za("seekLabel",this.config);b.setAttribute("aria-valuetext",e.replace("{currentTime}",c).replace("{duration}",d))}else if(y(b,this.config.selectors.inputs.volume)){var f=100*b.value;b.setAttribute("aria-valuenow",f),b.setAttribute("aria-valuetext","".concat(f.toFixed(1),"%"))}else b.setAttribute("aria-valuenow",b.value);ua.isWebkit&&b.style.setProperty("--value","".concat(b.value/b.max*100,"%"))}},updateSeekTooltip:function(a){var b=this;if(this.config.tooltips.seek&&ra.element(this.elements.inputs.seek)&&ra.element(this.elements.display.seekTooltip)&&0!==this.duration){var c=0,d=this.elements.progress.getBoundingClientRect(),e="".concat(this.config.classNames.tooltip,"--visible"),f=function(a){w(b.elements.display.seekTooltip,e,a)};if(this.touch)f(!1);else{if(ra.event(a))c=100/d.width*(a.pageX-d.left);else{if(!x(this.elements.display.seekTooltip,e))return;c=parseFloat(this.elements.display.seekTooltip.style.left,10)}c<0?c=0:c>100&&(c=100),Ea.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*c),this.elements.display.seekTooltip.style.left="".concat(c,"%"),ra.event(a)&&["mouseenter","mouseleave"].includes(a.type)&&f("mouseenter"===a.type)}}},timeUpdate:function(a){var b=!ra.element(this.elements.display.duration)&&this.config.invertTime;Ea.updateTimeDisplay.call(this,this.elements.display.currentTime,b?this.duration-this.currentTime:this.currentTime,b),a&&"timeupdate"===a.type&&this.media.seeking||Ea.updateProgress.call(this,a)},durationUpdate:function(){if(this.supported.ui&&(this.config.invertTime||!this.currentTime)){if(this.duration>=Math.pow(2,32))return v(this.elements.display.currentTime,!0),void v(this.elements.progress,!0);ra.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);var a=ra.element(this.elements.display.duration);!a&&this.config.displayDuration&&this.paused&&Ea.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),a&&Ea.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),Ea.updateSeekTooltip.call(this)}},toggleMenuButton:function(a,b){v(this.elements.settings.buttons[a],!b)},updateSetting:function(a,b,c){var d=this.elements.settings.panels[a],e=null,f=b;if("captions"===a)e=this.currentTrack;else{if(e=ra.empty(c)?this[a]:c,ra.empty(e)&&(e=this.config[a].default),!ra.empty(this.options[a])&&!this.options[a].includes(e))return void this.debug.warn("Unsupported value of '".concat(e,"' for ").concat(a));if(!this.config[a].options.includes(e))return void this.debug.warn("Disabled value of '".concat(e,"' for ").concat(a))}if(ra.element(f)||(f=d&&d.querySelector('[role="menu"]')),ra.element(f)){this.elements.settings.buttons[a].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=Ea.getLabel.call(this,a,e);var g=f&&f.querySelector('[value="'.concat(e,'"]'));ra.element(g)&&(g.checked=!0)}},getLabel:function(a,b){switch(a){case"speed":return 1===b?za("normal",this.config):"".concat(b,"&times;");case"quality":if(ra.number(b)){var c=za("qualityLabel.".concat(b),this.config);return c.length?c:"".concat(b,"p")}return I(b);case"captions":return Fa.getLabel.call(this);default:return null}},setQualityMenu:function(a){var b=this;if(ra.element(this.elements.settings.panels.quality)){var c=this.elements.settings.panels.quality.querySelector('[role="menu"]');ra.array(a)&&(this.options.quality=D(a).filter(function(a){return b.config.quality.options.includes(a)}));var d=!ra.empty(this.options.quality)&&this.options.quality.length>1;if(Ea.toggleMenuButton.call(this,"quality",d),s(c),Ea.checkMenu.call(this),d){var e=function(a){var c=za("qualityBadge.".concat(a),b.config);return c.length?Ea.createBadge.call(b,c):null};this.options.quality.sort(function(a,c){var d=b.config.quality.options;return d.indexOf(a)>d.indexOf(c)?1:-1}).forEach(function(a){Ea.createMenuItem.call(b,{value:a,list:c,type:"quality",title:Ea.getLabel.call(b,"quality",a),badge:e(a)})}),Ea.updateSetting.call(this,"quality",c)}}},setCaptionsMenu:function(){var a=this;if(ra.element(this.elements.settings.panels.captions)){var b=this.elements.settings.panels.captions.querySelector('[role="menu"]'),c=Fa.getTracks.call(this),d=Boolean(c.length);if(Ea.toggleMenuButton.call(this,"captions",d),s(b),Ea.checkMenu.call(this),d){var e=c.map(function(c,d){return{value:d,checked:a.captions.toggled&&a.currentTrack===d,title:Fa.getLabel.call(a,c),badge:c.language&&Ea.createBadge.call(a,c.language.toUpperCase()),list:b,type:"language"}});e.unshift({value:-1,checked:!this.captions.toggled,title:za("disabled",this.config),list:b,type:"language"}),e.forEach(Ea.createMenuItem.bind(this)),Ea.updateSetting.call(this,"captions",b)}}},setSpeedMenu:function(a){var b=this;if(ra.element(this.elements.settings.panels.speed)){var c=this.elements.settings.panels.speed.querySelector('[role="menu"]');ra.array(a)?this.options.speed=a:(this.isHTML5||this.isVimeo)&&(this.options.speed=[.5,.75,1,1.25,1.5,1.75,2]),this.options.speed=this.options.speed.filter(function(a){return b.config.speed.options.includes(a)});var d=!ra.empty(this.options.speed)&&this.options.speed.length>1;Ea.toggleMenuButton.call(this,"speed",d),s(c),Ea.checkMenu.call(this),d&&(this.options.speed.forEach(function(a){Ea.createMenuItem.call(b,{value:a,list:c,type:"speed",title:Ea.getLabel.call(b,"speed",a)})}),Ea.updateSetting.call(this,"speed",c))}},checkMenu:function(){var a=this.elements.settings.buttons,b=!ra.empty(a)&&Object.values(a).some(function(a){return!a.hidden});v(this.elements.settings.menu,!b)},focusFirstMenuItem:function(a){var b=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.elements.settings.popup.hidden){var c=a;ra.element(c)||(c=Object.values(this.elements.settings.panels).find(function(a){return!a.hidden}));var d=c.querySelector('[role^="menuitem"]');B.call(this,d,b)}},toggleMenu:function(a){var b=this.elements.settings.popup,c=this.elements.buttons.settings;if(ra.element(b)&&ra.element(c)){var d=b.hidden,e=d;if(ra.boolean(a))e=a;else if(ra.keyboardEvent(a)&&27===a.which)e=!1;else if(ra.event(a)){var f=b.contains(a.target);if(f||!f&&a.target!==c&&e)return}c.setAttribute("aria-expanded",e),v(b,!e),w(this.elements.container,this.config.classNames.menu.open,e),e&&ra.keyboardEvent(a)?Ea.focusFirstMenuItem.call(this,null,!0):e||d||B.call(this,c,ra.keyboardEvent(a))}},getMenuSize:function(a){var b=a.cloneNode(!0);b.style.position="absolute",b.style.opacity=0,b.removeAttribute("hidden"),a.parentNode.appendChild(b);var c=b.scrollWidth,d=b.scrollHeight;return r(b),{width:c,height:d}},showMenuPanel:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=document.getElementById("plyr-settings-".concat(this.id,"-").concat(b));if(ra.element(d)){var e=d.parentNode,f=Array.from(e.children).find(function(a){return!a.hidden});if(wa.transitions&&!wa.reducedMotion){e.style.width="".concat(f.scrollWidth,"px"),e.style.height="".concat(f.scrollHeight,"px");var g=Ea.getMenuSize.call(this,d);j.call(this,e,ta,function b(c){c.target===e&&["width","height"].includes(c.propertyName)&&(e.style.width="",e.style.height="",k.call(a,e,ta,b))}),e.style.width="".concat(g.width,"px"),e.style.height="".concat(g.height,"px")}v(f,!0),v(d,!1),Ea.focusFirstMenuItem.call(this,d,c)}},setDownloadLink:function(){var a=this.elements.buttons.download;ra.element(a)&&a.setAttribute("href",this.download)},create:function(a){var b=this,c=p("div",u(this.config.selectors.controls.wrapper));if(this.config.controls.includes("restart")&&c.appendChild(Ea.createButton.call(this,"restart")),this.config.controls.includes("rewind")&&c.appendChild(Ea.createButton.call(this,"rewind")),this.config.controls.includes("play")&&c.appendChild(Ea.createButton.call(this,"play")),this.config.controls.includes("fast-forward")&&c.appendChild(Ea.createButton.call(this,"fast-forward")),this.config.controls.includes("progress")){var d=p("div",u(this.config.selectors.progress));if(d.appendChild(Ea.createRange.call(this,"seek",{id:"plyr-seek-".concat(a.id)})),d.appendChild(Ea.createProgress.call(this,"buffer")),this.config.tooltips.seek){var e=p("span",{class:this.config.classNames.tooltip},"00:00");d.appendChild(e),this.elements.display.seekTooltip=e}this.elements.progress=d,c.appendChild(this.elements.progress)}if(this.config.controls.includes("current-time")&&c.appendChild(Ea.createTime.call(this,"currentTime")),this.config.controls.includes("duration")&&c.appendChild(Ea.createTime.call(this,"duration")),this.config.controls.includes("mute")||this.config.controls.includes("volume")){var f=p("div",{class:"plyr__volume"});if(this.config.controls.includes("mute")&&f.appendChild(Ea.createButton.call(this,"mute")),this.config.controls.includes("volume")){var g={max:1,step:.05,value:this.config.volume};f.appendChild(Ea.createRange.call(this,"volume",F(g,{id:"plyr-volume-".concat(a.id)}))),this.elements.volume=f}c.appendChild(f)}if(this.config.controls.includes("captions")&&c.appendChild(Ea.createButton.call(this,"captions")),this.config.controls.includes("settings")&&!ra.empty(this.config.settings)){var h=p("div",{class:"plyr__menu",hidden:""});h.appendChild(Ea.createButton.call(this,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(a.id),"aria-expanded":!1}));var i=p("div",{class:"plyr__menu__container",id:"plyr-settings-".concat(a.id),hidden:""}),k=p("div"),l=p("div",{id:"plyr-settings-".concat(a.id,"-home")}),m=p("div",{role:"menu"});l.appendChild(m),k.appendChild(l),this.elements.settings.panels.home=l,this.config.settings.forEach(function(c){var d=p("button",F(u(b.config.selectors.buttons.settings),{type:"button",class:"".concat(b.config.classNames.control," ").concat(b.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""}));Ea.bindMenuItemShortcuts.call(b,d,c),j(d,"click",function(){Ea.showMenuPanel.call(b,c,!1)});var e=p("span",null,za(c,b.config)),f=p("span",{class:b.config.classNames.menu.value});f.innerHTML=a[c],e.appendChild(f),d.appendChild(e),m.appendChild(d);var g=p("div",{id:"plyr-settings-".concat(a.id,"-").concat(c),hidden:""}),h=p("button",{type:"button",class:"".concat(b.config.classNames.control," ").concat(b.config.classNames.control,"--back")});h.appendChild(p("span",{"aria-hidden":!0},za(c,b.config))),h.appendChild(p("span",{class:b.config.classNames.hidden},za("menuBack",b.config))),j(g,"keydown",function(a){37===a.which&&(a.preventDefault(),a.stopPropagation(),Ea.showMenuPanel.call(b,"home",!0))},!1),j(h,"click",function(){Ea.showMenuPanel.call(b,"home",!1)}),g.appendChild(h),g.appendChild(p("div",{role:"menu"})),k.appendChild(g),b.elements.settings.buttons[c]=d,b.elements.settings.panels[c]=g}),i.appendChild(k),h.appendChild(i),c.appendChild(h),this.elements.settings.popup=i,this.elements.settings.menu=h}if(this.config.controls.includes("pip")&&wa.pip&&c.appendChild(Ea.createButton.call(this,"pip")),this.config.controls.includes("airplay")&&wa.airplay&&c.appendChild(Ea.createButton.call(this,"airplay")),this.config.controls.includes("download")){var n={element:"a",href:this.download,target:"_blank"},o=this.config.urls.download;!ra.url(o)&&this.isEmbed&&F(n,{icon:"logo-".concat(this.provider),label:this.provider}),c.appendChild(Ea.createButton.call(this,"download",n))}return this.config.controls.includes("fullscreen")&&c.appendChild(Ea.createButton.call(this,"fullscreen")),this.config.controls.includes("play-large")&&this.elements.container.appendChild(Ea.createButton.call(this,"play-large")),this.elements.controls=c,this.isHTML5&&Ea.setQualityMenu.call(this,xa.getQualityOptions.call(this)),Ea.setSpeedMenu.call(this),c},inject:function(){var a=this;if(this.config.loadSprite){var b=Ea.getIconUrl.call(this);b.cors&&M(b.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var c=null;this.elements.controls=null;var d={id:this.id,seektime:this.config.seekTime,title:this.config.title},e=!0;ra.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,d)),this.config.controls||(this.config.controls=[]),ra.element(this.config.controls)||ra.string(this.config.controls)?c=this.config.controls:(c=Ea.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:Fa.getLabel.call(this)}),e=!1);var g,h=function(a){var b=a;return Object.entries(d).forEach(function(a){var c=f(a,2),d=c[0],e=c[1];b=H(b,"{".concat(d,"}"),e)}),b};if(e&&(ra.string(this.config.controls)?c=h(c):ra.element(c)&&(c.innerHTML=h(c.innerHTML))),ra.string(this.config.selectors.controls.container)&&(g=document.querySelector(this.config.selectors.controls.container)),ra.element(g)||(g=this.elements.container),g[ra.element(c)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",c),ra.element(this.elements.controls)||Ea.findElements.call(this),!ra.empty(this.elements.buttons)){var i=function(b){var c=a.config.classNames.controlPressed;Object.defineProperty(b,"pressed",{enumerable:!0,get:function(){return x(b,c)},set:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];w(b,c,a)}})};Object.values(this.elements.buttons).filter(Boolean).forEach(function(a){ra.array(a)||ra.nodeList(a)?Array.from(a).filter(Boolean).forEach(i):i(a)})}if(ua.isEdge&&C(g),this.config.tooltips.controls){var j=this.config,k=j.classNames,l=j.selectors,m="".concat(l.controls.wrapper," ").concat(l.labels," .").concat(k.hidden),n=z.call(this,m);Array.from(n).forEach(function(b){w(b,a.config.classNames.hidden,!1),w(b,a.config.classNames.tooltip,!0)})}}},Fa={setup:function(){if(this.supported.ui)if(!this.isVideo||this.isYouTube||this.isHTML5&&!wa.textTracks)ra.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Ea.setCaptionsMenu.call(this);else{var a,b;if(ra.element(this.elements.captions)||(this.elements.captions=p("div",u(this.config.selectors.captions)),a=this.elements.captions,b=this.elements.wrapper,ra.element(a)&&ra.element(b)&&b.parentNode.insertBefore(a,b.nextSibling)),ua.isIE&&window.URL){var c=this.media.querySelectorAll("track");Array.from(c).forEach(function(a){var b=a.getAttribute("src"),c=O(b);null!==c&&c.hostname!==window.location.href.hostname&&["http:","https:"].includes(c.protocol)&&L(b,"blob").then(function(b){a.setAttribute("src",window.URL.createObjectURL(b))}).catch(function(){r(a)})})}var d=D((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(function(a){return a.split("-")[0]})),e=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===e&&(e=f(d,1)[0]);var g=this.storage.get("captions");if(ra.boolean(g)||(g=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:g,language:e,languages:d}),this.isHTML5){var h=this.config.captions.update?"addtrack removetrack":"removetrack";j.call(this,this.media.textTracks,h,Fa.update.bind(this))}setTimeout(Fa.update.bind(this),0)}},update:function(){var a=this,b=Fa.getTracks.call(this,!0),c=this.captions,d=c.active,e=c.language,f=c.meta,g=c.currentTrackNode,h=Boolean(b.find(function(a){return a.language===e}));this.isHTML5&&this.isVideo&&b.filter(function(a){return!f.get(a)}).forEach(function(b){a.debug.log("Track added",b),f.set(b,{default:"showing"===b.mode}),b.mode="hidden",j.call(a,b,"cuechange",function(){return Fa.updateCues.call(a)})}),(h&&this.language!==e||!b.includes(g))&&(Fa.setLanguage.call(this,e),Fa.toggle.call(this,d&&h)),w(this.elements.container,this.config.classNames.captions.enabled,!ra.empty(b)),(this.config.controls||[]).includes("settings")&&this.config.settings.includes("captions")&&Ea.setCaptionsMenu.call(this)},toggle:function(a){var b=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.supported.ui){var c=this.captions.toggled,d=this.config.classNames.captions.active,e=ra.nullOrUndefined(a)?!c:a;if(e!==c){if(b||(this.captions.active=e,this.storage.set({captions:e})),!this.language&&e&&!b){var f=Fa.getTracks.call(this),h=Fa.findTrack.call(this,[this.captions.language].concat(g(this.captions.languages)),!0);return this.captions.language=h.language,void Fa.set.call(this,f.indexOf(h))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=e),w(this.elements.container,d,e),this.captions.toggled=e,Ea.updateSetting.call(this,"captions"),m.call(this,this.media,e?"captionsenabled":"captionsdisabled")}}},set:function(a){var b=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c=Fa.getTracks.call(this);if(-1!==a)if(ra.number(a))if(a in c){if(this.captions.currentTrack!==a){this.captions.currentTrack=a;var d=c[a],e=(d||{}).language;this.captions.currentTrackNode=d,Ea.updateSetting.call(this,"captions"),b||(this.captions.language=e,this.storage.set({language:e})),this.isVimeo&&this.embed.enableTextTrack(e),m.call(this,this.media,"languagechange")}Fa.toggle.call(this,!0,b),this.isHTML5&&this.isVideo&&Fa.updateCues.call(this)}else this.debug.warn("Track not found",a);else this.debug.warn("Invalid caption argument",a);else Fa.toggle.call(this,!1,b)},setLanguage:function(a){var b=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(ra.string(a)){var c=a.toLowerCase();this.captions.language=c;var d=Fa.getTracks.call(this),e=Fa.findTrack.call(this,[c]);Fa.set.call(this,d.indexOf(e),b)}else this.debug.warn("Invalid language argument",a)},getTracks:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Array.from((this.media||{}).textTracks||[]).filter(function(c){return!a.isHTML5||b||a.captions.meta.has(c)}).filter(function(a){return["captions","subtitles"].includes(a.kind)})},findTrack:function(a){var b,c=this,d=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=Fa.getTracks.call(this),f=function(a){return Number((c.captions.meta.get(a)||{}).default)},g=Array.from(e).sort(function(a,b){return f(b)-f(a)});return a.every(function(a){return!(b=g.find(function(b){return b.language===a}))}),b||(d?g[0]:void 0)},getCurrentTrack:function(){return Fa.getTracks.call(this)[this.currentTrack]},getLabel:function(a){var b=a;return!ra.track(b)&&wa.textTracks&&this.captions.toggled&&(b=Fa.getCurrentTrack.call(this)),ra.track(b)?ra.empty(b.label)?ra.empty(b.language)?za("enabled",this.config):a.language.toUpperCase():b.label:za("disabled",this.config)},updateCues:function(a){if(this.supported.ui)if(ra.element(this.elements.captions))if(ra.nullOrUndefined(a)||Array.isArray(a)){var b=a;if(!b){var c=Fa.getCurrentTrack.call(this);b=Array.from((c||{}).activeCues||[]).map(function(a){return a.getCueAsHTML()}).map(K)}var d=b.map(function(a){return a.trim()}).join("\n");if(d!==this.elements.captions.innerHTML){s(this.elements.captions);var e=p("span",u(this.config.selectors.caption));e.innerHTML=d,this.elements.captions.appendChild(e),m.call(this,this.media,"cuechange")}}else this.debug.warn("updateCues: Invalid input",a);else this.debug.warn("No captions element to render to")}},Ga={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:"16:9",clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.5.2/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240]},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/v2/video/{0}.json"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://www.googleapis.com/youtube/v3/videos?id={0}&key={1}&fields=items(snippet(title))&part=snippet"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption",menu:{quality:".js-plyr__menu__list--quality"}},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},keys:{google:null},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1},youtube:{noCookie:!1,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1}},Ha="picture-in-picture",Ia={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Ja={audio:"audio",video:"video"},Ka=function(){},La=function(){function a(){var c=arguments.length>0&&void 0!==arguments[0]&&arguments[0];b(this,a),this.enabled=window.console&&c,this.enabled&&this.log("Debugging enabled")}return d(a,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):Ka}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):Ka}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):Ka}}]),a}(),Ma=function(){function a(c){var d=this;b(this,a),this.player=c,this.prefix=a.prefix,this.property=a.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===c.config.fullscreen.fallback,j.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),function(){Q.call(d)}),j.call(this.player,this.player.elements.container,"dblclick",function(a){ra.element(d.player.elements.controls)&&d.player.elements.controls.contains(a.target)||d.toggle()}),this.update()}return d(a,[{key:"update",value:function(){var b;this.enabled?(b=this.forceFallback?"Fallback (forced)":a.native?"Native":"Fallback",this.player.debug.log("".concat(b," fullscreen enabled"))):this.player.debug.log("Fullscreen not supported and fallback disabled"),w(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function(){this.enabled&&(ua.isIos&&this.player.config.fullscreen.iosNative?this.target.webkitEnterFullscreen():!a.native||this.forceFallback?R.call(this,!0):this.prefix?ra.empty(this.prefix)||this.target["".concat(this.prefix,"Request").concat(this.property)]():this.target.requestFullscreen())}},{key:"exit",value:function(){if(this.enabled)if(ua.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),this.player.play();else if(!a.native||this.forceFallback)R.call(this,!1);else if(this.prefix){if(!ra.empty(this.prefix)){var b="moz"===this.prefix?"Cancel":"Exit";document["".concat(this.prefix).concat(b).concat(this.property)]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}},{key:"usingNative",get:function(){return a.native&&!this.forceFallback}},{key:"enabled",get:function(){return(a.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){return!!this.enabled&&(!a.native||this.forceFallback?x(this.target,this.player.config.classNames.fullscreen.fallback):(this.prefix?document["".concat(this.prefix).concat(this.property,"Element")]:document.fullscreenElement)===this.target)}},{key:"target",get:function(){return ua.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(ra.function(document.exitFullscreen))return"";var a="";return["webkit","moz","ms"].some(function(b){return!(!ra.function(document["".concat(b,"ExitFullscreen")])&&!ra.function(document["".concat(b,"CancelFullScreen")])||(a=b,0))}),a}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),a}(),Na={addStyleHook:function(){w(this.elements.container,this.config.selectors.container.replace(".",""),!0),w(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var a=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),void Na.toggleNativeControls.call(this,!0);ra.element(this.elements.controls)||(Ea.inject.call(this),this.listeners.controls()),Na.toggleNativeControls.call(this),this.isHTML5&&Fa.setup.call(this),this.volume=null,this.muted=null,this.speed=null,this.loop=null,this.quality=null,Ea.updateVolume.call(this),Ea.timeUpdate.call(this),Na.checkPlaying.call(this),w(this.elements.container,this.config.classNames.pip.supported,wa.pip&&this.isHTML5&&this.isVideo),w(this.elements.container,this.config.classNames.airplay.supported,wa.airplay&&this.isHTML5),w(this.elements.container,this.config.classNames.isIos,ua.isIos),w(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(function(){m.call(a,a.media,"ready")},0),Na.setTitle.call(this),this.poster&&Na.setPoster.call(this,this.poster,!1).catch(function(){}),this.config.duration&&Ea.durationUpdate.call(this)},setTitle:function(){var a=za("play",this.config);if(ra.string(this.config.title)&&!ra.empty(this.config.title)&&(a+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach(function(b){b.setAttribute("aria-label",a)}),this.isEmbed){var b=A.call(this,"iframe");if(!ra.element(b))return;var c=ra.empty(this.config.title)?"video":this.config.title,d=za("frameTitle",this.config);b.setAttribute("title",d.replace("{title}",c))}},togglePoster:function(a){w(this.elements.container,this.config.classNames.posterEnabled,a)},setPoster:function(a){var b=this;return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]||!this.poster?(this.media.setAttribute("poster",a),function(){var a=this;return new Promise(function(b){return a.ready?setTimeout(b,0):j.call(a,a.elements.container,"ready",b)}).then(function(){})}.call(this).then(function(){return S(a)}).catch(function(c){throw a===b.poster&&Na.togglePoster.call(b,!1),c}).then(function(){if(a!==b.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(function(){return Object.assign(b.elements.poster.style,{backgroundImage:"url('".concat(a,"')"),backgroundSize:""}),Na.togglePoster.call(b,!0),a})):Promise.reject(new Error("Poster already set"))},checkPlaying:function(a){var b=this;w(this.elements.container,this.config.classNames.playing,this.playing),w(this.elements.container,this.config.classNames.paused,this.paused),w(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(function(a){a.pressed=b.playing}),ra.event(a)&&"timeupdate"===a.type||Na.toggleControls.call(this)},checkLoading:function(a){var b=this;this.loading=["stalled","waiting"].includes(a.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(function(){w(b.elements.container,b.config.classNames.loading,b.loading),Na.toggleControls.call(b)},this.loading?250:0)},toggleControls:function(a){var b=this.elements.controls;if(b&&this.config.hideControls){var c=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(a||this.loading||this.paused||b.pressed||b.hover||c))}}},Oa=function(){function a(c){b(this,a),this.player=c,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}return d(a,[{key:"handleKey",
value:function(a){var b=this.player,c=b.elements,d=a.keyCode?a.keyCode:a.which,e="keydown"===a.type,f=e&&d===this.lastKey;if(!(a.altKey||a.ctrlKey||a.metaKey||a.shiftKey)&&ra.number(d))if(e){var g=document.activeElement;if(ra.element(g)){var h=b.config.selectors.editable;if(g!==c.inputs.seek&&y(g,h))return;if(32===a.which&&y(g,'button, [role^="menuitem"]'))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(d)&&(a.preventDefault(),a.stopPropagation()),d){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:f||(b.currentTime=b.duration/10*(d-48));break;case 32:case 75:f||b.togglePlay();break;case 38:b.increaseVolume(.1);break;case 40:b.decreaseVolume(.1);break;case 77:f||(b.muted=!b.muted);break;case 39:b.forward();break;case 37:b.rewind();break;case 70:b.fullscreen.toggle();break;case 67:f||b.toggleCaptions();break;case 76:b.loop=!b.loop}27===d&&!b.fullscreen.usingNative&&b.fullscreen.active&&b.fullscreen.toggle(),this.lastKey=d}else this.lastKey=null}},{key:"toggleMenu",value:function(a){Ea.toggleMenu.call(this.player,a)}},{key:"firstTouch",value:function(){var a=this.player,b=a.elements;a.touch=!0,w(b.container,a.config.classNames.isTouch,!0)}},{key:"setTabFocus",value:function(a){var b=this.player,c=b.elements;if(clearTimeout(this.focusTimer),"keydown"!==a.type||9===a.which){"keydown"===a.type&&(this.lastKeyDown=a.timeStamp);var d,e=a.timeStamp-this.lastKeyDown<=20;("focus"!==a.type||e)&&(d=b.config.classNames.tabFocus,w(z.call(b,".".concat(d)),d,!1),this.focusTimer=setTimeout(function(){var a=document.activeElement;c.container.contains(a)&&w(document.activeElement,b.config.classNames.tabFocus,!0)},10))}}},{key:"global",value:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],b=this.player;b.config.keyboard.global&&i.call(b,window,"keydown keyup",this.handleKey,a,!1),i.call(b,document.body,"click",this.toggleMenu,a),l.call(b,document.body,"touchstart",this.firstTouch),i.call(b,document.body,"keydown focus blur",this.setTabFocus,a,!1,!0)}},{key:"container",value:function(){var a=this.player,b=a.config,c=a.elements,d=a.timers;!b.keyboard.global&&b.keyboard.focused&&j.call(a,c.container,"keydown keyup",this.handleKey,!1),j.call(a,c.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",function(b){var e=c.controls;e&&"enterfullscreen"===b.type&&(e.pressed=!1,e.hover=!1);var f=0;["touchstart","touchmove","mousemove"].includes(b.type)&&(Na.toggleControls.call(a,!0),f=a.touch?3e3:2e3),clearTimeout(d.controls),d.controls=setTimeout(function(){return Na.toggleControls.call(a,!1)},f)});var e=function(b){if(!b)return T.call(a);var d=c.container.getBoundingClientRect(),e=d.width,f=d.height;return T.call(a,"".concat(e,":").concat(f))},g=function(){window.clearTimeout(d.resized),d.resized=window.setTimeout(e,50)};j.call(a,c.container,"enterfullscreen exitfullscreen",function(b){var d=a.fullscreen,h=d.target,i=d.usingNative;if(a.isEmbed&&h===c.container){var l="enterfullscreen"===b.type,m=e(l);m.padding,!function(b,c,d){if(a.isVimeo){var e=a.elements.wrapper.firstChild,g=f(b.split(":").map(Number),2)[1],h=f(a.embed.ratio.split(":").map(Number),2),i=h[0],j=h[1];e.style.maxWidth=d?"".concat(g/j*i,"px"):null,e.style.margin=d?"0 auto":null}}(m.ratio,0,l),i||(l?j.call(a,window,"resize",g):k.call(a,window,"resize",g))}})}},{key:"media",value:function(){var a=this,b=this.player,c=b.elements;if(j.call(b,b.media,"timeupdate seeking seeked",function(a){return Ea.timeUpdate.call(b,a)}),j.call(b,b.media,"durationchange loadeddata loadedmetadata",function(a){return Ea.durationUpdate.call(b,a)}),j.call(b,b.media,"canplay loadeddata",function(){v(c.volume,!b.hasAudio),v(c.buttons.mute,!b.hasAudio)}),j.call(b,b.media,"ended",function(){b.isHTML5&&b.isVideo&&b.config.resetOnEnd&&b.restart()}),j.call(b,b.media,"progress playing seeking seeked",function(a){return Ea.updateProgress.call(b,a)}),j.call(b,b.media,"volumechange",function(a){return Ea.updateVolume.call(b,a)}),j.call(b,b.media,"playing play pause ended emptied timeupdate",function(a){return Na.checkPlaying.call(b,a)}),j.call(b,b.media,"waiting canplay seeked playing",function(a){return Na.checkLoading.call(b,a)}),b.supported.ui&&b.config.clickToPlay&&!b.isAudio){var d=A.call(b,".".concat(b.config.classNames.video));if(!ra.element(d))return;j.call(b,c.container,"click",function(e){([c.container,d].includes(e.target)||d.contains(e.target))&&(b.touch&&b.config.hideControls||(b.ended?(a.proxy(e,b.restart,"restart"),a.proxy(e,b.play,"play")):a.proxy(e,b.togglePlay,"play")))})}b.supported.ui&&b.config.disableContextMenu&&j.call(b,c.wrapper,"contextmenu",function(a){a.preventDefault()},!1),j.call(b,b.media,"volumechange",function(){b.storage.set({volume:b.volume,muted:b.muted})}),j.call(b,b.media,"ratechange",function(){Ea.updateSetting.call(b,"speed"),b.storage.set({speed:b.speed})}),j.call(b,b.media,"qualitychange",function(a){Ea.updateSetting.call(b,"quality",null,a.detail.quality)}),j.call(b,b.media,"ready qualitychange",function(){Ea.setDownloadLink.call(b)});var e=b.config.events.concat(["keyup","keydown"]).join(" ");j.call(b,b.media,e,function(a){var d=a.detail,e=void 0===d?{}:d;"error"===a.type&&(e=b.media.error),m.call(b,c.container,a.type,!0,e)})}},{key:"proxy",value:function(a,b,c){var d=this.player,e=d.config.listeners[c],f=!0;ra.function(e)&&(f=e.call(d,a)),f&&ra.function(b)&&b.call(d,a)}},{key:"bind",value:function(a,b,c,d){var e=this,f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=this.player,h=g.config.listeners[d],i=ra.function(h);j.call(g,a,b,function(a){return e.proxy(a,c,d)},f&&!i)}},{key:"controls",value:function(){var a=this,b=this.player,c=b.elements,d=ua.isIE?"change":"input";if(c.buttons.play&&Array.from(c.buttons.play).forEach(function(c){a.bind(c,"click",b.togglePlay,"play")}),this.bind(c.buttons.restart,"click",b.restart,"restart"),this.bind(c.buttons.rewind,"click",b.rewind,"rewind"),this.bind(c.buttons.fastForward,"click",b.forward,"fastForward"),this.bind(c.buttons.mute,"click",function(){b.muted=!b.muted},"mute"),this.bind(c.buttons.captions,"click",function(){return b.toggleCaptions()}),this.bind(c.buttons.download,"click",function(){m.call(b,b.media,"download")},"download"),this.bind(c.buttons.fullscreen,"click",function(){b.fullscreen.toggle()},"fullscreen"),this.bind(c.buttons.pip,"click",function(){b.pip="toggle"},"pip"),this.bind(c.buttons.airplay,"click",b.airplay,"airplay"),this.bind(c.buttons.settings,"click",function(a){a.stopPropagation(),Ea.toggleMenu.call(b,a)}),this.bind(c.buttons.settings,"keyup",function(a){var c=a.which;[13,32].includes(c)&&(13!==c?(a.preventDefault(),a.stopPropagation(),Ea.toggleMenu.call(b,a)):Ea.focusFirstMenuItem.call(b,null,!0))},null,!1),this.bind(c.settings.menu,"keydown",function(a){27===a.which&&Ea.toggleMenu.call(b,a)}),this.bind(c.inputs.seek,"mousedown mousemove",function(a){var b=c.progress.getBoundingClientRect(),d=100/b.width*(a.pageX-b.left);a.currentTarget.setAttribute("seek-value",d)}),this.bind(c.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",function(a){var c=a.currentTarget,d=a.keyCode?a.keyCode:a.which;if(!ra.keyboardEvent(a)||39===d||37===d){b.lastSeekTime=Date.now();var e=c.hasAttribute("play-on-seeked"),f=["mouseup","touchend","keyup"].includes(a.type);e&&f?(c.removeAttribute("play-on-seeked"),b.play()):!f&&b.playing&&(c.setAttribute("play-on-seeked",""),b.pause())}}),ua.isIos){var e=z.call(b,'input[type="range"]');Array.from(e).forEach(function(b){return a.bind(b,d,function(a){return C(a.target)})})}this.bind(c.inputs.seek,d,function(a){var c=a.currentTarget,d=c.getAttribute("seek-value");ra.empty(d)&&(d=c.value),c.removeAttribute("seek-value"),b.currentTime=d/c.max*b.duration},"seek"),this.bind(c.progress,"mouseenter mouseleave mousemove",function(a){return Ea.updateSeekTooltip.call(b,a)}),this.bind(c.progress,"mousemove touchmove",function(a){var c=b.previewThumbnails;c&&c.loaded&&c.startMove(a)}),this.bind(c.progress,"mouseleave click",function(){var a=b.previewThumbnails;a&&a.loaded&&a.endMove(!1,!0)}),this.bind(c.progress,"mousedown touchstart",function(a){var c=b.previewThumbnails;c&&c.loaded&&c.startScrubbing(a)}),this.bind(c.progress,"mouseup touchend",function(a){var c=b.previewThumbnails;c&&c.loaded&&c.endScrubbing(a)}),ua.isWebkit&&Array.from(z.call(b,'input[type="range"]')).forEach(function(c){a.bind(c,"input",function(a){return Ea.updateRangeFill.call(b,a.target)})}),b.config.toggleInvert&&!ra.element(c.display.duration)&&this.bind(c.display.currentTime,"click",function(){0!==b.currentTime&&(b.config.invertTime=!b.config.invertTime,Ea.timeUpdate.call(b))}),this.bind(c.inputs.volume,d,function(a){b.volume=a.target.value},"volume"),this.bind(c.controls,"mouseenter mouseleave",function(a){c.controls.hover=!b.touch&&"mouseenter"===a.type}),this.bind(c.controls,"mousedown mouseup touchstart touchend touchcancel",function(a){c.controls.pressed=["mousedown","touchstart"].includes(a.type)}),this.bind(c.controls,"focusin",function(){var c=b.config,d=b.elements,e=b.timers;w(d.controls,c.classNames.noTransition,!0),Na.toggleControls.call(b,!0),setTimeout(function(){w(d.controls,c.classNames.noTransition,!1)},0);var f=a.touch?3e3:4e3;clearTimeout(e.controls),e.controls=setTimeout(function(){return Na.toggleControls.call(b,!1)},f)}),this.bind(c.inputs.volume,"wheel",function(a){var c=a.webkitDirectionInvertedFromDevice,d=f([a.deltaX,-a.deltaY].map(function(a){return c?-a:a}),2),e=d[0],g=d[1],h=Math.sign(Math.abs(e)>Math.abs(g)?e:g);b.increaseVolume(h/50);var i=b.media.volume;(1===h&&i<1||-1===h&&i>0)&&a.preventDefault()},"volume",!1)}}]),a}();"undefined"!=typeof window?window:void 0!==a||"undefined"!=typeof self&&self;var Pa,Qa,Ra=(function(a,b){a.exports=function(){function a(a,b){if(a){var c=h[a];if(g[a]=b,c)for(;c.length;)c[0](a,b),c.splice(0,1)}}function b(a,b){a.call&&(a={success:a}),b.length?(a.error||e)(b):(a.success||e)(a)}function c(a,b,d,f){var g,h,i=document,j=d.async,k=(d.numRetries||0)+1,l=d.before||e,m=a.replace(/^(css|img)!/,"");f=f||0,/(^css!|\.css$)/.test(a)?(g=!0,(h=i.createElement("link")).rel="stylesheet",h.href=m):/(^img!|\.(png|gif|jpg|svg)$)/.test(a)?(h=i.createElement("img")).src=m:((h=i.createElement("script")).src=a,h.async=void 0===j||j),h.onload=h.onerror=h.onbeforeload=function(e){var i=e.type[0];if(g&&"hideFocus"in h)try{h.sheet.cssText.length||(i="e")}catch(e){18!=e.code&&(i="e")}if("e"==i&&(f+=1)<k)return c(a,b,d,f);b(a,i,e.defaultPrevented)},!1!==l(a,h)&&i.head.appendChild(h)}function d(d,e,g){var h,i;if(e&&e.trim&&(h=e),i=(h?g:e)||{},h){if(h in f)throw"LoadJS";f[h]=!0}!function(a,b,d){var e,f,g=(a=a.push?a:[a]).length,h=g,i=[];for(e=function(a,c,d){if("e"==c&&i.push(a),"b"==c){if(!d)return;i.push(a)}--g||b(i)},f=0;f<h;f++)c(a[f],e,d)}(d,function(c){b(i,c),a(h,c)},i)}var e=function(){},f={},g={},h={};return d.ready=function(a,c){return function(a,b){a=a.push?a:[a];var c,d,e,f=[],i=a.length,j=i;for(c=function(a,c){c.length&&f.push(a),--j||b(f)};i--;)d=a[i],(e=g[d])?c(d,e):(h[d]=h[d]||[]).push(c)}(a,function(a){b(c,a)}),d},d.done=function(b){a(b,[])},d.reset=function(){f={},g={},h={}},d.isDefined=function(a){return a in f},d}()}(Pa={exports:{}},Pa.exports),Pa.exports),Sa={setup:function(){var a=this;w(this.elements.wrapper,this.config.classNames.embed,!0),T.call(this),ra.object(window.Vimeo)?Sa.ready.call(this):U(this.config.urls.vimeo.sdk).then(function(){Sa.ready.call(a)}).catch(function(b){a.debug.warn("Vimeo API failed to load",b)})},ready:function(){var a=this,b=this,c=b.config.vimeo,d=P(F({},{loop:b.config.loop.active,autoplay:b.autoplay,muted:b.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative},c)),e=b.media.getAttribute("src");ra.empty(e)&&(e=b.media.getAttribute(b.config.attributes.embed.id));var g,h=(g=e,ra.empty(g)?null:ra.number(Number(g))?g:g.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:g),i=p("iframe"),j=G(b.config.urls.vimeo.iframe,h,d);i.setAttribute("src",j),i.setAttribute("allowfullscreen",""),i.setAttribute("allowtransparency",""),i.setAttribute("allow","autoplay");var k=p("div",{poster:b.poster,class:b.config.classNames.embedContainer});k.appendChild(i),b.media=t(k,b.media),L(G(b.config.urls.vimeo.api,h),"json").then(function(a){if(!ra.empty(a)){var c=new URL(a[0].thumbnail_large);c.pathname="".concat(c.pathname.split("_")[0],".jpg"),Na.setPoster.call(b,c.href).catch(function(){})}}),b.embed=new window.Vimeo.Player(i,{autopause:b.config.autopause,muted:b.muted}),b.media.paused=!0,b.media.currentTime=0,b.supported.ui&&b.embed.disableTextTrack(),b.media.play=function(){return V.call(b,!0),b.embed.play()},b.media.pause=function(){return V.call(b,!1),b.embed.pause()},b.media.stop=function(){b.pause(),b.currentTime=0};var l=b.media.currentTime;Object.defineProperty(b.media,"currentTime",{get:function(){return l},set:function(a){var c=b.embed,d=b.media,e=b.paused,f=b.volume,g=e&&!c.hasPlayed;d.seeking=!0,m.call(b,d,"seeking"),Promise.resolve(g&&c.setVolume(0)).then(function(){return c.setCurrentTime(a)}).then(function(){return g&&c.pause()}).then(function(){return g&&c.setVolume(f)}).catch(function(){})}});var n=b.config.speed.selected;Object.defineProperty(b.media,"playbackRate",{get:function(){return n},set:function(a){b.embed.setPlaybackRate(a).then(function(){n=a,m.call(b,b.media,"ratechange")}).catch(function(a){"Error"===a.name&&Ea.setSpeedMenu.call(b,[])})}});var o=b.config.volume;Object.defineProperty(b.media,"volume",{get:function(){return o},set:function(a){b.embed.setVolume(a).then(function(){o=a,m.call(b,b.media,"volumechange")})}});var q=b.config.muted;Object.defineProperty(b.media,"muted",{get:function(){return q},set:function(a){var c=!!ra.boolean(a)&&a;b.embed.setVolume(c?0:b.config.volume).then(function(){q=c,m.call(b,b.media,"volumechange")})}});var r,s=b.config.loop;Object.defineProperty(b.media,"loop",{get:function(){return s},set:function(a){var c=ra.boolean(a)?a:b.config.loop.active;b.embed.setLoop(c).then(function(){s=c})}}),b.embed.getVideoUrl().then(function(a){r=a,Ea.setDownloadLink.call(b)}).catch(function(b){a.debug.warn(b)}),Object.defineProperty(b.media,"currentSrc",{get:function(){return r}}),Object.defineProperty(b.media,"ended",{get:function(){return b.currentTime===b.duration}}),Promise.all([b.embed.getVideoWidth(),b.embed.getVideoHeight()]).then(function(c){var d=f(c,2),e=d[0],g=d[1];b.embed.ratio="".concat(e,":").concat(g),T.call(a,b.embed.ratio)}),b.embed.setAutopause(b.config.autopause).then(function(a){b.config.autopause=a}),b.embed.getVideoTitle().then(function(c){b.config.title=c,Na.setTitle.call(a)}),b.embed.getCurrentTime().then(function(a){l=a,m.call(b,b.media,"timeupdate")}),b.embed.getDuration().then(function(a){b.media.duration=a,m.call(b,b.media,"durationchange")}),b.embed.getTextTracks().then(function(a){b.media.textTracks=a,Fa.setup.call(b)}),b.embed.on("cuechange",function(a){var c=a.cues,d=(void 0===c?[]:c).map(function(a){return b=a.text,c=document.createDocumentFragment(),d=document.createElement("div"),c.appendChild(d),d.innerHTML=b,c.firstChild.innerText;var b,c,d});Fa.updateCues.call(b,d)}),b.embed.on("loaded",function(){b.embed.getPaused().then(function(a){V.call(b,!a),a||m.call(b,b.media,"playing")}),ra.element(b.embed.element)&&b.supported.ui&&b.embed.element.setAttribute("tabindex",-1)}),b.embed.on("play",function(){V.call(b,!0),m.call(b,b.media,"playing")}),b.embed.on("pause",function(){V.call(b,!1)}),b.embed.on("timeupdate",function(a){b.media.seeking=!1,l=a.seconds,m.call(b,b.media,"timeupdate")}),b.embed.on("progress",function(a){b.media.buffered=a.percent,m.call(b,b.media,"progress"),1===parseInt(a.percent,10)&&m.call(b,b.media,"canplaythrough"),b.embed.getDuration().then(function(a){a!==b.media.duration&&(b.media.duration=a,m.call(b,b.media,"durationchange"))})}),b.embed.on("seeked",function(){b.media.seeking=!1,m.call(b,b.media,"seeked")}),b.embed.on("ended",function(){b.media.paused=!0,m.call(b,b.media,"ended")}),b.embed.on("error",function(a){b.media.error=a,m.call(b,b.media,"error")}),setTimeout(function(){return Na.build.call(b)},0)}},Ta={setup:function(){var a=this;w(this.elements.wrapper,this.config.classNames.embed,!0),T.call(this),ra.object(window.YT)&&ra.function(window.YT.Player)?Ta.ready.call(this):(U(this.config.urls.youtube.sdk).catch(function(b){a.debug.warn("YouTube API failed to load",b)}),window.onYouTubeReadyCallbacks=window.onYouTubeReadyCallbacks||[],window.onYouTubeReadyCallbacks.push(function(){Ta.ready.call(a)}),window.onYouTubeIframeAPIReady=function(){window.onYouTubeReadyCallbacks.forEach(function(a){a()})})},getTitle:function(a){var b=this;if(ra.function(this.embed.getVideoData)){var c=this.embed.getVideoData().title;if(ra.empty(c))return this.config.title=c,void Na.setTitle.call(this)}var d=this.config.keys.google;ra.string(d)&&!ra.empty(d)&&L(G(this.config.urls.youtube.api,a,d)).then(function(a){ra.object(a)&&(b.config.title=a.items[0].snippet.title,Na.setTitle.call(b))}).catch(function(){})},ready:function(){var a=this,b=a.media.getAttribute("id");if(ra.empty(b)||!b.startsWith("youtube-")){var c=a.media.getAttribute("src");ra.empty(c)&&(c=a.media.getAttribute(this.config.attributes.embed.id));var d,e,f=(d=c,ra.empty(d)?null:d.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:d),g=(e=a.provider,"".concat(e,"-").concat(Math.floor(1e4*Math.random()))),h=p("div",{id:g,poster:a.poster});a.media=t(h,a.media);var i=function(a){return"https://img.youtube.com/vi/".concat(f,"/").concat(a,"default.jpg")};S(i("maxres"),121).catch(function(){return S(i("sd"),121)}).catch(function(){return S(i("hq"))}).then(function(b){return Na.setPoster.call(a,b.src)}).then(function(b){b.includes("maxres")||(a.elements.poster.style.backgroundSize="cover")}).catch(function(){});var j=a.config.youtube;a.embed=new window.YT.Player(g,{videoId:f,host:j.noCookie?"https://www.youtube-nocookie.com":void 0,playerVars:F({},{autoplay:a.config.autoplay?1:0,hl:a.config.hl,controls:a.supported.ui?0:1,disablekb:1,playsinline:a.config.fullscreen.iosNative?0:1,cc_load_policy:a.captions.active?1:0,cc_lang_pref:a.config.captions.language,widget_referrer:window?window.location.href:null},j),events:{onError:function(b){if(!a.media.error){var c=b.data,d={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[c]||"An unknown error occured";a.media.error={code:c,message:d},m.call(a,a.media,"error")}},onPlaybackRateChange:function(b){var c=b.target;a.media.playbackRate=c.getPlaybackRate(),m.call(a,a.media,"ratechange")},onReady:function(b){if(!ra.function(a.media.play)){var c=b.target;Ta.getTitle.call(a,f),a.media.play=function(){W.call(a,!0),c.playVideo()},a.media.pause=function(){W.call(a,!1),c.pauseVideo()},a.media.stop=function(){c.stopVideo()},a.media.duration=c.getDuration(),a.media.paused=!0,a.media.currentTime=0,Object.defineProperty(a.media,"currentTime",{get:function(){return Number(c.getCurrentTime())},set:function(b){a.paused&&!a.embed.hasPlayed&&a.embed.mute(),a.media.seeking=!0,m.call(a,a.media,"seeking"),c.seekTo(b)}}),Object.defineProperty(a.media,"playbackRate",{get:function(){return c.getPlaybackRate()},set:function(a){c.setPlaybackRate(a)}});var d=a.config.volume;Object.defineProperty(a.media,"volume",{get:function(){return d},set:function(b){d=b,c.setVolume(100*d),m.call(a,a.media,"volumechange")}});var e=a.config.muted;Object.defineProperty(a.media,"muted",{get:function(){return e},set:function(b){var d=ra.boolean(b)?b:e;e=d,c[d?"mute":"unMute"](),m.call(a,a.media,"volumechange")}}),Object.defineProperty(a.media,"currentSrc",{get:function(){return c.getVideoUrl()}}),Object.defineProperty(a.media,"ended",{get:function(){return a.currentTime===a.duration}}),a.options.speed=c.getAvailablePlaybackRates(),a.supported.ui&&a.media.setAttribute("tabindex",-1),m.call(a,a.media,"timeupdate"),m.call(a,a.media,"durationchange"),clearInterval(a.timers.buffering),a.timers.buffering=setInterval(function(){a.media.buffered=c.getVideoLoadedFraction(),(null===a.media.lastBuffered||a.media.lastBuffered<a.media.buffered)&&m.call(a,a.media,"progress"),a.media.lastBuffered=a.media.buffered,1===a.media.buffered&&(clearInterval(a.timers.buffering),m.call(a,a.media,"canplaythrough"))},200),setTimeout(function(){return Na.build.call(a)},50)}},onStateChange:function(b){var c=b.target;switch(clearInterval(a.timers.playing),a.media.seeking&&[1,2].includes(b.data)&&(a.media.seeking=!1,m.call(a,a.media,"seeked")),b.data){case-1:m.call(a,a.media,"timeupdate"),a.media.buffered=c.getVideoLoadedFraction(),m.call(a,a.media,"progress");break;case 0:W.call(a,!1),a.media.loop?(c.stopVideo(),c.playVideo()):m.call(a,a.media,"ended");break;case 1:a.media.paused&&!a.embed.hasPlayed?a.media.pause():(W.call(a,!0),m.call(a,a.media,"playing"),a.timers.playing=setInterval(function(){m.call(a,a.media,"timeupdate")},50),a.media.duration!==c.getDuration()&&(a.media.duration=c.getDuration(),m.call(a,a.media,"durationchange")));break;case 2:a.muted||a.embed.unMute(),W.call(a,!1)}m.call(a,a.elements.container,"statechange",!1,{code:b.data})}}})}}},Ua={setup:function(){this.media?(w(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),w(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&w(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=p("div",{class:this.config.classNames.video}),n(this.media,this.elements.wrapper),this.elements.poster=p("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?xa.extend.call(this):this.isYouTube?Ta.setup.call(this):this.isVimeo&&Sa.setup.call(this)):this.debug.warn("No media element found!")}},Va=function(){function a(c){var d=this;b(this,a),this.player=c,this.config=c.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(function(a,b){d.on("loaded",a),d.on("error",b)}),this.load()}return d(a,[{key:"load",value:function(){var a=this;this.enabled&&(ra.object(window.google)&&ra.object(window.google.ima)?this.ready():U(this.player.config.urls.googleIMA.sdk).then(function(){a.ready()}).catch(function(){a.trigger("error",new Error("Google IMA SDK failed to load"))}))}},{key:"ready",value:function(){var a=this;this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(function(){a.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}},{key:"setupIMA",value:function(){this.elements.container=p("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.requestAds()}},{key:"requestAds",value:function(){var a=this,b=this.player.elements.container;try{this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(b){return a.onAdsManagerLoaded(b)},!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(b){return a.onAdError(b)},!1);var c=new google.ima.AdsRequest;c.adTagUrl=this.tagUrl,c.linearAdSlotWidth=b.offsetWidth,c.linearAdSlotHeight=b.offsetHeight,c.nonLinearAdSlotWidth=b.offsetWidth,c.nonLinearAdSlotHeight=b.offsetHeight,c.forceNonLinearFullSlot=!1,c.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(c)}catch(a){this.onAdError(a)}}},{key:"pollCountdown",value:function(){var a=this;if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0]))return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(function(){var b=N(Math.max(a.manager.getRemainingTime(),0)),c="".concat(za("advertisement",a.player.config)," - ").concat(b);a.elements.container.setAttribute("data-badge-text",c)},100)}},{key:"onAdsManagerLoaded",value:function(a){var b=this;if(this.enabled){var c=new google.ima.AdsRenderingSettings;c.restoreCustomPlaybackStateOnAdBreakComplete=!0,c.enablePreloading=!0,this.manager=a.getAdsManager(this.player,c),this.cuePoints=this.manager.getCuePoints(),this.manager.setVolume(this.player.volume),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(a){return b.onAdError(a)}),Object.keys(google.ima.AdEvent.Type).forEach(function(a){b.manager.addEventListener(google.ima.AdEvent.Type[a],function(a){return b.onAdEvent(a)})}),this.trigger("loaded")}}},{key:"addCuePoints",value:function(){var a=this;ra.empty(this.cuePoints)||this.cuePoints.forEach(function(b){if(0!==b&&-1!==b&&b<a.player.duration){var c=a.player.elements.progress;if(ra.element(c)){var d=100/a.player.duration*b,e=p("span",{class:a.player.config.classNames.cues});e.style.left="".concat(d.toString(),"%"),c.appendChild(e)}}})}},{key:"onAdEvent",value:function(a){var b=this,c=this.player.elements.container,d=a.getAd(),e=a.getAdData(),f=function(a){var c="ads".concat(a.replace(/_/g,"").toLowerCase());m.call(b.player,b.player.media,c)};switch(a.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),f(a.type),this.pollCountdown(!0),d.isLinear()||(d.width=c.offsetWidth,d.height=c.offsetHeight);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:f(a.type),this.loadAds();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:f(a.type),this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:f(a.type),this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.STARTED:case google.ima.AdEvent.Type.MIDPOINT:case google.ima.AdEvent.Type.COMPLETE:case google.ima.AdEvent.Type.IMPRESSION:case google.ima.AdEvent.Type.CLICK:f(a.type);break;case google.ima.AdEvent.Type.LOG:e.adError&&this.player.debug.warn("Non-fatal ad error: ".concat(e.adError.getMessage()))}}},{key:"onAdError",value:function(a){this.cancel(),this.player.debug.warn("Ads error",a)}},{key:"listeners",value:function(){var a,b=this,c=this.player.elements.container;this.player.on("canplay",function(){b.addCuePoints()}),this.player.on("ended",function(){b.loader.contentComplete()}),this.player.on("timeupdate",function(){a=b.player.currentTime}),this.player.on("seeked",function(){var c=b.player.currentTime;ra.empty(b.cuePoints)||b.cuePoints.forEach(function(d,e){a<d&&d<c&&(b.manager.discardAdBreak(),b.cuePoints.splice(e,1))})}),window.addEventListener("resize",function(){b.manager&&b.manager.resize(c.offsetWidth,c.offsetHeight,google.ima.ViewMode.NORMAL)})}},{key:"play",value:function(){var a=this,b=this.player.elements.container;this.managerPromise||this.resumeContent(),this.managerPromise.then(function(){a.elements.displayContainer.initialize();try{a.initialized||(a.manager.init(b.offsetWidth,b.offsetHeight,google.ima.ViewMode.NORMAL),a.manager.start()),a.initialized=!0}catch(b){a.onAdError(b)}}).catch(function(){})}},{key:"resumeContent",value:function(){this.elements.container.style.zIndex="",this.playing=!1,this.player.media.play()}},{key:"pauseContent",value:function(){this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}},{key:"cancel",value:function(){this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}},{key:"loadAds",value:function(){var a=this;this.managerPromise.then(function(){a.manager&&a.manager.destroy(),a.managerPromise=new Promise(function(b){a.on("loaded",b),a.player.debug.log(a.manager)}),a.requestAds()}).catch(function(){})}},{key:"trigger",value:function(a){for(var b=this,c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];var f=this.events[a];ra.array(f)&&f.forEach(function(a){ra.function(a)&&a.apply(b,d)})}},{key:"on",value:function(a,b){return ra.array(this.events[a])||(this.events[a]=[]),this.events[a].push(b),this}},{key:"startSafetyTimer",value:function(a,b){var c=this;this.player.debug.log("Safety timer invoked from: ".concat(b)),this.safetyTimer=setTimeout(function(){c.cancel(),c.clearSafetyTimer("startSafetyTimer()")},a)}},{key:"clearSafetyTimer",value:function(a){ra.nullOrUndefined(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: ".concat(a)),clearTimeout(this.safetyTimer),this.safetyTimer=null)}},{key:"enabled",get:function(){var a=this.config;return this.player.isHTML5&&this.player.isVideo&&a.enabled&&(!ra.empty(a.publisherId)||ra.url(a.tagUrl))}},{key:"tagUrl",get:function(){var a=this.config;if(ra.url(a.tagUrl))return a.tagUrl;var b={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:this.publisherId};return"".concat("https://go.aniview.com/api/adserver6/vast/","?").concat(P(b))}}]),a}(),Wa=function(){function a(c){b(this,a),this.player=c,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}return d(a,[{key:"load",value:function(){var a=this;this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(function(){a.render(),a.determineContainerAutoSizing(),a.loaded=!0})}},{key:"getThumbnails",value:function(){var a=this;return new Promise(function(b){var c=a.player.config.previewThumbnails.src;if(ra.empty(c))throw new Error("Missing previewThumbnails.src config attribute");var d=(ra.string(c)?[c]:c).map(function(b){return a.getThumbnail(b)});Promise.all(d).then(function(){a.thumbnails.sort(function(a,b){return a.height-b.height}),a.player.debug.log("Preview thumbnails",a.thumbnails),b()})})}},{key:"getThumbnail",value:function(a){var b=this;return new Promise(function(c){L(a).then(function(d){var e,g,h={frames:(e=d,g=[],e.split(/\r\n\r\n|\n\n|\r\r/).forEach(function(a){var b={};a.split(/\r\n|\n|\r/).forEach(function(a){if(ra.number(b.startTime)){if(!ra.empty(a.trim())&&ra.empty(b.text)){var c=a.trim().split("#xywh="),d=f(c,1);if(b.text=d[0],c[1]){var e=f(c[1].split(","),4);b.x=e[0],b.y=e[1],b.w=e[2],b.h=e[3]}}}else{var g=a.match(/([0-9]{2}):([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2}):([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);g&&(b.startTime=60*Number(g[1])*60+60*Number(g[2])+Number(g[3])+Number("0.".concat(g[4])),b.endTime=60*Number(g[6])*60+60*Number(g[7])+Number(g[8])+Number("0.".concat(g[9])))}}),b.text&&g.push(b)}),g),height:null,urlPrefix:""};h.frames[0].text.startsWith("/")||(h.urlPrefix=a.substring(0,a.lastIndexOf("/")+1));var i=new Image;i.onload=function(){h.height=i.naturalHeight,h.width=i.naturalWidth,b.thumbnails.push(h),c()},i.src=h.urlPrefix+h.frames[0].text})})}},{key:"startMove",value:function(a){if(this.loaded&&ra.event(a)&&["touchmove","mousemove"].includes(a.type)&&this.player.media.duration){if("touchmove"===a.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{
var b=this.player.elements.progress.getBoundingClientRect(),c=100/b.width*(a.pageX-b.left);this.seekTime=this.player.media.duration*(c/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=a.pageX,this.elements.thumb.time.innerText=N(this.seekTime)}this.showImageAtCurrentTime()}}},{key:"endMove",value:function(){this.toggleThumbContainer(!1,!0)}},{key:"startScrubbing",value:function(a){!1!==a.button&&0!==a.button||(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}},{key:"endScrubbing",value:function(){var a=this;this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):l.call(this.player,this.player.media,"timeupdate",function(){a.mouseDown||a.toggleScrubbingContainer(!1)})}},{key:"listeners",value:function(){var a=this;this.player.on("play",function(){a.toggleThumbContainer(!1,!0)}),this.player.on("seeked",function(){a.toggleThumbContainer(!1)}),this.player.on("timeupdate",function(){a.lastTime=a.player.media.currentTime})}},{key:"render",value:function(){this.elements.thumb.container=p("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=p("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);var a=p("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=p("span",{},"00:00"),a.appendChild(this.elements.thumb.time),this.elements.thumb.container.appendChild(a),this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=p("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}},{key:"showImageAtCurrentTime",value:function(){var a=this;this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();var b=this.thumbnails[0].frames.findIndex(function(b){return a.seekTime>=b.startTime&&a.seekTime<=b.endTime}),c=b>=0,d=0;this.mouseDown||this.toggleThumbContainer(c),c&&(this.thumbnails.forEach(function(c,e){a.loadedImages.includes(c.frames[b].text)&&(d=e)}),b!==this.showingThumb&&(this.showingThumb=b,this.loadImage(d)))}},{key:"loadImage",value:function(){var a=this,b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,c=this.showingThumb,d=this.thumbnails[b],e=d.urlPrefix,f=d.frames[c],g=d.frames[c].text,h=e+g;if(this.currentImageElement&&this.currentImageElement.dataset.filename===g)this.showImage(this.currentImageElement,f,b,c,g,!1),this.currentImageElement.dataset.index=c,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);var i=new Image;i.src=h,i.dataset.index=c,i.dataset.filename=g,this.showingThumbFilename=g,this.player.debug.log("Loading image: ".concat(h)),i.onload=function(){return a.showImage(i,f,b,c,g,!0)},this.loadingImage=i,this.removeOldImages(i)}}},{key:"showImage",value:function(a,b,c,d,e){var f=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];this.player.debug.log("Showing thumb: ".concat(e,". num: ").concat(d,". qual: ").concat(c,". newimg: ").concat(f)),this.setImageSizeAndOffset(a,b),f&&(this.currentImageContainer.appendChild(a),this.currentImageElement=a,this.loadedImages.includes(e)||this.loadedImages.push(e)),this.preloadNearby(d,!0).then(this.preloadNearby(d,!1)).then(this.getHigherQuality(c,a,b,e))}},{key:"removeOldImages",value:function(a){var b=this;Array.from(this.currentImageContainer.children).forEach(function(c){if("img"===c.tagName.toLowerCase()){var d=b.usingSprites?500:1e3;if(c.dataset.index!==a.dataset.index&&!c.dataset.deleting){c.dataset.deleting=!0;var e=b.currentImageContainer;setTimeout(function(){e.removeChild(c),b.player.debug.log("Removing thumb: ".concat(c.dataset.filename))},d)}}})}},{key:"preloadNearby",value:function(a){var b=this,c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise(function(d){setTimeout(function(){var e=b.thumbnails[0].frames[a].text;if(b.showingThumbFilename===e){var f;f=c?b.thumbnails[0].frames.slice(a):b.thumbnails[0].frames.slice(0,a).reverse();var g=!1;f.forEach(function(a){var c=a.text;if(c!==e&&!b.loadedImages.includes(c)){g=!0,b.player.debug.log("Preloading thumb filename: ".concat(c));var f=b.thumbnails[0].urlPrefix+c,h=new Image;h.src=f,h.onload=function(){b.player.debug.log("Preloaded thumb filename: ".concat(c)),b.loadedImages.includes(c)||b.loadedImages.push(c),d()}}}),g||d()}},300)})}},{key:"getHigherQuality",value:function(a,b,c,d){var e=this;if(a<this.thumbnails.length-1){var f=b.naturalHeight;this.usingSprites&&(f=c.h),f<this.thumbContainerHeight&&setTimeout(function(){e.showingThumbFilename===d&&(e.player.debug.log("Showing higher quality thumb for: ".concat(d)),e.loadImage(a+1))},300)}}},{key:"toggleThumbContainer",value:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],b=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(c,a),!a&&b&&(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"toggleScrubbingContainer",value:function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],b=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(b,a),a||(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"determineContainerAutoSizing",value:function(){this.elements.thumb.imageContainer.clientHeight>20&&(this.sizeSpecifiedInCSS=!0)}},{key:"setThumbContainerSizeAndPos",value:function(){if(!this.sizeSpecifiedInCSS){var a=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height="".concat(this.thumbContainerHeight,"px"),this.elements.thumb.imageContainer.style.width="".concat(a,"px")}this.setThumbContainerPos()}},{key:"setThumbContainerPos",value:function(){var a=this.player.elements.progress.getBoundingClientRect(),b=this.player.elements.container.getBoundingClientRect(),c=this.elements.thumb.container,d=b.left-a.left+10,e=b.right-a.left-c.clientWidth-10,f=this.mousePosX-a.left-c.clientWidth/2;f<d&&(f=d),f>e&&(f=e),c.style.left="".concat(f,"px")}},{key:"setScrubbingContainerSize",value:function(){this.elements.scrubbing.container.style.width="".concat(this.player.media.clientWidth,"px"),this.elements.scrubbing.container.style.height="".concat(this.player.media.clientWidth/this.thumbAspectRatio,"px")}},{key:"setImageSizeAndOffset",value:function(a,b){if(this.usingSprites){var c=this.thumbContainerHeight/b.h;a.style.height="".concat(Math.floor(a.naturalHeight*c),"px"),a.style.width="".concat(Math.floor(a.naturalWidth*c),"px"),a.style.left="-".concat(b.x*c,"px"),a.style.top="-".concat(b.y*c,"px")}}},{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}},{key:"currentImageContainer",get:function(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}},{key:"usingSprites",get:function(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}},{key:"thumbAspectRatio",get:function(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}},{key:"thumbContainerHeight",get:function(){return this.mouseDown?Math.floor(this.player.media.clientWidth/this.thumbAspectRatio):Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}},{key:"currentImageElement",get:function(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement},set:function(a){this.mouseDown?this.currentScrubbingImageElement=a:this.currentThumbnailImageElement=a}}]),a}(),Xa={insertElements:function(a,b){var c=this;ra.string(b)?q(a,this.media,{src:b}):ra.array(b)&&b.forEach(function(b){q(a,c.media,b)})},change:function(a){var b=this;E(a,"sources.length")?(xa.cancelRequests.call(this),this.destroy.call(this,function(){b.options.quality=[],r(b.media),b.media=null,ra.element(b.elements.container)&&b.elements.container.removeAttribute("class");var c=a.sources,d=a.type,e=f(c,1)[0],g=e.provider,h=void 0===g?Ia.html5:g,i=e.src,j="html5"===h?d:"div",k="html5"===h?{}:{src:i};Object.assign(b,{provider:h,type:d,supported:wa.check(d,h,b.config.playsinline),media:p(j,k)}),b.elements.container.appendChild(b.media),ra.boolean(a.autoplay)&&(b.config.autoplay=a.autoplay),b.isHTML5&&(b.config.crossorigin&&b.media.setAttribute("crossorigin",""),b.config.autoplay&&b.media.setAttribute("autoplay",""),ra.empty(a.poster)||(b.poster=a.poster),b.config.loop.active&&b.media.setAttribute("loop",""),b.config.muted&&b.media.setAttribute("muted",""),b.config.playsinline&&b.media.setAttribute("playsinline","")),Na.addStyleHook.call(b),b.isHTML5&&Xa.insertElements.call(b,"source",c),b.config.title=a.title,Ua.setup.call(b),b.isHTML5&&Object.keys(a).includes("tracks")&&Xa.insertElements.call(b,"track",a.tracks),(b.isHTML5||b.isEmbed&&!b.supported.ui)&&Na.build.call(b),b.isHTML5&&b.media.load(),b.previewThumbnails&&b.previewThumbnails.load(),b.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}},Ya=function(){function a(c,d){var e=this;if(b(this,a),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=wa.touch,this.media=c,ra.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||ra.nodeList(this.media)||ra.array(this.media))&&(this.media=this.media[0]),this.config=F({},Ga,a.defaults,d||{},function(){try{return JSON.parse(e.media.getAttribute("data-plyr-config"))}catch(a){return{}}}()),this.elements={container:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new La(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",wa),!ra.nullOrUndefined(this.media)&&ra.element(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(wa.check().api){var f=this.media.cloneNode(!0);f.autoplay=!1,this.elements.original=f;var g=this.media.tagName.toLowerCase(),h=null,i=null;switch(g){case"div":if(h=this.media.querySelector("iframe"),ra.element(h)){if(i=O(h.getAttribute("src")),this.provider=function(a){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(a)?Ia.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(a)?Ia.vimeo:null}(i.toString()),this.elements.container=this.media,this.media=h,this.elements.container.className="",i.search.length){var k=["1","true"];k.includes(i.searchParams.get("autoplay"))&&(this.config.autoplay=!0),k.includes(i.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=k.includes(i.searchParams.get("playsinline")),this.config.youtube.hl=i.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(ra.empty(this.provider)||!Object.keys(Ia).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=Ja.video;break;case"video":case"audio":this.type=g,this.provider=Ia.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=wa.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new Oa(this),this.storage=new Aa(this),this.media.plyr=this,ra.element(this.elements.container)||(this.elements.container=p("div",{tabindex:0}),n(this.media,this.elements.container)),Na.addStyleHook.call(this),Ua.setup.call(this),this.config.debug&&j.call(this,this.elements.container,this.config.events.join(" "),function(a){e.debug.log("event: ".concat(a.type))}),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Na.build.call(this),this.listeners.container(),this.listeners.global(),this.fullscreen=new Ma(this),this.config.ads.enabled&&(this.ads=new Va(this)),this.config.autoplay&&this.play(),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Wa(this))):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return d(a,[{key:"play",value:function(){var a=this;return ra.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(function(){return a.ads.play()}).catch(function(){return a.media.play()}),this.media.play()):null}},{key:"pause",value:function(){this.playing&&ra.function(this.media.pause)&&this.media.pause()}},{key:"togglePlay",value:function(a){(ra.boolean(a)?a:!this.playing)?this.play():this.pause()}},{key:"stop",value:function(){this.isHTML5?(this.pause(),this.restart()):ra.function(this.media.stop)&&this.media.stop()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(a){this.currentTime=this.currentTime-(ra.number(a)?a:this.config.seekTime)}},{key:"forward",value:function(a){this.currentTime=this.currentTime+(ra.number(a)?a:this.config.seekTime)}},{key:"increaseVolume",value:function(a){var b=this.media.muted?0:this.volume;this.volume=b+(ra.number(a)?a:0)}},{key:"decreaseVolume",value:function(a){this.increaseVolume(-a)}},{key:"toggleCaptions",value:function(a){Fa.toggle.call(this,a,!1)}},{key:"airplay",value:function(){wa.airplay&&this.media.webkitShowPlaybackTargetPicker()}},{key:"toggleControls",value:function(a){if(this.supported.ui&&!this.isAudio){var b=x(this.elements.container,this.config.classNames.hideControls),c=void 0===a?void 0:!a,d=w(this.elements.container,this.config.classNames.hideControls,c);if(d&&this.config.controls.includes("settings")&&!ra.empty(this.config.settings)&&Ea.toggleMenu.call(this,!1),d!==b){var e=d?"controlshidden":"controlsshown";m.call(this,this.media,e)}return!d}return!1}},{key:"on",value:function(a,b){j.call(this,this.elements.container,a,b)}},{key:"once",value:function(a,b){l.call(this,this.elements.container,a,b)}},{key:"off",value:function(a,b){k(this.elements.container,a,b)}},{key:"destroy",value:function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ready){var d=function(){document.body.style.overflow="",b.embed=null,c?(Object.keys(b.elements).length&&(r(b.elements.buttons.play),r(b.elements.captions),r(b.elements.controls),r(b.elements.wrapper),b.elements.buttons.play=null,b.elements.captions=null,b.elements.controls=null,b.elements.wrapper=null),ra.function(a)&&a()):(function(){this&&this.eventListeners&&(this.eventListeners.forEach(function(a){var b=a.element,c=a.type,d=a.callback,e=a.options;b.removeEventListener(c,d,e)}),this.eventListeners=[])}.call(b),t(b.elements.original,b.elements.container),m.call(b,b.elements.original,"destroyed",!0),ra.function(a)&&a.call(b.elements.original),b.ready=!1,setTimeout(function(){b.elements=null,b.media=null},200))};this.stop(),this.isHTML5?(clearTimeout(this.timers.loading),Na.toggleNativeControls.call(this,!0),d()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&ra.function(this.embed.destroy)&&this.embed.destroy(),d()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(d),setTimeout(d,200))}}},{key:"supports",value:function(a){return wa.mime.call(this,a)}},{key:"isHTML5",get:function(){return Boolean(this.provider===Ia.html5)}},{key:"isEmbed",get:function(){return Boolean(this.isYouTube||this.isVimeo)}},{key:"isYouTube",get:function(){return Boolean(this.provider===Ia.youtube)}},{key:"isVimeo",get:function(){return Boolean(this.provider===Ia.vimeo)}},{key:"isVideo",get:function(){return Boolean(this.type===Ja.video)}},{key:"isAudio",get:function(){return Boolean(this.type===Ja.audio)}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(a){if(this.duration){var b=ra.number(a)&&a>0;this.media.currentTime=b?Math.min(a,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))}},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var a=this.media.buffered;return ra.number(a)?a:a&&a.length&&this.duration>0?a.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var a=parseFloat(this.config.duration),b=(this.media||{}).duration,c=ra.number(b)&&b!==1/0?b:0;return a||c}},{key:"volume",set:function(a){var b=a;ra.string(b)&&(b=Number(b)),ra.number(b)||(b=this.storage.get("volume")),ra.number(b)||(b=this.config.volume),b>1&&(b=1),b<0&&(b=0),this.config.volume=b,this.media.volume=b,!ra.empty(a)&&this.muted&&b>0&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(a){var b=a;ra.boolean(b)||(b=this.storage.get("muted")),ra.boolean(b)||(b=this.config.muted),this.config.muted=b,this.media.muted=b},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",set:function(a){var b=null;ra.number(a)&&(b=a),ra.number(b)||(b=this.storage.get("speed")),ra.number(b)||(b=this.config.speed.selected),b<.1&&(b=.1),b>2&&(b=2),this.config.speed.options.includes(b)?(this.config.speed.selected=b,this.media.playbackRate=b):this.debug.warn("Unsupported speed (".concat(b,")"))},get:function(){return Number(this.media.playbackRate)}},{key:"quality",set:function(a){var b=this.config.quality,c=this.options.quality;if(c.length){var d=[!ra.empty(a)&&Number(a),this.storage.get("quality"),b.selected,b.default].find(ra.number),e=!0;if(!c.includes(d)){var f=function(a,b){return ra.array(a)&&a.length?a.reduce(function(a,c){return Math.abs(c-b)<Math.abs(a-b)?c:a}):null}(c,d);this.debug.warn("Unsupported quality option: ".concat(d,", using ").concat(f," instead")),d=f,e=!1}b.selected=d,this.media.quality=d,e&&this.storage.set({quality:d})}},get:function(){return this.media.quality}},{key:"loop",set:function(a){var b=ra.boolean(a)?a:this.config.loop.active;this.config.loop.active=b,this.media.loop=b},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(a){Xa.change.call(this,a)},get:function(){return this.media.currentSrc}},{key:"download",get:function(){var a=this.config.urls.download;return ra.url(a)?a:this.source}},{key:"poster",set:function(a){this.isVideo?Na.setPoster.call(this,a,!1).catch(function(){}):this.debug.warn("Poster can only be set for video")},get:function(){return this.isVideo?this.media.getAttribute("poster"):null}},{key:"autoplay",set:function(a){var b=ra.boolean(a)?a:this.config.autoplay;this.config.autoplay=b},get:function(){return Boolean(this.config.autoplay)}},{key:"currentTrack",set:function(a){Fa.set.call(this,a,!1)},get:function(){var a=this.captions,b=a.toggled,c=a.currentTrack;return b?c:-1}},{key:"language",set:function(a){Fa.setLanguage.call(this,a,!1)},get:function(){return(Fa.getCurrentTrack.call(this)||{}).language}},{key:"pip",set:function(a){if(wa.pip){var b=ra.boolean(a)?a:!this.pip;ra.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(b?Ha:"inline"),ra.function(this.media.requestPictureInPicture)&&(!this.pip&&b?this.media.requestPictureInPicture():this.pip&&!b&&document.exitPictureInPicture())}},get:function(){return wa.pip?ra.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Ha:null}}],[{key:"supported",value:function(a,b,c){return wa.check(a,b,c)}},{key:"loadSprite",value:function(a,b){return M(a,b)}},{key:"setup",value:function(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=null;return ra.string(b)?d=Array.from(document.querySelectorAll(b)):ra.nodeList(b)?d=Array.from(b):ra.array(b)&&(d=b.filter(ra.element)),ra.empty(d)?null:d.map(function(b){return new a(b,c)})}}]),a}();return Ya.defaults=(Qa=Ga,JSON.parse(JSON.stringify(Qa))),Ya})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],351:[function(require,module,exports){window.createjs=window.createjs||{},function(){"use strict";var a=createjs.PreloadJS=createjs.PreloadJS||{};a.version="0.4.1",a.buildDate="Thu, 12 Dec 2013 23:33:38 GMT"}(),function(){"use strict";var a=function(a,b,c){this.initialize(a,b,c)},b=a.prototype;b.type=null,b.target=null,b.currentTarget=null,b.eventPhase=0,b.bubbles=!1,b.cancelable=!1,b.timeStamp=0,b.defaultPrevented=!1,b.propagationStopped=!1,b.immediatePropagationStopped=!1,b.removed=!1,b.initialize=function(a,b,c){this.type=a,this.bubbles=b,this.cancelable=c,this.timeStamp=(new Date).getTime()},b.preventDefault=function(){this.defaultPrevented=!0},b.stopPropagation=function(){this.propagationStopped=!0},b.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},b.remove=function(){this.removed=!0},b.clone=function(){return new a(this.type,this.bubbles,this.cancelable)},b.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=a}(),function(){"use strict";var a=function(){},b=a.prototype;a.initialize=function(a){a.addEventListener=b.addEventListener,a.on=b.on,a.removeEventListener=a.off=b.removeEventListener,a.removeAllEventListeners=b.removeAllEventListeners,a.hasEventListener=b.hasEventListener,a.dispatchEvent=b.dispatchEvent,a._dispatchEvent=b._dispatchEvent,a.willTrigger=b.willTrigger},b._listeners=null,b._captureListeners=null,b.initialize=function(){},b.addEventListener=function(a,b,c){var d;d=c?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var e=d[a];return e&&this.removeEventListener(a,b,c),e=d[a],e?e.push(b):d[a]=[b],b},b.on=function(a,b,c,d,e,f){return b.handleEvent&&(c=c||b,b=b.handleEvent),c=c||this,this.addEventListener(a,function(a){b.call(c,a,e),d&&a.remove()},f)},b.removeEventListener=function(a,b,c){var d=c?this._captureListeners:this._listeners;if(d){var e=d[a];if(e)for(var f=0,g=e.length;g>f;f++)if(e[f]==b){1==g?delete d[a]:e.splice(f,1);break}}},b.off=b.removeEventListener,b.removeAllEventListeners=function(a){a?(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null},b.dispatchEvent=function(a,b){if("string"==typeof a){var c=this._listeners;if(!c||!c[a])return!1;a=new createjs.Event(a)}if(a.target=b||this,a.bubbles&&this.parent){for(var d=this,e=[d];d.parent;)e.push(d=d.parent);var f,g=e.length;for(f=g-1;f>=0&&!a.propagationStopped;f--)e[f]._dispatchEvent(a,1+(0==f));for(f=1;g>f&&!a.propagationStopped;f++)e[f]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return a.defaultPrevented},b.hasEventListener=function(a){var b=this._listeners,c=this._captureListeners;return!!(b&&b[a]||c&&c[a])},b.willTrigger=function(a){for(var b=this;b;){if(b.hasEventListener(a))return!0;b=b.parent}return!1},b.toString=function(){return"[EventDispatcher]"},b._dispatchEvent=function(a,b){var c,d=1==b?this._captureListeners:this._listeners;if(a&&d){var e=d[a.type];if(!e||!(c=e.length))return;a.currentTarget=this,a.eventPhase=b,a.removed=!1,e=e.slice();for(var f=0;c>f&&!a.immediatePropagationStopped;f++){var g=e[f];g.handleEvent?g.handleEvent(a):g(a),a.removed&&(this.off(a.type,g,1==b),a.removed=!1)}}},createjs.EventDispatcher=a}(),function(){"use strict";createjs.indexOf=function(a,b){for(var c=0,d=a.length;d>c;c++)if(b===a[c])return c;return-1}}(),function(){"use strict";createjs.proxy=function(a,b){var c=Array.prototype.slice.call(arguments,2);return function(){return a.apply(b,Array.prototype.slice.call(arguments,0).concat(c))}}}(),function(){"use strict";var a=function(){this.init()};a.prototype=new createjs.EventDispatcher;var b=a.prototype,c=a;c.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?)|(.{0,2}\/{1}))?([\/.]*?(?:[^?]+)?\/)?((?:[^\/?]+)\.(\w+))(?:\?(\S+)?)?$/,c.PATH_PATTERN=/^(?:(\w+:)\/{2})|(.{0,2}\/{1})?([\/.]*?(?:[^?]+)?\/?)?$/,b.loaded=!1,b.canceled=!1,b.progress=0,b._item=null,b.getItem=function(){return this._item},b.init=function(){},b.load=function(){},b.close=function(){},b._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},b._sendProgress=function(a){if(!this._isCanceled()){var b=null;"number"==typeof a?(this.progress=a,b=new createjs.Event("progress"),b.loaded=this.progress,b.total=1):(b=a,this.progress=a.loaded/a.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0)),b.progress=this.progress,this.hasEventListener("progress")&&this.dispatchEvent(b)}},b._sendComplete=function(){this._isCanceled()||this.dispatchEvent("complete")},b._sendError=function(a){!this._isCanceled()&&this.hasEventListener("error")&&(null==a&&(a=new createjs.Event("error")),this.dispatchEvent(a))},b._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)},b._parseURI=function(a){return a?a.match(c.FILE_PATTERN):null},b._parsePath=function(a){return a?a.match(c.PATH_PATTERN):null},b._formatQueryString=function(a,b){if(null==a)throw new Error("You must specify data.");var c=[];for(var d in a)c.push(d+"="+escape(a[d]));return b&&(c=c.concat(b)),c.join("&")},b.buildPath=function(a,b){if(null==b)return a;var c=[],d=a.indexOf("?");if(-1!=d){var e=a.slice(d+1);c=c.concat(e.split("&"))}return-1!=d?a.slice(0,d)+"?"+this._formatQueryString(b,c):a+"?"+this._formatQueryString(b,c)},b._isCrossDomain=function(a){var b=document.createElement("a");b.href=a.src;var c=document.createElement("a");return c.href=location.href,""!=b.hostname&&(b.port!=c.port||b.protocol!=c.protocol||b.hostname!=c.hostname)},b._isLocal=function(a){var b=document.createElement("a");return b.href=a.src,""==b.hostname&&"file:"==b.protocol},b.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=a}(),function(){"use strict";var a=function(a,b,c){this.init(a,b,c)},b=a.prototype=new createjs.AbstractLoader,c=a;c.loadTimeout=8e3,c.LOAD_TIMEOUT=0,c.BINARY="binary",c.CSS="css",c.IMAGE="image",c.JAVASCRIPT="javascript",c.JSON="json",c.JSONP="jsonp",c.MANIFEST="manifest",c.SOUND="sound",c.SVG="svg",c.TEXT="text",c.XML="xml",c.POST="POST",c.GET="GET",b._basePath=null,b._crossOrigin="",b.useXHR=!0,b.stopOnError=!1,b.maintainScriptOrder=!0,b.next=null,b._typeCallbacks=null,b._extensionCallbacks=null,b._loadStartWasDispatched=!1,b._maxConnections=1,b._currentlyLoadingScript=null,b._currentLoads=null,b._loadQueue=null,b._loadQueueBackup=null,b._loadItemsById=null,b._loadItemsBySrc=null,b._loadedResults=null,b._loadedRawResults=null,b._numItems=0,b._numItemsLoaded=0,b._scriptOrder=null,b._loadedScripts=null,b.init=function(a,b,c){this._numItems=this._numItemsLoaded=0,this._paused=!1,this._loadStartWasDispatched=!1,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._scriptOrder=[],this._loadedScripts=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._typeCallbacks={},this._extensionCallbacks={},this._basePath=b,this.setUseXHR(a),this._crossOrigin=!0===c?"Anonymous":!1===c||null==c?"":c},b.setUseXHR=function(a){return this.useXHR=0!=a&&null!=window.XMLHttpRequest,this.useXHR},b.removeAll=function(){this.remove()},b.remove=function(a){var b=null;if(!a||a instanceof Array){if(a)b=a;else if(arguments.length>0)return}else b=[a];var c=!1;if(b){for(;b.length;){var d=b.pop(),e=this.getResult(d);for(f=this._loadQueue.length-1;f>=0;f--)if(g=this._loadQueue[f].getItem(),g.id==d||g.src==d){this._loadQueue.splice(f,1)[0].cancel();break}for(f=this._loadQueueBackup.length-1;f>=0;f--)if(g=this._loadQueueBackup[f].getItem(),g.id==d||g.src==d){this._loadQueueBackup.splice(f,1)[0].cancel();break}if(e)delete this._loadItemsById[e.id],delete this._loadItemsBySrc[e.src],this._disposeItem(e);else for(var f=this._currentLoads.length-1;f>=0;f--){var g=this._currentLoads[f].getItem();if(g.id==d||g.src==d){this._currentLoads.splice(f,1)[0].cancel(),c=!0;break}}}c&&this._loadNext()}else{this.close();for(var h in this._loadItemsById)this._disposeItem(this._loadItemsById[h]);this.init(this.useXHR)}},b.reset=function(){this.close();for(var a in this._loadItemsById)this._disposeItem(this._loadItemsById[a]);for(var b=[],c=0,d=this._loadQueueBackup.length;d>c;c++)b.push(this._loadQueueBackup[c].getItem());this.loadManifest(b,!1)},c.isBinary=function(a){switch(a){case createjs.LoadQueue.IMAGE:case createjs.LoadQueue.BINARY:return!0;default:return!1}},c.isText=function(a){switch(a){case createjs.LoadQueue.TEXT:case createjs.LoadQueue.JSON:case createjs.LoadQueue.MANIFEST:case createjs.LoadQueue.XML:case createjs.LoadQueue.HTML:case createjs.LoadQueue.CSS:case createjs.LoadQueue.SVG:case createjs.LoadQueue.JAVASCRIPT:return!0;default:return!1}},b.installPlugin=function(a){if(null!=a&&null!=a.getPreloadHandlers){var b=a.getPreloadHandlers();if(b.scope=a,null!=b.types)for(var c=0,d=b.types.length;d>c;c++)this._typeCallbacks[b.types[c]]=b;if(null!=b.extensions)for(c=0,d=b.extensions.length;d>c;c++)this._extensionCallbacks[b.extensions[c]]=b}},b.setMaxConnections=function(a){this._maxConnections=a,!this._paused&&this._loadQueue.length>0&&this._loadNext()},b.loadFile=function(a,b,c){if(null==a){var d=new createjs.Event("error");return d.text="PRELOAD_NO_FILE",void this._sendError(d)}this._addItem(a,null,c),!1!==b?this.setPaused(!1):this.setPaused(!0)},b.loadManifest=function(a,b,d){var e=null,f=null;if(a instanceof Array){if(0==a.length){var g=new createjs.Event("error");return g.text="PRELOAD_MANIFEST_EMPTY",void this._sendError(g)}e=a}else if("string"==typeof a)e=[{src:a,type:c.MANIFEST}];else{if("object"!=typeof a){var g=new createjs.Event("error");return g.text="PRELOAD_MANIFEST_NULL",void this._sendError(g)}if(void 0!==a.src){if(null==a.type)a.type=c.MANIFEST;else if(a.type!=c.MANIFEST){var g=new createjs.Event("error");g.text="PRELOAD_MANIFEST_ERROR",this._sendError(g)}e=[a]}else void 0!==a.manifest&&(e=a.manifest,f=a.path)}for(var h=0,i=e.length;i>h;h++)this._addItem(e[h],f,d);!1!==b?this.setPaused(!1):this.setPaused(!0)},b.load=function(){this.setPaused(!1)},b.getItem=function(a){return this._loadItemsById[a]||this._loadItemsBySrc[a]},b.getResult=function(a,b){var c=this._loadItemsById[a]||this._loadItemsBySrc[a];if(null==c)return null;var d=c.id;return b&&this._loadedRawResults[d]?this._loadedRawResults[d]:this._loadedResults[d]},b.setPaused=function(a){this._paused=a,this._paused||this._loadNext()},b.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1},b._addItem=function(a,b,c){var d=this._createLoadItem(a,b,c);if(null!=d){
var e=this._createLoader(d);null!=e&&(this._loadQueue.push(e),this._loadQueueBackup.push(e),this._numItems++,this._updateProgress(),this.maintainScriptOrder&&d.type==createjs.LoadQueue.JAVASCRIPT&&e instanceof createjs.XHRLoader&&(this._scriptOrder.push(d),this._loadedScripts.push(null)))}},b._createLoadItem=function(a,b,c){var d=null;switch(typeof a){case"string":d={src:a};break;case"object":d=window.HTMLAudioElement&&a instanceof window.HTMLAudioElement?{tag:a,src:d.tag.src,type:createjs.LoadQueue.SOUND}:a;break;default:return null}var e=this._parseURI(d.src);null!=e&&(d.ext=e[6]),null==d.type&&(d.type=this._getTypeByExtension(d.ext));var f="",g=c||this._basePath,h=d.src;if(e&&null==e[1]&&null==e[3])if(b){f=b;var i=this._parsePath(b);h=b+h,null!=g&&i&&null==i[1]&&null==i[2]&&(f=g+f)}else null!=g&&(f=g);if(d.src=f+d.src,d.path=f,(d.type==createjs.LoadQueue.JSON||d.type==createjs.LoadQueue.MANIFEST)&&(d._loadAsJSONP=null!=d.callback),d.type==createjs.LoadQueue.JSONP&&null==d.callback)throw new Error("callback is required for loading JSONP requests.");(void 0===d.tag||null===d.tag)&&(d.tag=this._createTag(d)),(void 0===d.id||null===d.id||""===d.id)&&(d.id=h);var j=this._typeCallbacks[d.type]||this._extensionCallbacks[d.ext];if(j){var k=j.callback.call(j.scope,d.src,d.type,d.id,d.data,f,this);if(!1===k)return null;!0===k||(null!=k.src&&(d.src=k.src),null!=k.id&&(d.id=k.id),null!=k.tag&&(d.tag=k.tag),null!=k.completeHandler&&(d.completeHandler=k.completeHandler),k.type&&(d.type=k.type),null!=(e=this._parseURI(d.src))&&null!=e[6]&&(d.ext=e[6].toLowerCase()))}return this._loadItemsById[d.id]=d,this._loadItemsBySrc[d.src]=d,d},b._createLoader=function(a){var b=this.useXHR;switch(a.type){case createjs.LoadQueue.JSON:case createjs.LoadQueue.MANIFEST:b=!a._loadAsJSONP;break;case createjs.LoadQueue.XML:case createjs.LoadQueue.TEXT:b=!0;break;case createjs.LoadQueue.SOUND:case createjs.LoadQueue.JSONP:b=!1;break;case null:return null}return b?new createjs.XHRLoader(a,this._crossOrigin):new createjs.TagLoader(a)},b._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var a=0;a<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);a++){var b=this._loadQueue[a];if(this.maintainScriptOrder&&b instanceof createjs.TagLoader&&b.getItem().type==createjs.LoadQueue.JAVASCRIPT){if(this._currentlyLoadingScript)continue;this._currentlyLoadingScript=!0}this._loadQueue.splice(a,1),a--,this._loadItem(b)}}},b._loadItem=function(a){a.on("progress",this._handleProgress,this),a.on("complete",this._handleFileComplete,this),a.on("error",this._handleFileError,this),this._currentLoads.push(a),this._sendFileStart(a.getItem()),a.load()},b._handleFileError=function(a){var b=a.target;this._numItemsLoaded++,this._updateProgress();var c=new createjs.Event("error");c.text="FILE_LOAD_ERROR",c.item=b.getItem(),this._sendError(c),this.stopOnError||(this._removeLoadItem(b),this._loadNext())},b._handleFileComplete=function(a){var b=a.target,c=b.getItem();if(this._loadedResults[c.id]=b.getResult(),b instanceof createjs.XHRLoader&&(this._loadedRawResults[c.id]=b.getResult(!0)),this._removeLoadItem(b),this.maintainScriptOrder&&c.type==createjs.LoadQueue.JAVASCRIPT){if(!(b instanceof createjs.TagLoader))return this._loadedScripts[createjs.indexOf(this._scriptOrder,c)]=c,void this._checkScriptLoadOrder(b);this._currentlyLoadingScript=!1}if(delete c._loadAsJSONP,c.type==createjs.LoadQueue.MANIFEST){var d=b.getResult();null!=d&&void 0!==d.manifest&&this.loadManifest(d,!0)}this._processFinishedLoad(c,b)},b._processFinishedLoad=function(a,b){this._numItemsLoaded++,this._updateProgress(),this._sendFileComplete(a,b),this._loadNext()},b._checkScriptLoadOrder=function(){for(var a=this._loadedScripts.length,b=0;a>b;b++){var c=this._loadedScripts[b];if(null===c)break;if(!0!==c){var d=this._loadedResults[c.id];(document.body||document.getElementsByTagName("body")[0]).appendChild(d),this._processFinishedLoad(c),this._loadedScripts[b]=!0}}},b._removeLoadItem=function(a){for(var b=this._currentLoads.length,c=0;b>c;c++)if(this._currentLoads[c]==a){this._currentLoads.splice(c,1);break}},b._handleProgress=function(a){var b=a.target;this._sendFileProgress(b.getItem(),b.progress),this._updateProgress()},b._updateProgress=function(){var a=this._numItemsLoaded/this._numItems,b=this._numItems-this._numItemsLoaded;if(b>0){for(var c=0,d=0,e=this._currentLoads.length;e>d;d++)c+=this._currentLoads[d].progress;a+=c/b*(b/this._numItems)}this._sendProgress(a)},b._disposeItem=function(a){delete this._loadedResults[a.id],delete this._loadedRawResults[a.id],delete this._loadItemsById[a.id],delete this._loadItemsBySrc[a.src]},b._createTag=function(a){var b=null;switch(a.type){case createjs.LoadQueue.IMAGE:return b=document.createElement("img"),""==this._crossOrigin||this._isLocal(a)||(b.crossOrigin=this._crossOrigin),b;case createjs.LoadQueue.SOUND:return b=document.createElement("audio"),b.autoplay=!1,b;case createjs.LoadQueue.JSON:case createjs.LoadQueue.JSONP:case createjs.LoadQueue.JAVASCRIPT:case createjs.LoadQueue.MANIFEST:return b=document.createElement("script"),b.type="text/javascript",b;case createjs.LoadQueue.CSS:return b=this.useXHR?document.createElement("style"):document.createElement("link"),b.rel="stylesheet",b.type="text/css",b;case createjs.LoadQueue.SVG:return this.useXHR?b=document.createElement("svg"):(b=document.createElement("object"),b.type="image/svg+xml"),b}return null},b._getTypeByExtension=function(a){if(null==a)return createjs.LoadQueue.TEXT;switch(a.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.LoadQueue.IMAGE;case"ogg":case"mp3":case"wav":return createjs.LoadQueue.SOUND;case"json":return createjs.LoadQueue.JSON;case"xml":return createjs.LoadQueue.XML;case"css":return createjs.LoadQueue.CSS;case"js":return createjs.LoadQueue.JAVASCRIPT;case"svg":return createjs.LoadQueue.SVG;default:return createjs.LoadQueue.TEXT}},b._sendFileProgress=function(a,b){if(this._isCanceled())return void this._cleanUp();if(this.hasEventListener("fileprogress")){var c=new createjs.Event("fileprogress");c.progress=b,c.loaded=b,c.total=1,c.item=a,this.dispatchEvent(c)}},b._sendFileComplete=function(a,b){if(!this._isCanceled()){var c=new createjs.Event("fileload");c.loader=b,c.item=a,c.result=this._loadedResults[a.id],c.rawResult=this._loadedRawResults[a.id],a.completeHandler&&a.completeHandler(c),this.hasEventListener("fileload")&&this.dispatchEvent(c)}},b._sendFileStart=function(a){var b=new createjs.Event("filestart");b.item=a,this.hasEventListener("filestart")&&this.dispatchEvent(b)},b.toString=function(){return"[PreloadJS LoadQueue]"},createjs.LoadQueue=a;var d=function(){};d.init=function(){var a=navigator.userAgent;d.isFirefox=a.indexOf("Firefox")>-1,d.isOpera=null!=window.opera,d.isChrome=a.indexOf("Chrome")>-1,d.isIOS=a.indexOf("iPod")>-1||a.indexOf("iPhone")>-1||a.indexOf("iPad")>-1},d.init(),createjs.LoadQueue.BrowserDetect=d}(),function(){"use strict";var a=function(a){this.init(a)},b=a.prototype=new createjs.AbstractLoader;b._loadTimeout=null,b._tagCompleteProxy=null,b._isAudio=!1,b._tag=null,b._jsonResult=null,b.init=function(a){this._item=a,this._tag=a.tag,this._isAudio=window.HTMLAudioElement&&a.tag instanceof window.HTMLAudioElement,this._tagCompleteProxy=createjs.proxy(this._handleLoad,this)},b.getResult=function(){return this._item.type==createjs.LoadQueue.JSONP||this._item.type==createjs.LoadQueue.MANIFEST?this._jsonResult:this._tag},b.cancel=function(){this.canceled=!0,this._clean()},b.load=function(){var a=this._item,b=this._tag;clearTimeout(this._loadTimeout);var c=createjs.LoadQueue.LOAD_TIMEOUT;0==c&&(c=createjs.LoadQueue.loadTimeout),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),c),this._isAudio&&(b.src=null,b.preload="auto"),b.onerror=createjs.proxy(this._handleError,this),this._isAudio?(b.onstalled=createjs.proxy(this._handleStalled,this),b.addEventListener("canplaythrough",this._tagCompleteProxy,!1)):(b.onload=createjs.proxy(this._handleLoad,this),b.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this));var d=this.buildPath(a.src,a.values);switch(a.type){case createjs.LoadQueue.CSS:b.href=d;break;case createjs.LoadQueue.SVG:b.data=d;break;default:b.src=d}if(a.type==createjs.LoadQueue.JSONP||a.type==createjs.LoadQueue.JSON||a.type==createjs.LoadQueue.MANIFEST){if(null==a.callback)throw new Error("callback is required for loading JSONP requests.");if(null!=window[a.callback])throw new Error('JSONP callback "'+a.callback+'" already exists on window. You need to specify a different callback. Or re-name the current one.');window[a.callback]=createjs.proxy(this._handleJSONPLoad,this)}(a.type==createjs.LoadQueue.SVG||a.type==createjs.LoadQueue.JSONP||a.type==createjs.LoadQueue.JSON||a.type==createjs.LoadQueue.MANIFEST||a.type==createjs.LoadQueue.JAVASCRIPT||a.type==createjs.LoadQueue.CSS)&&(this._startTagVisibility=b.style.visibility,b.style.visibility="hidden",(document.body||document.getElementsByTagName("body")[0]).appendChild(b)),null!=b.load&&b.load()},b._handleJSONPLoad=function(a){this._jsonResult=a},b._handleTimeout=function(){this._clean();var a=new createjs.Event("error");a.text="PRELOAD_TIMEOUT",this._sendError(a)},b._handleStalled=function(){},b._handleError=function(){this._clean();var a=new createjs.Event("error");this._sendError(a)},b._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this.getItem().tag;("loaded"==a.readyState||"complete"==a.readyState)&&this._handleLoad()},b._handleLoad=function(){if(!this._isCanceled()){var a=this.getItem(),b=a.tag;if(!(this.loaded||this._isAudio&&4!==b.readyState)){switch(this.loaded=!0,a.type){case createjs.LoadQueue.SVG:case createjs.LoadQueue.JSON:case createjs.LoadQueue.JSONP:case createjs.LoadQueue.MANIFEST:case createjs.LoadQueue.CSS:b.style.visibility=this._startTagVisibility,(document.body||document.getElementsByTagName("body")[0]).removeChild(b)}this._clean(),this._sendComplete()}}},b._clean=function(){clearTimeout(this._loadTimeout);var a=this.getItem(),b=a.tag;null!=b&&(b.onload=null,b.removeEventListener&&b.removeEventListener("canplaythrough",this._tagCompleteProxy,!1),b.onstalled=null,b.onprogress=null,b.onerror=null,null!=b.parentNode&&a.type==createjs.LoadQueue.SVG&&a.type==createjs.LoadQueue.JSON&&a.type==createjs.LoadQueue.MANIFEST&&a.type==createjs.LoadQueue.CSS&&a.type==createjs.LoadQueue.JSONP&&b.parentNode.removeChild(b));var a=this.getItem();(a.type==createjs.LoadQueue.JSONP||a.type==createjs.LoadQueue.MANIFEST)&&(window[a.callback]=null)},b.toString=function(){return"[PreloadJS TagLoader]"},createjs.TagLoader=a}(),function(){"use strict";var a=function(a,b){this.init(a,b)},b=a.prototype=new createjs.AbstractLoader;b._request=null,b._loadTimeout=null,b._xhrLevel=1,b._response=null,b._rawResponse=null,b._crossOrigin="",b.init=function(a,b){this._item=a,this._crossOrigin=b,this._createXHR(a)},b.getResult=function(a){return a&&this._rawResponse?this._rawResponse:this._response},b.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},b.load=function(){if(null==this._request)return void this._handleError();if(this._request.onloadstart=createjs.proxy(this._handleLoadStart,this),this._request.onprogress=createjs.proxy(this._handleProgress,this),this._request.onabort=createjs.proxy(this._handleAbort,this),this._request.onerror=createjs.proxy(this._handleError,this),this._request.ontimeout=createjs.proxy(this._handleTimeout,this),1==this._xhrLevel){var a=createjs.LoadQueue.LOAD_TIMEOUT;0==a&&(a=createjs.LoadQueue.loadTimeout),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),a)}this._request.onload=createjs.proxy(this._handleLoad,this),this._request.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this);try{this._item.values&&this._item.method!=createjs.LoadQueue.GET?this._item.method==createjs.LoadQueue.POST&&this._request.send(this._formatQueryString(this._item.values)):this._request.send()}catch(a){var b=new createjs.Event("error");b.error=a,this._sendError(b)}},b.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},b.getResponseHeader=function(a){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(a):null},b._handleProgress=function(a){if(a&&!(a.loaded>0&&0==a.total)){var b=new createjs.Event("progress");b.loaded=a.loaded,b.total=a.total,this._sendProgress(b)}},b._handleLoadStart=function(){clearTimeout(this._loadTimeout),this._sendLoadStart()},b._handleAbort=function(){this._clean();var a=new createjs.Event("error");a.text="XHR_ABORTED",this._sendError(a)},b._handleError=function(){this._clean();var a=new createjs.Event("error");this._sendError(a)},b._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()},b._handleLoad=function(){if(!this.loaded){if(this.loaded=!0,!this._checkError())return void this._handleError();this._response=this._getResponse(),this._clean();this._generateTag()&&this._sendComplete()}},b._handleTimeout=function(a){this._clean(),new createjs.Event("error").text="PRELOAD_TIMEOUT",this._sendError(a)},b._checkError=function(){switch(parseInt(this._request.status)){case 404:case 0:return!1}return!0},b._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(a){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(a){}return null},b._createXHR=function(a){var b=this._isCrossDomain(a),c=null;if(b&&window.XDomainRequest)c=new XDomainRequest;else if(window.XMLHttpRequest)c=new XMLHttpRequest;else try{c=new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){try{c=new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){try{c=new ActiveXObject("Msxml2.XMLHTTP")}catch(a){return!1}}}createjs.LoadQueue.isText(a.type)&&c.overrideMimeType&&c.overrideMimeType("text/plain; charset=utf-8"),this._xhrLevel="string"==typeof c.responseType?2:1;var d=null;return d=a.method==createjs.LoadQueue.GET?this.buildPath(a.src,a.values):a.src,c.open(a.method||createjs.LoadQueue.GET,d,!0),b&&c instanceof XMLHttpRequest&&1==this._xhrLevel&&c.setRequestHeader("Origin",location.origin),a.values&&a.method==createjs.LoadQueue.POST&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),createjs.LoadQueue.isBinary(a.type)&&(c.responseType="arraybuffer"),this._request=c,!0},b._clean=function(){clearTimeout(this._loadTimeout);var a=this._request;a.onloadstart=null,a.onprogress=null,a.onabort=null,a.onerror=null,a.onload=null,a.ontimeout=null,a.onloadend=null,a.onreadystatechange=null},b._generateTag=function(){var a=this._item.type,b=this._item.tag;switch(a){case createjs.LoadQueue.IMAGE:return b.onload=createjs.proxy(this._handleTagReady,this),""!=this._crossOrigin&&(b.crossOrigin="Anonymous"),b.src=this.buildPath(this._item.src,this._item.values),this._rawResponse=this._response,this._response=b,!1;case createjs.LoadQueue.JAVASCRIPT:return b=document.createElement("script"),b.text=this._response,this._rawResponse=this._response,this._response=b,!0;case createjs.LoadQueue.CSS:if(document.getElementsByTagName("head")[0].appendChild(b),b.styleSheet)b.styleSheet.cssText=this._response;else{var c=document.createTextNode(this._response);b.appendChild(c)}return this._rawResponse=this._response,this._response=b,!0;case createjs.LoadQueue.XML:var d=this._parseXML(this._response,"text/xml");return this._rawResponse=this._response,this._response=d,!0;case createjs.LoadQueue.SVG:var d=this._parseXML(this._response,"image/svg+xml");return this._rawResponse=this._response,null!=d.documentElement?(b.appendChild(d.documentElement),this._response=b):this._response=d,!0;case createjs.LoadQueue.JSON:case createjs.LoadQueue.MANIFEST:var e={};try{e=JSON.parse(this._response)}catch(a){e=a}return this._rawResponse=this._response,this._response=e,!0}return!0},b._parseXML=function(a,b){var c=null;try{if(window.DOMParser){c=(new DOMParser).parseFromString(a,b)}else c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(a)}catch(a){}return c},b._handleTagReady=function(){this._sendComplete()},b.toString=function(){return"[PreloadJS XHRLoader]"},createjs.XHRLoader=a}(),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],(e=str(d,i))&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i))&&g.push(quote(d)+(gap?": ":":")+e);return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),module.exports=window.createjs},{}],352:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],353:[function(a,b,c){(function(c){for(var d=a("performance-now"),e="undefined"==typeof window?c:window,f=["moz","webkit"],g="AnimationFrame",h=e["request"+g],i=e["cancel"+g]||e["cancelRequest"+g],j=0;!h&&j<f.length;j++)h=e[f[j]+"Request"+g],i=e[f[j]+"Cancel"+g]||e[f[j]+"CancelRequest"+g];if(!h||!i){var k=0,l=0,m=[];h=function(a){if(0===m.length){var b=d(),c=Math.max(0,1e3/60-(b-k));k=c+b,setTimeout(function(){var a=m.slice(0);m.length=0;for(var b=0;b<a.length;b++)if(!a[b].cancelled)try{a[b].callback(k)}catch(a){setTimeout(function(){throw a},0)}},Math.round(c))}return m.push({handle:++l,callback:a,cancelled:!1}),l},i=function(a){for(var b=0;b<m.length;b++)m[b].handle===a&&(m[b].cancelled=!0)}}b.exports=function(a){return h.call(e,a)},b.exports.cancel=function(){i.apply(e,arguments)},b.exports.polyfill=function(a){a||(a=e),a.requestAnimationFrame=h,a.cancelAnimationFrame=i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":349}],354:[function(a,b,c){(function(a){!function(a){"use strict";function c(a,b,c,d){var f=b&&b.prototype instanceof e?b:e,g=Object.create(f.prototype),h=new n(d||[]);return g._invoke=j(a,c,h),g}function d(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}function e(){}function f(){}function g(){}function h(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}function i(b){function c(a,e,f,g){var h=d(b[a],b,e);if("throw"!==h.type){var i=h.arg,j=i.value;return j&&"object"==typeof j&&s.call(j,"__await")?Promise.resolve(j.__await).then(function(a){c("next",a,f,g)},function(a){c("throw",a,f,g)}):Promise.resolve(j).then(function(a){i.value=a,f(i)},g)}g(h.arg)}function e(a,b){function d(){return new Promise(function(d,e){c(a,b,d,e)})}return f=f?f.then(d,d):d()}"object"==typeof a.process&&a.process.domain&&(c=a.process.domain.bind(c));var f;this._invoke=e}function j(a,b,c){var e=z;return function(f,g){if(e===B)throw new Error("Generator is already running");if(e===C){if("throw"===f)throw g;return p()}for(c.method=f,c.arg=g;;){var h=c.delegate;if(h){var i=k(h,c);if(i){if(i===D)continue;return i}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(e===z)throw e=C,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);e=B;var j=d(a,b,c);if("normal"===j.type){if(e=c.done?C:A,j.arg===D)continue;return{value:j.arg,done:c.done}}"throw"===j.type&&(e=C,c.method="throw",c.arg=j.arg)}}}function k(a,b){var c=a.iterator[b.method];if(c===q){if(b.delegate=null,"throw"===b.method){if(a.iterator.return&&(b.method="return",b.arg=q,k(a,b),"throw"===b.method))return D;b.method="throw",b.arg=new TypeError("The iterator does not provide a 'throw' method")}return D}var e=d(c,a.iterator,b.arg);if("throw"===e.type)return b.method="throw",b.arg=e.arg,b.delegate=null,D;var f=e.arg;return f?f.done?(b[a.resultName]=f.value,b.next=a.nextLoc,"return"!==b.method&&(b.method="next",b.arg=q),b.delegate=null,D):f:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,D)}function l(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]),2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]),this.tryEntries.push(b)}function m(a){var b=a.completion||{};b.type="normal",delete b.arg,a.completion=b}function n(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(l,this),this.reset(!0)}function o(a){if(a){var b=a[u];if(b)return b.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var c=-1,d=function b(){for(;++c<a.length;)if(s.call(a,c))return b.value=a[c],b.done=!1,b;return b.value=q,b.done=!0,b};return d.next=d}}return{next:p}}function p(){return{value:q,done:!0}}var q,r=Object.prototype,s=r.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},u=t.iterator||"@@iterator",v=t.asyncIterator||"@@asyncIterator",w=t.toStringTag||"@@toStringTag",x="object"==typeof b,y=a.regeneratorRuntime;if(y)return void(x&&(b.exports=y));y=a.regeneratorRuntime=x?b.exports:{},y.wrap=c;var z="suspendedStart",A="suspendedYield",B="executing",C="completed",D={},E={};E[u]=function(){return this};var F=Object.getPrototypeOf,G=F&&F(F(o([])));G&&G!==r&&s.call(G,u)&&(E=G);var H=g.prototype=e.prototype=Object.create(E);f.prototype=H.constructor=g,g.constructor=f,g[w]=f.displayName="GeneratorFunction",y.isGeneratorFunction=function(a){var b="function"==typeof a&&a.constructor;return!!b&&(b===f||"GeneratorFunction"===(b.displayName||b.name))},y.mark=function(a){return Object.setPrototypeOf?Object.setPrototypeOf(a,g):(a.__proto__=g,w in a||(a[w]="GeneratorFunction")),a.prototype=Object.create(H),a},y.awrap=function(a){return{__await:a}},h(i.prototype),i.prototype[v]=function(){return this},y.AsyncIterator=i,y.async=function(a,b,d,e){var f=new i(c(a,b,d,e));return y.isGeneratorFunction(b)?f:f.next().then(function(a){return a.done?a.value:f.next()})},h(H),H[w]="Generator",H[u]=function(){return this},H.toString=function(){return"[object Generator]"},y.keys=function(a){var b=[];for(var c in a)b.push(c);return b.reverse(),function c(){for(;b.length;){var d=b.pop();if(d in a)return c.value=d,c.done=!1,c}return c.done=!0,c}},y.values=o,n.prototype={constructor:n,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=q,this.done=!1,this.delegate=null,this.method="next",this.arg=q,this.tryEntries.forEach(m),!a)for(var b in this)"t"===b.charAt(0)&&s.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=q)},stop:function(){this.done=!0;var a=this.tryEntries[0],b=a.completion;if("throw"===b.type)throw b.arg;return this.rval},dispatchException:function(a){function b(b,d){return f.type="throw",f.arg=a,c.next=b,d&&(c.method="next",c.arg=q),!!d}if(this.done)throw a;for(var c=this,d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d],f=e.completion;if("root"===e.tryLoc)return b("end");if(e.tryLoc<=this.prev){var g=s.call(e,"catchLoc"),h=s.call(e,"finallyLoc");if(g&&h){if(this.prev<e.catchLoc)return b(e.catchLoc,!0);if(this.prev<e.finallyLoc)return b(e.finallyLoc)}else if(g){if(this.prev<e.catchLoc)return b(e.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<e.finallyLoc)return b(e.finallyLoc)}}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&s.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&("break"===a||"continue"===a)&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);var f=e?e.completion:{};return f.type=a,f.arg=b,e?(this.method="next",this.next=e.finallyLoc,D):this.complete(f)},complete:function(a,b){if("throw"===a.type)throw a.arg;return"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&b&&(this.next=b),D},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),m(c),D}},catch:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if("throw"===d.type){var e=d.arg;m(c)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){return this.delegate={iterator:o(a),resultName:b,nextLoc:c},"next"===this.method&&(this.arg=q),D}}}("object"==typeof a?a:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],355:[function(a,b,c){var d=function(){function a(a){return e.appendChild(a.dom),a}function b(a){for(var b=0;b<e.children.length;b++)e.children[b].style.display=b===a?"block":"none";c=a}var c=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(a){a.preventDefault(),b(++c%e.children.length)},!1);var f=(performance||Date).now(),g=f,h=0,i=a(new d.Panel("FPS","#0ff","#002")),j=a(new d.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var k=a(new d.Panel("MB","#f08","#201"));return b(0),{REVISION:16,dom:e,addPanel:a,showPanel:b,begin:function(){f=(performance||Date).now()},end:function(){h++;var a=(performance||Date).now();if(j.update(a-f,200),a>g+1e3&&(i.update(1e3*h/(a-g),100),g=a,h=0,k)){var b=performance.memory;k.update(b.usedJSHeapSize/1048576,b.jsHeapSizeLimit/1048576)}return a},update:function(){f=this.end()},domElement:e,setMode:b}};d.Panel=function(a,b,c){var d=1/0,e=0,f=Math.round,g=f(window.devicePixelRatio||1),h=80*g,i=48*g,j=3*g,k=2*g,l=3*g,m=15*g,n=74*g,o=30*g,p=document.createElement("canvas");p.width=h,p.height=i,p.style.cssText="width:80px;height:48px";var q=p.getContext("2d");return q.font="bold "+9*g+"px Helvetica,Arial,sans-serif",q.textBaseline="top",q.fillStyle=c,q.fillRect(0,0,h,i),q.fillStyle=b,q.fillText(a,j,k),q.fillRect(l,m,n,o),q.fillStyle=c,q.globalAlpha=.9,q.fillRect(l,m,n,o),{dom:p,update:function(i,r){d=Math.min(d,i),e=Math.max(e,i),q.fillStyle=c,q.globalAlpha=1,q.fillRect(0,0,h,m),q.fillStyle=b,q.fillText(f(i)+" "+a+" ("+f(d)+"-"+f(e)+")",j,k),q.drawImage(p,l+g,m,n-g,o,l,m,n-g,o),q.fillRect(l+n-g,m,g,o),q.fillStyle=c,q.globalAlpha=.9,q.fillRect(l+n-g,m,g,f((1-i/r)*o))}}},"object"==typeof b&&(b.exports=d)},{}],356:[function(a,b,c){!function(a,d){"object"==typeof c&&void 0!==b?d(c):"function"==typeof define&&define.amd?define(["exports"],d):d(a.THREE={})}(this,function(a){"use strict";function b(){}function c(a,b){this.x=a||0,this.y=b||0}function d(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length}function e(a,b,c,d){this._x=a||0,this._y=b||0,this._z=c||0,this._w=void 0!==d?d:1}function f(a,b,c){this.x=a||0,this.y=b||0,this.z=c||0}function g(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length}function h(a,b,d,e,f,i,j,k,l,m){Object.defineProperty(this,"id",{value:pi++}),this.uuid=oi.generateUUID(),this.name="",this.image=void 0!==a?a:h.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==b?b:h.DEFAULT_MAPPING,this.wrapS=void 0!==d?d:dh,this.wrapT=void 0!==e?e:dh,this.magFilter=void 0!==f?f:ih,this.minFilter=void 0!==i?i:kh,this.anisotropy=void 0!==l?l:1,this.format=void 0!==j?j:zh,this.type=void 0!==k?k:lh,this.offset=new c(0,0),this.repeat=new c(1,1),this.center=new c(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new g,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==m?m:fi,this.version=0,this.onUpdate=null}function i(a,b,c,d){this.x=a||0,this.y=b||0,this.z=c||0,this.w=void 0!==d?d:1}function j(a,b,c){this.width=a,this.height=b,this.scissor=new i(0,0,a,b),this.scissorTest=!1,this.viewport=new i(0,0,a,b),c=c||{},
void 0===c.minFilter&&(c.minFilter=ih),this.texture=new h(void 0,void 0,c.wrapS,c.wrapT,c.magFilter,c.minFilter,c.format,c.type,c.anisotropy,c.encoding),this.texture.generateMipmaps=void 0===c.generateMipmaps||c.generateMipmaps,this.depthBuffer=void 0===c.depthBuffer||c.depthBuffer,this.stencilBuffer=void 0===c.stencilBuffer||c.stencilBuffer,this.depthTexture=void 0!==c.depthTexture?c.depthTexture:null}function k(a,b,c){j.call(this,a,b,c),this.activeCubeFace=0,this.activeMipMapLevel=0}function l(a,b,c,d,e,f,g,i,j,k,l,m){h.call(this,null,f,g,i,j,k,d,e,l,m),this.image={data:a,width:b,height:c},this.magFilter=void 0!==j?j:fh,this.minFilter=void 0!==k?k:fh,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function m(a,b){this.min=void 0!==a?a:new f(1/0,1/0,1/0),this.max=void 0!==b?b:new f(-1/0,-1/0,-1/0)}function n(a,b){this.center=void 0!==a?a:new f,this.radius=void 0!==b?b:0}function o(a,b){this.normal=void 0!==a?a:new f(1,0,0),this.constant=void 0!==b?b:0}function p(a,b,c,d,e,f){this.planes=[void 0!==a?a:new o,void 0!==b?b:new o,void 0!==c?c:new o,void 0!==d?d:new o,void 0!==e?e:new o,void 0!==f?f:new o]}function q(a,b,c){return void 0===b&&void 0===c?this.set(a):this.setRGB(a,b,c)}function r(){function a(e,f){!1!==c&&(d(e,f),b.requestAnimationFrame(a))}var b=null,c=!1,d=null;return{start:function(){!0!==c&&null!==d&&(b.requestAnimationFrame(a),c=!0)},stop:function(){c=!1},setAnimationLoop:function(a){d=a},setContext:function(a){b=a}}}function s(a){function b(b,c){var d=b.array,e=b.dynamic?a.DYNAMIC_DRAW:a.STATIC_DRAW,f=a.createBuffer();a.bindBuffer(c,f),a.bufferData(c,d,e),b.onUploadCallback();var g=a.FLOAT;return d instanceof Float32Array?g=a.FLOAT:d instanceof Float64Array||(d instanceof Uint16Array?g=a.UNSIGNED_SHORT:d instanceof Int16Array?g=a.SHORT:d instanceof Uint32Array?g=a.UNSIGNED_INT:d instanceof Int32Array?g=a.INT:d instanceof Int8Array?g=a.BYTE:d instanceof Uint8Array&&(g=a.UNSIGNED_BYTE)),{buffer:f,type:g,bytesPerElement:d.BYTES_PER_ELEMENT,version:b.version}}function c(b,c,d){var e=c.array,f=c.updateRange;a.bindBuffer(d,b),!1===c.dynamic?a.bufferData(d,e,a.STATIC_DRAW):-1===f.count?a.bufferSubData(d,0,e):0===f.count||(a.bufferSubData(d,f.offset*e.BYTES_PER_ELEMENT,e.subarray(f.offset,f.offset+f.count)),f.count=-1)}function d(a){return a.isInterleavedBufferAttribute&&(a=a.data),g.get(a)}function e(b){b.isInterleavedBufferAttribute&&(b=b.data);var c=g.get(b);c&&(a.deleteBuffer(c.buffer),g.delete(b))}function f(a,d){a.isInterleavedBufferAttribute&&(a=a.data);var e=g.get(a);void 0===e?g.set(a,b(a,d)):e.version<a.version&&(c(e.buffer,a,d),e.version=a.version)}var g=new WeakMap;return{get:d,remove:e,update:f}}function t(a,b,c,d){this._x=a||0,this._y=b||0,this._z=c||0,this._order=d||t.DefaultOrder}function u(){this.mask=1}function v(){function a(){i.setFromEuler(h,!1)}function b(){h.setFromQuaternion(i,void 0,!1)}Object.defineProperty(this,"id",{value:vi++}),this.uuid=oi.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=v.DefaultUp.clone();var c=new f,h=new t,i=new e,j=new f(1,1,1);h.onChange(a),i.onChange(b),Object.defineProperties(this,{position:{enumerable:!0,value:c},rotation:{enumerable:!0,value:h},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:j},modelViewMatrix:{value:new d},normalMatrix:{value:new g}}),this.matrix=new d,this.matrixWorld=new d,this.matrixAutoUpdate=v.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new u,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function w(){v.call(this),this.type="Camera",this.matrixWorldInverse=new d,this.projectionMatrix=new d}function x(a,b,c,d,e,f){w.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=a,this.right=b,this.top=c,this.bottom=d,this.near=void 0!==e?e:.1,this.far=void 0!==f?f:2e3,this.updateProjectionMatrix()}function y(a,b,c,d,e,g){this.a=a,this.b=b,this.c=c,this.normal=d&&d.isVector3?d:new f,this.vertexNormals=Array.isArray(d)?d:[],this.color=e&&e.isColor?e:new q,this.vertexColors=Array.isArray(e)?e:[],this.materialIndex=void 0!==g?g:0}function z(){Object.defineProperty(this,"id",{value:wi+=2}),this.uuid=oi.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function A(a,b,c){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=a,this.itemSize=b,this.count=void 0!==a?a.length/b:0,this.normalized=!0===c,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function B(a,b,c){A.call(this,new Int8Array(a),b,c)}function C(a,b,c){A.call(this,new Uint8Array(a),b,c)}function D(a,b,c){A.call(this,new Uint8ClampedArray(a),b,c)}function E(a,b,c){A.call(this,new Int16Array(a),b,c)}function F(a,b,c){A.call(this,new Uint16Array(a),b,c)}function G(a,b,c){A.call(this,new Int32Array(a),b,c)}function H(a,b,c){A.call(this,new Uint32Array(a),b,c)}function I(a,b,c){A.call(this,new Float32Array(a),b,c)}function J(a,b,c){A.call(this,new Float64Array(a),b,c)}function K(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function L(a){if(0===a.length)return-1/0;for(var b=a[0],c=1,d=a.length;c<d;++c)a[c]>b&&(b=a[c]);return b}function M(){Object.defineProperty(this,"id",{value:xi+=2}),this.uuid=oi.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function N(a,b,c,d,e,f){z.call(this),this.type="BoxGeometry",this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f},this.fromBufferGeometry(new O(a,b,c,d,e,f)),this.mergeVertices()}function O(a,b,c,d,e,g){function h(a,b,c,d,e,g,h,p,q,r,s){var t,u,v=g/q,w=h/r,x=g/2,y=h/2,z=p/2,A=q+1,B=r+1,C=0,D=0,E=new f;for(u=0;u<B;u++){var F=u*w-y;for(t=0;t<A;t++){var G=t*v-x;E[a]=G*d,E[b]=F*e,E[c]=z,k.push(E.x,E.y,E.z),E[a]=0,E[b]=0,E[c]=p>0?1:-1,l.push(E.x,E.y,E.z),m.push(t/q),m.push(1-u/r),C+=1}}for(u=0;u<r;u++)for(t=0;t<q;t++){var H=n+t+A*u,I=n+t+A*(u+1),J=n+(t+1)+A*(u+1),K=n+(t+1)+A*u;j.push(H,I,K),j.push(I,J,K),D+=6}i.addGroup(o,D,s),o+=D,n+=C}M.call(this),this.type="BoxBufferGeometry",this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:g};var i=this;a=a||1,b=b||1,c=c||1,d=Math.floor(d)||1,e=Math.floor(e)||1,g=Math.floor(g)||1;var j=[],k=[],l=[],m=[],n=0,o=0;h("z","y","x",-1,-1,c,b,a,g,e,0),h("z","y","x",1,-1,c,b,-a,g,e,1),h("x","z","y",1,1,a,c,b,d,g,2),h("x","z","y",1,-1,a,c,-b,d,g,3),h("x","y","z",1,-1,a,b,c,d,e,4),h("x","y","z",-1,-1,a,b,-c,d,e,5),this.setIndex(j),this.addAttribute("position",new I(k,3)),this.addAttribute("normal",new I(l,3)),this.addAttribute("uv",new I(m,2))}function P(a,b,c,d){z.call(this),this.type="PlaneGeometry",this.parameters={width:a,height:b,widthSegments:c,heightSegments:d},this.fromBufferGeometry(new Q(a,b,c,d)),this.mergeVertices()}function Q(a,b,c,d){M.call(this),this.type="PlaneBufferGeometry",this.parameters={width:a,height:b,widthSegments:c,heightSegments:d},a=a||1,b=b||1;var e,f,g=a/2,h=b/2,i=Math.floor(c)||1,j=Math.floor(d)||1,k=i+1,l=j+1,m=a/i,n=b/j,o=[],p=[],q=[],r=[];for(f=0;f<l;f++){var s=f*n-h;for(e=0;e<k;e++){var t=e*m-g;p.push(t,-s,0),q.push(0,0,1),r.push(e/i),r.push(1-f/j)}}for(f=0;f<j;f++)for(e=0;e<i;e++){var u=e+k*f,v=e+k*(f+1),w=e+1+k*(f+1),x=e+1+k*f;o.push(u,v,x),o.push(v,w,x)}this.setIndex(o),this.addAttribute("position",new I(p,3)),this.addAttribute("normal",new I(q,3)),this.addAttribute("uv",new I(r,2))}function R(){Object.defineProperty(this,"id",{value:yi++}),this.uuid=oi.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=mg,this.side=fg,this.flatShading=!1,this.vertexColors=ig,this.opacity=1,this.transparent=!1,this.blendSrc=Ag,this.blendDst=Bg,this.blendEquation=rg,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Kg,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function S(a){R.call(this),this.type="MeshBasicMaterial",this.color=new q(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Pg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(a)}function T(a){R.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==a&&(a.attributes,this.setValues(a))}function U(a,b){this.origin=void 0!==a?a:new f,this.direction=void 0!==b?b:new f}function V(a,b){this.start=void 0!==a?a:new f,this.end=void 0!==b?b:new f}function W(a,b,c){this.a=void 0!==a?a:new f,this.b=void 0!==b?b:new f,this.c=void 0!==c?c:new f}function X(a,b){v.call(this),this.type="Mesh",this.geometry=void 0!==a?a:new M,this.material=void 0!==b?b:new S({color:16777215*Math.random()}),this.drawMode=ci,this.updateMorphTargets()}function Y(a,b,c,d){function e(b,d,e,l){var m=d.background;null===m?f(j,k):m&&m.isColor&&(f(m,1),l=!0),(a.autoClear||l)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil),m&&m.isCubeTexture?(void 0===i&&(i=new X(new O(1,1,1),new T({uniforms:ui.cube.uniforms,vertexShader:ui.cube.vertexShader,fragmentShader:ui.cube.fragmentShader,side:gg,depthTest:!0,depthWrite:!1,fog:!1})),i.geometry.removeAttribute("normal"),i.geometry.removeAttribute("uv"),i.onBeforeRender=function(a,b,c){this.matrixWorld.copyPosition(c.matrixWorld)},c.update(i)),i.material.uniforms.tCube.value=m,b.push(i,i.geometry,i.material,0,null)):m&&m.isTexture&&(void 0===g&&(g=new x(-1,1,1,-1,0,1),h=new X(new Q(2,2),new S({depthTest:!1,depthWrite:!1,fog:!1})),c.update(h)),h.material.map=m,a.renderBufferDirect(g,null,h.geometry,h.material,h,null))}function f(a,c){b.buffers.color.setClear(a.r,a.g,a.b,c,d)}var g,h,i,j=new q(0),k=0;return{getClearColor:function(){return j},setClearColor:function(a,b){j.set(a),k=void 0!==b?b:1,f(j,k)},getClearAlpha:function(){return k},setClearAlpha:function(a){k=a,f(j,k)},render:e}}function Z(a,b,c){function d(a){g=a}function e(b,d){a.drawArrays(g,b,d),c.update(d,g)}function f(a,d,e){var f=b.get("ANGLE_instanced_arrays");null!==f&&(f.drawArraysInstancedANGLE(g,d,e,a.maxInstancedCount),c.update(e,g,a.maxInstancedCount))}var g;this.setMode=d,this.render=e,this.renderInstances=f}function $(a,b,c){function d(){if(void 0!==f)return f;var c=b.get("EXT_texture_filter_anisotropic");return f=null!==c?a.getParameter(c.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function e(b){if("highp"===b){if(a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision>0&&a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision>0)return"highp";b="mediump"}return"mediump"===b&&a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).precision>0&&a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var f,g=void 0!==c.precision?c.precision:"highp",h=e(g);h!==g&&(g=h);var i=!0===c.logarithmicDepthBuffer,j=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),k=a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS),l=a.getParameter(a.MAX_TEXTURE_SIZE),m=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE),n=a.getParameter(a.MAX_VERTEX_ATTRIBS),o=a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS),p=a.getParameter(a.MAX_VARYING_VECTORS),q=a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS),r=k>0,s=!!b.get("OES_texture_float");return{getMaxAnisotropy:d,getMaxPrecision:e,precision:g,logarithmicDepthBuffer:i,maxTextures:j,maxVertexTextures:k,maxTextureSize:l,maxCubemapSize:m,maxAttributes:n,maxVertexUniforms:o,maxVaryings:p,maxFragmentUniforms:q,vertexTextures:r,floatFragmentTextures:s,floatVertexTextures:r&&s}}function _(){function a(){k.value!==d&&(k.value=d,k.needsUpdate=e>0),c.numPlanes=e,c.numIntersection=0}function b(a,b,d,e){var f=null!==a?a.length:0,g=null;if(0!==f){if(g=k.value,!0!==e||null===g){var h=d+4*f,l=b.matrixWorldInverse;j.getNormalMatrix(l),(null===g||g.length<h)&&(g=new Float32Array(h));for(var m=0,n=d;m!==f;++m,n+=4)i.copy(a[m]).applyMatrix4(l,j),i.normal.toArray(g,n),g[n+3]=i.constant}k.value=g,k.needsUpdate=!0}return c.numPlanes=f,g}var c=this,d=null,e=0,f=!1,h=!1,i=new o,j=new g,k={value:null,needsUpdate:!1};this.uniform=k,this.numPlanes=0,this.numIntersection=0,this.init=function(a,c,g){var h=0!==a.length||c||0!==e||f;return f=c,d=b(a,g,0),e=a.length,h},this.beginShadows=function(){h=!0,b(null)},this.endShadows=function(){h=!1,a()},this.setState=function(c,g,i,j,l,m){if(!f||null===c||0===c.length||h&&!i)h?b(null):a();else{var n=h?0:e,o=4*n,p=l.clippingState||null;k.value=p,p=b(c,j,o,m);for(var q=0;q!==o;++q)p[q]=d[q];l.clippingState=p,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=n}}}function aa(a){var b={};return{get:function(c){if(void 0!==b[c])return b[c];var d;switch(c){case"WEBGL_depth_texture":d=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":d=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":d=a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":d=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:d=a.getExtension(c)}return b[c]=d,d}}}function ba(a,b,c){function d(a){var e=a.target,f=h[e.id];null!==f.index&&b.remove(f.index);for(var g in f.attributes)b.remove(f.attributes[g]);e.removeEventListener("dispose",d),delete h[e.id];var j=i[e.id];j&&(b.remove(j),delete i[e.id]),j=i[f.id],j&&(b.remove(j),delete i[f.id]),c.memory.geometries--}function e(a,b){var e=h[b.id];return e||(b.addEventListener("dispose",d),b.isBufferGeometry?e=b:b.isGeometry&&(void 0===b._bufferGeometry&&(b._bufferGeometry=(new M).setFromObject(a)),e=b._bufferGeometry),h[b.id]=e,c.memory.geometries++,e)}function f(c){var d=c.index,e=c.attributes;null!==d&&b.update(d,a.ELEMENT_ARRAY_BUFFER);for(var f in e)b.update(e[f],a.ARRAY_BUFFER);var g=c.morphAttributes;for(var f in g)for(var h=g[f],i=0,j=h.length;i<j;i++)b.update(h[i],a.ARRAY_BUFFER)}function g(c){var d=i[c.id];if(d)return d;var e=[],f=c.index,g=c.attributes;if(null!==f)for(var h=f.array,j=0,k=h.length;j<k;j+=3){var l=h[j+0],m=h[j+1],n=h[j+2];e.push(l,m,m,n,n,l)}else for(var h=g.position.array,j=0,k=h.length/3-1;j<k;j+=3){var l=j+0,m=j+1,n=j+2;e.push(l,m,m,n,n,l)}return d=new(L(e)>65535?H:F)(e,1),b.update(d,a.ELEMENT_ARRAY_BUFFER),i[c.id]=d,d}var h={},i={};return{get:e,update:f,getWireframeAttribute:g}}function ca(a,b,c){function d(a){h=a}function e(a){i=a.type,j=a.bytesPerElement}function f(b,d){a.drawElements(h,d,i,b*j),c.update(d,h)}function g(a,d,e){var f=b.get("ANGLE_instanced_arrays");null!==f&&(f.drawElementsInstancedANGLE(h,e,i,d*j,a.maxInstancedCount),c.update(e,h,a.maxInstancedCount))}var h,i,j;this.setMode=d,this.setIndex=e,this.render=f,this.renderInstances=g}function da(a){function b(b,c,d){switch(d=d||1,e.calls++,c){case a.TRIANGLES:e.triangles+=d*(b/3);break;case a.TRIANGLE_STRIP:case a.TRIANGLE_FAN:e.triangles+=d*(b-2);break;case a.LINES:e.lines+=d*(b/2);break;case a.LINE_STRIP:e.lines+=d*(b-1);break;case a.LINE_LOOP:e.lines+=d*b;break;case a.POINTS:e.points+=d*b}}function c(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0}var d={geometries:0,textures:0},e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:d,render:e,programs:null,autoReset:!0,reset:c,update:b}}function ea(a,b){return Math.abs(b[1])-Math.abs(a[1])}function fa(a){function b(b,e,f,g){var h=b.morphTargetInfluences,i=h.length,j=c[e.id];if(void 0===j){j=[];for(var k=0;k<i;k++)j[k]=[k,0];c[e.id]=j}for(var l=f.morphTargets&&e.morphAttributes.position,m=f.morphNormals&&e.morphAttributes.normal,k=0;k<i;k++){var n=j[k];0!==n[1]&&(l&&e.removeAttribute("morphTarget"+k),m&&e.removeAttribute("morphNormal"+k))}for(var k=0;k<i;k++){var n=j[k];n[0]=k,n[1]=h[k]}j.sort(ea);for(var k=0;k<8;k++){var n=j[k];if(n){var o=n[0],p=n[1];if(p){l&&e.addAttribute("morphTarget"+k,l[o]),m&&e.addAttribute("morphNormal"+k,m[o]),d[k]=p;continue}}d[k]=0}g.getUniforms().setValue(a,"morphTargetInfluences",d)}var c={},d=new Float32Array(8);return{update:b}}function ga(a,b){function c(c){var d=b.render.frame,f=c.geometry,g=a.get(c,f);return e[g.id]!==d&&(f.isGeometry&&g.updateFromObject(c),a.update(g),e[g.id]=d),g}function d(){e={}}var e={};return{update:c,dispose:d}}function ha(a,b,c,d,e,f,g,i,j,k){a=void 0!==a?a:[],b=void 0!==b?b:Xg,h.call(this,a,b,c,d,e,f,g,i,j,k),this.flipY=!1}function ia(){this.seq=[],this.map={}}function ja(a,b,c){var d=a[0];if(d<=0||d>0)return a;var e=b*c,f=Bi[e];if(void 0===f&&(f=new Float32Array(e),Bi[e]=f),0!==b){d.toArray(f,0);for(var g=1,h=0;g!==b;++g)h+=c,a[g].toArray(f,h)}return f}function ka(a,b){if(a.length!==b.length)return!1;for(var c=0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;return!0}function la(a,b){for(var c=0,d=b.length;c<d;c++)a[c]=b[c]}function ma(a,b){var c=Ci[b];void 0===c&&(c=new Int32Array(b),Ci[b]=c);for(var d=0;d!==b;++d)c[d]=a.allocTextureUnit();return c}function na(a,b){var c=this.cache;c[0]!==b&&(a.uniform1f(this.addr,b),c[0]=b)}function oa(a,b){var c=this.cache;c[0]!==b&&(a.uniform1i(this.addr,b),c[0]=b)}function pa(a,b){var c=this.cache;if(void 0!==b.x)c[0]===b.x&&c[1]===b.y||(a.uniform2f(this.addr,b.x,b.y),c[0]=b.x,c[1]=b.y);else{if(ka(c,b))return;a.uniform2fv(this.addr,b),la(c,b)}}function qa(a,b){var c=this.cache;if(void 0!==b.x)c[0]===b.x&&c[1]===b.y&&c[2]===b.z||(a.uniform3f(this.addr,b.x,b.y,b.z),c[0]=b.x,c[1]=b.y,c[2]=b.z);else if(void 0!==b.r)c[0]===b.r&&c[1]===b.g&&c[2]===b.b||(a.uniform3f(this.addr,b.r,b.g,b.b),c[0]=b.r,c[1]=b.g,c[2]=b.b);else{if(ka(c,b))return;a.uniform3fv(this.addr,b),la(c,b)}}function ra(a,b){var c=this.cache;if(void 0!==b.x)c[0]===b.x&&c[1]===b.y&&c[2]===b.z&&c[3]===b.w||(a.uniform4f(this.addr,b.x,b.y,b.z,b.w),c[0]=b.x,c[1]=b.y,c[2]=b.z,c[3]=b.w);else{if(ka(c,b))return;a.uniform4fv(this.addr,b),la(c,b)}}function sa(a,b){var c=this.cache,d=b.elements;if(void 0===d){if(ka(c,b))return;a.uniformMatrix2fv(this.addr,!1,b),la(c,b)}else{if(ka(c,d))return;Fi.set(d),a.uniformMatrix2fv(this.addr,!1,Fi),la(c,d)}}function ta(a,b){var c=this.cache,d=b.elements;if(void 0===d){if(ka(c,b))return;a.uniformMatrix3fv(this.addr,!1,b),la(c,b)}else{if(ka(c,d))return;Ei.set(d),a.uniformMatrix3fv(this.addr,!1,Ei),la(c,d)}}function ua(a,b){var c=this.cache,d=b.elements;if(void 0===d){if(ka(c,b))return;a.uniformMatrix4fv(this.addr,!1,b),la(c,b)}else{if(ka(c,d))return;Di.set(d),a.uniformMatrix4fv(this.addr,!1,Di),la(c,d)}}function va(a,b,c){var d=this.cache,e=c.allocTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e),c.setTexture2D(b||zi,e)}function wa(a,b,c){var d=this.cache,e=c.allocTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e),c.setTextureCube(b||Ai,e)}function xa(a,b){var c=this.cache;ka(c,b)||(a.uniform2iv(this.addr,b),la(c,b))}function ya(a,b){var c=this.cache;ka(c,b)||(a.uniform3iv(this.addr,b),la(c,b))}function za(a,b){var c=this.cache;ka(c,b)||(a.uniform4iv(this.addr,b),la(c,b))}function Aa(a){switch(a){case 5126:return na;case 35664:return pa;case 35665:return qa;case 35666:return ra;case 35674:return sa;case 35675:return ta;case 35676:return ua;case 35678:case 36198:return va;case 35680:return wa;case 5124:case 35670:return oa;case 35667:case 35671:return xa;case 35668:case 35672:return ya;case 35669:case 35673:return za}}function Ba(a,b){var c=this.cache;ka(c,b)||(a.uniform1fv(this.addr,b),la(c,b))}function Ca(a,b){var c=this.cache;ka(c,b)||(a.uniform1iv(this.addr,b),la(c,b))}function Da(a,b){var c=this.cache,d=ja(b,this.size,2);ka(c,d)||(a.uniform2fv(this.addr,d),this.updateCache(d))}function Ea(a,b){var c=this.cache,d=ja(b,this.size,3);ka(c,d)||(a.uniform3fv(this.addr,d),this.updateCache(d))}function Fa(a,b){var c=this.cache,d=ja(b,this.size,4);ka(c,d)||(a.uniform4fv(this.addr,d),this.updateCache(d))}function Ga(a,b){var c=this.cache,d=ja(b,this.size,4);ka(c,d)||(a.uniformMatrix2fv(this.addr,!1,d),this.updateCache(d))}function Ha(a,b){var c=this.cache,d=ja(b,this.size,9);ka(c,d)||(a.uniformMatrix3fv(this.addr,!1,d),this.updateCache(d))}function Ia(a,b){var c=this.cache,d=ja(b,this.size,16);ka(c,d)||(a.uniformMatrix4fv(this.addr,!1,d),this.updateCache(d))}function Ja(a,b,c){var d=this.cache,e=b.length,f=ma(c,e);!1===ka(d,f)&&(a.uniform1iv(this.addr,f),la(d,f));for(var g=0;g!==e;++g)c.setTexture2D(b[g]||zi,f[g])}function Ka(a,b,c){var d=this.cache,e=b.length,f=ma(c,e);!1===ka(d,f)&&(a.uniform1iv(this.addr,f),la(d,f));for(var g=0;g!==e;++g)c.setTextureCube(b[g]||Ai,f[g])}function La(a){switch(a){case 5126:return Ba;case 35664:return Da;case 35665:return Ea;case 35666:return Fa;case 35674:return Ga;case 35675:return Ha;case 35676:return Ia;case 35678:return Ja;case 35680:return Ka;case 5124:case 35670:return Ca;case 35667:case 35671:return xa;case 35668:case 35672:return ya;case 35669:case 35673:return za}}function Ma(a,b,c){this.id=a,this.addr=c,this.cache=[],this.setValue=Aa(b.type)}function Na(a,b,c){this.id=a,this.addr=c,this.cache=[],this.size=b.size,this.setValue=La(b.type)}function Oa(a){this.id=a,ia.call(this)}function Pa(a,b){a.seq.push(b),a.map[b.id]=b}function Qa(a,b,c){var d=a.name,e=d.length;for(Gi.lastIndex=0;;){var f=Gi.exec(d),g=Gi.lastIndex,h=f[1],i="]"===f[2],j=f[3];if(i&&(h|=0),void 0===j||"["===j&&g+2===e){Pa(c,void 0===j?new Ma(h,a,b):new Na(h,a,b));break}var k=c.map,l=k[h];void 0===l&&(l=new Oa(h),Pa(c,l)),c=l}}function Ra(a,b,c){ia.call(this),this.renderer=c;for(var d=a.getProgramParameter(b,a.ACTIVE_UNIFORMS),e=0;e<d;++e){var f=a.getActiveUniform(b,e);Qa(f,a.getUniformLocation(b,f.name),this)}}function Sa(a,b,c){var d=a.createShader(b);return a.shaderSource(d,c),a.compileShader(d),a.getShaderParameter(d,a.COMPILE_STATUS),a.getShaderInfoLog(d),d}function Ta(a){switch(a){case fi:return["Linear","( value )"];case gi:return["sRGB","( value )"];case ii:return["RGBE","( value )"];case ji:return["RGBM","( value, 7.0 )"];case ki:return["RGBM","( value, 16.0 )"];case li:return["RGBD","( value, 256.0 )"];case hi:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+a)}}function Ua(a,b){var c=Ta(b);return"vec4 "+a+"( vec4 value ) { return "+c[0]+"ToLinear"+c[1]+"; }"}function Va(a,b){var c=Ta(b);return"vec4 "+a+"( vec4 value ) { return LinearTo"+c[0]+c[1]+"; }"}function Wa(a,b){var c;switch(b){case Tg:c="Linear";break;case Ug:c="Reinhard";break;case Vg:c="Uncharted2";break;case Wg:c="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+b)}return"vec3 "+a+"( vec3 color ) { return "+c+"ToneMapping( color ); }"}function Xa(a,b,c){return a=a||{},[a.derivatives||b.envMapCubeUV||b.bumpMap||b.normalMap||b.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(a.fragDepth||b.logarithmicDepthBuffer)&&c.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",a.drawBuffers&&c.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(a.shaderTextureLOD||b.envMap)&&c.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter($a).join("\n")}function Ya(a){var b=[];for(var c in a){var d=a[c];!1!==d&&b.push("#define "+c+" "+d)}return b.join("\n")}function Za(a,b){for(var c={},d=a.getProgramParameter(b,a.ACTIVE_ATTRIBUTES),e=0;e<d;e++){var f=a.getActiveAttrib(b,e),g=f.name;c[g]=a.getAttribLocation(b,g)}return c}function $a(a){return""!==a}function _a(a,b){return a.replace(/NUM_DIR_LIGHTS/g,b.numDirLights).replace(/NUM_SPOT_LIGHTS/g,b.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,b.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,b.numPointLights).replace(/NUM_HEMI_LIGHTS/g,b.numHemiLights)}function ab(a,b){return a.replace(/NUM_CLIPPING_PLANES/g,b.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,b.numClippingPlanes-b.numClipIntersection)}function bb(a){function b(a,b){var c=qi[b];if(void 0===c)throw new Error("Can not resolve #include <"+b+">");return bb(c)}var c=/^[ \t]*#include +<([\w\d.]+)>/gm;return a.replace(c,b)}function cb(a){function b(a,b,c,d){for(var e="",f=parseInt(b);f<parseInt(c);f++)e+=d.replace(/\[ i \]/g,"[ "+f+" ]");return e}var c=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;return a.replace(c,b)}function db(a,b,c,d,e,f){var g=a.context,h=d.defines,i=e.vertexShader,j=e.fragmentShader,k="SHADOWMAP_TYPE_BASIC";f.shadowMapType===dg?k="SHADOWMAP_TYPE_PCF":f.shadowMapType===eg&&(k="SHADOWMAP_TYPE_PCF_SOFT");var l="ENVMAP_TYPE_CUBE",m="ENVMAP_MODE_REFLECTION",n="ENVMAP_BLENDING_MULTIPLY";if(f.envMap){switch(d.envMap.mapping){case Xg:case Yg:l="ENVMAP_TYPE_CUBE";break;case ah:case bh:l="ENVMAP_TYPE_CUBE_UV";break;case Zg:case $g:l="ENVMAP_TYPE_EQUIREC";break;case _g:l="ENVMAP_TYPE_SPHERE"}switch(d.envMap.mapping){case Yg:case $g:m="ENVMAP_MODE_REFRACTION"}switch(d.combine){case Pg:n="ENVMAP_BLENDING_MULTIPLY";break;case Qg:n="ENVMAP_BLENDING_MIX";break;case Rg:n="ENVMAP_BLENDING_ADD"}}var o,p,q=a.gammaFactor>0?a.gammaFactor:1,r=Xa(d.extensions,f,b),s=Ya(h),t=g.createProgram();d.isRawShaderMaterial?(o=[s].filter($a).join("\n"),o.length>0&&(o+="\n"),p=[r,s].filter($a).join("\n"),p.length>0&&(p+="\n")):(o=["precision "+f.precision+" float;","precision "+f.precision+" int;","#define SHADER_NAME "+e.name,s,f.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+q,"#define MAX_BONES "+f.maxBones,f.useFog&&f.fog?"#define USE_FOG":"",f.useFog&&f.fogExp?"#define FOG_EXP2":"",f.map?"#define USE_MAP":"",f.envMap?"#define USE_ENVMAP":"",f.envMap?"#define "+m:"",f.lightMap?"#define USE_LIGHTMAP":"",f.aoMap?"#define USE_AOMAP":"",f.emissiveMap?"#define USE_EMISSIVEMAP":"",f.bumpMap?"#define USE_BUMPMAP":"",f.normalMap?"#define USE_NORMALMAP":"",f.displacementMap&&f.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",f.specularMap?"#define USE_SPECULARMAP":"",f.roughnessMap?"#define USE_ROUGHNESSMAP":"",f.metalnessMap?"#define USE_METALNESSMAP":"",f.alphaMap?"#define USE_ALPHAMAP":"",f.vertexColors?"#define USE_COLOR":"",f.flatShading?"#define FLAT_SHADED":"",f.skinning?"#define USE_SKINNING":"",f.useVertexTexture?"#define BONE_TEXTURE":"",f.morphTargets?"#define USE_MORPHTARGETS":"",f.morphNormals&&!1===f.flatShading?"#define USE_MORPHNORMALS":"",f.doubleSided?"#define DOUBLE_SIDED":"",f.flipSided?"#define FLIP_SIDED":"",f.shadowMapEnabled?"#define USE_SHADOWMAP":"",f.shadowMapEnabled?"#define "+k:"",f.sizeAttenuation?"#define USE_SIZEATTENUATION":"",f.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",f.logarithmicDepthBuffer&&b.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter($a).join("\n"),p=[r,"precision "+f.precision+" float;","precision "+f.precision+" int;","#define SHADER_NAME "+e.name,s,f.alphaTest?"#define ALPHATEST "+f.alphaTest+(f.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+q,f.useFog&&f.fog?"#define USE_FOG":"",f.useFog&&f.fogExp?"#define FOG_EXP2":"",f.map?"#define USE_MAP":"",f.envMap?"#define USE_ENVMAP":"",f.envMap?"#define "+l:"",f.envMap?"#define "+m:"",f.envMap?"#define "+n:"",f.lightMap?"#define USE_LIGHTMAP":"",f.aoMap?"#define USE_AOMAP":"",f.emissiveMap?"#define USE_EMISSIVEMAP":"",f.bumpMap?"#define USE_BUMPMAP":"",f.normalMap?"#define USE_NORMALMAP":"",f.specularMap?"#define USE_SPECULARMAP":"",f.roughnessMap?"#define USE_ROUGHNESSMAP":"",f.metalnessMap?"#define USE_METALNESSMAP":"",f.alphaMap?"#define USE_ALPHAMAP":"",f.vertexColors?"#define USE_COLOR":"",f.gradientMap?"#define USE_GRADIENTMAP":"",f.flatShading?"#define FLAT_SHADED":"",f.doubleSided?"#define DOUBLE_SIDED":"",f.flipSided?"#define FLIP_SIDED":"",f.shadowMapEnabled?"#define USE_SHADOWMAP":"",f.shadowMapEnabled?"#define "+k:"",f.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",f.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",f.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",f.logarithmicDepthBuffer&&b.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",f.envMap&&b.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",f.toneMapping!==Sg?"#define TONE_MAPPING":"",f.toneMapping!==Sg?qi.tonemapping_pars_fragment:"",f.toneMapping!==Sg?Wa("toneMapping",f.toneMapping):"",f.dithering?"#define DITHERING":"",f.outputEncoding||f.mapEncoding||f.envMapEncoding||f.emissiveMapEncoding?qi.encodings_pars_fragment:"",f.mapEncoding?Ua("mapTexelToLinear",f.mapEncoding):"",f.envMapEncoding?Ua("envMapTexelToLinear",f.envMapEncoding):"",f.emissiveMapEncoding?Ua("emissiveMapTexelToLinear",f.emissiveMapEncoding):"",f.outputEncoding?Va("linearToOutputTexel",f.outputEncoding):"",f.depthPacking?"#define DEPTH_PACKING "+d.depthPacking:"","\n"].filter($a).join("\n")),i=bb(i),i=_a(i,f),i=ab(i,f),j=bb(j),j=_a(j,f),j=ab(j,f),i=cb(i),j=cb(j);var u=o+i,v=p+j,w=Sa(g,g.VERTEX_SHADER,u),x=Sa(g,g.FRAGMENT_SHADER,v);g.attachShader(t,w),g.attachShader(t,x),void 0!==d.index0AttributeName?g.bindAttribLocation(t,0,d.index0AttributeName):!0===f.morphTargets&&g.bindAttribLocation(t,0,"position"),g.linkProgram(t);var y=g.getProgramInfoLog(t).trim(),z=g.getShaderInfoLog(w).trim(),A=g.getShaderInfoLog(x).trim(),B=!0,C=!0
;!1===g.getProgramParameter(t,g.LINK_STATUS)?B=!1:""!==y||""!==z&&""!==A||(C=!1),C&&(this.diagnostics={runnable:B,material:d,programLog:y,vertexShader:{log:z,prefix:o},fragmentShader:{log:A,prefix:p}}),g.deleteShader(w),g.deleteShader(x);var D;this.getUniforms=function(){return void 0===D&&(D=new Ra(g,t,a)),D};var E;return this.getAttributes=function(){return void 0===E&&(E=Za(g,t)),E},this.destroy=function(){g.deleteProgram(t),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return this.getUniforms()}},attributes:{get:function(){return this.getAttributes()}}}),this.name=e.name,this.id=Hi++,this.code=c,this.usedTimes=1,this.program=t,this.vertexShader=w,this.fragmentShader=x,this}function eb(a,b,c){function d(a){var b=a.skeleton,d=b.bones;if(c.floatVertexTextures)return 1024;var e=c.maxVertexUniforms,f=Math.floor((e-20)/4),g=Math.min(f,d.length);return g<d.length?0:g}function e(a,b){var c;return a?a.isTexture?c=a.encoding:a.isWebGLRenderTarget&&(c=a.texture.encoding):c=fi,c===fi&&b&&(c=hi),c}var f=[],g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow"},h=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];this.getParameters=function(b,f,h,i,j,k,l){var m=g[b.type],n=l.isSkinnedMesh?d(l):0,o=c.precision;null!==b.precision&&(o=c.getMaxPrecision(b.precision),b.precision);var p=a.getRenderTarget();return{shaderID:m,precision:o,supportsVertexTextures:c.vertexTextures,outputEncoding:e(p?p.texture:null,a.gammaOutput),map:!!b.map,mapEncoding:e(b.map,a.gammaInput),envMap:!!b.envMap,envMapMode:b.envMap&&b.envMap.mapping,envMapEncoding:e(b.envMap,a.gammaInput),envMapCubeUV:!!b.envMap&&(b.envMap.mapping===ah||b.envMap.mapping===bh),lightMap:!!b.lightMap,aoMap:!!b.aoMap,emissiveMap:!!b.emissiveMap,emissiveMapEncoding:e(b.emissiveMap,a.gammaInput),bumpMap:!!b.bumpMap,normalMap:!!b.normalMap,displacementMap:!!b.displacementMap,roughnessMap:!!b.roughnessMap,metalnessMap:!!b.metalnessMap,specularMap:!!b.specularMap,alphaMap:!!b.alphaMap,gradientMap:!!b.gradientMap,combine:b.combine,vertexColors:b.vertexColors,fog:!!i,useFog:b.fog,fogExp:i&&i.isFogExp2,flatShading:b.flatShading,sizeAttenuation:b.sizeAttenuation,logarithmicDepthBuffer:c.logarithmicDepthBuffer,skinning:b.skinning&&n>0,maxBones:n,useVertexTexture:c.floatVertexTextures,morphTargets:b.morphTargets,morphNormals:b.morphNormals,maxMorphTargets:a.maxMorphTargets,maxMorphNormals:a.maxMorphNormals,numDirLights:f.directional.length,numPointLights:f.point.length,numSpotLights:f.spot.length,numRectAreaLights:f.rectArea.length,numHemiLights:f.hemi.length,numClippingPlanes:j,numClipIntersection:k,dithering:b.dithering,shadowMapEnabled:a.shadowMap.enabled&&l.receiveShadow&&h.length>0,shadowMapType:a.shadowMap.type,toneMapping:a.toneMapping,physicallyCorrectLights:a.physicallyCorrectLights,premultipliedAlpha:b.premultipliedAlpha,alphaTest:b.alphaTest,doubleSided:b.side===hg,flipSided:b.side===gg,depthPacking:void 0!==b.depthPacking&&b.depthPacking}},this.getProgramCode=function(b,c){var d=[];if(c.shaderID?d.push(c.shaderID):(d.push(b.fragmentShader),d.push(b.vertexShader)),void 0!==b.defines)for(var e in b.defines)d.push(e),d.push(b.defines[e]);for(var f=0;f<h.length;f++)d.push(c[h[f]]);return d.push(b.onBeforeCompile.toString()),d.push(a.gammaOutput),d.join()},this.acquireProgram=function(c,d,e,g){for(var h,i=0,j=f.length;i<j;i++){var k=f[i];if(k.code===g){h=k,++h.usedTimes;break}}return void 0===h&&(h=new db(a,b,g,c,d,e),f.push(h)),h},this.releaseProgram=function(a){if(0==--a.usedTimes){var b=f.indexOf(a);f[b]=f[f.length-1],f.pop(),a.destroy()}},this.programs=f}function fb(){function a(a){var b=e.get(a);return void 0===b&&(b={},e.set(a,b)),b}function b(a){e.delete(a)}function c(a,b,c){e.get(a)[b]=c}function d(){e=new WeakMap}var e=new WeakMap;return{get:a,remove:b,update:c,dispose:d}}function gb(a,b){return a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.program&&b.program&&a.program!==b.program?a.program.id-b.program.id:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}function hb(a,b){return a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}function ib(){function a(){e=0,f.length=0,g.length=0}function b(a,b,c,h,i){var j=d[e];void 0===j?(j={id:a.id,object:a,geometry:b,material:c,program:c.program,renderOrder:a.renderOrder,z:h,group:i},d[e]=j):(j.id=a.id,j.object=a,j.geometry=b,j.material=c,j.program=c.program,j.renderOrder=a.renderOrder,j.z=h,j.group=i),(!0===c.transparent?g:f).push(j),e++}function c(){f.length>1&&f.sort(gb),g.length>1&&g.sort(hb)}var d=[],e=0,f=[],g=[];return{opaque:f,transparent:g,init:a,push:b,sort:c}}function jb(){function a(a,b){var d=a.id+","+b.id,e=c[d];return void 0===e&&(e=new ib,c[d]=e),e}function b(){c={}}var c={};return{get:a,dispose:b}}function kb(){var a={};return{get:function(b){if(void 0!==a[b.id])return a[b.id];var d;switch(b.type){case"DirectionalLight":d={direction:new f,color:new q,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new c};break;case"SpotLight":d={position:new f,direction:new f,color:new q,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new c};break;case"PointLight":d={position:new f,color:new q,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new c,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":d={direction:new f,skyColor:new q,groundColor:new q};break;case"RectAreaLight":d={color:new q,position:new f,halfWidth:new f,halfHeight:new f}}return a[b.id]=d,d}}}function lb(){function a(a,d,f){for(var i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=f.matrixWorldInverse,r=0,s=a.length;r<s;r++){var t=a[r],u=t.color,v=t.intensity,w=t.distance,x=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)i+=u.r*v,j+=u.g*v,k+=u.b*v;else if(t.isDirectionalLight){var y=b.get(t);if(y.color.copy(t.color).multiplyScalar(t.intensity),y.direction.setFromMatrixPosition(t.matrixWorld),e.setFromMatrixPosition(t.target.matrixWorld),y.direction.sub(e),y.direction.transformDirection(q),y.shadow=t.castShadow,t.castShadow){var z=t.shadow;y.shadowBias=z.bias,y.shadowRadius=z.radius,y.shadowMapSize=z.mapSize}c.directionalShadowMap[l]=x,c.directionalShadowMatrix[l]=t.shadow.matrix,c.directional[l]=y,l++}else if(t.isSpotLight){var y=b.get(t);if(y.position.setFromMatrixPosition(t.matrixWorld),y.position.applyMatrix4(q),y.color.copy(u).multiplyScalar(v),y.distance=w,y.direction.setFromMatrixPosition(t.matrixWorld),e.setFromMatrixPosition(t.target.matrixWorld),y.direction.sub(e),y.direction.transformDirection(q),y.coneCos=Math.cos(t.angle),y.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),y.decay=0===t.distance?0:t.decay,y.shadow=t.castShadow,t.castShadow){var z=t.shadow;y.shadowBias=z.bias,y.shadowRadius=z.radius,y.shadowMapSize=z.mapSize}c.spotShadowMap[n]=x,c.spotShadowMatrix[n]=t.shadow.matrix,c.spot[n]=y,n++}else if(t.isRectAreaLight){var y=b.get(t);y.color.copy(u).multiplyScalar(v),y.position.setFromMatrixPosition(t.matrixWorld),y.position.applyMatrix4(q),h.identity(),g.copy(t.matrixWorld),g.premultiply(q),h.extractRotation(g),y.halfWidth.set(.5*t.width,0,0),y.halfHeight.set(0,.5*t.height,0),y.halfWidth.applyMatrix4(h),y.halfHeight.applyMatrix4(h),c.rectArea[o]=y,o++}else if(t.isPointLight){var y=b.get(t);if(y.position.setFromMatrixPosition(t.matrixWorld),y.position.applyMatrix4(q),y.color.copy(t.color).multiplyScalar(t.intensity),y.distance=t.distance,y.decay=0===t.distance?0:t.decay,y.shadow=t.castShadow,t.castShadow){var z=t.shadow;y.shadowBias=z.bias,y.shadowRadius=z.radius,y.shadowMapSize=z.mapSize,y.shadowCameraNear=z.camera.near,y.shadowCameraFar=z.camera.far}c.pointShadowMap[m]=x,c.pointShadowMatrix[m]=t.shadow.matrix,c.point[m]=y,m++}else if(t.isHemisphereLight){var y=b.get(t);y.direction.setFromMatrixPosition(t.matrixWorld),y.direction.transformDirection(q),y.direction.normalize(),y.skyColor.copy(t.color).multiplyScalar(v),y.groundColor.copy(t.groundColor).multiplyScalar(v),c.hemi[p]=y,p++}}c.ambient[0]=i,c.ambient[1]=j,c.ambient[2]=k,c.directional.length=l,c.spot.length=n,c.rectArea.length=o,c.point.length=m,c.hemi.length=p,c.hash=c.id+","+l+","+m+","+n+","+o+","+p+","+d.length}var b=new kb,c={id:Ii++,hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},e=new f,g=new d,h=new d;return{setup:a,state:c}}function mb(){function a(){g.length=0,h.length=0,i.length=0}function b(a){g.push(a)}function c(a){h.push(a)}function d(a){i.push(a)}function e(a){f.setup(g,h,a)}var f=new lb,g=[],h=[],i=[];return{init:a,state:{lightsArray:g,shadowsArray:h,spritesArray:i,lights:f},setupLights:e,pushLight:b,pushShadow:c,pushSprite:d}}function nb(){function a(a,b){var d=a.id+","+b.id,e=c[d];return void 0===e&&(e=new mb,c[d]=e),e}function b(){c={}}var c={};return{get:a,dispose:b}}function ob(a){R.call(this),this.type="MeshDepthMaterial",this.depthPacking=mi,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(a)}function pb(a){R.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new f,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(a)}function qb(a,b,e){function g(b,c,d,e,f,g){var h=b.geometry,i=null,j=u,k=b.customDepthMaterial;if(d&&(j=v,k=b.customDistanceMaterial),k)i=k;else{var l=!1;c.morphTargets&&(h&&h.isBufferGeometry?l=h.morphAttributes&&h.morphAttributes.position&&h.morphAttributes.position.length>0:h&&h.isGeometry&&(l=h.morphTargets&&h.morphTargets.length>0)),b.isSkinnedMesh&&c.skinning;var m=b.isSkinnedMesh&&c.skinning,n=0;l&&(n|=r),m&&(n|=s),i=j[n]}if(a.localClippingEnabled&&!0===c.clipShadows&&0!==c.clippingPlanes.length){var o=i.uuid,p=c.uuid,q=w[o];void 0===q&&(q={},w[o]=q);var t=q[p];void 0===t&&(t=i.clone(),q[p]=t),i=t}return i.visible=c.visible,i.wireframe=c.wireframe,i.side=null!=c.shadowSide?c.shadowSide:x[c.side],i.clipShadows=c.clipShadows,i.clippingPlanes=c.clippingPlanes,i.clipIntersection=c.clipIntersection,i.wireframeLinewidth=c.wireframeLinewidth,i.linewidth=c.linewidth,d&&i.isMeshDistanceMaterial&&(i.referencePosition.copy(e),i.nearDistance=f,i.farDistance=g),i}function h(c,d,e,f){if(!1!==c.visible){if(c.layers.test(d.layers)&&(c.isMesh||c.isLine||c.isPoints)&&c.castShadow&&(!c.frustumCulled||k.intersectsObject(c))){c.modelViewMatrix.multiplyMatrices(e.matrixWorldInverse,c.matrixWorld);var i=b.update(c),j=c.material;if(Array.isArray(j))for(var l=i.groups,m=0,n=l.length;m<n;m++){var o=l[m],p=j[o.materialIndex];if(p&&p.visible){var r=g(c,p,f,q,e.near,e.far);a.renderBufferDirect(e,null,i,r,c,o)}}else if(j.visible){var r=g(c,j,f,q,e.near,e.far);a.renderBufferDirect(e,null,i,r,c,null)}}for(var s=c.children,t=0,u=s.length;t<u;t++)h(s[t],d,e,f)}}for(var k=new p,l=new d,m=new c,n=new c(e,e),o=new f,q=new f,r=1,s=2,t=1+(r|s),u=new Array(t),v=new Array(t),w={},x={0:gg,1:fg,2:hg},y=[new f(1,0,0),new f(-1,0,0),new f(0,0,1),new f(0,0,-1),new f(0,1,0),new f(0,-1,0)],z=[new f(0,1,0),new f(0,1,0),new f(0,1,0),new f(0,1,0),new f(0,0,1),new f(0,0,-1)],A=[new i,new i,new i,new i,new i,new i],B=0;B!==t;++B){var C=0!=(B&r),D=0!=(B&s),E=new ob({depthPacking:ni,morphTargets:C,skinning:D});u[B]=E;var F=new pb({morphTargets:C,skinning:D});v[B]=F}var G=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=dg,this.render=function(b,c,d){if(!1!==G.enabled&&(!1!==G.autoUpdate||!1!==G.needsUpdate)&&0!==b.length){var e=a.context,f=a.state;f.disable(e.BLEND),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(var g,i=0,p=b.length;i<p;i++){var r=b[i],s=r.shadow,t=r&&r.isPointLight;if(void 0!==s){var u=s.camera;if(m.copy(s.mapSize),m.min(n),t){var v=m.x,w=m.y;A[0].set(2*v,w,v,w),A[1].set(0,w,v,w),A[2].set(3*v,w,v,w),A[3].set(v,w,v,w),A[4].set(3*v,0,v,w),A[5].set(v,0,v,w),m.x*=4,m.y*=2}if(null===s.map){var x={minFilter:fh,magFilter:fh,format:zh};s.map=new j(m.x,m.y,x),s.map.texture.name=r.name+".shadowMap",u.updateProjectionMatrix()}s.isSpotLightShadow&&s.update(r);var B=s.map,C=s.matrix;q.setFromMatrixPosition(r.matrixWorld),u.position.copy(q),t?(g=6,C.makeTranslation(-q.x,-q.y,-q.z)):(g=1,o.setFromMatrixPosition(r.target.matrixWorld),u.lookAt(o),u.updateMatrixWorld(),C.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),C.multiply(u.projectionMatrix),C.multiply(u.matrixWorldInverse)),a.setRenderTarget(B),a.clear();for(var D=0;D<g;D++){if(t){o.copy(u.position),o.add(y[D]),u.up.copy(z[D]),u.lookAt(o),u.updateMatrixWorld();var E=A[D];f.viewport(E)}l.multiplyMatrices(u.projectionMatrix,u.matrixWorldInverse),k.setFromMatrix(l),h(c,d,u,t)}}}G.needsUpdate=!1}}}function rb(a,b,c,d,e,f,g,i,j){h.call(this,a,b,c,d,e,f,g,i,j),this.needsUpdate=!0}function sb(a,b,c,d,g){function h(){var a=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),c=new Uint16Array([0,1,2,0,2,3]);k=b.createBuffer(),l=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,k),b.bufferData(b.ARRAY_BUFFER,a,b.STATIC_DRAW),b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,l),b.bufferData(b.ELEMENT_ARRAY_BUFFER,c,b.STATIC_DRAW),m=i(),n={position:b.getAttribLocation(m,"position"),uv:b.getAttribLocation(m,"uv")},o={uvOffset:b.getUniformLocation(m,"uvOffset"),uvScale:b.getUniformLocation(m,"uvScale"),rotation:b.getUniformLocation(m,"rotation"),center:b.getUniformLocation(m,"center"),scale:b.getUniformLocation(m,"scale"),color:b.getUniformLocation(m,"color"),map:b.getUniformLocation(m,"map"),opacity:b.getUniformLocation(m,"opacity"),modelViewMatrix:b.getUniformLocation(m,"modelViewMatrix"),projectionMatrix:b.getUniformLocation(m,"projectionMatrix"),fogType:b.getUniformLocation(m,"fogType"),fogDensity:b.getUniformLocation(m,"fogDensity"),fogNear:b.getUniformLocation(m,"fogNear"),fogFar:b.getUniformLocation(m,"fogFar"),fogColor:b.getUniformLocation(m,"fogColor"),fogDepth:b.getUniformLocation(m,"fogDepth"),alphaTest:b.getUniformLocation(m,"alphaTest")};var d=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");d.width=8,d.height=8;var e=d.getContext("2d");e.fillStyle="white",e.fillRect(0,0,8,8),p=new rb(d)}function i(){var a=b.createProgram(),c=b.createShader(b.VERTEX_SHADER),d=b.createShader(b.FRAGMENT_SHADER);return b.shaderSource(c,["precision "+g.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 center;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvUV = uvOffset + uv * uvScale;","\tvec2 alignedPosition = ( position - center ) * scale;","\tvec2 rotatedPosition;","\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","\tvec4 mvPosition;","\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","\tmvPosition.xy += rotatedPosition;","\tgl_Position = projectionMatrix * mvPosition;","\tfogDepth = - mvPosition.z;","}"].join("\n")),b.shaderSource(d,["precision "+g.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvec4 texture = texture2D( map, vUV );","\tgl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","\tif ( gl_FragColor.a < alphaTest ) discard;","\tif ( fogType > 0 ) {","\t\tfloat fogFactor = 0.0;","\t\tif ( fogType == 1 ) {","\t\t\tfogFactor = smoothstep( fogNear, fogFar, fogDepth );","\t\t} else {","\t\t\tconst float LOG2 = 1.442695;","\t\t\tfogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );","\t\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","\t\t}","\t\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );","\t}","}"].join("\n")),b.compileShader(c),b.compileShader(d),b.attachShader(a,c),b.attachShader(a,d),b.linkProgram(a),a}function j(a,b){return a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:b.id-a.id}var k,l,m,n,o,p,q=new f,r=new e,s=new f;this.render=function(e,f,g){if(0!==e.length){void 0===m&&h(),c.useProgram(m),c.initAttributes(),c.enableAttribute(n.position),c.enableAttribute(n.uv),c.disableUnusedAttributes(),c.disable(b.CULL_FACE),c.enable(b.BLEND),b.bindBuffer(b.ARRAY_BUFFER,k),b.vertexAttribPointer(n.position,2,b.FLOAT,!1,16,0),b.vertexAttribPointer(n.uv,2,b.FLOAT,!1,16,8),b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,l),b.uniformMatrix4fv(o.projectionMatrix,!1,g.projectionMatrix.elements),c.activeTexture(b.TEXTURE0),b.uniform1i(o.map,0);var i=0,t=0,u=f.fog;u?(b.uniform3f(o.fogColor,u.color.r,u.color.g,u.color.b),u.isFog?(b.uniform1f(o.fogNear,u.near),b.uniform1f(o.fogFar,u.far),b.uniform1i(o.fogType,1),i=1,t=1):u.isFogExp2&&(b.uniform1f(o.fogDensity,u.density),b.uniform1i(o.fogType,2),i=2,t=2)):(b.uniform1i(o.fogType,0),i=0,t=0);for(var v=0,w=e.length;v<w;v++){var x=e[v];x.modelViewMatrix.multiplyMatrices(g.matrixWorldInverse,x.matrixWorld),x.z=-x.modelViewMatrix.elements[14]}e.sort(j);for(var y=[],z=[],v=0,w=e.length;v<w;v++){var x=e[v],A=x.material;if(!1!==A.visible){x.onBeforeRender(a,f,g,void 0,A,void 0),b.uniform1f(o.alphaTest,A.alphaTest),b.uniformMatrix4fv(o.modelViewMatrix,!1,x.modelViewMatrix.elements),x.matrixWorld.decompose(q,r,s),y[0]=s.x,y[1]=s.y,z[0]=x.center.x-.5,z[1]=x.center.y-.5;var B=0;f.fog&&A.fog&&(B=t),i!==B&&(b.uniform1i(o.fogType,B),i=B),null!==A.map?(b.uniform2f(o.uvOffset,A.map.offset.x,A.map.offset.y),b.uniform2f(o.uvScale,A.map.repeat.x,A.map.repeat.y)):(b.uniform2f(o.uvOffset,0,0),b.uniform2f(o.uvScale,1,1)),b.uniform1f(o.opacity,A.opacity),b.uniform3f(o.color,A.color.r,A.color.g,A.color.b),b.uniform1f(o.rotation,A.rotation),b.uniform2fv(o.center,z),b.uniform2fv(o.scale,y),c.setBlending(A.blending,A.blendEquation,A.blendSrc,A.blendDst,A.blendEquationAlpha,A.blendSrcAlpha,A.blendDstAlpha,A.premultipliedAlpha),c.buffers.depth.setTest(A.depthTest),c.buffers.depth.setMask(A.depthWrite),c.buffers.color.setMask(A.colorWrite),d.setTexture2D(A.map||p,0),b.drawElements(b.TRIANGLES,6,b.UNSIGNED_SHORT,0),x.onAfterRender(a,f,g,void 0,A,void 0)}}c.enable(b.CULL_FACE),c.reset()}}}function tb(a,b,c){function d(){var b=!1,c=new i,d=null,e=new i(0,0,0,0);return{setMask:function(c){d===c||b||(a.colorMask(c,c,c,c),d=c)},setLocked:function(a){b=a},setClear:function(b,d,f,g,h){!0===h&&(b*=g,d*=g,f*=g),c.set(b,d,f,g),!1===e.equals(c)&&(a.clearColor(b,d,f,g),e.copy(c))},reset:function(){b=!1,d=null,e.set(-1,0,0,0)}}}function e(){var b=!1,c=null,d=null,e=null;return{setTest:function(b){b?m(a.DEPTH_TEST):n(a.DEPTH_TEST)},setMask:function(d){c===d||b||(a.depthMask(d),c=d)},setFunc:function(b){if(d!==b){if(b)switch(b){case Hg:a.depthFunc(a.NEVER);break;case Ig:a.depthFunc(a.ALWAYS);break;case Jg:a.depthFunc(a.LESS);break;case Kg:a.depthFunc(a.LEQUAL);break;case Lg:a.depthFunc(a.EQUAL);break;case Mg:a.depthFunc(a.GEQUAL);break;case Ng:a.depthFunc(a.GREATER);break;case Og:a.depthFunc(a.NOTEQUAL);break;default:a.depthFunc(a.LEQUAL)}else a.depthFunc(a.LEQUAL);d=b}},setLocked:function(a){b=a},setClear:function(b){e!==b&&(a.clearDepth(b),e=b)},reset:function(){b=!1,c=null,d=null,e=null}}}function f(){var b=!1,c=null,d=null,e=null,f=null,g=null,h=null,i=null,j=null;return{setTest:function(b){b?m(a.STENCIL_TEST):n(a.STENCIL_TEST)},setMask:function(d){c===d||b||(a.stencilMask(d),c=d)},setFunc:function(b,c,g){d===b&&e===c&&f===g||(a.stencilFunc(b,c,g),d=b,e=c,f=g)},setOp:function(b,c,d){g===b&&h===c&&i===d||(a.stencilOp(b,c,d),g=b,h=c,i=d)},setLocked:function(a){b=a},setClear:function(b){j!==b&&(a.clearStencil(b),j=b)},reset:function(){b=!1,c=null,d=null,e=null,f=null,g=null,h=null,i=null,j=null}}}function g(b,c,d){var e=new Uint8Array(4),f=a.createTexture();a.bindTexture(b,f),a.texParameteri(b,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(b,a.TEXTURE_MAG_FILTER,a.NEAREST);for(var g=0;g<d;g++)a.texImage2D(c+g,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,e);return f}function h(){for(var a=0,b=I.length;a<b;a++)I[a]=0}function j(a){k(a,0)}function k(c,d){if(I[c]=1,0===J[c]&&(a.enableVertexAttribArray(c),J[c]=1),K[c]!==d){b.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(c,d),K[c]=d}}function l(){for(var b=0,c=J.length;b!==c;++b)J[b]!==I[b]&&(a.disableVertexAttribArray(b),J[b]=0)}function m(b){!0!==L[b]&&(a.enable(b),L[b]=!0)}function n(b){!1!==L[b]&&(a.disable(b),L[b]=!1)}function o(){if(null===M&&(M=[],b.get("WEBGL_compressed_texture_pvrtc")||b.get("WEBGL_compressed_texture_s3tc")||b.get("WEBGL_compressed_texture_etc1")||b.get("WEBGL_compressed_texture_astc")))for(var c=a.getParameter(a.COMPRESSED_TEXTURE_FORMATS),d=0;d<c.length;d++)M.push(c[d]);return M}function p(b){return N!==b&&(a.useProgram(b),N=b,!0)}function q(b,d,e,f,g,h,i,j){if(b!==lg?m(a.BLEND):n(a.BLEND),b!==qg){if(b!==O||j!==V)switch(b){case ng:j?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.SRC_ALPHA,a.ONE));break;case og:j?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ZERO,a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ONE_MINUS_SRC_ALPHA)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.ONE_MINUS_SRC_COLOR));break;case pg:j?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ZERO,a.SRC_COLOR,a.ZERO,a.SRC_ALPHA)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.SRC_COLOR));break;default:j?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)):(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA))}P=null,Q=null,R=null,S=null,T=null,U=null}else g=g||d,h=h||e,i=i||f,d===P&&g===S||(a.blendEquationSeparate(c.convert(d),c.convert(g)),P=d,S=g),e===Q&&f===R&&h===T&&i===U||(a.blendFuncSeparate(c.convert(e),c.convert(f),c.convert(h),c.convert(i)),Q=e,R=f,T=h,U=i);O=b,V=j}function r(b,c){b.side===hg?n(a.CULL_FACE):m(a.CULL_FACE);var d=b.side===gg;c&&(d=!d),s(d),!0===b.transparent?q(b.blending,b.blendEquation,b.blendSrc,b.blendDst,b.blendEquationAlpha,b.blendSrcAlpha,b.blendDstAlpha,b.premultipliedAlpha):q(lg),F.setFunc(b.depthFunc),F.setTest(b.depthTest),F.setMask(b.depthWrite),E.setMask(b.colorWrite),v(b.polygonOffset,b.polygonOffsetFactor,b.polygonOffsetUnits)}function s(b){W!==b&&(b?a.frontFace(a.CW):a.frontFace(a.CCW),W=b)}function t(b){b!==ag?(m(a.CULL_FACE),b!==X&&(b===bg?a.cullFace(a.BACK):b===cg?a.cullFace(a.FRONT):a.cullFace(a.FRONT_AND_BACK))):n(a.CULL_FACE),X=b}function u(b){b!==Y&&(aa&&a.lineWidth(b),Y=b)}function v(b,c,d){b?(m(a.POLYGON_OFFSET_FILL),Z===c&&$===d||(a.polygonOffset(c,d),Z=c,$=d)):n(a.POLYGON_OFFSET_FILL)}function w(b){b?m(a.SCISSOR_TEST):n(a.SCISSOR_TEST)}function x(b){void 0===b&&(b=a.TEXTURE0+_-1),da!==b&&(a.activeTexture(b),da=b)}function y(b,c){null===da&&x();var d=ea[da];void 0===d&&(d={type:void 0,texture:void 0},ea[da]=d),d.type===b&&d.texture===c||(a.bindTexture(b,c||ha[b]),d.type=b,d.texture=c)}function z(){try{a.compressedTexImage2D.apply(a,arguments)}catch(a){}}function A(){try{a.texImage2D.apply(a,arguments)}catch(a){}}function B(b){!1===fa.equals(b)&&(a.scissor(b.x,b.y,b.z,b.w),fa.copy(b))}function C(b){!1===ga.equals(b)&&(a.viewport(b.x,b.y,b.z,b.w),ga.copy(b))}function D(){for(var b=0;b<J.length;b++)1===J[b]&&(a.disableVertexAttribArray(b),J[b]=0);L={},M=null,da=null,ea={},N=null,O=null,W=null,X=null,E.reset(),F.reset(),G.reset()}var E=new d,F=new e,G=new f,H=a.getParameter(a.MAX_VERTEX_ATTRIBS),I=new Uint8Array(H),J=new Uint8Array(H),K=new Uint8Array(H),L={},M=null,N=null,O=null,P=null,Q=null,R=null,S=null,T=null,U=null,V=!1,W=null,X=null,Y=null,Z=null,$=null,_=a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS),aa=!1,ba=0,ca=a.getParameter(a.VERSION);-1!==ca.indexOf("WebGL")?(ba=parseFloat(/^WebGL\ ([0-9])/.exec(ca)[1]),aa=ba>=1):-1!==ca.indexOf("OpenGL ES")&&(ba=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(ca)[1]),aa=ba>=2);var da=null,ea={},fa=new i,ga=new i,ha={};return ha[a.TEXTURE_2D]=g(a.TEXTURE_2D,a.TEXTURE_2D,1),ha[a.TEXTURE_CUBE_MAP]=g(a.TEXTURE_CUBE_MAP,a.TEXTURE_CUBE_MAP_POSITIVE_X,6),E.setClear(0,0,0,1),F.setClear(1),G.setClear(0),m(a.DEPTH_TEST),F.setFunc(Kg),s(!1),t(bg),m(a.CULL_FACE),m(a.BLEND),q(mg),{buffers:{color:E,depth:F,stencil:G},initAttributes:h,enableAttribute:j,enableAttributeAndDivisor:k,disableUnusedAttributes:l,enable:m,disable:n,getCompressedTextureFormats:o,useProgram:p,setBlending:q,setMaterial:r,setFlipSided:s,setCullFace:t,setLineWidth:u,setPolygonOffset:v,setScissorTest:w,activeTexture:x,bindTexture:y,compressedTexImage2D:z,texImage2D:A,scissor:B,viewport:C,reset:D}}function ub(a,b,c,d,e,f,g){function h(a,b){if(a.width>b||a.height>b){if("data"in a)return;var c=b/Math.max(a.width,a.height),d=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");d.width=Math.floor(a.width*c),d.height=Math.floor(a.height*c);return d.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,d.width,d.height),d}return a}function i(a){return oi.isPowerOfTwo(a.width)&&oi.isPowerOfTwo(a.height)}function j(a){if(a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof ImageBitmap){void 0===E&&(E=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),E.width=oi.floorPowerOfTwo(a.width),E.height=oi.floorPowerOfTwo(a.height);return E.getContext("2d").drawImage(a,0,0,E.width,E.height),E}return a}function k(a){return a.wrapS!==dh||a.wrapT!==dh||a.minFilter!==fh&&a.minFilter!==ih}function l(a,b){return a.generateMipmaps&&b&&a.minFilter!==fh&&a.minFilter!==ih}function m(b,c,e,f){a.generateMipmap(b),d.get(c).__maxMipLevel=Math.log(Math.max(e,f))*Math.LOG2E}function n(b){return b===fh||b===gh||b===hh?a.NEAREST:a.LINEAR}function o(a){var b=a.target;b.removeEventListener("dispose",o),q(b),b.isVideoTexture&&delete G[b.id],g.memory.textures--}function p(a){var b=a.target;b.removeEventListener("dispose",p),r(b),g.memory.textures--}function q(b){var c=d.get(b);if(b.image&&c.__image__webglTextureCube)a.deleteTexture(c.__image__webglTextureCube);else{if(void 0===c.__webglInit)return;a.deleteTexture(c.__webglTexture)}d.remove(b)}function r(b){var c=d.get(b),e=d.get(b.texture);if(b){if(void 0!==e.__webglTexture&&a.deleteTexture(e.__webglTexture),b.depthTexture&&b.depthTexture.dispose(),b.isWebGLRenderTargetCube)for(var f=0;f<6;f++)a.deleteFramebuffer(c.__webglFramebuffer[f]),c.__webglDepthbuffer&&a.deleteRenderbuffer(c.__webglDepthbuffer[f]);else a.deleteFramebuffer(c.__webglFramebuffer),c.__webglDepthbuffer&&a.deleteRenderbuffer(c.__webglDepthbuffer);d.remove(b.texture),d.remove(b)}}function s(b,e){var f=d.get(b);if(b.isVideoTexture&&D(b),b.version>0&&f.__version!==b.version){var g=b.image;if(void 0===g);else if(!1!==g.complete)return void w(f,b,e)}c.activeTexture(a.TEXTURE0+e),c.bindTexture(a.TEXTURE_2D,f.__webglTexture)}function t(b,j){var k=d.get(b);if(6===b.image.length)if(b.version>0&&k.__version!==b.version){k.__image__webglTextureCube||(b.addEventListener("dispose",o),k.__image__webglTextureCube=a.createTexture(),g.memory.textures++),c.activeTexture(a.TEXTURE0+j),c.bindTexture(a.TEXTURE_CUBE_MAP,k.__image__webglTextureCube),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,b.flipY);for(var n=b&&b.isCompressedTexture,p=b.image[0]&&b.image[0].isDataTexture,q=[],r=0;r<6;r++)q[r]=n||p?p?b.image[r].image:b.image[r]:h(b.image[r],e.maxCubemapSize);var s=q[0],t=i(s),u=f.convert(b.format),w=f.convert(b.type);v(a.TEXTURE_CUBE_MAP,b,t);for(var r=0;r<6;r++)if(n)for(var x,y=q[r].mipmaps,z=0,A=y.length;z<A;z++)x=y[z],b.format!==zh&&b.format!==yh?c.getCompressedTextureFormats().indexOf(u)>-1&&c.compressedTexImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+r,z,u,x.width,x.height,0,x.data):c.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+r,z,u,x.width,x.height,0,u,w,x.data);else p?c.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,u,q[r].width,q[r].height,0,u,w,q[r].data):c.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,u,u,w,q[r]);k.__maxMipLevel=n?y.length-1:0,l(b,t)&&m(a.TEXTURE_CUBE_MAP,b,s.width,s.height),k.__version=b.version,b.onUpdate&&b.onUpdate(b)}else c.activeTexture(a.TEXTURE0+j),c.bindTexture(a.TEXTURE_CUBE_MAP,k.__image__webglTextureCube)}function u(b,e){c.activeTexture(a.TEXTURE0+e),c.bindTexture(a.TEXTURE_CUBE_MAP,d.get(b).__webglTexture)}function v(c,g,h){var i;if(h?(a.texParameteri(c,a.TEXTURE_WRAP_S,f.convert(g.wrapS)),a.texParameteri(c,a.TEXTURE_WRAP_T,f.convert(g.wrapT)),a.texParameteri(c,a.TEXTURE_MAG_FILTER,f.convert(g.magFilter)),a.texParameteri(c,a.TEXTURE_MIN_FILTER,f.convert(g.minFilter))):(a.texParameteri(c,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(c,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),g.wrapS!==dh||g.wrapT,a.texParameteri(c,a.TEXTURE_MAG_FILTER,n(g.magFilter)),a.texParameteri(c,a.TEXTURE_MIN_FILTER,n(g.minFilter)),g.minFilter!==fh&&g.minFilter),i=b.get("EXT_texture_filter_anisotropic")){if(g.type===rh&&null===b.get("OES_texture_float_linear"))return;if(g.type===sh&&null===b.get("OES_texture_half_float_linear"))return;(g.anisotropy>1||d.get(g).__currentAnisotropy)&&(a.texParameterf(c,i.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(g.anisotropy,e.getMaxAnisotropy())),d.get(g).__currentAnisotropy=g.anisotropy)}}function w(b,d,n){void 0===b.__webglInit&&(b.__webglInit=!0,d.addEventListener("dispose",o),b.__webglTexture=a.createTexture(),g.memory.textures++),c.activeTexture(a.TEXTURE0+n),c.bindTexture(a.TEXTURE_2D,b.__webglTexture),a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,d.flipY),a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,d.premultiplyAlpha),a.pixelStorei(a.UNPACK_ALIGNMENT,d.unpackAlignment);var p=h(d.image,e.maxTextureSize);k(d)&&!1===i(p)&&(p=j(p));var q=i(p),r=f.convert(d.format),s=f.convert(d.type);v(a.TEXTURE_2D,d,q);var t,u=d.mipmaps;if(d.isDepthTexture){var w=a.DEPTH_COMPONENT;if(d.type===rh){if(!F)throw new Error("Float Depth Texture only supported in WebGL2.0");w=a.DEPTH_COMPONENT32F}else F&&(w=a.DEPTH_COMPONENT16);d.format===Dh&&w===a.DEPTH_COMPONENT&&d.type!==oh&&d.type!==qh&&(d.type=oh,s=f.convert(d.type)),d.format===Eh&&(w=a.DEPTH_STENCIL,d.type!==wh&&(d.type=wh,s=f.convert(d.type))),c.texImage2D(a.TEXTURE_2D,0,w,p.width,p.height,0,r,s,null)}else if(d.isDataTexture)if(u.length>0&&q){for(var x=0,y=u.length;x<y;x++)t=u[x],c.texImage2D(a.TEXTURE_2D,x,r,t.width,t.height,0,r,s,t.data);d.generateMipmaps=!1,b.__maxMipLevel=u.length-1}else c.texImage2D(a.TEXTURE_2D,0,r,p.width,p.height,0,r,s,p.data),
b.__maxMipLevel=0;else if(d.isCompressedTexture){for(var x=0,y=u.length;x<y;x++)t=u[x],d.format!==zh&&d.format!==yh?c.getCompressedTextureFormats().indexOf(r)>-1&&c.compressedTexImage2D(a.TEXTURE_2D,x,r,t.width,t.height,0,t.data):c.texImage2D(a.TEXTURE_2D,x,r,t.width,t.height,0,r,s,t.data);b.__maxMipLevel=u.length-1}else if(u.length>0&&q){for(var x=0,y=u.length;x<y;x++)t=u[x],c.texImage2D(a.TEXTURE_2D,x,r,r,s,t);d.generateMipmaps=!1,b.__maxMipLevel=u.length-1}else c.texImage2D(a.TEXTURE_2D,0,r,r,s,p),b.__maxMipLevel=0;l(d,q)&&m(a.TEXTURE_2D,d,p.width,p.height),b.__version=d.version,d.onUpdate&&d.onUpdate(d)}function x(b,e,g,h){var i=f.convert(e.texture.format),j=f.convert(e.texture.type);c.texImage2D(h,0,i,e.width,e.height,0,i,j,null),a.bindFramebuffer(a.FRAMEBUFFER,b),a.framebufferTexture2D(a.FRAMEBUFFER,g,h,d.get(e.texture).__webglTexture,0),a.bindFramebuffer(a.FRAMEBUFFER,null)}function y(b,c){a.bindRenderbuffer(a.RENDERBUFFER,b),c.depthBuffer&&!c.stencilBuffer?(a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,c.width,c.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,b)):c.depthBuffer&&c.stencilBuffer?(a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,c.width,c.height),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,b)):a.renderbufferStorage(a.RENDERBUFFER,a.RGBA4,c.width,c.height),a.bindRenderbuffer(a.RENDERBUFFER,null)}function z(b,c){if(c&&c.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(a.bindFramebuffer(a.FRAMEBUFFER,b),!c.depthTexture||!c.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");d.get(c.depthTexture).__webglTexture&&c.depthTexture.image.width===c.width&&c.depthTexture.image.height===c.height||(c.depthTexture.image.width=c.width,c.depthTexture.image.height=c.height,c.depthTexture.needsUpdate=!0),s(c.depthTexture,0);var e=d.get(c.depthTexture).__webglTexture;if(c.depthTexture.format===Dh)a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_ATTACHMENT,a.TEXTURE_2D,e,0);else{if(c.depthTexture.format!==Eh)throw new Error("Unknown depthTexture format");a.framebufferTexture2D(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.TEXTURE_2D,e,0)}}function A(b){var c=d.get(b),e=!0===b.isWebGLRenderTargetCube;if(b.depthTexture){if(e)throw new Error("target.depthTexture not supported in Cube render targets");z(c.__webglFramebuffer,b)}else if(e){c.__webglDepthbuffer=[];for(var f=0;f<6;f++)a.bindFramebuffer(a.FRAMEBUFFER,c.__webglFramebuffer[f]),c.__webglDepthbuffer[f]=a.createRenderbuffer(),y(c.__webglDepthbuffer[f],b)}else a.bindFramebuffer(a.FRAMEBUFFER,c.__webglFramebuffer),c.__webglDepthbuffer=a.createRenderbuffer(),y(c.__webglDepthbuffer,b);a.bindFramebuffer(a.FRAMEBUFFER,null)}function B(b){var e=d.get(b),f=d.get(b.texture);b.addEventListener("dispose",p),f.__webglTexture=a.createTexture(),g.memory.textures++;var h=!0===b.isWebGLRenderTargetCube,j=i(b);if(h){e.__webglFramebuffer=[];for(var k=0;k<6;k++)e.__webglFramebuffer[k]=a.createFramebuffer()}else e.__webglFramebuffer=a.createFramebuffer();if(h){c.bindTexture(a.TEXTURE_CUBE_MAP,f.__webglTexture),v(a.TEXTURE_CUBE_MAP,b.texture,j);for(var k=0;k<6;k++)x(e.__webglFramebuffer[k],b,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+k);l(b.texture,j)&&m(a.TEXTURE_CUBE_MAP,b.texture,b.width,b.height),c.bindTexture(a.TEXTURE_CUBE_MAP,null)}else c.bindTexture(a.TEXTURE_2D,f.__webglTexture),v(a.TEXTURE_2D,b.texture,j),x(e.__webglFramebuffer,b,a.COLOR_ATTACHMENT0,a.TEXTURE_2D),l(b.texture,j)&&m(a.TEXTURE_2D,b.texture,b.width,b.height),c.bindTexture(a.TEXTURE_2D,null);b.depthBuffer&&A(b)}function C(b){var e=b.texture;if(l(e,i(b))){var f=b.isWebGLRenderTargetCube?a.TEXTURE_CUBE_MAP:a.TEXTURE_2D,g=d.get(e).__webglTexture;c.bindTexture(f,g),m(f,e,b.width,b.height),c.bindTexture(f,null)}}function D(a){var b=a.id,c=g.render.frame;G[b]!==c&&(G[b]=c,a.update())}var E,F="undefined"!=typeof WebGL2RenderingContext&&a instanceof WebGL2RenderingContext,G={};this.setTexture2D=s,this.setTextureCube=t,this.setTextureCubeDynamic=u,this.setupRenderTarget=B,this.updateRenderTargetMipmap=C}function vb(a,b){function c(c){var d;if(c===ch)return a.REPEAT;if(c===dh)return a.CLAMP_TO_EDGE;if(c===eh)return a.MIRRORED_REPEAT;if(c===fh)return a.NEAREST;if(c===gh)return a.NEAREST_MIPMAP_NEAREST;if(c===hh)return a.NEAREST_MIPMAP_LINEAR;if(c===ih)return a.LINEAR;if(c===jh)return a.LINEAR_MIPMAP_NEAREST;if(c===kh)return a.LINEAR_MIPMAP_LINEAR;if(c===lh)return a.UNSIGNED_BYTE;if(c===th)return a.UNSIGNED_SHORT_4_4_4_4;if(c===uh)return a.UNSIGNED_SHORT_5_5_5_1;if(c===vh)return a.UNSIGNED_SHORT_5_6_5;if(c===mh)return a.BYTE;if(c===nh)return a.SHORT;if(c===oh)return a.UNSIGNED_SHORT;if(c===ph)return a.INT;if(c===qh)return a.UNSIGNED_INT;if(c===rh)return a.FLOAT;if(c===sh&&null!==(d=b.get("OES_texture_half_float")))return d.HALF_FLOAT_OES;if(c===xh)return a.ALPHA;if(c===yh)return a.RGB;if(c===zh)return a.RGBA;if(c===Ah)return a.LUMINANCE;if(c===Bh)return a.LUMINANCE_ALPHA;if(c===Dh)return a.DEPTH_COMPONENT;if(c===Eh)return a.DEPTH_STENCIL;if(c===rg)return a.FUNC_ADD;if(c===sg)return a.FUNC_SUBTRACT;if(c===tg)return a.FUNC_REVERSE_SUBTRACT;if(c===wg)return a.ZERO;if(c===xg)return a.ONE;if(c===yg)return a.SRC_COLOR;if(c===zg)return a.ONE_MINUS_SRC_COLOR;if(c===Ag)return a.SRC_ALPHA;if(c===Bg)return a.ONE_MINUS_SRC_ALPHA;if(c===Cg)return a.DST_ALPHA;if(c===Dg)return a.ONE_MINUS_DST_ALPHA;if(c===Eg)return a.DST_COLOR;if(c===Fg)return a.ONE_MINUS_DST_COLOR;if(c===Gg)return a.SRC_ALPHA_SATURATE;if((c===Fh||c===Gh||c===Hh||c===Ih)&&null!==(d=b.get("WEBGL_compressed_texture_s3tc"))){if(c===Fh)return d.COMPRESSED_RGB_S3TC_DXT1_EXT;if(c===Gh)return d.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(c===Hh)return d.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(c===Ih)return d.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((c===Jh||c===Kh||c===Lh||c===Mh)&&null!==(d=b.get("WEBGL_compressed_texture_pvrtc"))){if(c===Jh)return d.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(c===Kh)return d.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(c===Lh)return d.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(c===Mh)return d.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(c===Nh&&null!==(d=b.get("WEBGL_compressed_texture_etc1")))return d.COMPRESSED_RGB_ETC1_WEBGL;if((c===Oh||c===Ph||c===Qh||c===Rh||c===Sh||c===Th||c===Uh||c===Vh||c===Wh||c===Xh||c===Yh||c===Zh||c===$h||c===_h)&&null!==(d=b.get("WEBGL_compressed_texture_astc")))return c;if((c===ug||c===vg)&&null!==(d=b.get("EXT_blend_minmax"))){if(c===ug)return d.MIN_EXT;if(c===vg)return d.MAX_EXT}return c===wh&&null!==(d=b.get("WEBGL_depth_texture"))?d.UNSIGNED_INT_24_8_WEBGL:0}return{convert:c}}function wb(a,b,c,d){w.call(this),this.type="PerspectiveCamera",this.fov=void 0!==a?a:50,this.zoom=1,this.near=void 0!==c?c:.1,this.far=void 0!==d?d:2e3,this.focus=10,this.aspect=void 0!==b?b:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function xb(a){wb.call(this),this.cameras=a||[]}function yb(a){function b(){return null!==h&&!0===h.isPresenting}function c(){if(b()){var c=h.getEyeParameters("left"),d=c.renderWidth,e=c.renderHeight;v=a.getPixelRatio(),u=a.getSize(),a.setDrawingBufferSize(2*d,e,1),w.start()}else g.enabled&&(a.setDrawingBufferSize(u.width,u.height,v),w.stop())}var g=this,h=null,j=null,k=null,l=new d,m=new d;"undefined"!=typeof window&&"VRFrameData"in window&&(j=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",c,!1));var n=new d,o=new e,p=new f,q=new wb;q.bounds=new i(0,0,.5,1),q.layers.enable(1);var s=new wb;s.bounds=new i(.5,0,.5,1),s.layers.enable(2);var t=new xb([q,s]);t.layers.enable(1),t.layers.enable(2);var u,v;this.enabled=!1,this.userHeight=1.6,this.getDevice=function(){return h},this.setDevice=function(a){void 0!==a&&(h=a),w.setContext(a)},this.setPoseTarget=function(a){void 0!==a&&(k=a)},this.getCamera=function(a){if(null===h)return a;h.depthNear=a.near,h.depthFar=a.far,h.getFrameData(j);var b=h.stageParameters;b?l.fromArray(b.sittingToStandingTransform):l.makeTranslation(0,g.userHeight,0);var c=j.pose,d=null!==k?k:a;if(d.matrix.copy(l),d.matrix.decompose(d.position,d.quaternion,d.scale),null!==c.orientation&&(o.fromArray(c.orientation),d.quaternion.multiply(o)),null!==c.position&&(o.setFromRotationMatrix(l),p.fromArray(c.position),p.applyQuaternion(o),d.position.add(p)),d.updateMatrixWorld(),!1===h.isPresenting)return a;q.near=a.near,s.near=a.near,q.far=a.far,s.far=a.far,t.matrixWorld.copy(a.matrixWorld),t.matrixWorldInverse.copy(a.matrixWorldInverse),q.matrixWorldInverse.fromArray(j.leftViewMatrix),s.matrixWorldInverse.fromArray(j.rightViewMatrix),m.getInverse(l),q.matrixWorldInverse.multiply(m),s.matrixWorldInverse.multiply(m);var e=d.parent;null!==e&&(n.getInverse(e.matrixWorld),q.matrixWorldInverse.multiply(n),s.matrixWorldInverse.multiply(n)),q.matrixWorld.getInverse(q.matrixWorldInverse),s.matrixWorld.getInverse(s.matrixWorldInverse),q.projectionMatrix.fromArray(j.leftProjectionMatrix),s.projectionMatrix.fromArray(j.rightProjectionMatrix),t.projectionMatrix.copy(q.projectionMatrix);var f=h.getLayers();if(f.length){var i=f[0];null!==i.leftBounds&&4===i.leftBounds.length&&q.bounds.fromArray(i.leftBounds),null!==i.rightBounds&&4===i.rightBounds.length&&s.bounds.fromArray(i.rightBounds)}return t},this.getStandingMatrix=function(){return l},this.isPresenting=b;var w=new r;this.setAnimationLoop=function(a){w.setAnimationLoop(a)},this.submitFrame=function(){b()&&h.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",c)}}function zb(a){function b(){return null!==g&&null!==h}function c(a,b){null===b?a.matrixWorld.copy(a.matrix):a.matrixWorld.multiplyMatrices(b.matrixWorld,a.matrix),a.matrixWorldInverse.getInverse(a.matrixWorld)}function d(a,b){j=b.getDevicePose(h);for(var c=g.baseLayer,d=b.views,e=0;e<d.length;e++){var f=d[e],i=c.getViewport(f),k=j.getViewMatrix(f),l=m.cameras[e];l.matrix.fromArray(k).getInverse(l.matrix),l.projectionMatrix.fromArray(f.projectionMatrix),l.viewport.set(i.x,i.y,i.width,i.height),0===e&&(m.matrix.copy(l.matrix),m.projectionMatrix.copy(l.projectionMatrix))}n&&n()}var e=a.context,f=null,g=null,h=null,j=null,k=new wb;k.layers.enable(1),k.viewport=new i;var l=new wb;l.layers.enable(2),l.viewport=new i;var m=new xb([k,l]);m.layers.enable(1),m.layers.enable(2),this.enabled=!1,this.getDevice=function(){return f},this.setDevice=function(a){void 0!==a&&(f=a),e.setCompatibleXRDevice(a)},this.setSession=function(b,c){null!==(g=b)&&(g.addEventListener("end",function(){a.setFramebuffer(null),o.stop()}),g.baseLayer=new XRWebGLLayer(g,e),g.requestFrameOfReference(c.frameOfReferenceType).then(function(b){h=b,a.setFramebuffer(g.baseLayer.framebuffer),o.setContext(g),o.start()}))},this.getCamera=function(a){if(b()){var d=a.parent,e=m.cameras;c(m,d);for(var f=0;f<e.length;f++)c(e[f],d);a.matrixWorld.copy(m.matrixWorld);for(var g=a.children,f=0,h=g.length;f<h;f++)g[f].updateMatrixWorld(!0);return m}return a},this.isPresenting=b;var n=null,o=new r;o.setAnimationLoop(d),this.setAnimationLoop=function(a){n=a},this.getStandingMatrix=function(){return new THREE.Matrix4},this.submitFrame=function(){}}function Ab(a){function b(){return null===ja?va:1}function c(){Ga=new aa(X),Ga.get("WEBGL_depth_texture"),Ga.get("OES_texture_float"),Ga.get("OES_texture_float_linear"),Ga.get("OES_texture_half_float"),Ga.get("OES_texture_half_float_linear"),Ga.get("OES_standard_derivatives"),Ga.get("OES_element_index_uint"),Ga.get("ANGLE_instanced_arrays"),Ya=new vb(X,Ga),Ha=new $(X,Ga,a),Ia=new tb(X,Ga,Ya),Ia.scissor(qa.copy(xa).multiplyScalar(va)),Ia.viewport(pa.copy(wa).multiplyScalar(va)),Ja=new da(X),Ka=new fb,La=new ub(X,Ga,Ia,Ka,Ha,Ya,Ja),Ma=new s(X),Na=new ba(X,Ma,Ja),Oa=new ga(Na,Ja),Ua=new fa(X),Pa=new eb(ea,Ga,Ha),Qa=new jb,Sa=new nb,Ta=new Y(ea,Ia,Oa,S),Va=new Z(X,Ga,Ja),Wa=new ca(X,Ga,Ja),Xa=new sb(ea,X,Ia,La,Ha),Ja.programs=Pa.programs,ea.context=X,ea.capabilities=Ha,ea.extensions=Ga,ea.properties=Ka,ea.renderLists=Qa,ea.state=Ia,ea.info=Ja}function e(a){a.preventDefault(),ha=!0}function g(){ha=!1,c()}function h(a){var b=a.target;b.removeEventListener("dispose",h),j(b)}function j(a){k(a),Ka.remove(a)}function k(a){var b=Ka.get(a).program;a.program=void 0,void 0!==b&&Pa.releaseProgram(b)}function m(a,b,c){a.render(function(a){ea.renderBufferImmediate(a,b,c)})}function n(a,b,c){if(!c||!c.isInstancedBufferGeometry||null!==Ga.get("ANGLE_instanced_arrays")){Ia.initAttributes();var d=c.attributes,e=b.getAttributes(),f=a.defaultAttributeValues;for(var g in e){var h=e[g];if(h>=0){var i=d[g];if(void 0!==i){var j=i.normalized,k=i.itemSize,l=Ma.get(i);if(void 0===l)continue;var m=l.buffer,n=l.type,o=l.bytesPerElement;if(i.isInterleavedBufferAttribute){var p=i.data,q=p.stride,r=i.offset;p&&p.isInstancedInterleavedBuffer?(Ia.enableAttributeAndDivisor(h,p.meshPerAttribute),void 0===c.maxInstancedCount&&(c.maxInstancedCount=p.meshPerAttribute*p.count)):Ia.enableAttribute(h),X.bindBuffer(X.ARRAY_BUFFER,m),X.vertexAttribPointer(h,k,n,j,q*o,r*o)}else i.isInstancedBufferAttribute?(Ia.enableAttributeAndDivisor(h,i.meshPerAttribute),void 0===c.maxInstancedCount&&(c.maxInstancedCount=i.meshPerAttribute*i.count)):Ia.enableAttribute(h),X.bindBuffer(X.ARRAY_BUFFER,m),X.vertexAttribPointer(h,k,n,j,0,0)}else if(void 0!==f){var s=f[g];if(void 0!==s)switch(s.length){case 2:X.vertexAttrib2fv(h,s);break;case 3:X.vertexAttrib3fv(h,s);break;case 4:X.vertexAttrib4fv(h,s);break;default:X.vertexAttrib1fv(h,s)}}}}Ia.disableUnusedAttributes()}}function o(){Za.isPresenting()||_a&&_a()}function q(a,b,c){if(!1!==a.visible){if(a.layers.test(b.layers))if(a.isLight)W.pushLight(a),a.castShadow&&W.pushShadow(a);else if(a.isSprite)a.frustumCulled&&!za.intersectsSprite(a)||W.pushSprite(a);else if(a.isImmediateRenderObject)c&&Ea.setFromMatrixPosition(a.matrixWorld).applyMatrix4(Da),V.push(a,null,a.material,Ea.z,null);else if((a.isMesh||a.isLine||a.isPoints)&&(a.isSkinnedMesh&&a.skeleton.update(),!a.frustumCulled||za.intersectsObject(a))){c&&Ea.setFromMatrixPosition(a.matrixWorld).applyMatrix4(Da);var d=Oa.update(a),e=a.material;if(Array.isArray(e))for(var f=d.groups,g=0,h=f.length;g<h;g++){var i=f[g],j=e[i.materialIndex];j&&j.visible&&V.push(a,d,j,Ea.z,i)}else e.visible&&V.push(a,d,e,Ea.z,null)}for(var k=a.children,g=0,h=k.length;g<h;g++)q(k[g],b,c)}}function t(a,b,c,d){for(var e=0,f=a.length;e<f;e++){var g=a[e],h=g.object,i=g.geometry,j=void 0===d?g.material:d,k=g.group;if(c.isArrayCamera){oa=c;for(var l=c.cameras,m=0,n=l.length;m<n;m++){var o=l[m];if(h.layers.test(o.layers)){if("viewport"in o)Ia.viewport(pa.copy(o.viewport));else{var p=o.bounds,q=p.x*ta,r=p.y*ua,s=p.z*ta,t=p.w*ua;Ia.viewport(pa.set(q,r,s,t).multiplyScalar(va))}u(h,b,o,i,j,k)}}}else oa=null,u(h,b,c,i,j,k)}}function u(a,b,c,d,e,f){if(a.onBeforeRender(ea,b,c,d,e,f),W=Sa.get(b,oa||c),a.modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,a.matrixWorld),a.normalMatrix.getNormalMatrix(a.modelViewMatrix),a.isImmediateRenderObject){var g=a.isMesh&&a.matrixWorld.determinant()<0;Ia.setMaterial(e,g);var h=w(c,b.fog,e,a);ma="",m(a,h,e)}else ea.renderBufferDirect(c,b.fog,d,e,a,f);a.onAfterRender(ea,b,c,d,e,f),W=Sa.get(b,oa||c)}function v(a,b,c){var d=Ka.get(a),e=W.state.lights,f=W.state.shadowsArray,g=Pa.getParameters(a,e.state,f,b,Aa.numPlanes,Aa.numIntersection,c),i=Pa.getProgramCode(a,g),j=d.program,l=!0;if(void 0===j)a.addEventListener("dispose",h);else if(j.code!==i)k(a);else if(d.lightsHash!==e.state.hash)Ka.update(a,"lightsHash",e.state.hash),l=!1;else{if(void 0!==g.shaderID)return;l=!1}if(l){if(g.shaderID){var m=ui[g.shaderID];d.shader={name:a.type,uniforms:ri.clone(m.uniforms),vertexShader:m.vertexShader,fragmentShader:m.fragmentShader}}else d.shader={name:a.type,uniforms:a.uniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader};a.onBeforeCompile(d.shader,ea),j=Pa.acquireProgram(a,d.shader,g,i),d.program=j,a.program=j}var n=j.getAttributes();if(a.morphTargets){a.numSupportedMorphTargets=0;for(var o=0;o<ea.maxMorphTargets;o++)n["morphTarget"+o]>=0&&a.numSupportedMorphTargets++}if(a.morphNormals){a.numSupportedMorphNormals=0;for(var o=0;o<ea.maxMorphNormals;o++)n["morphNormal"+o]>=0&&a.numSupportedMorphNormals++}var p=d.shader.uniforms;(a.isShaderMaterial||a.isRawShaderMaterial)&&!0!==a.clipping||(d.numClippingPlanes=Aa.numPlanes,d.numIntersection=Aa.numIntersection,p.clippingPlanes=Aa.uniform),d.fog=b,d.lightsHash=e.state.hash,a.lights&&(p.ambientLightColor.value=e.state.ambient,p.directionalLights.value=e.state.directional,p.spotLights.value=e.state.spot,p.rectAreaLights.value=e.state.rectArea,p.pointLights.value=e.state.point,p.hemisphereLights.value=e.state.hemi,p.directionalShadowMap.value=e.state.directionalShadowMap,p.directionalShadowMatrix.value=e.state.directionalShadowMatrix,p.spotShadowMap.value=e.state.spotShadowMap,p.spotShadowMatrix.value=e.state.spotShadowMatrix,p.pointShadowMap.value=e.state.pointShadowMap,p.pointShadowMatrix.value=e.state.pointShadowMatrix);var q=d.program.getUniforms(),r=Ra.seqWithValue(q.seq,p);d.uniformsList=r}function w(a,b,c,d){sa=0;var e=Ka.get(c),f=W.state.lights;if(Ba&&(Ca||a!==na)){var g=a===na&&c.id===la;Aa.setState(c.clippingPlanes,c.clipIntersection,c.clipShadows,a,e,g)}!1===c.needsUpdate&&(void 0===e.program?c.needsUpdate=!0:c.fog&&e.fog!==b?c.needsUpdate=!0:c.lights&&e.lightsHash!==f.state.hash?c.needsUpdate=!0:void 0===e.numClippingPlanes||e.numClippingPlanes===Aa.numPlanes&&e.numIntersection===Aa.numIntersection||(c.needsUpdate=!0)),c.needsUpdate&&(v(c,b,d),c.needsUpdate=!1);var h=!1,i=!1,j=!1,k=e.program,m=k.getUniforms(),n=e.shader.uniforms;if(Ia.useProgram(k.program)&&(h=!0,i=!0,j=!0),c.id!==la&&(la=c.id,i=!0),h||a!==na){if(m.setValue(X,"projectionMatrix",a.projectionMatrix),Ha.logarithmicDepthBuffer&&m.setValue(X,"logDepthBufFC",2/(Math.log(a.far+1)/Math.LN2)),na!==(oa||a)&&(na=oa||a,i=!0,j=!0),c.isShaderMaterial||c.isMeshPhongMaterial||c.isMeshStandardMaterial||c.envMap){var o=m.map.cameraPosition;void 0!==o&&o.setValue(X,Ea.setFromMatrixPosition(a.matrixWorld))}(c.isMeshPhongMaterial||c.isMeshLambertMaterial||c.isMeshBasicMaterial||c.isMeshStandardMaterial||c.isShaderMaterial||c.skinning)&&m.setValue(X,"viewMatrix",a.matrixWorldInverse)}if(c.skinning){m.setOptional(X,d,"bindMatrix"),m.setOptional(X,d,"bindMatrixInverse");var p=d.skeleton;if(p){var q=p.bones;if(Ha.floatVertexTextures){if(void 0===p.boneTexture){var r=Math.sqrt(4*q.length);r=oi.ceilPowerOfTwo(r),r=Math.max(r,4);var s=new Float32Array(r*r*4);s.set(p.boneMatrices);var t=new l(s,r,r,zh,rh);t.needsUpdate=!0,p.boneMatrices=s,p.boneTexture=t,p.boneTextureSize=r}m.setValue(X,"boneTexture",p.boneTexture),m.setValue(X,"boneTextureSize",p.boneTextureSize)}else m.setOptional(X,p,"boneMatrices")}}return i&&(m.setValue(X,"toneMappingExposure",ea.toneMappingExposure),m.setValue(X,"toneMappingWhitePoint",ea.toneMappingWhitePoint),c.lights&&K(n,j),b&&c.fog&&B(n,b),c.isMeshBasicMaterial?x(n,c):c.isMeshLambertMaterial?(x(n,c),C(n,c)):c.isMeshPhongMaterial?(x(n,c),c.isMeshToonMaterial?E(n,c):D(n,c)):c.isMeshStandardMaterial?(x(n,c),c.isMeshPhysicalMaterial?G(n,c):F(n,c)):c.isMeshDepthMaterial?(x(n,c),H(n,c)):c.isMeshDistanceMaterial?(x(n,c),I(n,c)):c.isMeshNormalMaterial?(x(n,c),J(n,c)):c.isLineBasicMaterial?(y(n,c),c.isLineDashedMaterial&&z(n,c)):c.isPointsMaterial?A(n,c):c.isShadowMaterial&&(n.color.value=c.color,n.opacity.value=c.opacity),void 0!==n.ltc_1&&(n.ltc_1.value=ti.LTC_1),void 0!==n.ltc_2&&(n.ltc_2.value=ti.LTC_2),Ra.upload(X,e.uniformsList,n,ea)),c.isShaderMaterial&&!0===c.uniformsNeedUpdate&&(Ra.upload(X,e.uniformsList,n,ea),c.uniformsNeedUpdate=!1),m.setValue(X,"modelViewMatrix",d.modelViewMatrix),m.setValue(X,"normalMatrix",d.normalMatrix),m.setValue(X,"modelMatrix",d.matrixWorld),k}function x(a,b){a.opacity.value=b.opacity,b.color&&(a.diffuse.value=b.color),b.emissive&&a.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(a.map.value=b.map),b.alphaMap&&(a.alphaMap.value=b.alphaMap),b.specularMap&&(a.specularMap.value=b.specularMap),b.envMap&&(a.envMap.value=b.envMap,a.flipEnvMap.value=b.envMap&&b.envMap.isCubeTexture?-1:1,a.reflectivity.value=b.reflectivity,a.refractionRatio.value=b.refractionRatio,a.maxMipLevel.value=Ka.get(b.envMap).__maxMipLevel),b.lightMap&&(a.lightMap.value=b.lightMap,a.lightMapIntensity.value=b.lightMapIntensity),b.aoMap&&(a.aoMap.value=b.aoMap,a.aoMapIntensity.value=b.aoMapIntensity);var c;b.map?c=b.map:b.specularMap?c=b.specularMap:b.displacementMap?c=b.displacementMap:b.normalMap?c=b.normalMap:b.bumpMap?c=b.bumpMap:b.roughnessMap?c=b.roughnessMap:b.metalnessMap?c=b.metalnessMap:b.alphaMap?c=b.alphaMap:b.emissiveMap&&(c=b.emissiveMap),void 0!==c&&(c.isWebGLRenderTarget&&(c=c.texture),!0===c.matrixAutoUpdate&&c.updateMatrix(),a.uvTransform.value.copy(c.matrix))}function y(a,b){a.diffuse.value=b.color,a.opacity.value=b.opacity}function z(a,b){a.dashSize.value=b.dashSize,a.totalSize.value=b.dashSize+b.gapSize,a.scale.value=b.scale}function A(a,b){a.diffuse.value=b.color,a.opacity.value=b.opacity,a.size.value=b.size*va,a.scale.value=.5*ua,a.map.value=b.map,null!==b.map&&(!0===b.map.matrixAutoUpdate&&b.map.updateMatrix(),a.uvTransform.value.copy(b.map.matrix))}function B(a,b){a.fogColor.value=b.color,b.isFog?(a.fogNear.value=b.near,a.fogFar.value=b.far):b.isFogExp2&&(a.fogDensity.value=b.density)}function C(a,b){b.emissiveMap&&(a.emissiveMap.value=b.emissiveMap)}function D(a,b){a.specular.value=b.specular,a.shininess.value=Math.max(b.shininess,1e-4),b.emissiveMap&&(a.emissiveMap.value=b.emissiveMap),b.bumpMap&&(a.bumpMap.value=b.bumpMap,a.bumpScale.value=b.bumpScale,b.side===gg&&(a.bumpScale.value*=-1)),b.normalMap&&(a.normalMap.value=b.normalMap,a.normalScale.value.copy(b.normalScale),b.side===gg&&a.normalScale.value.negate()),b.displacementMap&&(a.displacementMap.value=b.displacementMap,a.displacementScale.value=b.displacementScale,a.displacementBias.value=b.displacementBias)}function E(a,b){D(a,b),b.gradientMap&&(a.gradientMap.value=b.gradientMap)}function F(a,b){a.roughness.value=b.roughness,a.metalness.value=b.metalness,b.roughnessMap&&(a.roughnessMap.value=b.roughnessMap),b.metalnessMap&&(a.metalnessMap.value=b.metalnessMap),b.emissiveMap&&(a.emissiveMap.value=b.emissiveMap),b.bumpMap&&(a.bumpMap.value=b.bumpMap,a.bumpScale.value=b.bumpScale,b.side===gg&&(a.bumpScale.value*=-1)),b.normalMap&&(a.normalMap.value=b.normalMap,a.normalScale.value.copy(b.normalScale),b.side===gg&&a.normalScale.value.negate()),b.displacementMap&&(a.displacementMap.value=b.displacementMap,a.displacementScale.value=b.displacementScale,a.displacementBias.value=b.displacementBias),b.envMap&&(a.envMapIntensity.value=b.envMapIntensity)}function G(a,b){a.clearCoat.value=b.clearCoat,a.clearCoatRoughness.value=b.clearCoatRoughness,F(a,b)}function H(a,b){b.displacementMap&&(a.displacementMap.value=b.displacementMap,a.displacementScale.value=b.displacementScale,a.displacementBias.value=b.displacementBias)}function I(a,b){b.displacementMap&&(a.displacementMap.value=b.displacementMap,a.displacementScale.value=b.displacementScale,a.displacementBias.value=b.displacementBias),a.referencePosition.value.copy(b.referencePosition),a.nearDistance.value=b.nearDistance,a.farDistance.value=b.farDistance}function J(a,b){b.bumpMap&&(a.bumpMap.value=b.bumpMap,a.bumpScale.value=b.bumpScale,b.side===gg&&(a.bumpScale.value*=-1)),b.normalMap&&(a.normalMap.value=b.normalMap,a.normalScale.value.copy(b.normalScale),b.side===gg&&a.normalScale.value.negate()),b.displacementMap&&(a.displacementMap.value=b.displacementMap,a.displacementScale.value=b.displacementScale,a.displacementBias.value=b.displacementBias)}function K(a,b){a.ambientLightColor.needsUpdate=b,a.directionalLights.needsUpdate=b,a.pointLights.needsUpdate=b,a.spotLights.needsUpdate=b,a.rectAreaLights.needsUpdate=b,a.hemisphereLights.needsUpdate=b}function L(){var a=sa;return Ha.maxTextures,sa+=1,a}a=a||{};var M=void 0!==a.canvas?a.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),N=void 0!==a.context?a.context:null,O=void 0!==a.alpha&&a.alpha,P=void 0===a.depth||a.depth,Q=void 0===a.stencil||a.stencil,R=void 0!==a.antialias&&a.antialias,S=void 0===a.premultipliedAlpha||a.premultipliedAlpha,T=void 0!==a.preserveDrawingBuffer&&a.preserveDrawingBuffer,U=void 0!==a.powerPreference?a.powerPreference:"default",V=null,W=null;this.domElement=M,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=Tg,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var X,ea=this,ha=!1,ia=null,ja=null,ka=null,la=-1,ma="",na=null,oa=null,pa=new i,qa=new i,ra=null,sa=0,ta=M.width,ua=M.height,va=1,wa=new i(0,0,ta,ua),xa=new i(0,0,ta,ua),ya=!1,za=new p,Aa=new _,Ba=!1,Ca=!1,Da=new d,Ea=new f;try{var Fa={alpha:O,depth:P,stencil:Q,antialias:R,premultipliedAlpha:S,preserveDrawingBuffer:T,powerPreference:U};if(M.addEventListener("webglcontextlost",e,!1),M.addEventListener("webglcontextrestored",g,!1),null===(X=N||M.getContext("webgl",Fa)||M.getContext("experimental-webgl",Fa)))throw null!==M.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===X.getShaderPrecisionFormat&&(X.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(a){}var Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Sa,Ta,Ua,Va,Wa,Xa,Ya;c();var Za="xr"in navigator?new zb(ea):new yb(ea);this.vr=Za;var $a=new qb(ea,Oa,Ha.maxTextureSize);this.shadowMap=$a,this.getContext=function(){return X},this.getContextAttributes=function(){return X.getContextAttributes()},this.forceContextLoss=function(){var a=Ga.get("WEBGL_lose_context");a&&a.loseContext()},this.forceContextRestore=function(){var a=Ga.get("WEBGL_lose_context");a&&a.restoreContext()},this.getPixelRatio=function(){return va},this.setPixelRatio=function(a){void 0!==a&&(va=a,this.setSize(ta,ua,!1))},this.getSize=function(){return{width:ta,height:ua}},this.setSize=function(a,b,c){Za.isPresenting()||(ta=a,ua=b,M.width=a*va,M.height=b*va,!1!==c&&(M.style.width=a+"px",M.style.height=b+"px"),this.setViewport(0,0,a,b))},this.getDrawingBufferSize=function(){return{width:ta*va,height:ua*va}},this.setDrawingBufferSize=function(a,b,c){ta=a,ua=b,va=c,M.width=a*c,M.height=b*c,this.setViewport(0,0,a,b)},this.getCurrentViewport=function(){return pa},this.setViewport=function(a,b,c,d){wa.set(a,ua-b-d,c,d),Ia.viewport(pa.copy(wa).multiplyScalar(va))},this.setScissor=function(a,b,c,d){xa.set(a,ua-b-d,c,d),Ia.scissor(qa.copy(xa).multiplyScalar(va))},this.setScissorTest=function(a){Ia.setScissorTest(ya=a)},this.getClearColor=function(){return Ta.getClearColor()},this.setClearColor=function(){Ta.setClearColor.apply(Ta,arguments)},this.getClearAlpha=function(){return Ta.getClearAlpha()},this.setClearAlpha=function(){Ta.setClearAlpha.apply(Ta,arguments)},this.clear=function(a,b,c){var d=0;(void 0===a||a)&&(d|=X.COLOR_BUFFER_BIT),(void 0===b||b)&&(d|=X.DEPTH_BUFFER_BIT),(void 0===c||c)&&(d|=X.STENCIL_BUFFER_BIT),X.clear(d)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(a,b,c,d){this.setRenderTarget(a),this.clear(b,c,d)},this.dispose=function(){M.removeEventListener("webglcontextlost",e,!1),M.removeEventListener("webglcontextrestored",g,!1),Qa.dispose(),Sa.dispose(),Ka.dispose(),Oa.dispose(),Za.dispose(),ab.stop()},this.renderBufferImmediate=function(a,b,c){Ia.initAttributes();var d=Ka.get(a);a.hasPositions&&!d.position&&(d.position=X.createBuffer()),a.hasNormals&&!d.normal&&(d.normal=X.createBuffer()),a.hasUvs&&!d.uv&&(d.uv=X.createBuffer()),a.hasColors&&!d.color&&(d.color=X.createBuffer());var e=b.getAttributes();if(a.hasPositions&&(X.bindBuffer(X.ARRAY_BUFFER,d.position),X.bufferData(X.ARRAY_BUFFER,a.positionArray,X.DYNAMIC_DRAW),Ia.enableAttribute(e.position),X.vertexAttribPointer(e.position,3,X.FLOAT,!1,0,0)),a.hasNormals){if(X.bindBuffer(X.ARRAY_BUFFER,d.normal),!c.isMeshPhongMaterial&&!c.isMeshStandardMaterial&&!c.isMeshNormalMaterial&&!0===c.flatShading)for(var f=0,g=3*a.count;f<g;f+=9){var h=a.normalArray,i=(h[f+0]+h[f+3]+h[f+6])/3,j=(h[f+1]+h[f+4]+h[f+7])/3,k=(h[f+2]+h[f+5]+h[f+8])/3;h[f+0]=i,h[f+1]=j,h[f+2]=k,h[f+3]=i,h[f+4]=j,h[f+5]=k,h[f+6]=i,h[f+7]=j,h[f+8]=k}X.bufferData(X.ARRAY_BUFFER,a.normalArray,X.DYNAMIC_DRAW),Ia.enableAttribute(e.normal),X.vertexAttribPointer(e.normal,3,X.FLOAT,!1,0,0)}a.hasUvs&&c.map&&(X.bindBuffer(X.ARRAY_BUFFER,d.uv),X.bufferData(X.ARRAY_BUFFER,a.uvArray,X.DYNAMIC_DRAW),Ia.enableAttribute(e.uv),X.vertexAttribPointer(e.uv,2,X.FLOAT,!1,0,0)),a.hasColors&&c.vertexColors!==ig&&(X.bindBuffer(X.ARRAY_BUFFER,d.color),X.bufferData(X.ARRAY_BUFFER,a.colorArray,X.DYNAMIC_DRAW),Ia.enableAttribute(e.color),X.vertexAttribPointer(e.color,3,X.FLOAT,!1,0,0)),Ia.disableUnusedAttributes(),X.drawArrays(X.TRIANGLES,0,a.count),a.count=0},this.renderBufferDirect=function(a,c,d,e,f,g){var h=f.isMesh&&f.matrixWorld.determinant()<0;Ia.setMaterial(e,h);var i=w(a,c,e,f),j=d.id+"_"+i.id+"_"+(!0===e.wireframe),k=!1;j!==ma&&(ma=j,k=!0),f.morphTargetInfluences&&(Ua.update(f,d,e,i),k=!0);var l=d.index,m=d.attributes.position,o=1;!0===e.wireframe&&(l=Na.getWireframeAttribute(d),o=2);var p,q=Va;null!==l&&(p=Ma.get(l),q=Wa,q.setIndex(p)),k&&(n(e,i,d),null!==l&&X.bindBuffer(X.ELEMENT_ARRAY_BUFFER,p.buffer));var r=1/0;null!==l?r=l.count:void 0!==m&&(r=m.count);var s=d.drawRange.start*o,t=d.drawRange.count*o,u=null!==g?g.start*o:0,v=null!==g?g.count*o:1/0,x=Math.max(s,u),y=Math.min(r,s+t,u+v)-1,z=Math.max(0,y-x+1);if(0!==z){if(f.isMesh)if(!0===e.wireframe)Ia.setLineWidth(e.wireframeLinewidth*b()),q.setMode(X.LINES);else switch(f.drawMode){case ci:q.setMode(X.TRIANGLES);break;case di:q.setMode(X.TRIANGLE_STRIP);break;case ei:q.setMode(X.TRIANGLE_FAN)}else if(f.isLine){var A=e.linewidth;void 0===A&&(A=1),Ia.setLineWidth(A*b()),f.isLineSegments?q.setMode(X.LINES):f.isLineLoop?q.setMode(X.LINE_LOOP):q.setMode(X.LINE_STRIP)}else f.isPoints&&q.setMode(X.POINTS);d&&d.isInstancedBufferGeometry?d.maxInstancedCount>0&&q.renderInstances(d,x,z):q.render(x,z)}},this.compile=function(a,b){W=Sa.get(a,b),W.init(),a.traverse(function(a){a.isLight&&(W.pushLight(a),a.castShadow&&W.pushShadow(a))}),W.setupLights(b),a.traverse(function(b){if(b.material)if(Array.isArray(b.material))for(var c=0;c<b.material.length;c++)v(b.material[c],a.fog,b);else v(b.material,a.fog,b)})};var _a=null,ab=new r;ab.setAnimationLoop(o),ab.setContext(window),this.setAnimationLoop=function(a){_a=a,Za.setAnimationLoop(a),ab.start()},this.render=function(a,b,c,d){if(b&&b.isCamera&&!ha){ma="",la=-1,na=null,!0===a.autoUpdate&&a.updateMatrixWorld(),null===b.parent&&b.updateMatrixWorld(),Za.enabled&&(b=Za.getCamera(b)),W=Sa.get(a,b),W.init(),a.onBeforeRender(ea,a,b,c),Da.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse),za.setFromMatrix(Da),Ca=this.localClippingEnabled,Ba=Aa.init(this.clippingPlanes,Ca,b),V=Qa.get(a,b),V.init(),q(a,b,ea.sortObjects),!0===ea.sortObjects&&V.sort(),Ba&&Aa.beginShadows();var e=W.state.shadowsArray;$a.render(e,a,b),W.setupLights(b),Ba&&Aa.endShadows(),this.info.autoReset&&this.info.reset(),void 0===c&&(c=null),this.setRenderTarget(c),Ta.render(V,a,b,d);var f=V.opaque,g=V.transparent;if(a.overrideMaterial){var h=a.overrideMaterial;f.length&&t(f,a,b,h),g.length&&t(g,a,b,h)}else f.length&&t(f,a,b),g.length&&t(g,a,b);var i=W.state.spritesArray;Xa.render(i,a,b),c&&La.updateRenderTargetMipmap(c),Ia.buffers.depth.setTest(!0),Ia.buffers.depth.setMask(!0),Ia.buffers.color.setMask(!0),Ia.setPolygonOffset(!1),a.onAfterRender(ea,a,b),Za.enabled&&Za.submitFrame(),V=null,W=null}},this.allocTextureUnit=L,this.setTexture2D=function(){var a=!1
;return function(b,c){b&&b.isWebGLRenderTarget&&(a||(a=!0),b=b.texture),La.setTexture2D(b,c)}}(),this.setTexture=function(){var a=!1;return function(b,c){a||(a=!0),La.setTexture2D(b,c)}}(),this.setTextureCube=function(){var a=!1;return function(b,c){b&&b.isWebGLRenderTargetCube&&(a||(a=!0),b=b.texture),b&&b.isCubeTexture||Array.isArray(b.image)&&6===b.image.length?La.setTextureCube(b,c):La.setTextureCubeDynamic(b,c)}}(),this.setFramebuffer=function(a){ia=a},this.getRenderTarget=function(){return ja},this.setRenderTarget=function(a){ja=a,a&&void 0===Ka.get(a).__webglFramebuffer&&La.setupRenderTarget(a);var b=ia,c=!1;if(a){var d=Ka.get(a).__webglFramebuffer;a.isWebGLRenderTargetCube?(b=d[a.activeCubeFace],c=!0):b=d,pa.copy(a.viewport),qa.copy(a.scissor),ra=a.scissorTest}else pa.copy(wa).multiplyScalar(va),qa.copy(xa).multiplyScalar(va),ra=ya;if(ka!==b&&(X.bindFramebuffer(X.FRAMEBUFFER,b),ka=b),Ia.viewport(pa),Ia.scissor(qa),Ia.setScissorTest(ra),c){var e=Ka.get(a.texture);X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_CUBE_MAP_POSITIVE_X+a.activeCubeFace,e.__webglTexture,a.activeMipMapLevel)}},this.readRenderTargetPixels=function(a,b,c,d,e,f){if(a&&a.isWebGLRenderTarget){var g=Ka.get(a).__webglFramebuffer;if(g){var h=!1;g!==ka&&(X.bindFramebuffer(X.FRAMEBUFFER,g),h=!0);try{var i=a.texture,j=i.format,k=i.type;if(j!==zh&&Ya.convert(j)!==X.getParameter(X.IMPLEMENTATION_COLOR_READ_FORMAT))return;if(!(k===lh||Ya.convert(k)===X.getParameter(X.IMPLEMENTATION_COLOR_READ_TYPE)||k===rh&&(Ga.get("OES_texture_float")||Ga.get("WEBGL_color_buffer_float"))||k===sh&&Ga.get("EXT_color_buffer_half_float")))return;X.checkFramebufferStatus(X.FRAMEBUFFER)===X.FRAMEBUFFER_COMPLETE&&b>=0&&b<=a.width-d&&c>=0&&c<=a.height-e&&X.readPixels(b,c,d,e,Ya.convert(j),Ya.convert(k),f)}finally{h&&X.bindFramebuffer(X.FRAMEBUFFER,ka)}}}},this.copyFramebufferToTexture=function(a,b,c){var d=b.image.width,e=b.image.height,f=Ya.convert(b.format);this.setTexture2D(b,0),X.copyTexImage2D(X.TEXTURE_2D,c||0,f,a.x,a.y,d,e,0)},this.copyTextureToTexture=function(a,b,c,d){var e=b.image.width,f=b.image.height,g=Ya.convert(c.format),h=Ya.convert(c.type);this.setTexture2D(c,0),b.isDataTexture?X.texSubImage2D(X.TEXTURE_2D,d||0,a.x,a.y,e,f,g,h,b.image.data):X.texSubImage2D(X.TEXTURE_2D,d||0,a.x,a.y,g,h,b.image)}}function Bb(a,b){this.name="",this.color=new q(a),this.density=void 0!==b?b:25e-5}function Cb(a,b,c){this.name="",this.color=new q(a),this.near=void 0!==b?b:1,this.far=void 0!==c?c:1e3}function Db(){v.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Eb(a){R.call(this),this.type="SpriteMaterial",this.color=new q(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(a)}function Fb(a){v.call(this),this.type="Sprite",this.material=void 0!==a?a:new Eb,this.center=new c(.5,.5)}function Gb(){v.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Hb(a,b){if(a=a||[],this.bones=a.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===b)this.calculateInverses();else if(this.bones.length===b.length)this.boneInverses=b.slice(0);else{this.boneInverses=[];for(var c=0,e=this.bones.length;c<e;c++)this.boneInverses.push(new d)}}function Ib(){v.call(this),this.type="Bone"}function Jb(a,b){X.call(this,a,b),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new d,this.bindMatrixInverse=new d;var c=this.initBones(),e=new Hb(c);this.bind(e,this.matrixWorld),this.normalizeSkinWeights()}function Kb(a){R.call(this),this.type="LineBasicMaterial",this.color=new q(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(a)}function Lb(a,b,c){if(1===c)return new Mb(a,b);v.call(this),this.type="Line",this.geometry=void 0!==a?a:new M,this.material=void 0!==b?b:new Kb({color:16777215*Math.random()})}function Mb(a,b){Lb.call(this,a,b),this.type="LineSegments"}function Nb(a,b){Lb.call(this,a,b),this.type="LineLoop"}function Ob(a){R.call(this),this.type="PointsMaterial",this.color=new q(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(a)}function Pb(a,b){v.call(this),this.type="Points",this.geometry=void 0!==a?a:new M,this.material=void 0!==b?b:new Ob({color:16777215*Math.random()})}function Qb(){v.call(this),this.type="Group"}function Rb(a,b,c,d,e,f,g,i,j){h.call(this,a,b,c,d,e,f,g,i,j),this.generateMipmaps=!1}function Sb(a,b,c,d,e,f,g,i,j,k,l,m){h.call(this,null,f,g,i,j,k,d,e,l,m),this.image={width:b,height:c},this.mipmaps=a,this.flipY=!1,this.generateMipmaps=!1}function Tb(a,b,c,d,e,f,g,i,j,k){if((k=void 0!==k?k:Dh)!==Dh&&k!==Eh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===c&&k===Dh&&(c=oh),void 0===c&&k===Eh&&(c=wh),h.call(this,null,d,e,f,g,i,k,c,j),this.image={width:a,height:b},this.magFilter=void 0!==g?g:fh,this.minFilter=void 0!==i?i:fh,this.flipY=!1,this.generateMipmaps=!1}function Ub(a){M.call(this),this.type="WireframeGeometry";var b,c,d,e,g,h,i,j,k,l,m=[],n=[0,0],o={},p=["a","b","c"];if(a&&a.isGeometry){var q=a.faces;for(b=0,d=q.length;b<d;b++){var r=q[b];for(c=0;c<3;c++)i=r[p[c]],j=r[p[(c+1)%3]],n[0]=Math.min(i,j),n[1]=Math.max(i,j),k=n[0]+","+n[1],void 0===o[k]&&(o[k]={index1:n[0],index2:n[1]})}for(k in o)h=o[k],l=a.vertices[h.index1],m.push(l.x,l.y,l.z),l=a.vertices[h.index2],m.push(l.x,l.y,l.z)}else if(a&&a.isBufferGeometry){var s,t,u,v,w,x,y,z;if(l=new f,null!==a.index){for(s=a.attributes.position,t=a.index,u=a.groups,0===u.length&&(u=[{start:0,count:t.count,materialIndex:0}]),e=0,g=u.length;e<g;++e)for(v=u[e],w=v.start,x=v.count,b=w,d=w+x;b<d;b+=3)for(c=0;c<3;c++)i=t.getX(b+c),j=t.getX(b+(c+1)%3),n[0]=Math.min(i,j),n[1]=Math.max(i,j),k=n[0]+","+n[1],void 0===o[k]&&(o[k]={index1:n[0],index2:n[1]});for(k in o)h=o[k],l.fromBufferAttribute(s,h.index1),m.push(l.x,l.y,l.z),l.fromBufferAttribute(s,h.index2),m.push(l.x,l.y,l.z)}else for(s=a.attributes.position,b=0,d=s.count/3;b<d;b++)for(c=0;c<3;c++)y=3*b+c,l.fromBufferAttribute(s,y),m.push(l.x,l.y,l.z),z=3*b+(c+1)%3,l.fromBufferAttribute(s,z),m.push(l.x,l.y,l.z)}this.addAttribute("position",new I(m,3))}function Vb(a,b,c){z.call(this),this.type="ParametricGeometry",this.parameters={func:a,slices:b,stacks:c},this.fromBufferGeometry(new Wb(a,b,c)),this.mergeVertices()}function Wb(a,b,c){M.call(this),this.type="ParametricBufferGeometry",this.parameters={func:a,slices:b,stacks:c};var d,e,g=[],h=[],i=[],j=[],k=new f,l=new f,m=new f,n=new f,o=new f;a.length;var p=b+1;for(d=0;d<=c;d++){var q=d/c;for(e=0;e<=b;e++){var r=e/b;a(r,q,l),h.push(l.x,l.y,l.z),r-1e-5>=0?(a(r-1e-5,q,m),n.subVectors(l,m)):(a(r+1e-5,q,m),n.subVectors(m,l)),q-1e-5>=0?(a(r,q-1e-5,m),o.subVectors(l,m)):(a(r,q+1e-5,m),o.subVectors(m,l)),k.crossVectors(n,o).normalize(),i.push(k.x,k.y,k.z),j.push(r,q)}}for(d=0;d<c;d++)for(e=0;e<b;e++){var s=d*p+e,t=d*p+e+1,u=(d+1)*p+e+1,v=(d+1)*p+e;g.push(s,t,v),g.push(t,u,v)}this.setIndex(g),this.addAttribute("position",new I(h,3)),this.addAttribute("normal",new I(i,3)),this.addAttribute("uv",new I(j,2))}function Xb(a,b,c,d){z.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:a,indices:b,radius:c,detail:d},this.fromBufferGeometry(new Yb(a,b,c,d)),this.mergeVertices()}function Yb(a,b,d,e){function g(a,b,c,d){var e,f,g=Math.pow(2,d),h=[];for(e=0;e<=g;e++){h[e]=[];var j=a.clone().lerp(c,e/g),k=b.clone().lerp(c,e/g),l=g-e;for(f=0;f<=l;f++)h[e][f]=0===f&&e===g?j:j.clone().lerp(k,f/l)}for(e=0;e<g;e++)for(f=0;f<2*(g-e)-1;f++){var m=Math.floor(f/2);f%2==0?(i(h[e][m+1]),i(h[e+1][m]),i(h[e][m])):(i(h[e][m+1]),i(h[e+1][m+1]),i(h[e+1][m]))}}function h(){for(var a=0;a<p.length;a+=6){var b=p[a+0],c=p[a+2],d=p[a+4],e=Math.max(b,c,d),f=Math.min(b,c,d);e>.9&&f<.1&&(b<.2&&(p[a+0]+=1),c<.2&&(p[a+2]+=1),d<.2&&(p[a+4]+=1))}}function i(a){o.push(a.x,a.y,a.z)}function j(b,c){var d=3*b;c.x=a[d+0],c.y=a[d+1],c.z=a[d+2]}function k(){for(var a=new f,b=new f,d=new f,e=new f,g=new c,h=new c,i=new c,j=0,k=0;j<o.length;j+=9,k+=6){a.set(o[j+0],o[j+1],o[j+2]),b.set(o[j+3],o[j+4],o[j+5]),d.set(o[j+6],o[j+7],o[j+8]),g.set(p[k+0],p[k+1]),h.set(p[k+2],p[k+3]),i.set(p[k+4],p[k+5]),e.copy(a).add(b).add(d).divideScalar(3);var n=m(e);l(g,k+0,a,n),l(h,k+2,b,n),l(i,k+4,d,n)}}function l(a,b,c,d){d<0&&1===a.x&&(p[b]=a.x-1),0===c.x&&0===c.z&&(p[b]=d/2/Math.PI+.5)}function m(a){return Math.atan2(a.z,-a.x)}function n(a){return Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))}M.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:a,indices:b,radius:d,detail:e},d=d||1,e=e||0;var o=[],p=[];!function(a){for(var c=new f,d=new f,e=new f,h=0;h<b.length;h+=3)j(b[h+0],c),j(b[h+1],d),j(b[h+2],e),g(c,d,e,a)}(e),function(a){for(var b=new f,c=0;c<o.length;c+=3)b.x=o[c+0],b.y=o[c+1],b.z=o[c+2],b.normalize().multiplyScalar(a),o[c+0]=b.x,o[c+1]=b.y,o[c+2]=b.z}(d),function(){for(var a=new f,b=0;b<o.length;b+=3){a.x=o[b+0],a.y=o[b+1],a.z=o[b+2];var c=m(a)/2/Math.PI+.5,d=n(a)/Math.PI+.5;p.push(c,1-d)}k(),h()}(),this.addAttribute("position",new I(o,3)),this.addAttribute("normal",new I(o.slice(),3)),this.addAttribute("uv",new I(p,2)),0===e?this.computeVertexNormals():this.normalizeNormals()}function Zb(a,b){z.call(this),this.type="TetrahedronGeometry",this.parameters={radius:a,detail:b},this.fromBufferGeometry(new $b(a,b)),this.mergeVertices()}function $b(a,b){var c=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],d=[2,1,0,0,3,2,1,3,0,2,3,1];Yb.call(this,c,d,a,b),this.type="TetrahedronBufferGeometry",this.parameters={radius:a,detail:b}}function _b(a,b){z.call(this),this.type="OctahedronGeometry",this.parameters={radius:a,detail:b},this.fromBufferGeometry(new ac(a,b)),this.mergeVertices()}function ac(a,b){var c=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],d=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];Yb.call(this,c,d,a,b),this.type="OctahedronBufferGeometry",this.parameters={radius:a,detail:b}}function bc(a,b){z.call(this),this.type="IcosahedronGeometry",this.parameters={radius:a,detail:b},this.fromBufferGeometry(new cc(a,b)),this.mergeVertices()}function cc(a,b){var c=(1+Math.sqrt(5))/2,d=[-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],e=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];Yb.call(this,d,e,a,b),this.type="IcosahedronBufferGeometry",this.parameters={radius:a,detail:b}}function dc(a,b){z.call(this),this.type="DodecahedronGeometry",this.parameters={radius:a,detail:b},this.fromBufferGeometry(new ec(a,b)),this.mergeVertices()}function ec(a,b){var c=(1+Math.sqrt(5))/2,d=1/c,e=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-d,-c,0,-d,c,0,d,-c,0,d,c,-d,-c,0,-d,c,0,d,-c,0,d,c,0,-c,0,-d,c,0,-d,-c,0,d,c,0,d],f=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];Yb.call(this,e,f,a,b),this.type="DodecahedronBufferGeometry",this.parameters={radius:a,detail:b}}function fc(a,b,c,d,e,f){z.call(this),this.type="TubeGeometry",this.parameters={path:a,tubularSegments:b,radius:c,radialSegments:d,closed:e};var g=new gc(a,b,c,d,e);this.tangents=g.tangents,this.normals=g.normals,this.binormals=g.binormals,this.fromBufferGeometry(g),this.mergeVertices()}function gc(a,b,d,e,g){function h(c){q=a.getPointAt(c/b,q);var f=k.normals[c],g=k.binormals[c];for(m=0;m<=e;m++){var h=m/e*Math.PI*2,i=Math.sin(h),j=-Math.cos(h);o.x=j*f.x+i*g.x,o.y=j*f.y+i*g.y,o.z=j*f.z+i*g.z,o.normalize(),s.push(o.x,o.y,o.z),n.x=q.x+d*o.x,n.y=q.y+d*o.y,n.z=q.z+d*o.z,r.push(n.x,n.y,n.z)}}function i(){for(m=1;m<=b;m++)for(l=1;l<=e;l++){var a=(e+1)*(m-1)+(l-1),c=(e+1)*m+(l-1),d=(e+1)*m+l,f=(e+1)*(m-1)+l;u.push(a,c,f),u.push(c,d,f)}}function j(){for(l=0;l<=b;l++)for(m=0;m<=e;m++)p.x=l/b,p.y=m/e,t.push(p.x,p.y)}M.call(this),this.type="TubeBufferGeometry",this.parameters={path:a,tubularSegments:b,radius:d,radialSegments:e,closed:g},b=b||64,d=d||1,e=e||8,g=g||!1;var k=a.computeFrenetFrames(b,g);this.tangents=k.tangents,this.normals=k.normals,this.binormals=k.binormals;var l,m,n=new f,o=new f,p=new c,q=new f,r=[],s=[],t=[],u=[];!function(){for(l=0;l<b;l++)h(l);h(!1===g?b:0),j(),i()}(),this.setIndex(u),this.addAttribute("position",new I(r,3)),this.addAttribute("normal",new I(s,3)),this.addAttribute("uv",new I(t,2))}function hc(a,b,c,d,e,f,g){z.call(this),this.type="TorusKnotGeometry",this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:f},this.fromBufferGeometry(new ic(a,b,c,d,e,f)),this.mergeVertices()}function ic(a,b,c,d,e,g){function h(a,b,c,d,e){var f=Math.cos(a),g=Math.sin(a),h=c/b*a,i=Math.cos(h);e.x=d*(2+i)*.5*f,e.y=d*(2+i)*g*.5,e.z=d*Math.sin(h)*.5}M.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:a,tube:b,tubularSegments:c,radialSegments:d,p:e,q:g},a=a||1,b=b||.4,c=Math.floor(c)||64,d=Math.floor(d)||8,e=e||2,g=g||3;var i,j,k=[],l=[],m=[],n=[],o=new f,p=new f,q=new f,r=new f,s=new f,t=new f,u=new f;for(i=0;i<=c;++i){var v=i/c*e*Math.PI*2;for(h(v,e,g,a,q),h(v+.01,e,g,a,r),t.subVectors(r,q),u.addVectors(r,q),s.crossVectors(t,u),u.crossVectors(s,t),s.normalize(),u.normalize(),j=0;j<=d;++j){var w=j/d*Math.PI*2,x=-b*Math.cos(w),y=b*Math.sin(w);o.x=q.x+(x*u.x+y*s.x),o.y=q.y+(x*u.y+y*s.y),o.z=q.z+(x*u.z+y*s.z),l.push(o.x,o.y,o.z),p.subVectors(o,q).normalize(),m.push(p.x,p.y,p.z),n.push(i/c),n.push(j/d)}}for(j=1;j<=c;j++)for(i=1;i<=d;i++){var z=(d+1)*(j-1)+(i-1),A=(d+1)*j+(i-1),B=(d+1)*j+i,C=(d+1)*(j-1)+i;k.push(z,A,C),k.push(A,B,C)}this.setIndex(k),this.addAttribute("position",new I(l,3)),this.addAttribute("normal",new I(m,3)),this.addAttribute("uv",new I(n,2))}function jc(a,b,c,d,e){z.call(this),this.type="TorusGeometry",this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e},this.fromBufferGeometry(new kc(a,b,c,d,e)),this.mergeVertices()}function kc(a,b,c,d,e){M.call(this),this.type="TorusBufferGeometry",this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e},a=a||1,b=b||.4,c=Math.floor(c)||8,d=Math.floor(d)||6,e=e||2*Math.PI;var g,h,i=[],j=[],k=[],l=[],m=new f,n=new f,o=new f;for(g=0;g<=c;g++)for(h=0;h<=d;h++){var p=h/d*e,q=g/c*Math.PI*2;n.x=(a+b*Math.cos(q))*Math.cos(p),n.y=(a+b*Math.cos(q))*Math.sin(p),n.z=b*Math.sin(q),j.push(n.x,n.y,n.z),m.x=a*Math.cos(p),m.y=a*Math.sin(p),o.subVectors(n,m).normalize(),k.push(o.x,o.y,o.z),l.push(h/d),l.push(g/c)}for(g=1;g<=c;g++)for(h=1;h<=d;h++){var r=(d+1)*g+h-1,s=(d+1)*(g-1)+h-1,t=(d+1)*(g-1)+h,u=(d+1)*g+h;i.push(r,s,u),i.push(s,t,u)}this.setIndex(i),this.addAttribute("position",new I(j,3)),this.addAttribute("normal",new I(k,3)),this.addAttribute("uv",new I(l,2))}function lc(a,b,c,d,e){var f,g;if(e===Mc(a,b,c,d)>0)for(f=b;f<c;f+=d)g=Jc(f,a[f],a[f+1],g);else for(f=c-d;f>=b;f-=d)g=Jc(f,a[f],a[f+1],g);return g&&Dc(g,g.next)&&(Kc(g),g=g.next),g}function mc(a,b){if(!a)return a;b||(b=a);var c,d=a;do{if(c=!1,d.steiner||!Dc(d,d.next)&&0!==Cc(d.prev,d,d.next))d=d.next;else{if(Kc(d),(d=b=d.prev)===d.next)break;c=!0}}while(c||d!==b);return b}function nc(a,b,c,d,e,f,g){if(a){!g&&f&&wc(a,d,e,f);for(var h,i,j=a;a.prev!==a.next;)if(h=a.prev,i=a.next,f?pc(a,d,e,f):oc(a))b.push(h.i/c),b.push(a.i/c),b.push(i.i/c),Kc(a),a=i.next,j=i.next;else if((a=i)===j){g?1===g?(a=qc(a,b,c),nc(a,b,c,d,e,f,2)):2===g&&rc(a,b,c,d,e,f):nc(mc(a),b,c,d,e,f,1);break}}}function oc(a){var b=a.prev,c=a,d=a.next;if(Cc(b,c,d)>=0)return!1;for(var e=a.next.next;e!==a.prev;){if(Ac(b.x,b.y,c.x,c.y,d.x,d.y,e.x,e.y)&&Cc(e.prev,e,e.next)>=0)return!1;e=e.next}return!0}function pc(a,b,c,d){var e=a.prev,f=a,g=a.next;if(Cc(e,f,g)>=0)return!1;for(var h=e.x<f.x?e.x<g.x?e.x:g.x:f.x<g.x?f.x:g.x,i=e.y<f.y?e.y<g.y?e.y:g.y:f.y<g.y?f.y:g.y,j=e.x>f.x?e.x>g.x?e.x:g.x:f.x>g.x?f.x:g.x,k=e.y>f.y?e.y>g.y?e.y:g.y:f.y>g.y?f.y:g.y,l=yc(h,i,b,c,d),m=yc(j,k,b,c,d),n=a.nextZ;n&&n.z<=m;){if(n!==a.prev&&n!==a.next&&Ac(e.x,e.y,f.x,f.y,g.x,g.y,n.x,n.y)&&Cc(n.prev,n,n.next)>=0)return!1;n=n.nextZ}for(n=a.prevZ;n&&n.z>=l;){if(n!==a.prev&&n!==a.next&&Ac(e.x,e.y,f.x,f.y,g.x,g.y,n.x,n.y)&&Cc(n.prev,n,n.next)>=0)return!1;n=n.prevZ}return!0}function qc(a,b,c){var d=a;do{var e=d.prev,f=d.next.next;!Dc(e,f)&&Ec(e,d,d.next,f)&&Gc(e,f)&&Gc(f,e)&&(b.push(e.i/c),b.push(d.i/c),b.push(f.i/c),Kc(d),Kc(d.next),d=a=f),d=d.next}while(d!==a);return d}function rc(a,b,c,d,e,f){var g=a;do{for(var h=g.next.next;h!==g.prev;){if(g.i!==h.i&&Bc(g,h)){var i=Ic(g,h);return g=mc(g,g.next),i=mc(i,i.next),nc(g,b,c,d,e,f),void nc(i,b,c,d,e,f)}h=h.next}g=g.next}while(g!==a)}function sc(a,b,c,d){var e,f,g,h,i,j=[];for(e=0,f=b.length;e<f;e++)g=b[e]*d,h=e<f-1?b[e+1]*d:a.length,i=lc(a,g,h,d,!1),i===i.next&&(i.steiner=!0),j.push(zc(i));for(j.sort(tc),e=0;e<j.length;e++)uc(j[e],c),c=mc(c,c.next);return c}function tc(a,b){return a.x-b.x}function uc(a,b){if(b=vc(a,b)){var c=Ic(b,a);mc(c,c.next)}}function vc(a,b){var c,d=b,e=a.x,f=a.y,g=-1/0;do{if(f<=d.y&&f>=d.next.y&&d.next.y!==d.y){var h=d.x+(f-d.y)*(d.next.x-d.x)/(d.next.y-d.y);if(h<=e&&h>g){if(g=h,h===e){if(f===d.y)return d;if(f===d.next.y)return d.next}c=d.x<d.next.x?d:d.next}}d=d.next}while(d!==b);if(!c)return null;if(e===g)return c.prev;var i,j=c,k=c.x,l=c.y,m=1/0;for(d=c.next;d!==j;)e>=d.x&&d.x>=k&&e!==d.x&&Ac(f<l?e:g,f,k,l,f<l?g:e,f,d.x,d.y)&&((i=Math.abs(f-d.y)/(e-d.x))<m||i===m&&d.x>c.x)&&Gc(d,a)&&(c=d,m=i),d=d.next;return c}function wc(a,b,c,d){var e=a;do{null===e.z&&(e.z=yc(e.x,e.y,b,c,d)),e.prevZ=e.prev,e.nextZ=e.next,e=e.next}while(e!==a);e.prevZ.nextZ=null,e.prevZ=null,xc(e)}function xc(a){var b,c,d,e,f,g,h,i,j=1;do{for(c=a,a=null,f=null,g=0;c;){for(g++,d=c,h=0,b=0;b<j&&(h++,d=d.nextZ);b++);for(i=j;h>0||i>0&&d;)0!==h&&(0===i||!d||c.z<=d.z)?(e=c,c=c.nextZ,h--):(e=d,d=d.nextZ,i--),f?f.nextZ=e:a=e,e.prevZ=f,f=e;c=d}f.nextZ=null,j*=2}while(g>1);return a}function yc(a,b,c,d,e){return a=32767*(a-c)*e,b=32767*(b-d)*e,a=16711935&(a|a<<8),a=252645135&(a|a<<4),a=858993459&(a|a<<2),a=1431655765&(a|a<<1),b=16711935&(b|b<<8),b=252645135&(b|b<<4),b=858993459&(b|b<<2),b=1431655765&(b|b<<1),a|b<<1}function zc(a){var b=a,c=a;do{b.x<c.x&&(c=b),b=b.next}while(b!==a);return c}function Ac(a,b,c,d,e,f,g,h){return(e-g)*(b-h)-(a-g)*(f-h)>=0&&(a-g)*(d-h)-(c-g)*(b-h)>=0&&(c-g)*(f-h)-(e-g)*(d-h)>=0}function Bc(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!Fc(a,b)&&Gc(a,b)&&Gc(b,a)&&Hc(a,b)}function Cc(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function Dc(a,b){return a.x===b.x&&a.y===b.y}function Ec(a,b,c,d){return!!(Dc(a,b)&&Dc(c,d)||Dc(a,d)&&Dc(c,b))||Cc(a,b,c)>0!=Cc(a,b,d)>0&&Cc(c,d,a)>0!=Cc(c,d,b)>0}function Fc(a,b){var c=a;do{if(c.i!==a.i&&c.next.i!==a.i&&c.i!==b.i&&c.next.i!==b.i&&Ec(c,c.next,a,b))return!0;c=c.next}while(c!==a);return!1}function Gc(a,b){return Cc(a.prev,a,a.next)<0?Cc(a,b,a.next)>=0&&Cc(a,a.prev,b)>=0:Cc(a,b,a.prev)<0||Cc(a,a.next,b)<0}function Hc(a,b){var c=a,d=!1,e=(a.x+b.x)/2,f=(a.y+b.y)/2;do{c.y>f!=c.next.y>f&&c.next.y!==c.y&&e<(c.next.x-c.x)*(f-c.y)/(c.next.y-c.y)+c.x&&(d=!d),c=c.next}while(c!==a);return d}function Ic(a,b){var c=new Lc(a.i,a.x,a.y),d=new Lc(b.i,b.x,b.y),e=a.next,f=b.prev;return a.next=b,b.prev=a,c.next=e,e.prev=c,d.next=c,c.prev=d,f.next=d,d.prev=f,d}function Jc(a,b,c,d){var e=new Lc(a,b,c);return d?(e.next=d.next,e.prev=d,d.next.prev=e,d.next=e):(e.prev=e,e.next=e),e}function Kc(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function Lc(a,b,c){this.i=a,this.x=b,this.y=c,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Mc(a,b,c,d){for(var e=0,f=b,g=c-d;f<c;f+=d)e+=(a[g]-a[f])*(a[f+1]+a[g+1]),g=f;return e}function Nc(a){var b=a.length;b>2&&a[b-1].equals(a[0])&&a.pop()}function Oc(a,b){for(var c=0;c<b.length;c++)a.push(b[c].x),a.push(b[c].y)}function Pc(a,b){z.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:a,options:b},this.fromBufferGeometry(new Qc(a,b)),this.mergeVertices()}function Qc(a,b){M.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:a,options:b},a=Array.isArray(a)?a:[a];for(var d=this,e=[],g=[],h=0,i=a.length;h<i;h++){var j=a[h];!function(a){function h(a,b,c){return b.clone().multiplyScalar(c).add(a)}function i(a,b,d){var e,f,g,h=a.x-b.x,i=a.y-b.y,j=d.x-a.x,k=d.y-a.y,l=h*h+i*i,m=h*k-i*j;if(Math.abs(m)>Number.EPSILON){var n=Math.sqrt(l),o=Math.sqrt(j*j+k*k),p=b.x-i/n,q=b.y+h/n,r=d.x-k/o,s=d.y+j/o,t=((r-p)*k-(s-q)*j)/(h*k-i*j);e=p+h*t-a.x,f=q+i*t-a.y;var u=e*e+f*f;if(u<=2)return new c(e,f);g=Math.sqrt(u/2)}else{var v=!1;h>Number.EPSILON?j>Number.EPSILON&&(v=!0):h<-Number.EPSILON?j<-Number.EPSILON&&(v=!0):Math.sign(i)===Math.sign(k)&&(v=!0),v?(e=-i,f=h,g=Math.sqrt(l)):(e=h,f=i,g=Math.sqrt(l/2))}return new c(e/g,f/g)}function j(a,b){var c,d;for(W=a.length;--W>=0;){c=W,(d=W-1)<0&&(d=a.length-1);var e=0,f=r+2*w;for(e=0;e<f;e++){var g=T*e,h=T*(e+1);m(b+c+g,b+d+g,b+d+h,b+c+h)}}}function k(a,b,c){p.push(a),p.push(b),p.push(c)}function l(a,b,c){n(a),n(b),n(c);var f=e.length/3,g=y.generateTopUV(d,e,f-3,f-2,f-1);o(g[0]),o(g[1]),o(g[2])}function m(a,b,c,f){n(a),n(b),n(f),n(b),n(c),n(f);var g=e.length/3,h=y.generateSideWallUV(d,e,g-6,g-3,g-2,g-1);o(h[0]),o(h[1]),o(h[3]),o(h[1]),o(h[2]),o(h[3])}function n(a){e.push(p[3*a+0]),e.push(p[3*a+1]),e.push(p[3*a+2])}function o(a){g.push(a.x),g.push(a.y)}var p=[],q=void 0!==b.curveSegments?b.curveSegments:12,r=void 0!==b.steps?b.steps:1,s=void 0!==b.depth?b.depth:100,t=void 0===b.bevelEnabled||b.bevelEnabled,u=void 0!==b.bevelThickness?b.bevelThickness:6,v=void 0!==b.bevelSize?b.bevelSize:u-2,w=void 0!==b.bevelSegments?b.bevelSegments:3,x=b.extrudePath,y=void 0!==b.UVGenerator?b.UVGenerator:Li;void 0!==b.amount&&(s=b.amount);var z,A,B,C,D,E=!1;x&&(z=x.getSpacedPoints(r),E=!0,t=!1,A=x.computeFrenetFrames(r,!1),B=new f,C=new f,D=new f),t||(w=0,u=0,v=0);var F,G,H,I=a.extractPoints(q),J=I.shape,K=I.holes;if(!Ki.isClockWise(J))for(J=J.reverse(),G=0,H=K.length;G<H;G++)F=K[G],Ki.isClockWise(F)&&(K[G]=F.reverse());var L=Ki.triangulateShape(J,K),M=J;for(G=0,H=K.length;G<H;G++)F=K[G],J=J.concat(F);for(var N,O,P,Q,R,S,T=J.length,U=L.length,V=[],W=0,X=M.length,Y=X-1,Z=W+1;W<X;W++,Y++,Z++)Y===X&&(Y=0),Z===X&&(Z=0),V[W]=i(M[W],M[Y],M[Z]);var $,_=[],aa=V.concat();for(G=0,H=K.length;G<H;G++){for(F=K[G],$=[],W=0,X=F.length,Y=X-1,Z=W+1;W<X;W++,Y++,Z++)Y===X&&(Y=0),Z===X&&(Z=0),$[W]=i(F[W],F[Y],F[Z]);_.push($),aa=aa.concat($)}for(N=0;N<w;N++){for(P=N/w,Q=u*Math.cos(P*Math.PI/2),O=v*Math.sin(P*Math.PI/2),W=0,X=M.length;W<X;W++)R=h(M[W],V[W],O),k(R.x,R.y,-Q);for(G=0,H=K.length;G<H;G++)for(F=K[G],$=_[G],W=0,X=F.length;W<X;W++)R=h(F[W],$[W],O),k(R.x,R.y,-Q)}for(O=v,W=0;W<T;W++)R=t?h(J[W],aa[W],O):J[W],E?(C.copy(A.normals[0]).multiplyScalar(R.x),B.copy(A.binormals[0]).multiplyScalar(R.y),D.copy(z[0]).add(C).add(B),k(D.x,D.y,D.z)):k(R.x,R.y,0);var ba;for(ba=1;ba<=r;ba++)for(W=0;W<T;W++)R=t?h(J[W],aa[W],O):J[W],E?(C.copy(A.normals[ba]).multiplyScalar(R.x),B.copy(A.binormals[ba]).multiplyScalar(R.y),D.copy(z[ba]).add(C).add(B),k(D.x,D.y,D.z)):k(R.x,R.y,s/r*ba);for(N=w-1;N>=0;N--){for(P=N/w,Q=u*Math.cos(P*Math.PI/2),O=v*Math.sin(P*Math.PI/2),W=0,X=M.length;W<X;W++)R=h(M[W],V[W],O),k(R.x,R.y,s+Q);for(G=0,H=K.length;G<H;G++)for(F=K[G],$=_[G],W=0,X=F.length;W<X;W++)R=h(F[W],$[W],O),E?k(R.x,R.y+z[r-1].y,z[r-1].x+Q):k(R.x,R.y,s+Q)}!function(){var a=e.length/3;if(t){var b=0,c=T*b;for(W=0;W<U;W++)S=L[W],l(S[2]+c,S[1]+c,S[0]+c);for(b=r+2*w,c=T*b,W=0;W<U;W++)S=L[W],l(S[0]+c,S[1]+c,S[2]+c)}else{for(W=0;W<U;W++)S=L[W],l(S[2],S[1],S[0]);for(W=0;W<U;W++)S=L[W],l(S[0]+T*r,S[1]+T*r,S[2]+T*r)}d.addGroup(a,e.length/3-a,0)}(),function(){var a=e.length/3,b=0;for(j(M,b),b+=M.length,G=0,H=K.length;G<H;G++)F=K[G],j(F,b),b+=F.length;d.addGroup(a,e.length/3-a,1)}()}(j)}this.addAttribute("position",new I(e,3)),this.addAttribute("uv",new I(g,2)),this.computeVertexNormals()}function Rc(a,b,c){if(c.shapes=[],Array.isArray(a))for(var d=0,e=a.length;d<e;d++){var f=a[d];c.shapes.push(f.uuid)}else c.shapes.push(a.uuid);return void 0!==b.extrudePath&&(c.options.extrudePath=b.extrudePath.toJSON()),c}function Sc(a,b){z.call(this),this.type="TextGeometry",this.parameters={text:a,parameters:b},this.fromBufferGeometry(new Tc(a,b)),this.mergeVertices()}function Tc(a,b){b=b||{};var c=b.font;if(!c||!c.isFont)return new z;var d=c.generateShapes(a,b.size,b.curveSegments);b.depth=void 0!==b.height?b.height:50,void 0===b.bevelThickness&&(b.bevelThickness=10),void 0===b.bevelSize&&(b.bevelSize=8),void 0===b.bevelEnabled&&(b.bevelEnabled=!1),Qc.call(this,d,b),this.type="TextBufferGeometry"}function Uc(a,b,c,d,e,f,g){z.call(this),this.type="SphereGeometry",this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g},this.fromBufferGeometry(new Vc(a,b,c,d,e,f,g)),this.mergeVertices()}function Vc(a,b,c,d,e,g,h){M.call(this),this.type="SphereBufferGeometry",this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:g,thetaLength:h},a=a||1,b=Math.max(3,Math.floor(b)||8),c=Math.max(2,Math.floor(c)||6),d=void 0!==d?d:0,e=void 0!==e?e:2*Math.PI,g=void 0!==g?g:0,h=void 0!==h?h:Math.PI;var i,j,k=g+h,l=0,m=[],n=new f,o=new f,p=[],q=[],r=[],s=[];for(j=0;j<=c;j++){var t=[],u=j/c;for(i=0;i<=b;i++){var v=i/b;n.x=-a*Math.cos(d+v*e)*Math.sin(g+u*h),n.y=a*Math.cos(g+u*h),n.z=a*Math.sin(d+v*e)*Math.sin(g+u*h),q.push(n.x,n.y,n.z),o.set(n.x,n.y,n.z).normalize(),r.push(o.x,o.y,o.z),s.push(v,1-u),t.push(l++)}m.push(t)}for(j=0;j<c;j++)for(i=0;i<b;i++){var w=m[j][i+1],x=m[j][i],y=m[j+1][i],z=m[j+1][i+1];(0!==j||g>0)&&p.push(w,x,z),(j!==c-1||k<Math.PI)&&p.push(x,y,z)}this.setIndex(p),this.addAttribute("position",new I(q,3)),this.addAttribute("normal",new I(r,3)),this.addAttribute("uv",new I(s,2))}function Wc(a,b,c,d,e,f){z.call(this),this.type="RingGeometry",this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:f},this.fromBufferGeometry(new Xc(a,b,c,d,e,f)),this.mergeVertices()}function Xc(a,b,d,e,g,h){M.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:a,outerRadius:b,thetaSegments:d,phiSegments:e,thetaStart:g,thetaLength:h},a=a||.5,b=b||1,g=void 0!==g?g:0,h=void 0!==h?h:2*Math.PI,d=void 0!==d?Math.max(3,d):8,e=void 0!==e?Math.max(1,e):1;var i,j,k,l=[],m=[],n=[],o=[],p=a,q=(b-a)/e,r=new f,s=new c;for(j=0;j<=e;j++){for(k=0;k<=d;k++)i=g+k/d*h,r.x=p*Math.cos(i),r.y=p*Math.sin(i),m.push(r.x,r.y,r.z),n.push(0,0,1),s.x=(r.x/b+1)/2,s.y=(r.y/b+1)/2,o.push(s.x,s.y);p+=q}for(j=0;j<e;j++){var t=j*(d+1);for(k=0;k<d;k++){i=k+t;var u=i,v=i+d+1,w=i+d+2,x=i+1;l.push(u,v,x),l.push(v,w,x)}}this.setIndex(l),this.addAttribute("position",new I(m,3)),this.addAttribute("normal",new I(n,3)),this.addAttribute("uv",new I(o,2))}function Yc(a,b,c,d){z.call(this),this.type="LatheGeometry",this.parameters={points:a,segments:b,phiStart:c,phiLength:d},this.fromBufferGeometry(new Zc(a,b,c,d)),this.mergeVertices()}function Zc(a,b,d,e){M.call(this),this.type="LatheBufferGeometry",this.parameters={points:a,segments:b,phiStart:d,phiLength:e},b=Math.floor(b)||12,d=d||0,e=e||2*Math.PI,e=oi.clamp(e,0,2*Math.PI);var g,h,i,j=[],k=[],l=[],m=1/b,n=new f,o=new c;for(h=0;h<=b;h++){var p=d+h*m*e,q=Math.sin(p),r=Math.cos(p);for(i=0;i<=a.length-1;i++)n.x=a[i].x*q,n.y=a[i].y,n.z=a[i].x*r,k.push(n.x,n.y,n.z),o.x=h/b,o.y=i/(a.length-1),l.push(o.x,o.y)}for(h=0;h<b;h++)for(i=0;i<a.length-1;i++){g=i+h*a.length;var s=g,t=g+a.length,u=g+a.length+1,v=g+1;j.push(s,t,v),j.push(t,u,v)}if(this.setIndex(j),this.addAttribute("position",new I(k,3)),this.addAttribute("uv",new I(l,2)),this.computeVertexNormals(),e===2*Math.PI){var w=this.attributes.normal.array,x=new f,y=new f,z=new f;for(g=b*a.length*3,h=0,i=0;h<a.length;h++,i+=3)x.x=w[i+0],x.y=w[i+1],x.z=w[i+2],y.x=w[g+i+0],y.y=w[g+i+1],y.z=w[g+i+2],z.addVectors(x,y).normalize(),w[i+0]=w[g+i+0]=z.x,w[i+1]=w[g+i+1]=z.y,w[i+2]=w[g+i+2]=z.z}}function $c(a,b){z.call(this),this.type="ShapeGeometry","object"==typeof b&&(b=b.curveSegments),this.parameters={shapes:a,curveSegments:b},this.fromBufferGeometry(new _c(a,b)),this.mergeVertices()}function _c(a,b){function c(a){var c,h,j,k=e.length/3,l=a.extractPoints(b),m=l.shape,n=l.holes;if(!1===Ki.isClockWise(m))for(m=m.reverse(),c=0,h=n.length;c<h;c++)j=n[c],!0===Ki.isClockWise(j)&&(n[c]=j.reverse());var o=Ki.triangulateShape(m,n);for(c=0,h=n.length;c<h;c++)j=n[c],m=m.concat(j);for(c=0,h=m.length;c<h;c++){var p=m[c];e.push(p.x,p.y,0),f.push(0,0,1),g.push(p.x,p.y)}for(c=0,h=o.length;c<h;c++){var q=o[c],r=q[0]+k,s=q[1]+k,t=q[2]+k;d.push(r,s,t),i+=3}}M.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:a,curveSegments:b},b=b||12;var d=[],e=[],f=[],g=[],h=0,i=0;if(!1===Array.isArray(a))c(a);else for(var j=0;j<a.length;j++)c(a[j]),this.addGroup(h,i,j),h+=i,i=0;this.setIndex(d),this.addAttribute("position",new I(e,3)),this.addAttribute("normal",new I(f,3)),this.addAttribute("uv",new I(g,2))}function ad(a,b){if(b.shapes=[],Array.isArray(a))for(var c=0,d=a.length;c<d;c++){var e=a[c];b.shapes.push(e.uuid)}else b.shapes.push(a.uuid);return b}function bd(a,b){M.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:b},b=void 0!==b?b:1;var c,d,e,f,g=[],h=Math.cos(oi.DEG2RAD*b),i=[0,0],j={},k=["a","b","c"];a.isBufferGeometry?(f=new z,f.fromBufferGeometry(a)):f=a.clone(),f.mergeVertices(),f.computeFaceNormals();for(var l=f.vertices,m=f.faces,n=0,o=m.length;n<o;n++)for(var p=m[n],q=0;q<3;q++)c=p[k[q]],d=p[k[(q+1)%3]],i[0]=Math.min(c,d),i[1]=Math.max(c,d),e=i[0]+","+i[1],void 0===j[e]?j[e]={index1:i[0],index2:i[1],face1:n,face2:void 0}:j[e].face2=n;for(e in j){var r=j[e];if(void 0===r.face2||m[r.face1].normal.dot(m[r.face2].normal)<=h){var s=l[r.index1];g.push(s.x,s.y,s.z),s=l[r.index2],g.push(s.x,s.y,s.z)}}this.addAttribute("position",new I(g,3))}function cd(a,b,c,d,e,f,g,h){z.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:h},this.fromBufferGeometry(new dd(a,b,c,d,e,f,g,h)),this.mergeVertices()}function dd(a,b,d,e,g,h,i,j){function k(d){var g,h,k,r=new c,u=new f,v=0,w=!0===d?a:b,x=!0===d?1:-1;for(h=q,g=1;g<=e;g++)n.push(0,s*x,0),o.push(0,x,0),p.push(.5,.5),q++;for(k=q,g=0;g<=e;g++){var y=g/e,z=y*j+i,A=Math.cos(z),B=Math.sin(z);u.x=w*B,u.y=s*x,u.z=w*A,n.push(u.x,u.y,u.z),o.push(0,x,0),r.x=.5*A+.5,r.y=.5*B*x+.5,p.push(r.x,r.y),q++}for(g=0;g<e;g++){var C=h+g,D=k+g;!0===d?m.push(D,D+1,C):m.push(D+1,D,C),v+=3}l.addGroup(t,v,!0===d?1:2),t+=v}M.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:a,radiusBottom:b,height:d,radialSegments:e,heightSegments:g,openEnded:h,thetaStart:i,thetaLength:j};var l=this;a=void 0!==a?a:1,b=void 0!==b?b:1,d=d||1,e=Math.floor(e)||8,g=Math.floor(g)||1,h=void 0!==h&&h,i=void 0!==i?i:0,j=void 0!==j?j:2*Math.PI;var m=[],n=[],o=[],p=[],q=0,r=[],s=d/2,t=0;!function(){var c,h,k=new f,u=new f,v=0,w=(b-a)/d;for(h=0;h<=g;h++){var x=[],y=h/g,z=y*(b-a)+a;for(c=0;c<=e;c++){var A=c/e,B=A*j+i,C=Math.sin(B),D=Math.cos(B);u.x=z*C,u.y=-y*d+s,u.z=z*D,n.push(u.x,u.y,u.z),k.set(C,w,D).normalize(),o.push(k.x,k.y,k.z),p.push(A,1-y),x.push(q++)}r.push(x)}for(c=0;c<e;c++)for(h=0;h<g;h++){var E=r[h][c],F=r[h+1][c],G=r[h+1][c+1],H=r[h][c+1];m.push(E,F,H),m.push(F,G,H),v+=6}l.addGroup(t,v,0),t+=v}(),!1===h&&(a>0&&k(!0),b>0&&k(!1)),this.setIndex(m),this.addAttribute("position",new I(n,3)),this.addAttribute("normal",new I(o,3)),this.addAttribute("uv",new I(p,2))}function ed(a,b,c,d,e,f,g){cd.call(this,0,a,b,c,d,e,f,g),this.type="ConeGeometry",this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,openEnded:e,thetaStart:f,thetaLength:g}}function fd(a,b,c,d,e,f,g){dd.call(this,0,a,b,c,d,e,f,g),this.type="ConeBufferGeometry",this.parameters={radius:a,height:b,radialSegments:c,heightSegments:d,openEnded:e,thetaStart:f,thetaLength:g}}function gd(a,b,c,d){z.call(this),this.type="CircleGeometry",
this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d},this.fromBufferGeometry(new hd(a,b,c,d)),this.mergeVertices()}function hd(a,b,d,e){M.call(this),this.type="CircleBufferGeometry",this.parameters={radius:a,segments:b,thetaStart:d,thetaLength:e},a=a||1,b=void 0!==b?Math.max(3,b):8,d=void 0!==d?d:0,e=void 0!==e?e:2*Math.PI;var g,h,i=[],j=[],k=[],l=[],m=new f,n=new c;for(j.push(0,0,0),k.push(0,0,1),l.push(.5,.5),h=0,g=3;h<=b;h++,g+=3){var o=d+h/b*e;m.x=a*Math.cos(o),m.y=a*Math.sin(o),j.push(m.x,m.y,m.z),k.push(0,0,1),n.x=(j[g]/a+1)/2,n.y=(j[g+1]/a+1)/2,l.push(n.x,n.y)}for(g=1;g<=b;g++)i.push(g,g+1,0);this.setIndex(i),this.addAttribute("position",new I(j,3)),this.addAttribute("normal",new I(k,3)),this.addAttribute("uv",new I(l,2))}function id(a){R.call(this),this.type="ShadowMaterial",this.color=new q(0),this.transparent=!0,this.setValues(a)}function jd(a){T.call(this,a),this.type="RawShaderMaterial"}function kd(a){R.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new q(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new c(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(a)}function ld(a){kd.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(a)}function md(a){R.call(this),this.type="MeshPhongMaterial",this.color=new q(16777215),this.specular=new q(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new c(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Pg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(a)}function nd(a){md.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(a)}function od(a){R.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new c(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(a)}function pd(a){R.call(this),this.type="MeshLambertMaterial",this.color=new q(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new q(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Pg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(a)}function qd(a){Kb.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(a)}function rd(a,b,c){var d=this,e=!1,f=0,g=0,h=void 0;this.onStart=void 0,this.onLoad=a,this.onProgress=b,this.onError=c,this.itemStart=function(a){g++,!1===e&&void 0!==d.onStart&&d.onStart(a,f,g),e=!0},this.itemEnd=function(a){f++,void 0!==d.onProgress&&d.onProgress(a,f,g),f===g&&(e=!1,void 0!==d.onLoad&&d.onLoad())},this.itemError=function(a){void 0!==d.onError&&d.onError(a)},this.resolveURL=function(a){return h?h(a):a},this.setURLModifier=function(a){return h=a,this}}function sd(a){this.manager=void 0!==a?a:Pi}function td(a){this.manager=void 0!==a?a:Pi,this._parser=null}function ud(a){this.manager=void 0!==a?a:Pi,this._parser=null}function vd(a){this.manager=void 0!==a?a:Pi}function wd(a){this.manager=void 0!==a?a:Pi}function xd(a){this.manager=void 0!==a?a:Pi}function yd(){this.type="Curve",this.arcLengthDivisions=200}function zd(a,b,c,d,e,f,g,h){yd.call(this),this.type="EllipseCurve",this.aX=a||0,this.aY=b||0,this.xRadius=c||1,this.yRadius=d||1,this.aStartAngle=e||0,this.aEndAngle=f||2*Math.PI,this.aClockwise=g||!1,this.aRotation=h||0}function Ad(a,b,c,d,e,f){zd.call(this,a,b,c,c,d,e,f),this.type="ArcCurve"}function Bd(){function a(a,f,g,h){b=a,c=g,d=-3*a+3*f-2*g-h,e=2*a-2*f+g+h}var b=0,c=0,d=0,e=0;return{initCatmullRom:function(b,c,d,e,f){a(c,d,f*(d-b),f*(e-c))},initNonuniformCatmullRom:function(b,c,d,e,f,g,h){var i=(c-b)/f-(d-b)/(f+g)+(d-c)/g,j=(d-c)/g-(e-c)/(g+h)+(e-d)/h;i*=g,j*=g,a(c,d,i,j)},calc:function(a){var f=a*a;return b+c*a+d*f+e*(f*a)}}}function Cd(a,b,c,d){yd.call(this),this.type="CatmullRomCurve3",this.points=a||[],this.closed=b||!1,this.curveType=c||"centripetal",this.tension=d||.5}function Dd(a,b,c,d,e){var f=.5*(d-b),g=.5*(e-c),h=a*a;return(2*c-2*d+f+g)*(a*h)+(-3*c+3*d-2*f-g)*h+f*a+c}function Ed(a,b){var c=1-a;return c*c*b}function Fd(a,b){return 2*(1-a)*a*b}function Gd(a,b){return a*a*b}function Hd(a,b,c,d){return Ed(a,b)+Fd(a,c)+Gd(a,d)}function Id(a,b){var c=1-a;return c*c*c*b}function Jd(a,b){var c=1-a;return 3*c*c*a*b}function Kd(a,b){return 3*(1-a)*a*a*b}function Ld(a,b){return a*a*a*b}function Md(a,b,c,d,e){return Id(a,b)+Jd(a,c)+Kd(a,d)+Ld(a,e)}function Nd(a,b,d,e){yd.call(this),this.type="CubicBezierCurve",this.v0=a||new c,this.v1=b||new c,this.v2=d||new c,this.v3=e||new c}function Od(a,b,c,d){yd.call(this),this.type="CubicBezierCurve3",this.v0=a||new f,this.v1=b||new f,this.v2=c||new f,this.v3=d||new f}function Pd(a,b){yd.call(this),this.type="LineCurve",this.v1=a||new c,this.v2=b||new c}function Qd(a,b){yd.call(this),this.type="LineCurve3",this.v1=a||new f,this.v2=b||new f}function Rd(a,b,d){yd.call(this),this.type="QuadraticBezierCurve",this.v0=a||new c,this.v1=b||new c,this.v2=d||new c}function Sd(a,b,c){yd.call(this),this.type="QuadraticBezierCurve3",this.v0=a||new f,this.v1=b||new f,this.v2=c||new f}function Td(a){yd.call(this),this.type="SplineCurve",this.points=a||[]}function Ud(){yd.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Vd(a){Ud.call(this),this.type="Path",this.currentPoint=new c,a&&this.setFromPoints(a)}function Wd(a){Vd.call(this,a),this.uuid=oi.generateUUID(),this.type="Shape",this.holes=[]}function Xd(a,b){v.call(this),this.type="Light",this.color=new q(a),this.intensity=void 0!==b?b:1,this.receiveShadow=void 0}function Yd(a,b,c){Xd.call(this,a,c),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(v.DefaultUp),this.updateMatrix(),this.groundColor=new q(b)}function Zd(a){this.camera=a,this.bias=0,this.radius=1,this.mapSize=new c(512,512),this.map=null,this.matrix=new d}function $d(){Zd.call(this,new wb(50,1,.5,500))}function _d(a,b,c,d,e,f){Xd.call(this,a,b),this.type="SpotLight",this.position.copy(v.DefaultUp),this.updateMatrix(),this.target=new v,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(a){this.intensity=a/Math.PI}}),this.distance=void 0!==c?c:0,this.angle=void 0!==d?d:Math.PI/3,this.penumbra=void 0!==e?e:0,this.decay=void 0!==f?f:1,this.shadow=new $d}function ae(a,b,c,d){Xd.call(this,a,b),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(a){this.intensity=a/(4*Math.PI)}}),this.distance=void 0!==c?c:0,this.decay=void 0!==d?d:1,this.shadow=new Zd(new wb(90,1,.5,500))}function be(){Zd.call(this,new x(-5,5,5,-5,.5,500))}function ce(a,b){Xd.call(this,a,b),this.type="DirectionalLight",this.position.copy(v.DefaultUp),this.updateMatrix(),this.target=new v,this.shadow=new be}function de(a,b){Xd.call(this,a,b),this.type="AmbientLight",this.castShadow=void 0}function ee(a,b,c,d){Xd.call(this,a,b),this.type="RectAreaLight",this.width=void 0!==c?c:10,this.height=void 0!==d?d:10}function fe(a,b,c,d){pe.call(this,a,b,c,d)}function ge(a,b,c){pe.call(this,a,b,c)}function he(a,b,c,d){this.parameterPositions=a,this._cachedIndex=0,this.resultBuffer=void 0!==d?d:new b.constructor(c),this.sampleValues=b,this.valueSize=c}function ie(a,b,c,d){he.call(this,a,b,c,d)}function je(a,b,c,d){pe.call(this,a,b,c,d)}function ke(a,b,c,d){pe.call(this,a,b,c,d)}function le(a,b,c,d){pe.call(this,a,b,c,d)}function me(a,b,c,d){he.call(this,a,b,c,d),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function ne(a,b,c,d){he.call(this,a,b,c,d)}function oe(a,b,c,d){he.call(this,a,b,c,d)}function pe(a,b,c,d){if(void 0===a)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===b||0===b.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+a);this.name=a,this.times=Wi.convertArray(b,this.TimeBufferType),this.values=Wi.convertArray(c,this.ValueBufferType),this.setInterpolation(d||this.DefaultInterpolation),this.validate(),this.optimize()}function qe(a,b,c,d){pe.call(this,a,b,c,d)}function re(a,b,c){this.name=a,this.tracks=c,this.duration=void 0!==b?b:-1,this.uuid=oi.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function se(a){this.manager=void 0!==a?a:Pi,this.textures={}}function te(a){this.manager=void 0!==a?a:Pi}function ue(){}function ve(a){"boolean"==typeof a&&(a=void 0),this.manager=void 0!==a?a:Pi,this.withCredentials=!1}function we(a){this.manager=void 0!==a?a:Pi,this.texturePath=""}function xe(a){this.manager=void 0!==a?a:Pi,this.options=void 0}function ye(){this.type="ShapePath",this.color=new q,this.subPaths=[],this.currentPath=null}function ze(a){this.type="Font",this.data=a}function Ae(a,b,c,d){for(var e=Array.from?Array.from(a):String(a).split(""),f=b/d.resolution,g=(d.boundingBox.yMax-d.boundingBox.yMin+d.underlineThickness)*f,h=[],i=0,j=0,k=0;k<e.length;k++){var l=e[k];if("\n"===l)i=0,j-=g;else{var m=Be(l,c,f,i,j,d);i+=m.offsetX,h.push(m.path)}}return h}function Be(a,b,c,d,e,f){var g=f.glyphs[a]||f.glyphs["?"];if(g){var h,i,j,k,l,m,n,o,p=new ye;if(g.o)for(var q=g._cachedOutline||(g._cachedOutline=g.o.split(" ")),r=0,s=q.length;r<s;){var t=q[r++];switch(t){case"m":h=q[r++]*c+d,i=q[r++]*c+e,p.moveTo(h,i);break;case"l":h=q[r++]*c+d,i=q[r++]*c+e,p.lineTo(h,i);break;case"q":j=q[r++]*c+d,k=q[r++]*c+e,l=q[r++]*c+d,m=q[r++]*c+e,p.quadraticCurveTo(l,m,j,k);break;case"b":j=q[r++]*c+d,k=q[r++]*c+e,l=q[r++]*c+d,m=q[r++]*c+e,n=q[r++]*c+d,o=q[r++]*c+e,p.bezierCurveTo(l,m,n,o,j,k)}}return{offsetX:g.ha*c,path:p}}}function Ce(a){this.manager=void 0!==a?a:Pi}function De(a){this.manager=void 0!==a?a:Pi}function Ee(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new wb,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new wb,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Fe(a,b,c){v.call(this),this.type="CubeCamera";var d=new wb(90,1,a,b);d.up.set(0,-1,0),d.lookAt(new f(1,0,0)),this.add(d);var e=new wb(90,1,a,b);e.up.set(0,-1,0),e.lookAt(new f(-1,0,0)),this.add(e);var g=new wb(90,1,a,b);g.up.set(0,0,1),g.lookAt(new f(0,1,0)),this.add(g);var h=new wb(90,1,a,b);h.up.set(0,0,-1),h.lookAt(new f(0,-1,0)),this.add(h);var i=new wb(90,1,a,b);i.up.set(0,-1,0),i.lookAt(new f(0,0,1)),this.add(i);var j=new wb(90,1,a,b);j.up.set(0,-1,0),j.lookAt(new f(0,0,-1)),this.add(j);var l={format:yh,magFilter:ih,minFilter:ih};this.renderTarget=new k(c,c,l),this.renderTarget.texture.name="CubeCamera",this.update=function(a,b){null===this.parent&&this.updateMatrixWorld();var c=this.renderTarget,f=c.texture.generateMipmaps;c.texture.generateMipmaps=!1,c.activeCubeFace=0,a.render(b,d,c),c.activeCubeFace=1,a.render(b,e,c),c.activeCubeFace=2,a.render(b,g,c),c.activeCubeFace=3,a.render(b,h,c),c.activeCubeFace=4,a.render(b,i,c),c.texture.generateMipmaps=f,c.activeCubeFace=5,a.render(b,j,c),a.setRenderTarget(null)},this.clear=function(a,b,c,d){for(var e=this.renderTarget,f=0;f<6;f++)e.activeCubeFace=f,a.setRenderTarget(e),a.clear(b,c,d);a.setRenderTarget(null)}}function Ge(){v.call(this),this.type="AudioListener",this.context=bj.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function He(a){v.call(this),this.type="Audio",this.context=a.context,this.gain=this.context.createGain(),this.gain.connect(a.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Ie(a){He.call(this,a),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function Je(a,b){this.analyser=a.context.createAnalyser(),this.analyser.fftSize=void 0!==b?b:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),a.getOutput().connect(this.analyser)}function Ke(a,b,c){this.binding=a,this.valueSize=c;var d,e=Float64Array;switch(b){case"quaternion":d=this._slerp;break;case"string":case"bool":e=Array,d=this._select;break;default:d=this._lerp}this.buffer=new e(4*c),this._mixBufferRegion=d,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Le(a,b,c){var d=c||Me.parseTrackName(b);this._targetGroup=a,this._bindings=a.subscribe_(b,d)}function Me(a,b,c){this.path=b,this.parsedPath=c||Me.parseTrackName(b),this.node=Me.findNode(a,this.parsedPath.nodeName)||a,this.rootNode=a}function Ne(){this.uuid=oi.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var a={};this._indicesByUUID=a;for(var b=0,c=arguments.length;b!==c;++b)a[arguments[b].uuid]=b;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var d=this;this.stats={objects:{get total(){return d._objects.length},get inUse(){return this.total-d.nCachedObjects_}},get bindingsPerObject(){return d._bindings.length}}}function Oe(a,b,c){this._mixer=a,this._clip=b,this._localRoot=c||null;for(var d=b.tracks,e=d.length,f=new Array(e),g={endingStart:bi,endingEnd:bi},h=0;h!==e;++h){var i=d[h].createInterpolant(null);f[h]=i,i.settings=g}this._interpolantSettings=g,this._interpolants=f,this._propertyBindings=new Array(e),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ai,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Pe(a){this._root=a,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Qe(a){"string"==typeof a&&(a=arguments[1]),this.value=a}function Re(){M.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Se(a,b,c,d){this.data=a,this.itemSize=b,this.offset=c,this.normalized=!0===d}function Te(a,b){this.array=a,this.stride=b,this.count=void 0!==a?a.length/b:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Ue(a,b,c){Te.call(this,a,b),this.meshPerAttribute=c||1}function Ve(a,b,c){A.call(this,a,b),this.meshPerAttribute=c||1}function We(a,b,c,d){this.ray=new U(a,b),this.near=c||0,this.far=d||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return this.Points}}})}function Xe(a,b){return a.distance-b.distance}function Ye(a,b,c,d){if(!1!==a.visible&&(a.raycast(b,c),!0===d))for(var e=a.children,f=0,g=e.length;f<g;f++)Ye(e[f],b,c,!0)}function Ze(a){this.autoStart=void 0===a||a,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function $e(a,b,c){return this.radius=void 0!==a?a:1,this.phi=void 0!==b?b:0,this.theta=void 0!==c?c:0,this}function _e(a,b,c){return this.radius=void 0!==a?a:1,this.theta=void 0!==b?b:0,this.y=void 0!==c?c:0,this}function af(a,b){this.min=void 0!==a?a:new c(1/0,1/0),this.max=void 0!==b?b:new c(-1/0,-1/0)}function bf(a){v.call(this),this.material=a,this.render=function(){}}function cf(a,b,c,d){this.object=a,this.size=void 0!==b?b:1;var e=void 0!==c?c:16711680,f=void 0!==d?d:1,g=0,h=this.object.geometry;h&&h.isGeometry?g=3*h.faces.length:h&&h.isBufferGeometry&&(g=h.attributes.normal.count);var i=new M,j=new I(2*g*3,3);i.addAttribute("position",j),Mb.call(this,i,new Kb({color:e,linewidth:f})),this.matrixAutoUpdate=!1,this.update()}function df(a,b){v.call(this),this.light=a,this.light.updateMatrixWorld(),this.matrix=a.matrixWorld,this.matrixAutoUpdate=!1,this.color=b;for(var c=new M,d=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],e=0,f=1;e<32;e++,f++){var g=e/32*Math.PI*2,h=f/32*Math.PI*2;d.push(Math.cos(g),Math.sin(g),1,Math.cos(h),Math.sin(h),1)}c.addAttribute("position",new I(d,3));var i=new Kb({fog:!1});this.cone=new Mb(c,i),this.add(this.cone),this.update()}function ef(a){var b=[];a&&a.isBone&&b.push(a);for(var c=0;c<a.children.length;c++)b.push.apply(b,ef(a.children[c]));return b}function ff(a){for(var b=ef(a),c=new M,d=[],e=[],f=new q(0,0,1),g=new q(0,1,0),h=0;h<b.length;h++){var i=b[h];i.parent&&i.parent.isBone&&(d.push(0,0,0),d.push(0,0,0),e.push(f.r,f.g,f.b),e.push(g.r,g.g,g.b))}c.addAttribute("position",new I(d,3)),c.addAttribute("color",new I(e,3));var j=new Kb({vertexColors:kg,depthTest:!1,depthWrite:!1,transparent:!0});Mb.call(this,c,j),this.root=a,this.bones=b,this.matrix=a.matrixWorld,this.matrixAutoUpdate=!1}function gf(a,b,c){this.light=a,this.light.updateMatrixWorld(),this.color=c;var d=new Vc(b,4,2),e=new S({wireframe:!0,fog:!1});X.call(this,d,e),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function hf(a,b){v.call(this),this.light=a,this.light.updateMatrixWorld(),this.matrix=a.matrixWorld,this.matrixAutoUpdate=!1,this.color=b;var c=new Kb({fog:!1}),d=new M;d.addAttribute("position",new A(new Float32Array(15),3)),this.line=new Lb(d,c),this.add(this.line),this.update()}function jf(a,b,c){v.call(this),this.light=a,this.light.updateMatrixWorld(),this.matrix=a.matrixWorld,this.matrixAutoUpdate=!1,this.color=c;var d=new ac(b);d.rotateY(.5*Math.PI),this.material=new S({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=kg);var e=d.getAttribute("position"),f=new Float32Array(3*e.count);d.addAttribute("color",new A(f,3)),this.add(new X(d,this.material)),this.update()}function kf(a,b,c,d){a=a||10,b=b||10,c=new q(void 0!==c?c:4473924),d=new q(void 0!==d?d:8947848);for(var e=b/2,f=a/b,g=a/2,h=[],i=[],j=0,k=0,l=-g;j<=b;j++,l+=f){h.push(-g,0,l,g,0,l),h.push(l,0,-g,l,0,g);var m=j===e?c:d;m.toArray(i,k),k+=3,m.toArray(i,k),k+=3,m.toArray(i,k),k+=3,m.toArray(i,k),k+=3}var n=new M;n.addAttribute("position",new I(h,3)),n.addAttribute("color",new I(i,3));var o=new Kb({vertexColors:kg});Mb.call(this,n,o)}function lf(a,b,c,d,e,f){a=a||10,b=b||16,c=c||8,d=d||64,e=new q(void 0!==e?e:4473924),f=new q(void 0!==f?f:8947848);var g,h,i,j,k,l,m,n=[],o=[];for(j=0;j<=b;j++)i=j/b*(2*Math.PI),g=Math.sin(i)*a,h=Math.cos(i)*a,n.push(0,0,0),n.push(g,0,h),m=1&j?e:f,o.push(m.r,m.g,m.b),o.push(m.r,m.g,m.b);for(j=0;j<=c;j++)for(m=1&j?e:f,l=a-a/c*j,k=0;k<d;k++)i=k/d*(2*Math.PI),g=Math.sin(i)*l,h=Math.cos(i)*l,n.push(g,0,h),o.push(m.r,m.g,m.b),i=(k+1)/d*(2*Math.PI),g=Math.sin(i)*l,h=Math.cos(i)*l,n.push(g,0,h),o.push(m.r,m.g,m.b);var p=new M;p.addAttribute("position",new I(n,3)),p.addAttribute("color",new I(o,3));var r=new Kb({vertexColors:kg});Mb.call(this,p,r)}function mf(a,b,c,d){this.object=a,this.size=void 0!==b?b:1;var e=void 0!==c?c:16776960,f=void 0!==d?d:1,g=0,h=this.object.geometry;h&&h.isGeometry&&(g=h.faces.length);var i=new M,j=new I(2*g*3,3);i.addAttribute("position",j),Mb.call(this,i,new Kb({color:e,linewidth:f})),this.matrixAutoUpdate=!1,this.update()}function nf(a,b,c){v.call(this),this.light=a,this.light.updateMatrixWorld(),this.matrix=a.matrixWorld,this.matrixAutoUpdate=!1,this.color=c,void 0===b&&(b=1);var d=new M;d.addAttribute("position",new I([-b,b,0,b,b,0,b,-b,0,-b,-b,0,-b,b,0],3));var e=new Kb({fog:!1});this.lightPlane=new Lb(d,e),this.add(this.lightPlane),d=new M,d.addAttribute("position",new I([0,0,0,0,0,1],3)),this.targetLine=new Lb(d,e),this.add(this.targetLine),this.update()}function of(a){function b(a,b,d){c(a,d),c(b,d)}function c(a,b){f.push(0,0,0),g.push(b.r,b.g,b.b),void 0===h[a]&&(h[a]=[]),h[a].push(f.length/3-1)}var d=new M,e=new Kb({color:16777215,vertexColors:jg}),f=[],g=[],h={},i=new q(16755200),j=new q(16711680),k=new q(43775),l=new q(16777215),m=new q(3355443);b("n1","n2",i),b("n2","n4",i),b("n4","n3",i),b("n3","n1",i),b("f1","f2",i),b("f2","f4",i),b("f4","f3",i),b("f3","f1",i),b("n1","f1",i),b("n2","f2",i),b("n3","f3",i),b("n4","f4",i),b("p","n1",j),b("p","n2",j),b("p","n3",j),b("p","n4",j),b("u1","u2",k),b("u2","u3",k),b("u3","u1",k),b("c","t",l),b("p","c",m),b("cn1","cn2",m),b("cn3","cn4",m),b("cf1","cf2",m),b("cf3","cf4",m),d.addAttribute("position",new I(f,3)),d.addAttribute("color",new I(g,3)),Mb.call(this,d,e),this.camera=a,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=a.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=h,this.update()}function pf(a,b){this.object=a,void 0===b&&(b=16776960);var c=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),d=new Float32Array(24),e=new M;e.setIndex(new A(c,1)),e.addAttribute("position",new A(d,3)),Mb.call(this,e,new Kb({color:b})),this.matrixAutoUpdate=!1,this.update()}function qf(a,b){this.type="Box3Helper",this.box=a;var c=void 0!==b?b:16776960,d=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),e=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],f=new M;f.setIndex(new A(d,1)),f.addAttribute("position",new I(e,3)),Mb.call(this,f,new Kb({color:c})),this.geometry.computeBoundingSphere()}function rf(a,b,c){this.type="PlaneHelper",this.plane=a,this.size=void 0===b?1:b;var d=void 0!==c?c:16776960,e=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],f=new M;f.addAttribute("position",new I(e,3)),f.computeBoundingSphere(),Lb.call(this,f,new Kb({color:d}));var g=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],h=new M;h.addAttribute("position",new I(g,3)),h.computeBoundingSphere(),this.add(new X(h,new S({color:d,opacity:.2,transparent:!0,depthWrite:!1})))}function sf(a,b,c,d,e,f){v.call(this),void 0===d&&(d=16776960),void 0===c&&(c=1),void 0===e&&(e=.2*c),void 0===f&&(f=.2*e),void 0===dj&&(dj=new M,dj.addAttribute("position",new I([0,0,0,0,1,0],3)),ej=new dd(0,.5,1,5,1),ej.translate(0,-.5,0)),this.position.copy(b),this.line=new Lb(dj,new Kb({color:d})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new X(ej,new S({color:d})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(a),this.setLength(c,e,f)}function tf(a){a=a||1;var b=[0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a],c=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],d=new M;d.addAttribute("position",new I(b,3)),d.addAttribute("color",new I(c,3));var e=new Kb({vertexColors:kg});Mb.call(this,d,e)}function uf(a,b,c,d,e,f,g){return new y(a,b,c,e,f,g)}function vf(a){return a}function wf(a){return void 0===a&&(a=[]),a.isMultiMaterial=!0,a.materials=a,a.clone=function(){return a.slice()},a}function xf(a,b){return new Pb(a,b)}function yf(a){return new Fb(a)}function zf(a,b){return new Pb(a,b)}function Af(a){return new Ob(a)}function Bf(a){return new Ob(a)}function Cf(a){return new Ob(a)}function Df(a,b,c){return new f(a,b,c)}function Ef(a,b){return new A(a,b).setDynamic(!0)}function Ff(a,b){return new B(a,b)}function Gf(a,b){return new C(a,b)}function Hf(a,b){return new D(a,b)}function If(a,b){return new E(a,b)}function Jf(a,b){return new F(a,b)}function Kf(a,b){return new G(a,b)}function Lf(a,b){return new H(a,b)}function Mf(a,b){return new I(a,b)}function Nf(a,b){return new J(a,b)}function Of(a){Cd.call(this,a),this.type="catmullrom",this.closed=!0}function Pf(a){Cd.call(this,a),this.type="catmullrom"}function Qf(a){Cd.call(this,a),this.type="catmullrom"}function Rf(a){return new tf(a)}function Sf(a,b){return new pf(a,b)}function Tf(a,b){return new Mb(new bd(a.geometry),new Kb({color:void 0!==b?b:16777215}))}function Uf(a,b){return new Mb(new Ub(a.geometry),new Kb({color:void 0!==b?b:16777215}))}function Vf(a){return new sd(a)}function Wf(a){return new ud(a)}function Xf(){this.projectVector=function(a,b){a.project(b)},this.unprojectVector=function(a,b){a.unproject(b)},this.pickingRay=function(){}}function Yf(){this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}function Zf(){}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a}),void 0===Math.sign&&(Math.sign=function(a){return a<0?-1:a>0?1:+a}),"name"in Function.prototype==!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&function(){Object.assign=function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];if(void 0!==d&&null!==d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(b[e]=d[e])}return b}}(),Object.assign(b.prototype,{addEventListener:function(a,b){void 0===this._listeners&&(this._listeners={});var c=this._listeners;void 0===c[a]&&(c[a]=[]),-1===c[a].indexOf(b)&&c[a].push(b)},hasEventListener:function(a,b){if(void 0===this._listeners)return!1;var c=this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(b)},removeEventListener:function(a,b){if(void 0!==this._listeners){var c=this._listeners,d=c[a];if(void 0!==d){var e=d.indexOf(b);-1!==e&&d.splice(e,1)}}},dispatchEvent:function(a){if(void 0!==this._listeners){var b=this._listeners,c=b[a.type];if(void 0!==c){a.target=this;for(var d=c.slice(0),e=0,f=d.length;e<f;e++)d[e].call(this,a)}}}});var $f="93",_f={LEFT:0,MIDDLE:1,RIGHT:2},ag=0,bg=1,cg=2,dg=1,eg=2,fg=0,gg=1,hg=2,ig=0,jg=1,kg=2,lg=0,mg=1,ng=2,og=3,pg=4,qg=5,rg=100,sg=101,tg=102,ug=103,vg=104,wg=200,xg=201,yg=202,zg=203,Ag=204,Bg=205,Cg=206,Dg=207,Eg=208,Fg=209,Gg=210,Hg=0,Ig=1,Jg=2,Kg=3,Lg=4,Mg=5,Ng=6,Og=7,Pg=0,Qg=1,Rg=2,Sg=0,Tg=1,Ug=2,Vg=3,Wg=4,Xg=301,Yg=302,Zg=303,$g=304,_g=305,ah=306,bh=307,ch=1e3,dh=1001,eh=1002,fh=1003,gh=1004,hh=1005,ih=1006,jh=1007,kh=1008,lh=1009,mh=1010,nh=1011,oh=1012,ph=1013,qh=1014,rh=1015,sh=1016,th=1017,uh=1018,vh=1019,wh=1020,xh=1021,yh=1022,zh=1023,Ah=1024,Bh=1025,Ch=zh,Dh=1026,Eh=1027,Fh=33776,Gh=33777,Hh=33778,Ih=33779,Jh=35840,Kh=35841,Lh=35842,Mh=35843,Nh=36196,Oh=37808,Ph=37809,Qh=37810,Rh=37811,Sh=37812,Th=37813,Uh=37814,Vh=37815,Wh=37816,Xh=37817,Yh=37818,Zh=37819,$h=37820,_h=37821,ai=2201,bi=2400,ci=0,di=1,ei=2,fi=3e3,gi=3001,hi=3007,ii=3002,ji=3004,ki=3005,li=3006,mi=3200,ni=3201,oi={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var a=[],b=0;b<256;b++)a[b]=(b<16?"0":"")+b.toString(16);return function(){var b=4294967295*Math.random()|0,c=4294967295*Math.random()|0,d=4294967295*Math.random()|0,e=4294967295*Math.random()|0;return(a[255&b]+a[b>>8&255]+a[b>>16&255]+a[b>>24&255]+"-"+a[255&c]+a[c>>8&255]+"-"+a[c>>16&15|64]+a[c>>24&255]+"-"+a[63&d|128]+a[d>>8&255]+"-"+a[d>>16&255]+a[d>>24&255]+a[255&e]+a[e>>8&255]+a[e>>16&255]+a[e>>24&255]).toUpperCase()}}(),clamp:function(a,b,c){return Math.max(b,Math.min(c,a))},euclideanModulo:function(a,b){return(a%b+b)%b},mapLinear:function(a,b,c,d,e){return d+(a-b)*(e-d)/(c-b)},lerp:function(a,b,c){return(1-c)*a+c*b},smoothstep:function(a,b,c){return a<=b?0:a>=c?1:(a=(a-b)/(c-b))*a*(3-2*a)},smootherstep:function(a,b,c){return a<=b?0:a>=c?1:(a=(a-b)/(c-b))*a*a*(a*(6*a-15)+10)},randInt:function(a,b){return a+Math.floor(Math.random()*(b-a+1))},randFloat:function(a,b){return a+Math.random()*(b-a)},randFloatSpread:function(a){return a*(.5-Math.random())},degToRad:function(a){return a*oi.DEG2RAD},radToDeg:function(a){return a*oi.RAD2DEG},isPowerOfTwo:function(a){return 0==(a&a-1)&&0!==a},ceilPowerOfTwo:function(a){return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))},floorPowerOfTwo:function(a){return Math.pow(2,Math.floor(Math.log(a)/Math.LN2))}};Object.defineProperties(c.prototype,{width:{get:function(){return this.x},set:function(a){this.x=a}},height:{get:function(){return this.y},set:function(a){this.y=a}}}),Object.assign(c.prototype,{isVector2:!0,set:function(a,b){return this.x=a,this.y=b,this},setScalar:function(a){return this.x=a,this.y=a,this},setX:function(a){return this.x=a,this},setY:function(a){return this.y=a,this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw new Error("index is out of range: "+a)}return this},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+a)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(a){return this.x=a.x,this.y=a.y,this},add:function(a,b){return void 0!==b?this.addVectors(a,b):(this.x+=a.x,this.y+=a.y,this)},addScalar:function(a){return this.x+=a,this.y+=a,this},addVectors:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this},addScaledVector:function(a,b){return this.x+=a.x*b,this.y+=a.y*b,this},sub:function(a,b){return void 0!==b?this.subVectors(a,b):(this.x-=a.x,this.y-=a.y,this)},subScalar:function(a){return this.x-=a,this.y-=a,this},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this},multiplyScalar:function(a){return this.x*=a,this.y*=a,this},divide:function(a){return this.x/=a.x,this.y/=a.y,this},divideScalar:function(a){return this.multiplyScalar(1/a)},applyMatrix3:function(a){var b=this.x,c=this.y,d=a.elements;return this.x=d[0]*b+d[3]*c+d[6],this.y=d[1]*b+d[4]*c+d[7],this},min:function(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this},max:function(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this},clamp:function(a,b){return this.x=Math.max(a.x,Math.min(b.x,this.x)),this.y=Math.max(a.y,Math.min(b.y,this.y)),this},clampScalar:function(){var a=new c,b=new c;return function(c,d){return a.set(c,c),b.set(d,d),this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(b,c)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(a){return this.x*a.x+this.y*a.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var a=Math.atan2(this.y,this.x);return a<0&&(a+=2*Math.PI),a},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,c=this.y-a.y;return b*b+c*c},manhattanDistanceTo:function(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)},setLength:function(a){
return this.normalize().multiplyScalar(a)},lerp:function(a,b){return this.x+=(a.x-this.x)*b,this.y+=(a.y-this.y)*b,this},lerpVectors:function(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function(a){return a.x===this.x&&a.y===this.y},fromArray:function(a,b){return void 0===b&&(b=0),this.x=a[b],this.y=a[b+1],this},toArray:function(a,b){return void 0===a&&(a=[]),void 0===b&&(b=0),a[b]=this.x,a[b+1]=this.y,a},fromBufferAttribute:function(a,b,c){return this.x=a.getX(b),this.y=a.getY(b),this},rotateAround:function(a,b){var c=Math.cos(b),d=Math.sin(b),e=this.x-a.x,f=this.y-a.y;return this.x=e*c-f*d+a.x,this.y=e*d+f*c+a.y,this}}),Object.assign(d.prototype,{isMatrix4:!0,set:function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=this.elements;return q[0]=a,q[4]=b,q[8]=c,q[12]=d,q[1]=e,q[5]=f,q[9]=g,q[13]=h,q[2]=i,q[6]=j,q[10]=k,q[14]=l,q[3]=m,q[7]=n,q[11]=o,q[15]=p,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new d).fromArray(this.elements)},copy:function(a){var b=this.elements,c=a.elements;return b[0]=c[0],b[1]=c[1],b[2]=c[2],b[3]=c[3],b[4]=c[4],b[5]=c[5],b[6]=c[6],b[7]=c[7],b[8]=c[8],b[9]=c[9],b[10]=c[10],b[11]=c[11],b[12]=c[12],b[13]=c[13],b[14]=c[14],b[15]=c[15],this},copyPosition:function(a){var b=this.elements,c=a.elements;return b[12]=c[12],b[13]=c[13],b[14]=c[14],this},extractBasis:function(a,b,c){return a.setFromMatrixColumn(this,0),b.setFromMatrixColumn(this,1),c.setFromMatrixColumn(this,2),this},makeBasis:function(a,b,c){return this.set(a.x,b.x,c.x,0,a.y,b.y,c.y,0,a.z,b.z,c.z,0,0,0,0,1),this},extractRotation:function(){var a=new f;return function(b){var c=this.elements,d=b.elements,e=1/a.setFromMatrixColumn(b,0).length(),f=1/a.setFromMatrixColumn(b,1).length(),g=1/a.setFromMatrixColumn(b,2).length();return c[0]=d[0]*e,c[1]=d[1]*e,c[2]=d[2]*e,c[3]=0,c[4]=d[4]*f,c[5]=d[5]*f,c[6]=d[6]*f,c[7]=0,c[8]=d[8]*g,c[9]=d[9]*g,c[10]=d[10]*g,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,this}}(),makeRotationFromEuler:function(a){!a||a.isEuler;var b=this.elements,c=a.x,d=a.y,e=a.z,f=Math.cos(c),g=Math.sin(c),h=Math.cos(d),i=Math.sin(d),j=Math.cos(e),k=Math.sin(e);if("XYZ"===a.order){var l=f*j,m=f*k,n=g*j,o=g*k;b[0]=h*j,b[4]=-h*k,b[8]=i,b[1]=m+n*i,b[5]=l-o*i,b[9]=-g*h,b[2]=o-l*i,b[6]=n+m*i,b[10]=f*h}else if("YXZ"===a.order){var p=h*j,q=h*k,r=i*j,s=i*k;b[0]=p+s*g,b[4]=r*g-q,b[8]=f*i,b[1]=f*k,b[5]=f*j,b[9]=-g,b[2]=q*g-r,b[6]=s+p*g,b[10]=f*h}else if("ZXY"===a.order){var p=h*j,q=h*k,r=i*j,s=i*k;b[0]=p-s*g,b[4]=-f*k,b[8]=r+q*g,b[1]=q+r*g,b[5]=f*j,b[9]=s-p*g,b[2]=-f*i,b[6]=g,b[10]=f*h}else if("ZYX"===a.order){var l=f*j,m=f*k,n=g*j,o=g*k;b[0]=h*j,b[4]=n*i-m,b[8]=l*i+o,b[1]=h*k,b[5]=o*i+l,b[9]=m*i-n,b[2]=-i,b[6]=g*h,b[10]=f*h}else if("YZX"===a.order){var t=f*h,u=f*i,v=g*h,w=g*i;b[0]=h*j,b[4]=w-t*k,b[8]=v*k+u,b[1]=k,b[5]=f*j,b[9]=-g*j,b[2]=-i*j,b[6]=u*k+v,b[10]=t-w*k}else if("XZY"===a.order){var t=f*h,u=f*i,v=g*h,w=g*i;b[0]=h*j,b[4]=-k,b[8]=i*j,b[1]=t*k+w,b[5]=f*j,b[9]=u*k-v,b[2]=v*k-u,b[6]=g*j,b[10]=w*k+t}return b[3]=0,b[7]=0,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,this},makeRotationFromQuaternion:function(){var a=new f(0,0,0),b=new f(1,1,1);return function(c){return this.compose(a,c,b)}}(),lookAt:function(){var a=new f,b=new f,c=new f;return function(d,e,f){var g=this.elements;return c.subVectors(d,e),0===c.lengthSq()&&(c.z=1),c.normalize(),a.crossVectors(f,c),0===a.lengthSq()&&(1===Math.abs(f.z)?c.x+=1e-4:c.z+=1e-4,c.normalize(),a.crossVectors(f,c)),a.normalize(),b.crossVectors(c,a),g[0]=a.x,g[4]=b.x,g[8]=c.x,g[1]=a.y,g[5]=b.y,g[9]=c.y,g[2]=a.z,g[6]=b.z,g[10]=c.z,this}}(),multiply:function(a,b){return void 0!==b?this.multiplyMatrices(a,b):this.multiplyMatrices(this,a)},premultiply:function(a){return this.multiplyMatrices(a,this)},multiplyMatrices:function(a,b){var c=a.elements,d=b.elements,e=this.elements,f=c[0],g=c[4],h=c[8],i=c[12],j=c[1],k=c[5],l=c[9],m=c[13],n=c[2],o=c[6],p=c[10],q=c[14],r=c[3],s=c[7],t=c[11],u=c[15],v=d[0],w=d[4],x=d[8],y=d[12],z=d[1],A=d[5],B=d[9],C=d[13],D=d[2],E=d[6],F=d[10],G=d[14],H=d[3],I=d[7],J=d[11],K=d[15];return e[0]=f*v+g*z+h*D+i*H,e[4]=f*w+g*A+h*E+i*I,e[8]=f*x+g*B+h*F+i*J,e[12]=f*y+g*C+h*G+i*K,e[1]=j*v+k*z+l*D+m*H,e[5]=j*w+k*A+l*E+m*I,e[9]=j*x+k*B+l*F+m*J,e[13]=j*y+k*C+l*G+m*K,e[2]=n*v+o*z+p*D+q*H,e[6]=n*w+o*A+p*E+q*I,e[10]=n*x+o*B+p*F+q*J,e[14]=n*y+o*C+p*G+q*K,e[3]=r*v+s*z+t*D+u*H,e[7]=r*w+s*A+t*E+u*I,e[11]=r*x+s*B+t*F+u*J,e[15]=r*y+s*C+t*G+u*K,this},multiplyScalar:function(a){var b=this.elements;return b[0]*=a,b[4]*=a,b[8]*=a,b[12]*=a,b[1]*=a,b[5]*=a,b[9]*=a,b[13]*=a,b[2]*=a,b[6]*=a,b[10]*=a,b[14]*=a,b[3]*=a,b[7]*=a,b[11]*=a,b[15]*=a,this},applyToBufferAttribute:function(){var a=new f;return function(b){for(var c=0,d=b.count;c<d;c++)a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),a.applyMatrix4(this),b.setXYZ(c,a.x,a.y,a.z);return b}}(),determinant:function(){var a=this.elements,b=a[0],c=a[4],d=a[8],e=a[12],f=a[1],g=a[5],h=a[9],i=a[13],j=a[2],k=a[6],l=a[10],m=a[14];return a[3]*(+e*h*k-d*i*k-e*g*l+c*i*l+d*g*m-c*h*m)+a[7]*(+b*h*m-b*i*l+e*f*l-d*f*m+d*i*j-e*h*j)+a[11]*(+b*i*k-b*g*m-e*f*k+c*f*m+e*g*j-c*i*j)+a[15]*(-d*g*j-b*h*k+b*g*l+d*f*k-c*f*l+c*h*j)},transpose:function(){var a,b=this.elements;return a=b[1],b[1]=b[4],b[4]=a,a=b[2],b[2]=b[8],b[8]=a,a=b[6],b[6]=b[9],b[9]=a,a=b[3],b[3]=b[12],b[12]=a,a=b[7],b[7]=b[13],b[13]=a,a=b[11],b[11]=b[14],b[14]=a,this},setPosition:function(a){var b=this.elements;return b[12]=a.x,b[13]=a.y,b[14]=a.z,this},getInverse:function(a,b){var c=this.elements,d=a.elements,e=d[0],f=d[1],g=d[2],h=d[3],i=d[4],j=d[5],k=d[6],l=d[7],m=d[8],n=d[9],o=d[10],p=d[11],q=d[12],r=d[13],s=d[14],t=d[15],u=n*s*l-r*o*l+r*k*p-j*s*p-n*k*t+j*o*t,v=q*o*l-m*s*l-q*k*p+i*s*p+m*k*t-i*o*t,w=m*r*l-q*n*l+q*j*p-i*r*p-m*j*t+i*n*t,x=q*n*k-m*r*k-q*j*o+i*r*o+m*j*s-i*n*s,y=e*u+f*v+g*w+h*x;if(0===y){var z="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===b)throw new Error(z);return this.identity()}var A=1/y;return c[0]=u*A,c[1]=(r*o*h-n*s*h-r*g*p+f*s*p+n*g*t-f*o*t)*A,c[2]=(j*s*h-r*k*h+r*g*l-f*s*l-j*g*t+f*k*t)*A,c[3]=(n*k*h-j*o*h-n*g*l+f*o*l+j*g*p-f*k*p)*A,c[4]=v*A,c[5]=(m*s*h-q*o*h+q*g*p-e*s*p-m*g*t+e*o*t)*A,c[6]=(q*k*h-i*s*h-q*g*l+e*s*l+i*g*t-e*k*t)*A,c[7]=(i*o*h-m*k*h+m*g*l-e*o*l-i*g*p+e*k*p)*A,c[8]=w*A,c[9]=(q*n*h-m*r*h-q*f*p+e*r*p+m*f*t-e*n*t)*A,c[10]=(i*r*h-q*j*h+q*f*l-e*r*l-i*f*t+e*j*t)*A,c[11]=(m*j*h-i*n*h-m*f*l+e*n*l+i*f*p-e*j*p)*A,c[12]=x*A,c[13]=(m*r*g-q*n*g+q*f*o-e*r*o-m*f*s+e*n*s)*A,c[14]=(q*j*g-i*r*g-q*f*k+e*r*k+i*f*s-e*j*s)*A,c[15]=(i*n*g-m*j*g+m*f*k-e*n*k-i*f*o+e*j*o)*A,this},scale:function(a){var b=this.elements,c=a.x,d=a.y,e=a.z;return b[0]*=c,b[4]*=d,b[8]*=e,b[1]*=c,b[5]*=d,b[9]*=e,b[2]*=c,b[6]*=d,b[10]*=e,b[3]*=c,b[7]*=d,b[11]*=e,this},getMaxScaleOnAxis:function(){var a=this.elements,b=a[0]*a[0]+a[1]*a[1]+a[2]*a[2],c=a[4]*a[4]+a[5]*a[5]+a[6]*a[6],d=a[8]*a[8]+a[9]*a[9]+a[10]*a[10];return Math.sqrt(Math.max(b,c,d))},makeTranslation:function(a,b,c){return this.set(1,0,0,a,0,1,0,b,0,0,1,c,0,0,0,1),this},makeRotationX:function(a){var b=Math.cos(a),c=Math.sin(a);return this.set(1,0,0,0,0,b,-c,0,0,c,b,0,0,0,0,1),this},makeRotationY:function(a){var b=Math.cos(a),c=Math.sin(a);return this.set(b,0,c,0,0,1,0,0,-c,0,b,0,0,0,0,1),this},makeRotationZ:function(a){var b=Math.cos(a),c=Math.sin(a);return this.set(b,-c,0,0,c,b,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(a,b){var c=Math.cos(b),d=Math.sin(b),e=1-c,f=a.x,g=a.y,h=a.z,i=e*f,j=e*g;return this.set(i*f+c,i*g-d*h,i*h+d*g,0,i*g+d*h,j*g+c,j*h-d*f,0,i*h-d*g,j*h+d*f,e*h*h+c,0,0,0,0,1),this},makeScale:function(a,b,c){return this.set(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1),this},makeShear:function(a,b,c){return this.set(1,b,c,0,a,1,c,0,a,b,1,0,0,0,0,1),this},compose:function(a,b,c){var d=this.elements,e=b._x,f=b._y,g=b._z,h=b._w,i=e+e,j=f+f,k=g+g,l=e*i,m=e*j,n=e*k,o=f*j,p=f*k,q=g*k,r=h*i,s=h*j,t=h*k,u=c.x,v=c.y,w=c.z;return d[0]=(1-(o+q))*u,d[1]=(m+t)*u,d[2]=(n-s)*u,d[3]=0,d[4]=(m-t)*v,d[5]=(1-(l+q))*v,d[6]=(p+r)*v,d[7]=0,d[8]=(n+s)*w,d[9]=(p-r)*w,d[10]=(1-(l+o))*w,d[11]=0,d[12]=a.x,d[13]=a.y,d[14]=a.z,d[15]=1,this},decompose:function(){var a=new f,b=new d;return function(c,d,e){var f=this.elements,g=a.set(f[0],f[1],f[2]).length(),h=a.set(f[4],f[5],f[6]).length(),i=a.set(f[8],f[9],f[10]).length();this.determinant()<0&&(g=-g),c.x=f[12],c.y=f[13],c.z=f[14],b.copy(this);var j=1/g,k=1/h,l=1/i;return b.elements[0]*=j,b.elements[1]*=j,b.elements[2]*=j,b.elements[4]*=k,b.elements[5]*=k,b.elements[6]*=k,b.elements[8]*=l,b.elements[9]*=l,b.elements[10]*=l,d.setFromRotationMatrix(b),e.x=g,e.y=h,e.z=i,this}}(),makePerspective:function(a,b,c,d,e,f){var g=this.elements,h=2*e/(b-a),i=2*e/(c-d),j=(b+a)/(b-a),k=(c+d)/(c-d),l=-(f+e)/(f-e),m=-2*f*e/(f-e);return g[0]=h,g[4]=0,g[8]=j,g[12]=0,g[1]=0,g[5]=i,g[9]=k,g[13]=0,g[2]=0,g[6]=0,g[10]=l,g[14]=m,g[3]=0,g[7]=0,g[11]=-1,g[15]=0,this},makeOrthographic:function(a,b,c,d,e,f){var g=this.elements,h=1/(b-a),i=1/(c-d),j=1/(f-e),k=(b+a)*h,l=(c+d)*i,m=(f+e)*j;return g[0]=2*h,g[4]=0,g[8]=0,g[12]=-k,g[1]=0,g[5]=2*i,g[9]=0,g[13]=-l,g[2]=0,g[6]=0,g[10]=-2*j,g[14]=-m,g[3]=0,g[7]=0,g[11]=0,g[15]=1,this},equals:function(a){for(var b=this.elements,c=a.elements,d=0;d<16;d++)if(b[d]!==c[d])return!1;return!0},fromArray:function(a,b){void 0===b&&(b=0);for(var c=0;c<16;c++)this.elements[c]=a[c+b];return this},toArray:function(a,b){void 0===a&&(a=[]),void 0===b&&(b=0);var c=this.elements;return a[b]=c[0],a[b+1]=c[1],a[b+2]=c[2],a[b+3]=c[3],a[b+4]=c[4],a[b+5]=c[5],a[b+6]=c[6],a[b+7]=c[7],a[b+8]=c[8],a[b+9]=c[9],a[b+10]=c[10],a[b+11]=c[11],a[b+12]=c[12],a[b+13]=c[13],a[b+14]=c[14],a[b+15]=c[15],a}}),Object.assign(e,{slerp:function(a,b,c,d){return c.copy(a).slerp(b,d)},slerpFlat:function(a,b,c,d,e,f,g){var h=c[d+0],i=c[d+1],j=c[d+2],k=c[d+3],l=e[f+0],m=e[f+1],n=e[f+2],o=e[f+3];if(k!==o||h!==l||i!==m||j!==n){var p=1-g,q=h*l+i*m+j*n+k*o,r=q>=0?1:-1,s=1-q*q;if(s>Number.EPSILON){var t=Math.sqrt(s),u=Math.atan2(t,q*r);p=Math.sin(p*u)/t,g=Math.sin(g*u)/t}var v=g*r;if(h=h*p+l*v,i=i*p+m*v,j=j*p+n*v,k=k*p+o*v,p===1-g){var w=1/Math.sqrt(h*h+i*i+j*j+k*k);h*=w,i*=w,j*=w,k*=w}}a[b]=h,a[b+1]=i,a[b+2]=j,a[b+3]=k}}),Object.defineProperties(e.prototype,{x:{get:function(){return this._x},set:function(a){this._x=a,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(a){this._y=a,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(a){this._z=a,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(a){this._w=a,this.onChangeCallback()}}}),Object.assign(e.prototype,{set:function(a,b,c,d){return this._x=a,this._y=b,this._z=c,this._w=d,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(a){return this._x=a.x,this._y=a.y,this._z=a.z,this._w=a.w,this.onChangeCallback(),this},setFromEuler:function(a,b){if(!a||!a.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var c=a._x,d=a._y,e=a._z,f=a.order,g=Math.cos,h=Math.sin,i=g(c/2),j=g(d/2),k=g(e/2),l=h(c/2),m=h(d/2),n=h(e/2);return"XYZ"===f?(this._x=l*j*k+i*m*n,this._y=i*m*k-l*j*n,this._z=i*j*n+l*m*k,this._w=i*j*k-l*m*n):"YXZ"===f?(this._x=l*j*k+i*m*n,this._y=i*m*k-l*j*n,this._z=i*j*n-l*m*k,this._w=i*j*k+l*m*n):"ZXY"===f?(this._x=l*j*k-i*m*n,this._y=i*m*k+l*j*n,this._z=i*j*n+l*m*k,this._w=i*j*k-l*m*n):"ZYX"===f?(this._x=l*j*k-i*m*n,this._y=i*m*k+l*j*n,this._z=i*j*n-l*m*k,this._w=i*j*k+l*m*n):"YZX"===f?(this._x=l*j*k+i*m*n,this._y=i*m*k+l*j*n,this._z=i*j*n-l*m*k,this._w=i*j*k-l*m*n):"XZY"===f&&(this._x=l*j*k-i*m*n,this._y=i*m*k-l*j*n,this._z=i*j*n+l*m*k,this._w=i*j*k+l*m*n),!1!==b&&this.onChangeCallback(),this},setFromAxisAngle:function(a,b){var c=b/2,d=Math.sin(c);return this._x=a.x*d,this._y=a.y*d,this._z=a.z*d,this._w=Math.cos(c),this.onChangeCallback(),this},setFromRotationMatrix:function(a){var b,c=a.elements,d=c[0],e=c[4],f=c[8],g=c[1],h=c[5],i=c[9],j=c[2],k=c[6],l=c[10],m=d+h+l;return m>0?(b=.5/Math.sqrt(m+1),this._w=.25/b,this._x=(k-i)*b,this._y=(f-j)*b,this._z=(g-e)*b):d>h&&d>l?(b=2*Math.sqrt(1+d-h-l),this._w=(k-i)/b,this._x=.25*b,this._y=(e+g)/b,this._z=(f+j)/b):h>l?(b=2*Math.sqrt(1+h-d-l),this._w=(f-j)/b,this._x=(e+g)/b,this._y=.25*b,this._z=(i+k)/b):(b=2*Math.sqrt(1+l-d-h),this._w=(g-e)/b,this._x=(f+j)/b,this._y=(i+k)/b,this._z=.25*b),this.onChangeCallback(),this},setFromUnitVectors:function(){var a,b=new f;return function(c,d){return void 0===b&&(b=new f),a=c.dot(d)+1,a<1e-6?(a=0,Math.abs(c.x)>Math.abs(c.z)?b.set(-c.y,c.x,0):b.set(0,-c.z,c.y)):b.crossVectors(c,d),this._x=b.x,this._y=b.y,this._z=b.z,this._w=a,this.normalize()}}(),inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var a=this.length();return 0===a?(this._x=0,this._y=0,this._z=0,this._w=1):(a=1/a,this._x=this._x*a,this._y=this._y*a,this._z=this._z*a,this._w=this._w*a),this.onChangeCallback(),this},multiply:function(a,b){return void 0!==b?this.multiplyQuaternions(a,b):this.multiplyQuaternions(this,a)},premultiply:function(a){return this.multiplyQuaternions(a,this)},multiplyQuaternions:function(a,b){var c=a._x,d=a._y,e=a._z,f=a._w,g=b._x,h=b._y,i=b._z,j=b._w;return this._x=c*j+f*g+d*i-e*h,this._y=d*j+f*h+e*g-c*i,this._z=e*j+f*i+c*h-d*g,this._w=f*j-c*g-d*h-e*i,this.onChangeCallback(),this},slerp:function(a,b){if(0===b)return this;if(1===b)return this.copy(a);var c=this._x,d=this._y,e=this._z,f=this._w,g=f*a._w+c*a._x+d*a._y+e*a._z;if(g<0?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,g=-g):this.copy(a),g>=1)return this._w=f,this._x=c,this._y=d,this._z=e,this;var h=Math.sqrt(1-g*g);if(Math.abs(h)<.001)return this._w=.5*(f+this._w),this._x=.5*(c+this._x),this._y=.5*(d+this._y),this._z=.5*(e+this._z),this;var i=Math.atan2(h,g),j=Math.sin((1-b)*i)/h,k=Math.sin(b*i)/h;return this._w=f*j+this._w*k,this._x=c*j+this._x*k,this._y=d*j+this._y*k,this._z=e*j+this._z*k,this.onChangeCallback(),this},equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w},fromArray:function(a,b){return void 0===b&&(b=0),this._x=a[b],this._y=a[b+1],this._z=a[b+2],this._w=a[b+3],this.onChangeCallback(),this},toArray:function(a,b){return void 0===a&&(a=[]),void 0===b&&(b=0),a[b]=this._x,a[b+1]=this._y,a[b+2]=this._z,a[b+3]=this._w,a},onChange:function(a){return this.onChangeCallback=a,this},onChangeCallback:function(){}}),Object.assign(f.prototype,{isVector3:!0,set:function(a,b,c){return this.x=a,this.y=b,this.z=c,this},setScalar:function(a){return this.x=a,this.y=a,this.z=a,this},setX:function(a){return this.x=a,this},setY:function(a){return this.y=a,this},setZ:function(a){return this.z=a,this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw new Error("index is out of range: "+a)}return this},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+a)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z,this},add:function(a,b){return void 0!==b?this.addVectors(a,b):(this.x+=a.x,this.y+=a.y,this.z+=a.z,this)},addScalar:function(a){return this.x+=a,this.y+=a,this.z+=a,this},addVectors:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+b.z,this},addScaledVector:function(a,b){return this.x+=a.x*b,this.y+=a.y*b,this.z+=a.z*b,this},sub:function(a,b){return void 0!==b?this.subVectors(a,b):(this.x-=a.x,this.y-=a.y,this.z-=a.z,this)},subScalar:function(a){return this.x-=a,this.y-=a,this.z-=a,this},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z,this},multiply:function(a,b){return void 0!==b?this.multiplyVectors(a,b):(this.x*=a.x,this.y*=a.y,this.z*=a.z,this)},multiplyScalar:function(a){return this.x*=a,this.y*=a,this.z*=a,this},multiplyVectors:function(a,b){return this.x=a.x*b.x,this.y=a.y*b.y,this.z=a.z*b.z,this},applyEuler:function(){var a=new e;return function(b){return!b||b.isEuler,this.applyQuaternion(a.setFromEuler(b))}}(),applyAxisAngle:function(){var a=new e;return function(b,c){return this.applyQuaternion(a.setFromAxisAngle(b,c))}}(),applyMatrix3:function(a){var b=this.x,c=this.y,d=this.z,e=a.elements;return this.x=e[0]*b+e[3]*c+e[6]*d,this.y=e[1]*b+e[4]*c+e[7]*d,this.z=e[2]*b+e[5]*c+e[8]*d,this},applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z,e=a.elements,f=1/(e[3]*b+e[7]*c+e[11]*d+e[15]);return this.x=(e[0]*b+e[4]*c+e[8]*d+e[12])*f,this.y=(e[1]*b+e[5]*c+e[9]*d+e[13])*f,this.z=(e[2]*b+e[6]*c+e[10]*d+e[14])*f,this},applyQuaternion:function(a){var b=this.x,c=this.y,d=this.z,e=a.x,f=a.y,g=a.z,h=a.w,i=h*b+f*d-g*c,j=h*c+g*b-e*d,k=h*d+e*c-f*b,l=-e*b-f*c-g*d;return this.x=i*h+l*-e+j*-g-k*-f,this.y=j*h+l*-f+k*-e-i*-g,this.z=k*h+l*-g+i*-f-j*-e,this},project:function(){var a=new d;return function(b){return a.multiplyMatrices(b.projectionMatrix,a.getInverse(b.matrixWorld)),this.applyMatrix4(a)}}(),unproject:function(){var a=new d;return function(b){return a.multiplyMatrices(b.matrixWorld,a.getInverse(b.projectionMatrix)),this.applyMatrix4(a)}}(),transformDirection:function(a){var b=this.x,c=this.y,d=this.z,e=a.elements;return this.x=e[0]*b+e[4]*c+e[8]*d,this.y=e[1]*b+e[5]*c+e[9]*d,this.z=e[2]*b+e[6]*c+e[10]*d,this.normalize()},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z,this},divideScalar:function(a){return this.multiplyScalar(1/a)},min:function(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this},max:function(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this},clamp:function(a,b){return this.x=Math.max(a.x,Math.min(b.x,this.x)),this.y=Math.max(a.y,Math.min(b.y,this.y)),this.z=Math.max(a.z,Math.min(b.z,this.z)),this},clampScalar:function(){var a=new f,b=new f;return function(c,d){return a.set(c,c,c),b.set(d,d,d),this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(b,c)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(a){return this.normalize().multiplyScalar(a)},lerp:function(a,b){return this.x+=(a.x-this.x)*b,this.y+=(a.y-this.y)*b,this.z+=(a.z-this.z)*b,this},lerpVectors:function(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},cross:function(a,b){return void 0!==b?this.crossVectors(a,b):this.crossVectors(this,a)},crossVectors:function(a,b){var c=a.x,d=a.y,e=a.z,f=b.x,g=b.y,h=b.z;return this.x=d*h-e*g,this.y=e*f-c*h,this.z=c*g-d*f,this},projectOnVector:function(a){var b=a.dot(this)/a.lengthSq();return this.copy(a).multiplyScalar(b)},projectOnPlane:function(){var a=new f;return function(b){return a.copy(this).projectOnVector(b),this.sub(a)}}(),reflect:function(){var a=new f;return function(b){return this.sub(a.copy(b).multiplyScalar(2*this.dot(b)))}}(),angleTo:function(a){var b=this.dot(a)/Math.sqrt(this.lengthSq()*a.lengthSq());return Math.acos(oi.clamp(b,-1,1))},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,c=this.y-a.y,d=this.z-a.z;return b*b+c*c+d*d},manhattanDistanceTo:function(a){return Math.abs(this.x-a.x)+Math.abs(this.y-a.y)+Math.abs(this.z-a.z)},setFromSpherical:function(a){var b=Math.sin(a.phi)*a.radius;return this.x=b*Math.sin(a.theta),this.y=Math.cos(a.phi)*a.radius,this.z=b*Math.cos(a.theta),this},setFromCylindrical:function(a){return this.x=a.radius*Math.sin(a.theta),this.y=a.y,this.z=a.radius*Math.cos(a.theta),this},setFromMatrixPosition:function(a){var b=a.elements;return this.x=b[12],this.y=b[13],this.z=b[14],this},setFromMatrixScale:function(a){var b=this.setFromMatrixColumn(a,0).length(),c=this.setFromMatrixColumn(a,1).length(),d=this.setFromMatrixColumn(a,2).length();return this.x=b,this.y=c,this.z=d,this},setFromMatrixColumn:function(a,b){return this.fromArray(a.elements,4*b)},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z},fromArray:function(a,b){return void 0===b&&(b=0),this.x=a[b],this.y=a[b+1],this.z=a[b+2],this},toArray:function(a,b){return void 0===a&&(a=[]),void 0===b&&(b=0),a[b]=this.x,a[b+1]=this.y,a[b+2]=this.z,a},fromBufferAttribute:function(a,b,c){return this.x=a.getX(b),this.y=a.getY(b),this.z=a.getZ(b),this}}),Object.assign(g.prototype,{isMatrix3:!0,set:function(a,b,c,d,e,f,g,h,i){var j=this.elements;return j[0]=a,j[1]=d,j[2]=g,j[3]=b,j[4]=e,j[5]=h,j[6]=c,j[7]=f,j[8]=i,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(a){var b=this.elements,c=a.elements;return b[0]=c[0],b[1]=c[1],b[2]=c[2],b[3]=c[3],b[4]=c[4],b[5]=c[5],b[6]=c[6],b[7]=c[7],b[8]=c[8],this},setFromMatrix4:function(a){var b=a.elements;return this.set(b[0],b[4],b[8],b[1],b[5],b[9],b[2],b[6],b[10]),this},applyToBufferAttribute:function(){var a=new f;return function(b){for(var c=0,d=b.count;c<d;c++)a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),a.applyMatrix3(this),b.setXYZ(c,a.x,a.y,a.z);return b}}(),multiply:function(a){return this.multiplyMatrices(this,a)},premultiply:function(a){return this.multiplyMatrices(a,this)},multiplyMatrices:function(a,b){var c=a.elements,d=b.elements,e=this.elements,f=c[0],g=c[3],h=c[6],i=c[1],j=c[4],k=c[7],l=c[2],m=c[5],n=c[8],o=d[0],p=d[3],q=d[6],r=d[1],s=d[4],t=d[7],u=d[2],v=d[5],w=d[8];return e[0]=f*o+g*r+h*u,e[3]=f*p+g*s+h*v,e[6]=f*q+g*t+h*w,e[1]=i*o+j*r+k*u,e[4]=i*p+j*s+k*v,e[7]=i*q+j*t+k*w,e[2]=l*o+m*r+n*u,e[5]=l*p+m*s+n*v,e[8]=l*q+m*t+n*w,this},multiplyScalar:function(a){var b=this.elements;return b[0]*=a,b[3]*=a,b[6]*=a,b[1]*=a,b[4]*=a,b[7]*=a,b[2]*=a,b[5]*=a,b[8]*=a,this},determinant:function(){var a=this.elements,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8];return b*f*j-b*g*i-c*e*j+c*g*h+d*e*i-d*f*h},getInverse:function(a,b){a&&a.isMatrix4;var c=a.elements,d=this.elements,e=c[0],f=c[1],g=c[2],h=c[3],i=c[4],j=c[5],k=c[6],l=c[7],m=c[8],n=m*i-j*l,o=j*k-m*h,p=l*h-i*k,q=e*n+f*o+g*p;if(0===q){var r="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===b)throw new Error(r);return this.identity()}var s=1/q;return d[0]=n*s,d[1]=(g*l-m*f)*s,d[2]=(j*f-g*i)*s,d[3]=o*s,d[4]=(m*e-g*k)*s,d[5]=(g*h-j*e)*s,d[6]=p*s,d[7]=(f*k-l*e)*s,d[8]=(i*e-f*h)*s,this},transpose:function(){var a,b=this.elements;return a=b[1],b[1]=b[3],b[3]=a,a=b[2],b[2]=b[6],b[6]=a,a=b[5],b[5]=b[7],b[7]=a,this},getNormalMatrix:function(a){return this.setFromMatrix4(a).getInverse(this).transpose()},transposeIntoArray:function(a){var b=this.elements;return a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8],this},setUvTransform:function(a,b,c,d,e,f,g){var h=Math.cos(e),i=Math.sin(e);this.set(c*h,c*i,-c*(h*f+i*g)+f+a,-d*i,d*h,-d*(-i*f+h*g)+g+b,0,0,1)},scale:function(a,b){var c=this.elements;return c[0]*=a,c[3]*=a,c[6]*=a,c[1]*=b,c[4]*=b,c[7]*=b,this},rotate:function(a){var b=Math.cos(a),c=Math.sin(a),d=this.elements,e=d[0],f=d[3],g=d[6],h=d[1],i=d[4],j=d[7];return d[0]=b*e+c*h,d[3]=b*f+c*i,d[6]=b*g+c*j,d[1]=-c*e+b*h,d[4]=-c*f+b*i,d[7]=-c*g+b*j,this},translate:function(a,b){var c=this.elements;return c[0]+=a*c[2],c[3]+=a*c[5],c[6]+=a*c[8],c[1]+=b*c[2],c[4]+=b*c[5],c[7]+=b*c[8],this},equals:function(a){for(var b=this.elements,c=a.elements,d=0;d<9;d++)if(b[d]!==c[d])return!1;return!0},fromArray:function(a,b){void 0===b&&(b=0);for(var c=0;c<9;c++)this.elements[c]=a[c+b];return this},toArray:function(a,b){void 0===a&&(a=[]),void 0===b&&(b=0);var c=this.elements;return a[b]=c[0],a[b+1]=c[1],a[b+2]=c[2],a[b+3]=c[3],a[b+4]=c[4],a[b+5]=c[5],a[b+6]=c[6],a[b+7]=c[7],a[b+8]=c[8],a}});var pi=0;h.DEFAULT_IMAGE=void 0,h.DEFAULT_MAPPING=300,h.prototype=Object.assign(Object.create(b.prototype),{constructor:h,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){return this.name=a.name,this.image=a.image,this.mipmaps=a.mipmaps.slice(0),this.mapping=a.mapping,this.wrapS=a.wrapS,this.wrapT=a.wrapT,this.magFilter=a.magFilter,this.minFilter=a.minFilter,this.anisotropy=a.anisotropy,this.format=a.format,this.type=a.type,this.offset.copy(a.offset),this.repeat.copy(a.repeat),this.center.copy(a.center),this.rotation=a.rotation,this.matrixAutoUpdate=a.matrixAutoUpdate,this.matrix.copy(a.matrix),this.generateMipmaps=a.generateMipmaps,this.premultiplyAlpha=a.premultiplyAlpha,this.flipY=a.flipY,this.unpackAlignment=a.unpackAlignment,this.encoding=a.encoding,this},toJSON:function(a){var b=void 0===a||"string"==typeof a;if(!b&&void 0!==a.textures[this.uuid])return a.textures[this.uuid];var c={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var d=this.image;void 0===d.uuid&&(d.uuid=oi.generateUUID()),b||void 0!==a.images[d.uuid]||(a.images[d.uuid]={uuid:d.uuid,url:function(a){var b;if(a instanceof HTMLCanvasElement)b=a;else{b=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),b.width=a.width,b.height=a.height;var c=b.getContext("2d");a instanceof ImageData?c.putImageData(a,0,0):c.drawImage(a,0,0,a.width,a.height)}return b.width>2048||b.height>2048?b.toDataURL("image/jpeg",.6):b.toDataURL("image/png")}(d)}),c.image=d.uuid}return b||(a.textures[this.uuid]=c),c},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(a){if(300===this.mapping){if(a.applyMatrix3(this.matrix),a.x<0||a.x>1)switch(this.wrapS){case ch:a.x=a.x-Math.floor(a.x);break;case dh:a.x=a.x<0?0:1;break;case eh:1===Math.abs(Math.floor(a.x)%2)?a.x=Math.ceil(a.x)-a.x:a.x=a.x-Math.floor(a.x)}if(a.y<0||a.y>1)switch(this.wrapT){case ch:a.y=a.y-Math.floor(a.y);break;case dh:a.y=a.y<0?0:1;break;case eh:1===Math.abs(Math.floor(a.y)%2)?a.y=Math.ceil(a.y)-a.y:a.y=a.y-Math.floor(a.y)}this.flipY&&(a.y=1-a.y)}}}),Object.defineProperty(h.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}}),Object.assign(i.prototype,{isVector4:!0,set:function(a,b,c,d){return this.x=a,this.y=b,this.z=c,this.w=d,this},setScalar:function(a){return this.x=a,this.y=a,this.z=a,this.w=a,this},setX:function(a){return this.x=a,this},setY:function(a){return this.y=a,this},setZ:function(a){return this.z=a,this},setW:function(a){return this.w=a,this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=b;break;default:throw new Error("index is out of range: "+a)}return this},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+a)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z,this.w=void 0!==a.w?a.w:1,this},add:function(a,b){return void 0!==b?this.addVectors(a,b):(this.x+=a.x,this.y+=a.y,this.z+=a.z,this.w+=a.w,this)},addScalar:function(a){return this.x+=a,this.y+=a,this.z+=a,this.w+=a,this},addVectors:function(a,b){return this.x=a.x+b.x,this.y=a.y+b.y,this.z=a.z+b.z,this.w=a.w+b.w,this},addScaledVector:function(a,b){return this.x+=a.x*b,this.y+=a.y*b,this.z+=a.z*b,this.w+=a.w*b,this},sub:function(a,b){return void 0!==b?this.subVectors(a,b):(this.x-=a.x,this.y-=a.y,this.z-=a.z,this.w-=a.w,this)},subScalar:function(a){return this.x-=a,this.y-=a,this.z-=a,this.w-=a,this},subVectors:function(a,b){return this.x=a.x-b.x,this.y=a.y-b.y,this.z=a.z-b.z,this.w=a.w-b.w,this},multiplyScalar:function(a){return this.x*=a,this.y*=a,this.z*=a,this.w*=a,this},applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z,e=this.w,f=a.elements;return this.x=f[0]*b+f[4]*c+f[8]*d+f[12]*e,this.y=f[1]*b+f[5]*c+f[9]*d+f[13]*e,this.z=f[2]*b+f[6]*c+f[10]*d+f[14]*e,this.w=f[3]*b+f[7]*c+f[11]*d+f[15]*e,this},divideScalar:function(a){return this.multiplyScalar(1/a)},setAxisAngleFromQuaternion:function(a){this.w=2*Math.acos(a.w);var b=Math.sqrt(1-a.w*a.w);return b<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=a.x/b,this.y=a.y/b,this.z=a.z/b),this},setAxisAngleFromRotationMatrix:function(a){var b,c,d,e,f=a.elements,g=f[0],h=f[4],i=f[8],j=f[1],k=f[5],l=f[9],m=f[2],n=f[6],o=f[10];if(Math.abs(h-j)<.01&&Math.abs(i-m)<.01&&Math.abs(l-n)<.01){if(Math.abs(h+j)<.1&&Math.abs(i+m)<.1&&Math.abs(l+n)<.1&&Math.abs(g+k+o-3)<.1)return this.set(1,0,0,0),this;b=Math.PI;var p=(g+1)/2,q=(k+1)/2,r=(o+1)/2,s=(h+j)/4,t=(i+m)/4,u=(l+n)/4;return p>q&&p>r?p<.01?(c=0,d=.707106781,e=.707106781):(c=Math.sqrt(p),d=s/c,e=t/c):q>r?q<.01?(c=.707106781,d=0,e=.707106781):(d=Math.sqrt(q),c=s/d,e=u/d):r<.01?(c=.707106781,d=.707106781,e=0):(e=Math.sqrt(r),c=t/e,d=u/e),this.set(c,d,e,b),this}var v=Math.sqrt((n-l)*(n-l)+(i-m)*(i-m)+(j-h)*(j-h));return Math.abs(v)<.001&&(v=1),this.x=(n-l)/v,this.y=(i-m)/v,this.z=(j-h)/v,this.w=Math.acos((g+k+o-1)/2),this},min:function(a){return this.x=Math.min(this.x,a.x),this.y=Math.min(this.y,a.y),this.z=Math.min(this.z,a.z),this.w=Math.min(this.w,a.w),this},max:function(a){return this.x=Math.max(this.x,a.x),this.y=Math.max(this.y,a.y),this.z=Math.max(this.z,a.z),this.w=Math.max(this.w,a.w),this},clamp:function(a,b){return this.x=Math.max(a.x,Math.min(b.x,this.x)),this.y=Math.max(a.y,Math.min(b.y,this.y)),this.z=Math.max(a.z,Math.min(b.z,this.z)),this.w=Math.max(a.w,Math.min(b.w,this.w)),this},clampScalar:function(){var a,b;return function(c,d){return void 0===a&&(a=new i,b=new i),a.set(c,c,c,c),b.set(d,d,d,d),this.clamp(a,b)}}(),clampLength:function(a,b){var c=this.length();return this.divideScalar(c||1).multiplyScalar(Math.max(a,Math.min(b,c)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){
return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(a){return this.normalize().multiplyScalar(a)},lerp:function(a,b){return this.x+=(a.x-this.x)*b,this.y+=(a.y-this.y)*b,this.z+=(a.z-this.z)*b,this.w+=(a.w-this.w)*b,this},lerpVectors:function(a,b,c){return this.subVectors(b,a).multiplyScalar(c).add(a)},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w},fromArray:function(a,b){return void 0===b&&(b=0),this.x=a[b],this.y=a[b+1],this.z=a[b+2],this.w=a[b+3],this},toArray:function(a,b){return void 0===a&&(a=[]),void 0===b&&(b=0),a[b]=this.x,a[b+1]=this.y,a[b+2]=this.z,a[b+3]=this.w,a},fromBufferAttribute:function(a,b,c){return this.x=a.getX(b),this.y=a.getY(b),this.z=a.getZ(b),this.w=a.getW(b),this}}),j.prototype=Object.assign(Object.create(b.prototype),{constructor:j,isWebGLRenderTarget:!0,setSize:function(a,b){this.width===a&&this.height===b||(this.width=a,this.height=b,this.dispose()),this.viewport.set(0,0,a,b),this.scissor.set(0,0,a,b)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){return this.width=a.width,this.height=a.height,this.viewport.copy(a.viewport),this.texture=a.texture.clone(),this.depthBuffer=a.depthBuffer,this.stencilBuffer=a.stencilBuffer,this.depthTexture=a.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),k.prototype=Object.create(j.prototype),k.prototype.constructor=k,k.prototype.isWebGLRenderTargetCube=!0,l.prototype=Object.create(h.prototype),l.prototype.constructor=l,l.prototype.isDataTexture=!0,Object.assign(m.prototype,{isBox3:!0,set:function(a,b){return this.min.copy(a),this.max.copy(b),this},setFromArray:function(a){for(var b=1/0,c=1/0,d=1/0,e=-1/0,f=-1/0,g=-1/0,h=0,i=a.length;h<i;h+=3){var j=a[h],k=a[h+1],l=a[h+2];j<b&&(b=j),k<c&&(c=k),l<d&&(d=l),j>e&&(e=j),k>f&&(f=k),l>g&&(g=l)}return this.min.set(b,c,d),this.max.set(e,f,g),this},setFromBufferAttribute:function(a){for(var b=1/0,c=1/0,d=1/0,e=-1/0,f=-1/0,g=-1/0,h=0,i=a.count;h<i;h++){var j=a.getX(h),k=a.getY(h),l=a.getZ(h);j<b&&(b=j),k<c&&(c=k),l<d&&(d=l),j>e&&(e=j),k>f&&(f=k),l>g&&(g=l)}return this.min.set(b,c,d),this.max.set(e,f,g),this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new f;return function(b,c){var d=a.copy(c).multiplyScalar(.5);return this.min.copy(b).sub(d),this.max.copy(b).add(d),this}}(),setFromObject:function(a){return this.makeEmpty(),this.expandByObject(a)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){return this.min.copy(a.min),this.max.copy(a.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(a){return void 0===a&&(a=new f),this.isEmpty()?a.set(0,0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(a){return void 0===a&&(a=new f),this.isEmpty()?a.set(0,0,0):a.subVectors(this.max,this.min)},expandByPoint:function(a){return this.min.min(a),this.max.max(a),this},expandByVector:function(a){return this.min.sub(a),this.max.add(a),this},expandByScalar:function(a){return this.min.addScalar(-a),this.max.addScalar(a),this},expandByObject:function(){function a(a){var f=a.geometry;if(void 0!==f)if(f.isGeometry){var g=f.vertices;for(c=0,d=g.length;c<d;c++)e.copy(g[c]),e.applyMatrix4(a.matrixWorld),b.expandByPoint(e)}else if(f.isBufferGeometry){var h=f.attributes.position;if(void 0!==h)for(c=0,d=h.count;c<d;c++)e.fromBufferAttribute(h,c).applyMatrix4(a.matrixWorld),b.expandByPoint(e)}}var b,c,d,e=new f;return function(c){return b=this,c.updateMatrixWorld(!0),c.traverse(a),this}}(),containsPoint:function(a){return!(a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z)},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z},getParameter:function(a,b){return void 0===b&&(b=new f),b.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(a){return!(a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z)},intersectsSphere:function(){var a=new f;return function(b){return this.clampPoint(b.center,a),a.distanceToSquared(b.center)<=b.radius*b.radius}}(),intersectsPlane:function(a){var b,c;return a.normal.x>0?(b=a.normal.x*this.min.x,c=a.normal.x*this.max.x):(b=a.normal.x*this.max.x,c=a.normal.x*this.min.x),a.normal.y>0?(b+=a.normal.y*this.min.y,c+=a.normal.y*this.max.y):(b+=a.normal.y*this.max.y,c+=a.normal.y*this.min.y),a.normal.z>0?(b+=a.normal.z*this.min.z,c+=a.normal.z*this.max.z):(b+=a.normal.z*this.max.z,c+=a.normal.z*this.min.z),b<=a.constant&&c>=a.constant},intersectsTriangle:function(){function a(a){var e,f;for(e=0,f=a.length-3;e<=f;e+=3){i.fromArray(a,e);var g=k.x*Math.abs(i.x)+k.y*Math.abs(i.y)+k.z*Math.abs(i.z),h=b.dot(i),j=c.dot(i),l=d.dot(i);if(Math.max(-Math.max(h,j,l),Math.min(h,j,l))>g)return!1}return!0}var b=new f,c=new f,d=new f,e=new f,g=new f,h=new f,i=new f,j=new f,k=new f,l=new f;return function(f){if(this.isEmpty())return!1;this.getCenter(j),k.subVectors(this.max,j),b.subVectors(f.a,j),c.subVectors(f.b,j),d.subVectors(f.c,j),e.subVectors(c,b),g.subVectors(d,c),h.subVectors(b,d);var i=[0,-e.z,e.y,0,-g.z,g.y,0,-h.z,h.y,e.z,0,-e.x,g.z,0,-g.x,h.z,0,-h.x,-e.y,e.x,0,-g.y,g.x,0,-h.y,h.x,0];return!!a(i)&&(i=[1,0,0,0,1,0,0,0,1],!!a(i)&&(l.crossVectors(e,g),i=[l.x,l.y,l.z],a(i)))}}(),clampPoint:function(a,b){return void 0===b&&(b=new f),b.copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new f;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),getBoundingSphere:function(){var a=new f;return function(b){return void 0===b&&(b=new n),this.getCenter(b.center),b.radius=.5*this.getSize(a).length(),b}}(),intersect:function(a){return this.min.max(a.min),this.max.min(a.max),this.isEmpty()&&this.makeEmpty(),this},union:function(a){return this.min.min(a.min),this.max.max(a.max),this},applyMatrix4:function(a){if(this.isEmpty())return this;var b=a.elements,c=b[0]*this.min.x,d=b[1]*this.min.x,e=b[2]*this.min.x,f=b[0]*this.max.x,g=b[1]*this.max.x,h=b[2]*this.max.x,i=b[4]*this.min.y,j=b[5]*this.min.y,k=b[6]*this.min.y,l=b[4]*this.max.y,m=b[5]*this.max.y,n=b[6]*this.max.y,o=b[8]*this.min.z,p=b[9]*this.min.z,q=b[10]*this.min.z,r=b[8]*this.max.z,s=b[9]*this.max.z,t=b[10]*this.max.z;return this.min.x=Math.min(c,f)+Math.min(i,l)+Math.min(o,r)+b[12],this.min.y=Math.min(d,g)+Math.min(j,m)+Math.min(p,s)+b[13],this.min.z=Math.min(e,h)+Math.min(k,n)+Math.min(q,t)+b[14],this.max.x=Math.max(c,f)+Math.max(i,l)+Math.max(o,r)+b[12],this.max.y=Math.max(d,g)+Math.max(j,m)+Math.max(p,s)+b[13],this.max.z=Math.max(e,h)+Math.max(k,n)+Math.max(q,t)+b[14],this},translate:function(a){return this.min.add(a),this.max.add(a),this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}}),Object.assign(n.prototype,{set:function(a,b){return this.center.copy(a),this.radius=b,this},setFromPoints:function(){var a=new m;return function(b,c){var d=this.center;void 0!==c?d.copy(c):a.setFromPoints(b).getCenter(d);for(var e=0,f=0,g=b.length;f<g;f++)e=Math.max(e,d.distanceToSquared(b[f]));return this.radius=Math.sqrt(e),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){return this.center.copy(a.center),this.radius=a.radius,this},empty:function(){return this.radius<=0},containsPoint:function(a){return a.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(a){return a.distanceTo(this.center)-this.radius},intersectsSphere:function(a){var b=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=b*b},intersectsBox:function(a){return a.intersectsSphere(this)},intersectsPlane:function(a){return Math.abs(a.distanceToPoint(this.center))<=this.radius},clampPoint:function(a,b){var c=this.center.distanceToSquared(a);return void 0===b&&(b=new f),b.copy(a),c>this.radius*this.radius&&(b.sub(this.center).normalize(),b.multiplyScalar(this.radius).add(this.center)),b},getBoundingBox:function(a){return void 0===a&&(a=new m),a.set(this.center,this.center),a.expandByScalar(this.radius),a},applyMatrix4:function(a){return this.center.applyMatrix4(a),this.radius=this.radius*a.getMaxScaleOnAxis(),this},translate:function(a){return this.center.add(a),this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius}}),Object.assign(o.prototype,{set:function(a,b){return this.normal.copy(a),this.constant=b,this},setComponents:function(a,b,c,d){return this.normal.set(a,b,c),this.constant=d,this},setFromNormalAndCoplanarPoint:function(a,b){return this.normal.copy(a),this.constant=-b.dot(this.normal),this},setFromCoplanarPoints:function(){var a=new f,b=new f;return function(c,d,e){var f=a.subVectors(e,d).cross(b.subVectors(c,d)).normalize();return this.setFromNormalAndCoplanarPoint(f,c),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){return this.normal.copy(a.normal),this.constant=a.constant,this},normalize:function(){var a=1/this.normal.length();return this.normal.multiplyScalar(a),this.constant*=a,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(a){return this.normal.dot(a)+this.constant},distanceToSphere:function(a){return this.distanceToPoint(a.center)-a.radius},projectPoint:function(a,b){return void 0===b&&(b=new f),b.copy(this.normal).multiplyScalar(-this.distanceToPoint(a)).add(a)},intersectLine:function(){var a=new f;return function(b,c){void 0===c&&(c=new f);var d=b.delta(a),e=this.normal.dot(d);if(0!==e){var g=-(b.start.dot(this.normal)+this.constant)/e;if(!(g<0||g>1))return c.copy(d).multiplyScalar(g).add(b.start)}else if(0===this.distanceToPoint(b.start))return c.copy(b.start)}}(),intersectsLine:function(a){var b=this.distanceToPoint(a.start),c=this.distanceToPoint(a.end);return b<0&&c>0||c<0&&b>0},intersectsBox:function(a){return a.intersectsPlane(this)},intersectsSphere:function(a){return a.intersectsPlane(this)},coplanarPoint:function(a){return void 0===a&&(a=new f),a.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var a=new f,b=new g;return function(c,d){var e=d||b.getNormalMatrix(c),f=this.coplanarPoint(a).applyMatrix4(c),g=this.normal.applyMatrix3(e).normalize();return this.constant=-f.dot(g),this}}(),translate:function(a){return this.constant-=a.dot(this.normal),this},equals:function(a){return a.normal.equals(this.normal)&&a.constant===this.constant}}),Object.assign(p.prototype,{set:function(a,b,c,d,e,f){var g=this.planes;return g[0].copy(a),g[1].copy(b),g[2].copy(c),g[3].copy(d),g[4].copy(e),g[5].copy(f),this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){for(var b=this.planes,c=0;c<6;c++)b[c].copy(a.planes[c]);return this},setFromMatrix:function(a){var b=this.planes,c=a.elements,d=c[0],e=c[1],f=c[2],g=c[3],h=c[4],i=c[5],j=c[6],k=c[7],l=c[8],m=c[9],n=c[10],o=c[11],p=c[12],q=c[13],r=c[14],s=c[15];return b[0].setComponents(g-d,k-h,o-l,s-p).normalize(),b[1].setComponents(g+d,k+h,o+l,s+p).normalize(),b[2].setComponents(g+e,k+i,o+m,s+q).normalize(),b[3].setComponents(g-e,k-i,o-m,s-q).normalize(),b[4].setComponents(g-f,k-j,o-n,s-r).normalize(),b[5].setComponents(g+f,k+j,o+n,s+r).normalize(),this},intersectsObject:function(){var a=new n;return function(b){var c=b.geometry;return null===c.boundingSphere&&c.computeBoundingSphere(),a.copy(c.boundingSphere).applyMatrix4(b.matrixWorld),this.intersectsSphere(a)}}(),intersectsSprite:function(){var a=new n;return function(b){return a.center.set(0,0,0),a.radius=.7071067811865476,a.applyMatrix4(b.matrixWorld),this.intersectsSphere(a)}}(),intersectsSphere:function(a){for(var b=this.planes,c=a.center,d=-a.radius,e=0;e<6;e++){if(b[e].distanceToPoint(c)<d)return!1}return!0},intersectsBox:function(){var a=new f,b=new f;return function(c){for(var d=this.planes,e=0;e<6;e++){var f=d[e];a.x=f.normal.x>0?c.min.x:c.max.x,b.x=f.normal.x>0?c.max.x:c.min.x,a.y=f.normal.y>0?c.min.y:c.max.y,b.y=f.normal.y>0?c.max.y:c.min.y,a.z=f.normal.z>0?c.min.z:c.max.z,b.z=f.normal.z>0?c.max.z:c.min.z;var g=f.distanceToPoint(a),h=f.distanceToPoint(b);if(g<0&&h<0)return!1}return!0}}(),containsPoint:function(a){for(var b=this.planes,c=0;c<6;c++)if(b[c].distanceToPoint(a)<0)return!1;return!0}});var qi={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",
encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars_begin:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n",lights_pars_maps:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif\n",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif\n",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",
normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy *= normalScale;\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_pars_maps>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_pars_maps>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_pars_maps>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars_begin>\n#include <lights_pars_maps>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n"},ri={merge:function(a){for(var b={},c=0;c<a.length;c++){var d=this.clone(a[c]);for(var e in d)b[e]=d[e]}return b},clone:function(a){var b={};for(var c in a){b[c]={};for(var d in a[c]){var e=a[c][d];e&&(e.isColor||e.isMatrix3||e.isMatrix4||e.isVector2||e.isVector3||e.isVector4||e.isTexture)?b[c][d]=e.clone():Array.isArray(e)?b[c][d]=e.slice():b[c][d]=e}}return b}},si={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(q.prototype,{isColor:!0,r:1,g:1,b:1,set:function(a){return a&&a.isColor?this.copy(a):"number"==typeof a?this.setHex(a):"string"==typeof a&&this.setStyle(a),this},setScalar:function(a){return this.r=a,this.g=a,this.b=a,this},setHex:function(a){return a=Math.floor(a),this.r=(a>>16&255)/255,this.g=(a>>8&255)/255,this.b=(255&a)/255,this},setRGB:function(a,b,c){return this.r=a,this.g=b,this.b=c,this},setHSL:function(){function a(a,b,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?a+6*(b-a)*c:c<.5?b:c<2/3?a+6*(b-a)*(2/3-c):a}return function(b,c,d){if(b=oi.euclideanModulo(b,1),c=oi.clamp(c,0,1),d=oi.clamp(d,0,1),0===c)this.r=this.g=this.b=d;else{var e=d<=.5?d*(1+c):d+c-d*c,f=2*d-e;this.r=a(f,e,b+1/3),this.g=a(f,e,b),this.b=a(f,e,b-1/3)}return this}}(),setStyle:function(a){function b(a){void 0!==a&&parseFloat(a)}var c;if(c=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(a)){var d,e=c[1],f=c[2];switch(e){case"rgb":case"rgba":if(d=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(f))return this.r=Math.min(255,parseInt(d[1],10))/255,this.g=Math.min(255,parseInt(d[2],10))/255,this.b=Math.min(255,parseInt(d[3],10))/255,b(d[5]),this;if(d=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(f))return this.r=Math.min(100,parseInt(d[1],10))/100,this.g=Math.min(100,parseInt(d[2],10))/100,this.b=Math.min(100,parseInt(d[3],10))/100,b(d[5]),this;break;case"hsl":case"hsla":if(d=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(f)){var g=parseFloat(d[1])/360,h=parseInt(d[2],10)/100,i=parseInt(d[3],10)/100;return b(d[5]),this.setHSL(g,h,i)}}}else if(c=/^\#([A-Fa-f0-9]+)$/.exec(a)){var j=c[1],k=j.length;if(3===k)return this.r=parseInt(j.charAt(0)+j.charAt(0),16)/255,this.g=parseInt(j.charAt(1)+j.charAt(1),16)/255,this.b=parseInt(j.charAt(2)+j.charAt(2),16)/255,this;if(6===k)return this.r=parseInt(j.charAt(0)+j.charAt(1),16)/255,this.g=parseInt(j.charAt(2)+j.charAt(3),16)/255,this.b=parseInt(j.charAt(4)+j.charAt(5),16)/255,this}if(a&&a.length>0){var j=si[a];void 0!==j&&this.setHex(j)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(a){return this.r=a.r,this.g=a.g,this.b=a.b,this},copyGammaToLinear:function(a,b){return void 0===b&&(b=2),this.r=Math.pow(a.r,b),this.g=Math.pow(a.g,b),this.b=Math.pow(a.b,b),this},copyLinearToGamma:function(a,b){void 0===b&&(b=2);var c=b>0?1/b:1;return this.r=Math.pow(a.r,c),this.g=Math.pow(a.g,c),this.b=Math.pow(a.b,c),this},convertGammaToLinear:function(a){return this.copyGammaToLinear(this,a),this},convertLinearToGamma:function(a){return this.copyLinearToGamma(this,a),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(a){void 0===a&&(a={h:0,s:0,l:0});var b,c,d=this.r,e=this.g,f=this.b,g=Math.max(d,e,f),h=Math.min(d,e,f),i=(h+g)/2;if(h===g)b=0,c=0;else{var j=g-h;switch(c=i<=.5?j/(g+h):j/(2-g-h),g){case d:b=(e-f)/j+(e<f?6:0);break;case e:b=(f-d)/j+2;break;case f:b=(d-e)/j+4}b/=6}return a.h=b,a.s=c,a.l=i,a},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(){var a={};return function(b,c,d){return this.getHSL(a),a.h+=b,a.s+=c,a.l+=d,this.setHSL(a.h,a.s,a.l),this}}(),add:function(a){return this.r+=a.r,this.g+=a.g,this.b+=a.b,this},addColors:function(a,b){return this.r=a.r+b.r,this.g=a.g+b.g,this.b=a.b+b.b,this},addScalar:function(a){return this.r+=a,this.g+=a,this.b+=a,this},sub:function(a){return this.r=Math.max(0,this.r-a.r),this.g=Math.max(0,this.g-a.g),this.b=Math.max(0,this.b-a.b),this},multiply:function(a){return this.r*=a.r,this.g*=a.g,this.b*=a.b,this},multiplyScalar:function(a){return this.r*=a,this.g*=a,this.b*=a,this},lerp:function(a,b){return this.r+=(a.r-this.r)*b,this.g+=(a.g-this.g)*b,this.b+=(a.b-this.b)*b,this},equals:function(a){return a.r===this.r&&a.g===this.g&&a.b===this.b},fromArray:function(a,b){return void 0===b&&(b=0),this.r=a[b],this.g=a[b+1],this.b=a[b+2],this},toArray:function(a,b){return void 0===a&&(a=[]),void 0===b&&(b=0),a[b]=this.r,a[b+1]=this.g,a[b+2]=this.b,a},toJSON:function(){return this.getHex()}});var ti={common:{diffuse:{value:new q(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new g},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new c(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new q(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new q(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new g}}},ui={basic:{uniforms:ri.merge([ti.common,ti.specularmap,ti.envmap,ti.aomap,ti.lightmap,ti.fog]),vertexShader:qi.meshbasic_vert,fragmentShader:qi.meshbasic_frag},lambert:{uniforms:ri.merge([ti.common,ti.specularmap,ti.envmap,ti.aomap,ti.lightmap,ti.emissivemap,ti.fog,ti.lights,{emissive:{value:new q(0)}}]),vertexShader:qi.meshlambert_vert,fragmentShader:qi.meshlambert_frag},phong:{uniforms:ri.merge([ti.common,ti.specularmap,ti.envmap,ti.aomap,ti.lightmap,ti.emissivemap,ti.bumpmap,ti.normalmap,ti.displacementmap,ti.gradientmap,ti.fog,ti.lights,{emissive:{value:new q(0)},specular:{value:new q(1118481)},shininess:{value:30}}]),vertexShader:qi.meshphong_vert,fragmentShader:qi.meshphong_frag},standard:{uniforms:ri.merge([ti.common,ti.envmap,ti.aomap,ti.lightmap,ti.emissivemap,ti.bumpmap,ti.normalmap,ti.displacementmap,ti.roughnessmap,ti.metalnessmap,ti.fog,ti.lights,{emissive:{value:new q(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:qi.meshphysical_vert,fragmentShader:qi.meshphysical_frag},points:{uniforms:ri.merge([ti.points,ti.fog]),vertexShader:qi.points_vert,fragmentShader:qi.points_frag},dashed:{uniforms:ri.merge([ti.common,ti.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:qi.linedashed_vert,fragmentShader:qi.linedashed_frag},depth:{uniforms:ri.merge([ti.common,ti.displacementmap]),vertexShader:qi.depth_vert,fragmentShader:qi.depth_frag},normal:{uniforms:ri.merge([ti.common,ti.bumpmap,ti.normalmap,ti.displacementmap,{opacity:{value:1}}]),vertexShader:qi.normal_vert,fragmentShader:qi.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:qi.cube_vert,fragmentShader:qi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:qi.equirect_vert,fragmentShader:qi.equirect_frag},distanceRGBA:{uniforms:ri.merge([ti.common,ti.displacementmap,{referencePosition:{value:new f},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:qi.distanceRGBA_vert,fragmentShader:qi.distanceRGBA_frag},shadow:{uniforms:ri.merge([ti.lights,ti.fog,{color:{value:new q(0)},opacity:{value:1}}]),vertexShader:qi.shadow_vert,fragmentShader:qi.shadow_frag}};ui.physical={uniforms:ri.merge([ui.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:qi.meshphysical_vert,fragmentShader:qi.meshphysical_frag},t.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],t.DefaultOrder="XYZ",Object.defineProperties(t.prototype,{x:{get:function(){return this._x},set:function(a){this._x=a,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(a){this._y=a,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(a){this._z=a,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(a){this._order=a,this.onChangeCallback()}}}),Object.assign(t.prototype,{isEuler:!0,set:function(a,b,c,d){return this._x=a,this._y=b,this._z=c,this._order=d||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(a){return this._x=a._x,this._y=a._y,this._z=a._z,this._order=a._order,this.onChangeCallback(),this},setFromRotationMatrix:function(a,b,c){var d=oi.clamp,e=a.elements,f=e[0],g=e[4],h=e[8],i=e[1],j=e[5],k=e[9],l=e[2],m=e[6],n=e[10];return b=b||this._order,"XYZ"===b?(this._y=Math.asin(d(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(-k,n),this._z=Math.atan2(-g,f)):(this._x=Math.atan2(m,j),this._z=0)):"YXZ"===b?(this._x=Math.asin(-d(k,-1,1)),Math.abs(k)<.99999?(this._y=Math.atan2(h,n),this._z=Math.atan2(i,j)):(this._y=Math.atan2(-l,f),this._z=0)):"ZXY"===b?(this._x=Math.asin(d(m,-1,1)),Math.abs(m)<.99999?(this._y=Math.atan2(-l,n),this._z=Math.atan2(-g,j)):(this._y=0,this._z=Math.atan2(i,f))):"ZYX"===b?(this._y=Math.asin(-d(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(m,n),this._z=Math.atan2(i,f)):(this._x=0,this._z=Math.atan2(-g,j))):"YZX"===b?(this._z=Math.asin(d(i,-1,1)),Math.abs(i)<.99999?(this._x=Math.atan2(-k,j),this._y=Math.atan2(-l,f)):(this._x=0,this._y=Math.atan2(h,n))):"XZY"===b&&(this._z=Math.asin(-d(g,-1,1)),Math.abs(g)<.99999?(this._x=Math.atan2(m,j),this._y=Math.atan2(h,f)):(this._x=Math.atan2(-k,n),this._y=0)),this._order=b,!1!==c&&this.onChangeCallback(),this},setFromQuaternion:function(){var a=new d;return function(b,c,d){return a.makeRotationFromQuaternion(b),this.setFromRotationMatrix(a,c,d)}}(),setFromVector3:function(a,b){return this.set(a.x,a.y,a.z,b||this._order)},reorder:function(){var a=new e;return function(b){return a.setFromEuler(this),this.setFromQuaternion(a,b)}}(),equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order},fromArray:function(a){return this._x=a[0],this._y=a[1],this._z=a[2],void 0!==a[3]&&(this._order=a[3]),this.onChangeCallback(),this},toArray:function(a,b){return void 0===a&&(a=[]),void 0===b&&(b=0),a[b]=this._x,a[b+1]=this._y,a[b+2]=this._z,a[b+3]=this._order,a},toVector3:function(a){return a?a.set(this._x,this._y,this._z):new f(this._x,this._y,this._z)},onChange:function(a){return this.onChangeCallback=a,this},onChangeCallback:function(){}}),Object.assign(u.prototype,{set:function(a){this.mask=1<<a|0},enable:function(a){this.mask|=1<<a|0},toggle:function(a){this.mask^=1<<a|0},disable:function(a){this.mask&=~(1<<a|0)},test:function(a){return 0!=(this.mask&a.mask)}});var vi=0;v.DefaultUp=new f(0,1,0),v.DefaultMatrixAutoUpdate=!0,v.prototype=Object.assign(Object.create(b.prototype),{constructor:v,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(a){this.matrix.multiplyMatrices(a,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(a){return this.quaternion.premultiply(a),this},setRotationFromAxisAngle:function(a,b){this.quaternion.setFromAxisAngle(a,b)},setRotationFromEuler:function(a){this.quaternion.setFromEuler(a,!0)},setRotationFromMatrix:function(a){this.quaternion.setFromRotationMatrix(a)},setRotationFromQuaternion:function(a){this.quaternion.copy(a)},rotateOnAxis:function(){var a=new e;return function(b,c){return a.setFromAxisAngle(b,c),this.quaternion.multiply(a),this}}(),rotateOnWorldAxis:function(){var a=new e;return function(b,c){return a.setFromAxisAngle(b,c),this.quaternion.premultiply(a),this}}(),rotateX:function(){var a=new f(1,0,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateY:function(){var a=new f(0,1,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateZ:function(){var a=new f(0,0,1);return function(b){return this.rotateOnAxis(a,b)}}(),translateOnAxis:function(){var a=new f;return function(b,c){return a.copy(b).applyQuaternion(this.quaternion),this.position.add(a.multiplyScalar(c)),this}}(),translateX:function(){var a=new f(1,0,0);return function(b){return this.translateOnAxis(a,b)}}(),translateY:function(){var a=new f(0,1,0);return function(b){return this.translateOnAxis(a,b)}}(),translateZ:function(){var a=new f(0,0,1);return function(b){return this.translateOnAxis(a,b)}}(),localToWorld:function(a){return a.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var a=new d;return function(b){return b.applyMatrix4(a.getInverse(this.matrixWorld))}}(),lookAt:function(){var a=new d,b=new f;return function(c,d,e){c.isVector3?b.copy(c):b.set(c,d,e),this.isCamera?a.lookAt(this.position,b,this.up):a.lookAt(b,this.position,this.up),this.quaternion.setFromRotationMatrix(a)}}(),add:function(a){if(arguments.length>1){for(var b=0;b<arguments.length;b++)this.add(arguments[b]);return this}return a===this?this:(a&&a.isObject3D&&(null!==a.parent&&a.parent.remove(a),a.parent=this,a.dispatchEvent({type:"added"}),this.children.push(a)),this)},remove:function(a){if(arguments.length>1){for(var b=0;b<arguments.length;b++)this.remove(arguments[b]);return this}var c=this.children.indexOf(a);return-1!==c&&(a.parent=null,a.dispatchEvent({type:"removed"}),this.children.splice(c,1)),this},getObjectById:function(a){return this.getObjectByProperty("id",a)},getObjectByName:function(a){return this.getObjectByProperty("name",a)},getObjectByProperty:function(a,b){if(this[a]===b)return this;for(var c=0,d=this.children.length;c<d;c++){var e=this.children[c],f=e.getObjectByProperty(a,b);if(void 0!==f)return f}},getWorldPosition:function(a){return void 0===a&&(a=new f),this.updateMatrixWorld(!0),a.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var a=new f,b=new f;return function(c){return void 0===c&&(c=new e),this.updateMatrixWorld(!0),this.matrixWorld.decompose(a,c,b),c}}(),getWorldScale:function(){var a=new f,b=new e;return function(c){return void 0===c&&(c=new f),this.updateMatrixWorld(!0),this.matrixWorld.decompose(a,b,c),c}}(),getWorldDirection:function(){var a=new e;return function(b){return void 0===b&&(b=new f),this.getWorldQuaternion(a),b.set(0,0,1).applyQuaternion(a)}}(),raycast:function(){},traverse:function(a){a(this);for(var b=this.children,c=0,d=b.length;c<d;c++)b[c].traverse(a)},traverseVisible:function(a){if(!1!==this.visible){a(this);for(var b=this.children,c=0,d=b.length;c<d;c++)b[c].traverseVisible(a)}},traverseAncestors:function(a){var b=this.parent;null!==b&&(a(b),b.traverseAncestors(a))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||a)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0);for(var b=this.children,c=0,d=b.length;c<d;c++)b[c].updateMatrixWorld(a)},toJSON:function(a){function b(b,c){return void 0===b[c.uuid]&&(b[c.uuid]=c.toJSON(a)),c.uuid}function c(a){var b=[];for(var c in a){var d=a[c];delete d.metadata,b.push(d)}return b}var d=void 0===a||"string"==typeof a,e={};d&&(a={geometries:{},materials:{},textures:{},images:{},shapes:{}},e.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var f={};if(f.uuid=this.uuid,f.type=this.type,""!==this.name&&(f.name=this.name),!0===this.castShadow&&(f.castShadow=!0),!0===this.receiveShadow&&(f.receiveShadow=!0),!1===this.visible&&(f.visible=!1),!1===this.frustumCulled&&(f.frustumCulled=!1),0!==this.renderOrder&&(f.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(f.userData=this.userData),f.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(f.matrixAutoUpdate=!1),void 0!==this.geometry){f.geometry=b(a.geometries,this.geometry);var g=this.geometry.parameters;if(void 0!==g&&void 0!==g.shapes){var h=g.shapes;if(Array.isArray(h))for(var i=0,j=h.length;i<j;i++){var k=h[i];b(a.shapes,k)}else b(a.shapes,h)}}if(void 0!==this.material)if(Array.isArray(this.material)){for(var l=[],i=0,j=this.material.length;i<j;i++)l.push(b(a.materials,this.material[i]));f.material=l}else f.material=b(a.materials,this.material);if(this.children.length>0){f.children=[];for(var i=0;i<this.children.length;i++)f.children.push(this.children[i].toJSON(a).object)}if(d){var m=c(a.geometries),n=c(a.materials),o=c(a.textures),p=c(a.images),h=c(a.shapes);m.length>0&&(e.geometries=m),n.length>0&&(e.materials=n),o.length>0&&(e.textures=o),p.length>0&&(e.images=p),h.length>0&&(e.shapes=h)}return e.object=f,e},clone:function(a){return(new this.constructor).copy(this,a)},copy:function(a,b){if(void 0===b&&(b=!0),this.name=a.name,this.up.copy(a.up),this.position.copy(a.position),this.quaternion.copy(a.quaternion),this.scale.copy(a.scale),this.matrix.copy(a.matrix),this.matrixWorld.copy(a.matrixWorld),this.matrixAutoUpdate=a.matrixAutoUpdate,this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate,this.layers.mask=a.layers.mask,this.visible=a.visible,this.castShadow=a.castShadow,this.receiveShadow=a.receiveShadow,this.frustumCulled=a.frustumCulled,this.renderOrder=a.renderOrder,this.userData=JSON.parse(JSON.stringify(a.userData)),!0===b)for(var c=0;c<a.children.length;c++){var d=a.children[c];this.add(d.clone())}return this}}),w.prototype=Object.assign(Object.create(v.prototype),{constructor:w,isCamera:!0,copy:function(a,b){return v.prototype.copy.call(this,a,b),this.matrixWorldInverse.copy(a.matrixWorldInverse),this.projectionMatrix.copy(a.projectionMatrix),this},getWorldDirection:function(){var a=new e;return function(b){return void 0===b&&(b=new f),this.getWorldQuaternion(a),b.set(0,0,-1).applyQuaternion(a)}}(),updateMatrixWorld:function(a){v.prototype.updateMatrixWorld.call(this,a),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),x.prototype=Object.assign(Object.create(w.prototype),{constructor:x,isOrthographicCamera:!0,copy:function(a,b){return w.prototype.copy.call(this,a,b),this.left=a.left,this.right=a.right,this.top=a.top,this.bottom=a.bottom,this.near=a.near,this.far=a.far,this.zoom=a.zoom,this.view=null===a.view?null:Object.assign({},a.view),this},setViewOffset:function(a,b,c,d,e,f){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=a,this.view.fullHeight=b,this.view.offsetX=c,this.view.offsetY=d,this.view.width=e,this.view.height=f,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var a=(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,d=(this.top+this.bottom)/2,e=c-a,f=c+a,g=d+b,h=d-b;if(null!==this.view&&this.view.enabled){var i=this.zoom/(this.view.width/this.view.fullWidth),j=this.zoom/(this.view.height/this.view.fullHeight),k=(this.right-this.left)/this.view.width,l=(this.top-this.bottom)/this.view.height;e+=k*(this.view.offsetX/i),f=e+k*(this.view.width/i),g-=l*(this.view.offsetY/j),h=g-l*(this.view.height/j)}this.projectionMatrix.makeOrthographic(e,f,g,h,this.near,this.far)},toJSON:function(a){var b=v.prototype.toJSON.call(this,a);return b.object.zoom=this.zoom,b.object.left=this.left,b.object.right=this.right,b.object.top=this.top,b.object.bottom=this.bottom,b.object.near=this.near,b.object.far=this.far,null!==this.view&&(b.object.view=Object.assign({},this.view)),b}}),Object.assign(y.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.a=a.a,this.b=a.b,this.c=a.c,this.normal.copy(a.normal),this.color.copy(a.color),this.materialIndex=a.materialIndex;for(var b=0,c=a.vertexNormals.length;b<c;b++)this.vertexNormals[b]=a.vertexNormals[b].clone();for(var b=0,c=a.vertexColors.length;b<c;b++)this.vertexColors[b]=a.vertexColors[b].clone();return this}});var wi=0;z.prototype=Object.assign(Object.create(b.prototype),{constructor:z,isGeometry:!0,applyMatrix:function(a){for(var b=(new g).getNormalMatrix(a),c=0,d=this.vertices.length;c<d;c++){this.vertices[c].applyMatrix4(a)}for(var c=0,d=this.faces.length;c<d;c++){var e=this.faces[c];e.normal.applyMatrix3(b).normalize();for(var f=0,h=e.vertexNormals.length;f<h;f++)e.vertexNormals[f].applyMatrix3(b).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var a=new d;return function(b){return a.makeRotationX(b),this.applyMatrix(a),this}}(),rotateY:function(){var a=new d;return function(b){return a.makeRotationY(b),this.applyMatrix(a),this}}(),rotateZ:function(){var a=new d;return function(b){return a.makeRotationZ(b),this.applyMatrix(a),this}}(),translate:function(){var a=new d;return function(b,c,d){return a.makeTranslation(b,c,d),this.applyMatrix(a),this}}(),scale:function(){var a=new d;return function(b,c,d){return a.makeScale(b,c,d),this.applyMatrix(a),this}}(),
lookAt:function(){var a=new v;return function(b){a.lookAt(b),a.updateMatrix(),this.applyMatrix(a.matrix)}}(),fromBufferGeometry:function(a){function b(a,b,c,e){var f=void 0!==i?[m[a].clone(),m[b].clone(),m[c].clone()]:[],g=void 0!==j?[d.colors[a].clone(),d.colors[b].clone(),d.colors[c].clone()]:[],h=new y(a,b,c,f,g,e);d.faces.push(h),void 0!==k&&d.faceVertexUvs[0].push([n[a].clone(),n[b].clone(),n[c].clone()]),void 0!==l&&d.faceVertexUvs[1].push([o[a].clone(),o[b].clone(),o[c].clone()])}var d=this,e=null!==a.index?a.index.array:void 0,g=a.attributes,h=g.position.array,i=void 0!==g.normal?g.normal.array:void 0,j=void 0!==g.color?g.color.array:void 0,k=void 0!==g.uv?g.uv.array:void 0,l=void 0!==g.uv2?g.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var m=[],n=[],o=[],p=0,r=0;p<h.length;p+=3,r+=2)d.vertices.push(new f(h[p],h[p+1],h[p+2])),void 0!==i&&m.push(new f(i[p],i[p+1],i[p+2])),void 0!==j&&d.colors.push(new q(j[p],j[p+1],j[p+2])),void 0!==k&&n.push(new c(k[r],k[r+1])),void 0!==l&&o.push(new c(l[r],l[r+1]));var s=a.groups;if(s.length>0)for(var p=0;p<s.length;p++)for(var t=s[p],u=t.start,v=t.count,r=u,w=u+v;r<w;r+=3)void 0!==e?b(e[r],e[r+1],e[r+2],t.materialIndex):b(r,r+1,r+2,t.materialIndex);else if(void 0!==e)for(var p=0;p<e.length;p+=3)b(e[p],e[p+1],e[p+2]);else for(var p=0;p<h.length/3;p+=3)b(p,p+1,p+2);return this.computeFaceNormals(),null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone()),null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone()),this},center:function(){var a=new f;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(a).negate(),this.translate(a.x,a.y,a.z),this}}(),normalize:function(){this.computeBoundingSphere();var a=this.boundingSphere.center,b=this.boundingSphere.radius,c=0===b?1:1/b,e=new d;return e.set(c,0,0,-c*a.x,0,c,0,-c*a.y,0,0,c,-c*a.z,0,0,0,1),this.applyMatrix(e),this},computeFaceNormals:function(){for(var a=new f,b=new f,c=0,d=this.faces.length;c<d;c++){var e=this.faces[c],g=this.vertices[e.a],h=this.vertices[e.b],i=this.vertices[e.c];a.subVectors(i,h),b.subVectors(g,h),a.cross(b),a.normalize(),e.normal.copy(a)}},computeVertexNormals:function(a){void 0===a&&(a=!0);var b,c,d,e,g,h;for(h=new Array(this.vertices.length),b=0,c=this.vertices.length;b<c;b++)h[b]=new f;if(a){var i,j,k,l=new f,m=new f;for(d=0,e=this.faces.length;d<e;d++)g=this.faces[d],i=this.vertices[g.a],j=this.vertices[g.b],k=this.vertices[g.c],l.subVectors(k,j),m.subVectors(i,j),l.cross(m),h[g.a].add(l),h[g.b].add(l),h[g.c].add(l)}else for(this.computeFaceNormals(),d=0,e=this.faces.length;d<e;d++)g=this.faces[d],h[g.a].add(g.normal),h[g.b].add(g.normal),h[g.c].add(g.normal);for(b=0,c=this.vertices.length;b<c;b++)h[b].normalize();for(d=0,e=this.faces.length;d<e;d++){g=this.faces[d];var n=g.vertexNormals;3===n.length?(n[0].copy(h[g.a]),n[1].copy(h[g.b]),n[2].copy(h[g.c])):(n[0]=h[g.a].clone(),n[1]=h[g.b].clone(),n[2]=h[g.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var a,b,c;for(this.computeFaceNormals(),a=0,b=this.faces.length;a<b;a++){c=this.faces[a];var d=c.vertexNormals;3===d.length?(d[0].copy(c.normal),d[1].copy(c.normal),d[2].copy(c.normal)):(d[0]=c.normal.clone(),d[1]=c.normal.clone(),d[2]=c.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var a,b,c,d,e;for(c=0,d=this.faces.length;c<d;c++)for(e=this.faces[c],e.__originalFaceNormal?e.__originalFaceNormal.copy(e.normal):e.__originalFaceNormal=e.normal.clone(),e.__originalVertexNormals||(e.__originalVertexNormals=[]),a=0,b=e.vertexNormals.length;a<b;a++)e.__originalVertexNormals[a]?e.__originalVertexNormals[a].copy(e.vertexNormals[a]):e.__originalVertexNormals[a]=e.vertexNormals[a].clone();var g=new z;for(g.faces=this.faces,a=0,b=this.morphTargets.length;a<b;a++){if(!this.morphNormals[a]){this.morphNormals[a]={},this.morphNormals[a].faceNormals=[],this.morphNormals[a].vertexNormals=[];var h,i,j=this.morphNormals[a].faceNormals,k=this.morphNormals[a].vertexNormals;for(c=0,d=this.faces.length;c<d;c++)h=new f,i={a:new f,b:new f,c:new f},j.push(h),k.push(i)}var l=this.morphNormals[a];g.vertices=this.morphTargets[a].vertices,g.computeFaceNormals(),g.computeVertexNormals();var h,i;for(c=0,d=this.faces.length;c<d;c++)e=this.faces[c],h=l.faceNormals[c],i=l.vertexNormals[c],h.copy(e.normal),i.a.copy(e.vertexNormals[0]),i.b.copy(e.vertexNormals[1]),i.c.copy(e.vertexNormals[2])}for(c=0,d=this.faces.length;c<d;c++)e=this.faces[c],e.normal=e.__originalFaceNormal,e.vertexNormals=e.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new m),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new n),this.boundingSphere.setFromPoints(this.vertices)},merge:function(a,b,c){if(a&&a.isGeometry){var d,e=this.vertices.length,f=this.vertices,h=a.vertices,i=this.faces,j=a.faces,k=this.faceVertexUvs[0],l=a.faceVertexUvs[0],m=this.colors,n=a.colors;void 0===c&&(c=0),void 0!==b&&(d=(new g).getNormalMatrix(b));for(var o=0,p=h.length;o<p;o++){var q=h[o],r=q.clone();void 0!==b&&r.applyMatrix4(b),f.push(r)}for(var o=0,p=n.length;o<p;o++)m.push(n[o].clone());for(o=0,p=j.length;o<p;o++){var s,t,u,v=j[o],w=v.vertexNormals,x=v.vertexColors;s=new y(v.a+e,v.b+e,v.c+e),s.normal.copy(v.normal),void 0!==d&&s.normal.applyMatrix3(d).normalize();for(var z=0,A=w.length;z<A;z++)t=w[z].clone(),void 0!==d&&t.applyMatrix3(d).normalize(),s.vertexNormals.push(t);s.color.copy(v.color);for(var z=0,A=x.length;z<A;z++)u=x[z],s.vertexColors.push(u.clone());s.materialIndex=v.materialIndex+c,i.push(s)}for(o=0,p=l.length;o<p;o++){var B=l[o],C=[];if(void 0!==B){for(var z=0,A=B.length;z<A;z++)C.push(B[z].clone());k.push(C)}}}},mergeMesh:function(a){a&&a.isMesh&&(a.matrixAutoUpdate&&a.updateMatrix(),this.merge(a.geometry,a.matrix))},mergeVertices:function(){var a,b,c,d,e,f,g,h,i={},j=[],k=[],l=Math.pow(10,4);for(c=0,d=this.vertices.length;c<d;c++)a=this.vertices[c],b=Math.round(a.x*l)+"_"+Math.round(a.y*l)+"_"+Math.round(a.z*l),void 0===i[b]?(i[b]=c,j.push(this.vertices[c]),k[c]=j.length-1):k[c]=k[i[b]];var m=[];for(c=0,d=this.faces.length;c<d;c++){e=this.faces[c],e.a=k[e.a],e.b=k[e.b],e.c=k[e.c],f=[e.a,e.b,e.c];for(var n=0;n<3;n++)if(f[n]===f[(n+1)%3]){m.push(c);break}}for(c=m.length-1;c>=0;c--){var o=m[c];for(this.faces.splice(o,1),g=0,h=this.faceVertexUvs.length;g<h;g++)this.faceVertexUvs[g].splice(o,1)}var p=this.vertices.length-j.length;return this.vertices=j,p},setFromPoints:function(a){this.vertices=[];for(var b=0,c=a.length;b<c;b++){var d=a[b];this.vertices.push(new f(d.x,d.y,d.z||0))}return this},sortFacesByMaterialIndex:function(){function a(a,b){return a.materialIndex-b.materialIndex}for(var b=this.faces,c=b.length,d=0;d<c;d++)b[d]._id=d;b.sort(a);var e,f,g=this.faceVertexUvs[0],h=this.faceVertexUvs[1];g&&g.length===c&&(e=[]),h&&h.length===c&&(f=[]);for(var d=0;d<c;d++){var i=b[d]._id;e&&e.push(g[i]),f&&f.push(h[i])}e&&(this.faceVertexUvs[0]=e),f&&(this.faceVertexUvs[1]=f)},toJSON:function(){function a(a,b,c){return c?a|1<<b:a&~(1<<b)}function b(a){var b=a.x.toString()+a.y.toString()+a.z.toString();return void 0!==m[b]?m[b]:(m[b]=l.length/3,l.push(a.x,a.y,a.z),m[b])}function c(a){var b=a.r.toString()+a.g.toString()+a.b.toString();return void 0!==o[b]?o[b]:(o[b]=n.length,n.push(a.getHex()),o[b])}function d(a){var b=a.x.toString()+a.y.toString();return void 0!==q[b]?q[b]:(q[b]=p.length/2,p.push(a.x,a.y),q[b])}var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var f=this.parameters;for(var g in f)void 0!==f[g]&&(e[g]=f[g]);return e}for(var h=[],i=0;i<this.vertices.length;i++){var j=this.vertices[i];h.push(j.x,j.y,j.z)}for(var k=[],l=[],m={},n=[],o={},p=[],q={},i=0;i<this.faces.length;i++){var r=this.faces[i],s=void 0!==this.faceVertexUvs[0][i],t=r.normal.length()>0,u=r.vertexNormals.length>0,v=1!==r.color.r||1!==r.color.g||1!==r.color.b,w=r.vertexColors.length>0,x=0;if(x=a(x,0,0),x=a(x,1,!0),x=a(x,2,!1),x=a(x,3,s),x=a(x,4,t),x=a(x,5,u),x=a(x,6,v),x=a(x,7,w),k.push(x),k.push(r.a,r.b,r.c),k.push(r.materialIndex),s){var y=this.faceVertexUvs[0][i];k.push(d(y[0]),d(y[1]),d(y[2]))}if(t&&k.push(b(r.normal)),u){var z=r.vertexNormals;k.push(b(z[0]),b(z[1]),b(z[2]))}if(v&&k.push(c(r.color)),w){var A=r.vertexColors;k.push(c(A[0]),c(A[1]),c(A[2]))}}return e.data={},e.data.vertices=h,e.data.normals=l,n.length>0&&(e.data.colors=n),p.length>0&&(e.data.uvs=[p]),e.data.faces=k,e},clone:function(){return(new z).copy(this)},copy:function(a){var b,c,d,e,f,g;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=a.name;var h=a.vertices;for(b=0,c=h.length;b<c;b++)this.vertices.push(h[b].clone());var i=a.colors;for(b=0,c=i.length;b<c;b++)this.colors.push(i[b].clone());var j=a.faces;for(b=0,c=j.length;b<c;b++)this.faces.push(j[b].clone());for(b=0,c=a.faceVertexUvs.length;b<c;b++){var k=a.faceVertexUvs[b];for(void 0===this.faceVertexUvs[b]&&(this.faceVertexUvs[b]=[]),d=0,e=k.length;d<e;d++){var l=k[d],m=[];for(f=0,g=l.length;f<g;f++){var n=l[f];m.push(n.clone())}this.faceVertexUvs[b].push(m)}}var o=a.morphTargets;for(b=0,c=o.length;b<c;b++){var p={};if(p.name=o[b].name,void 0!==o[b].vertices)for(p.vertices=[],d=0,e=o[b].vertices.length;d<e;d++)p.vertices.push(o[b].vertices[d].clone());if(void 0!==o[b].normals)for(p.normals=[],d=0,e=o[b].normals.length;d<e;d++)p.normals.push(o[b].normals[d].clone());this.morphTargets.push(p)}var q=a.morphNormals;for(b=0,c=q.length;b<c;b++){var r={};if(void 0!==q[b].vertexNormals)for(r.vertexNormals=[],d=0,e=q[b].vertexNormals.length;d<e;d++){var s=q[b].vertexNormals[d],t={};t.a=s.a.clone(),t.b=s.b.clone(),t.c=s.c.clone(),r.vertexNormals.push(t)}if(void 0!==q[b].faceNormals)for(r.faceNormals=[],d=0,e=q[b].faceNormals.length;d<e;d++)r.faceNormals.push(q[b].faceNormals[d].clone());this.morphNormals.push(r)}var u=a.skinWeights;for(b=0,c=u.length;b<c;b++)this.skinWeights.push(u[b].clone());var v=a.skinIndices;for(b=0,c=v.length;b<c;b++)this.skinIndices.push(v[b].clone());var w=a.lineDistances;for(b=0,c=w.length;b<c;b++)this.lineDistances.push(w[b]);var x=a.boundingBox;null!==x&&(this.boundingBox=x.clone());var y=a.boundingSphere;return null!==y&&(this.boundingSphere=y.clone()),this.elementsNeedUpdate=a.elementsNeedUpdate,this.verticesNeedUpdate=a.verticesNeedUpdate,this.uvsNeedUpdate=a.uvsNeedUpdate,this.normalsNeedUpdate=a.normalsNeedUpdate,this.colorsNeedUpdate=a.colorsNeedUpdate,this.lineDistancesNeedUpdate=a.lineDistancesNeedUpdate,this.groupsNeedUpdate=a.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(A.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}}),Object.assign(A.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(a){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==a?a.length/this.itemSize:0,this.array=a,this},setDynamic:function(a){return this.dynamic=a,this},copy:function(a){return this.name=a.name,this.array=new a.array.constructor(a.array),this.itemSize=a.itemSize,this.count=a.count,this.normalized=a.normalized,this.dynamic=a.dynamic,this},copyAt:function(a,b,c){a*=this.itemSize,c*=b.itemSize;for(var d=0,e=this.itemSize;d<e;d++)this.array[a+d]=b.array[c+d];return this},copyArray:function(a){return this.array.set(a),this},copyColorsArray:function(a){for(var b=this.array,c=0,d=0,e=a.length;d<e;d++){var f=a[d];void 0===f&&(f=new q),b[c++]=f.r,b[c++]=f.g,b[c++]=f.b}return this},copyVector2sArray:function(a){for(var b=this.array,d=0,e=0,f=a.length;e<f;e++){var g=a[e];void 0===g&&(g=new c),b[d++]=g.x,b[d++]=g.y}return this},copyVector3sArray:function(a){for(var b=this.array,c=0,d=0,e=a.length;d<e;d++){var g=a[d];void 0===g&&(g=new f),b[c++]=g.x,b[c++]=g.y,b[c++]=g.z}return this},copyVector4sArray:function(a){for(var b=this.array,c=0,d=0,e=a.length;d<e;d++){var f=a[d];void 0===f&&(f=new i),b[c++]=f.x,b[c++]=f.y,b[c++]=f.z,b[c++]=f.w}return this},set:function(a,b){return void 0===b&&(b=0),this.array.set(a,b),this},getX:function(a){return this.array[a*this.itemSize]},setX:function(a,b){return this.array[a*this.itemSize]=b,this},getY:function(a){return this.array[a*this.itemSize+1]},setY:function(a,b){return this.array[a*this.itemSize+1]=b,this},getZ:function(a){return this.array[a*this.itemSize+2]},setZ:function(a,b){return this.array[a*this.itemSize+2]=b,this},getW:function(a){return this.array[a*this.itemSize+3]},setW:function(a,b){return this.array[a*this.itemSize+3]=b,this},setXY:function(a,b,c){return a*=this.itemSize,this.array[a+0]=b,this.array[a+1]=c,this},setXYZ:function(a,b,c,d){return a*=this.itemSize,this.array[a+0]=b,this.array[a+1]=c,this.array[a+2]=d,this},setXYZW:function(a,b,c,d,e){return a*=this.itemSize,this.array[a+0]=b,this.array[a+1]=c,this.array[a+2]=d,this.array[a+3]=e,this},onUpload:function(a){return this.onUploadCallback=a,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),B.prototype=Object.create(A.prototype),B.prototype.constructor=B,C.prototype=Object.create(A.prototype),C.prototype.constructor=C,D.prototype=Object.create(A.prototype),D.prototype.constructor=D,E.prototype=Object.create(A.prototype),E.prototype.constructor=E,F.prototype=Object.create(A.prototype),F.prototype.constructor=F,G.prototype=Object.create(A.prototype),G.prototype.constructor=G,H.prototype=Object.create(A.prototype),H.prototype.constructor=H,I.prototype=Object.create(A.prototype),I.prototype.constructor=I,J.prototype=Object.create(A.prototype),J.prototype.constructor=J,Object.assign(K.prototype,{computeGroups:function(a){for(var b,c=[],d=void 0,e=a.faces,f=0;f<e.length;f++){var g=e[f];g.materialIndex!==d&&(d=g.materialIndex,void 0!==b&&(b.count=3*f-b.start,c.push(b)),b={start:3*f,materialIndex:d})}void 0!==b&&(b.count=3*f-b.start,c.push(b)),this.groups=c},fromGeometry:function(a){var b,d=a.faces,e=a.vertices,f=a.faceVertexUvs,g=f[0]&&f[0].length>0,h=f[1]&&f[1].length>0,i=a.morphTargets,j=i.length;if(j>0){b=[];for(var k=0;k<j;k++)b[k]=[];this.morphTargets.position=b}var l,m=a.morphNormals,n=m.length;if(n>0){l=[];for(var k=0;k<n;k++)l[k]=[];this.morphTargets.normal=l}var o=a.skinIndices,p=a.skinWeights,q=o.length===e.length,r=p.length===e.length;d.length;for(var k=0;k<d.length;k++){var s=d[k];this.vertices.push(e[s.a],e[s.b],e[s.c]);var t=s.vertexNormals;if(3===t.length)this.normals.push(t[0],t[1],t[2]);else{var u=s.normal;this.normals.push(u,u,u)}var v=s.vertexColors;if(3===v.length)this.colors.push(v[0],v[1],v[2]);else{var w=s.color;this.colors.push(w,w,w)}if(!0===g){var x=f[0][k];void 0!==x?this.uvs.push(x[0],x[1],x[2]):this.uvs.push(new c,new c,new c)}if(!0===h){var x=f[1][k];void 0!==x?this.uvs2.push(x[0],x[1],x[2]):this.uvs2.push(new c,new c,new c)}for(var y=0;y<j;y++){var z=i[y].vertices;b[y].push(z[s.a],z[s.b],z[s.c])}for(var y=0;y<n;y++){var A=m[y].vertexNormals[k];l[y].push(A.a,A.b,A.c)}q&&this.skinIndices.push(o[s.a],o[s.b],o[s.c]),r&&this.skinWeights.push(p[s.a],p[s.b],p[s.c])}return this.computeGroups(a),this.verticesNeedUpdate=a.verticesNeedUpdate,this.normalsNeedUpdate=a.normalsNeedUpdate,this.colorsNeedUpdate=a.colorsNeedUpdate,this.uvsNeedUpdate=a.uvsNeedUpdate,this.groupsNeedUpdate=a.groupsNeedUpdate,this}});var xi=1;M.prototype=Object.assign(Object.create(b.prototype),{constructor:M,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(a){Array.isArray(a)?this.index=new(L(a)>65535?H:F)(a,1):this.index=a},addAttribute:function(a,b){return b&&b.isBufferAttribute||b&&b.isInterleavedBufferAttribute?"index"===a?(this.setIndex(b),this):(this.attributes[a]=b,this):this.addAttribute(a,new A(arguments[1],arguments[2]))},getAttribute:function(a){return this.attributes[a]},removeAttribute:function(a){return delete this.attributes[a],this},addGroup:function(a,b,c){this.groups.push({start:a,count:b,materialIndex:void 0!==c?c:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(a,b){this.drawRange.start=a,this.drawRange.count=b},applyMatrix:function(a){var b=this.attributes.position;void 0!==b&&(a.applyToBufferAttribute(b),b.needsUpdate=!0);var c=this.attributes.normal;if(void 0!==c){(new g).getNormalMatrix(a).applyToBufferAttribute(c),c.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var a=new d;return function(b){return a.makeRotationX(b),this.applyMatrix(a),this}}(),rotateY:function(){var a=new d;return function(b){return a.makeRotationY(b),this.applyMatrix(a),this}}(),rotateZ:function(){var a=new d;return function(b){return a.makeRotationZ(b),this.applyMatrix(a),this}}(),translate:function(){var a=new d;return function(b,c,d){return a.makeTranslation(b,c,d),this.applyMatrix(a),this}}(),scale:function(){var a=new d;return function(b,c,d){return a.makeScale(b,c,d),this.applyMatrix(a),this}}(),lookAt:function(){var a=new v;return function(b){a.lookAt(b),a.updateMatrix(),this.applyMatrix(a.matrix)}}(),center:function(){var a=new f;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(a).negate(),this.translate(a.x,a.y,a.z),this}}(),setFromObject:function(a){var b=a.geometry;if(a.isPoints||a.isLine){var c=new I(3*b.vertices.length,3),d=new I(3*b.colors.length,3);if(this.addAttribute("position",c.copyVector3sArray(b.vertices)),this.addAttribute("color",d.copyColorsArray(b.colors)),b.lineDistances&&b.lineDistances.length===b.vertices.length){var e=new I(b.lineDistances.length,1);this.addAttribute("lineDistance",e.copyArray(b.lineDistances))}null!==b.boundingSphere&&(this.boundingSphere=b.boundingSphere.clone()),null!==b.boundingBox&&(this.boundingBox=b.boundingBox.clone())}else a.isMesh&&b&&b.isGeometry&&this.fromGeometry(b);return this},setFromPoints:function(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c];b.push(e.x,e.y,e.z||0)}return this.addAttribute("position",new I(b,3)),this},updateFromObject:function(a){var b=a.geometry;if(a.isMesh){var c=b.__directGeometry;if(!0===b.elementsNeedUpdate&&(c=void 0,b.elementsNeedUpdate=!1),void 0===c)return this.fromGeometry(b);c.verticesNeedUpdate=b.verticesNeedUpdate,c.normalsNeedUpdate=b.normalsNeedUpdate,c.colorsNeedUpdate=b.colorsNeedUpdate,c.uvsNeedUpdate=b.uvsNeedUpdate,c.groupsNeedUpdate=b.groupsNeedUpdate,b.verticesNeedUpdate=!1,b.normalsNeedUpdate=!1,b.colorsNeedUpdate=!1,b.uvsNeedUpdate=!1,b.groupsNeedUpdate=!1,b=c}var d;return!0===b.verticesNeedUpdate&&(d=this.attributes.position,void 0!==d&&(d.copyVector3sArray(b.vertices),d.needsUpdate=!0),b.verticesNeedUpdate=!1),!0===b.normalsNeedUpdate&&(d=this.attributes.normal,void 0!==d&&(d.copyVector3sArray(b.normals),d.needsUpdate=!0),b.normalsNeedUpdate=!1),!0===b.colorsNeedUpdate&&(d=this.attributes.color,void 0!==d&&(d.copyColorsArray(b.colors),d.needsUpdate=!0),b.colorsNeedUpdate=!1),b.uvsNeedUpdate&&(d=this.attributes.uv,void 0!==d&&(d.copyVector2sArray(b.uvs),d.needsUpdate=!0),b.uvsNeedUpdate=!1),b.lineDistancesNeedUpdate&&(d=this.attributes.lineDistance,void 0!==d&&(d.copyArray(b.lineDistances),d.needsUpdate=!0),b.lineDistancesNeedUpdate=!1),b.groupsNeedUpdate&&(b.computeGroups(a.geometry),this.groups=b.groups,b.groupsNeedUpdate=!1),this},fromGeometry:function(a){return a.__directGeometry=(new K).fromGeometry(a),this.fromDirectGeometry(a.__directGeometry)},fromDirectGeometry:function(a){var b=new Float32Array(3*a.vertices.length);if(this.addAttribute("position",new A(b,3).copyVector3sArray(a.vertices)),a.normals.length>0){var c=new Float32Array(3*a.normals.length);this.addAttribute("normal",new A(c,3).copyVector3sArray(a.normals))}if(a.colors.length>0){var d=new Float32Array(3*a.colors.length);this.addAttribute("color",new A(d,3).copyColorsArray(a.colors))}if(a.uvs.length>0){var e=new Float32Array(2*a.uvs.length);this.addAttribute("uv",new A(e,2).copyVector2sArray(a.uvs))}if(a.uvs2.length>0){var f=new Float32Array(2*a.uvs2.length);this.addAttribute("uv2",new A(f,2).copyVector2sArray(a.uvs2))}this.groups=a.groups;for(var g in a.morphTargets){for(var h=[],i=a.morphTargets[g],j=0,k=i.length;j<k;j++){var l=i[j],m=new I(3*l.length,3);h.push(m.copyVector3sArray(l))}this.morphAttributes[g]=h}if(a.skinIndices.length>0){var n=new I(4*a.skinIndices.length,4);this.addAttribute("skinIndex",n.copyVector4sArray(a.skinIndices))}if(a.skinWeights.length>0){var o=new I(4*a.skinWeights.length,4);this.addAttribute("skinWeight",o.copyVector4sArray(a.skinWeights))}return null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone()),null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new m);var a=this.attributes.position;void 0!==a?this.boundingBox.setFromBufferAttribute(a):this.boundingBox.makeEmpty(),isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)},computeBoundingSphere:function(){var a=new m,b=new f;return function(){null===this.boundingSphere&&(this.boundingSphere=new n);var c=this.attributes.position;if(c){var d=this.boundingSphere.center;a.setFromBufferAttribute(c),a.getCenter(d);for(var e=0,f=0,g=c.count;f<g;f++)b.x=c.getX(f),b.y=c.getY(f),b.z=c.getZ(f),e=Math.max(e,d.distanceToSquared(b));this.boundingSphere.radius=Math.sqrt(e),isNaN(this.boundingSphere.radius)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var a=this.index,b=this.attributes,c=this.groups;if(b.position){var d=b.position.array;if(void 0===b.normal)this.addAttribute("normal",new A(new Float32Array(d.length),3));else for(var e=b.normal.array,g=0,h=e.length;g<h;g++)e[g]=0;var i,j,k,l=b.normal.array,m=new f,n=new f,o=new f,p=new f,q=new f;if(a){var r=a.array;0===c.length&&this.addGroup(0,r.length);for(var s=0,t=c.length;s<t;++s)for(var u=c[s],v=u.start,w=u.count,g=v,h=v+w;g<h;g+=3)i=3*r[g+0],j=3*r[g+1],k=3*r[g+2],m.fromArray(d,i),n.fromArray(d,j),o.fromArray(d,k),p.subVectors(o,n),q.subVectors(m,n),p.cross(q),l[i]+=p.x,l[i+1]+=p.y,l[i+2]+=p.z,l[j]+=p.x,l[j+1]+=p.y,l[j+2]+=p.z,l[k]+=p.x,l[k+1]+=p.y,l[k+2]+=p.z}else for(var g=0,h=d.length;g<h;g+=9)m.fromArray(d,g),n.fromArray(d,g+3),o.fromArray(d,g+6),p.subVectors(o,n),q.subVectors(m,n),p.cross(q),l[g]=p.x,l[g+1]=p.y,l[g+2]=p.z,l[g+3]=p.x,l[g+4]=p.y,l[g+5]=p.z,l[g+6]=p.x,l[g+7]=p.y,l[g+8]=p.z;this.normalizeNormals(),b.normal.needsUpdate=!0}},merge:function(a,b){if(a&&a.isBufferGeometry){void 0===b&&(b=0);var c=this.attributes;for(var d in c)if(void 0!==a.attributes[d])for(var e=c[d],f=e.array,g=a.attributes[d],h=g.array,i=g.itemSize,j=0,k=i*b;j<h.length;j++,k++)f[k]=h[j];return this}},normalizeNormals:function(){var a=new f;return function(){for(var b=this.attributes.normal,c=0,d=b.count;c<d;c++)a.x=b.getX(c),a.y=b.getY(c),a.z=b.getZ(c),a.normalize(),b.setXYZ(c,a.x,a.y,a.z)}}(),toNonIndexed:function(){if(null===this.index)return this;var a=new M,b=this.index.array,c=this.attributes;for(var d in c){for(var e=c[d],f=e.array,g=e.itemSize,h=new f.constructor(b.length*g),i=0,j=0,k=0,l=b.length;k<l;k++){i=b[k]*g;for(var m=0;m<g;m++)h[j++]=f[i++]}a.addAttribute(d,new A(h,g))}for(var n=this.groups,k=0,l=n.length;k<l;k++){var o=n[k];a.addGroup(o.start,o.count,o.materialIndex)}return a},toJSON:function(){var a={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(a.uuid=this.uuid,a.type=this.type,""!==this.name&&(a.name=this.name),Object.keys(this.userData).length>0&&(a.userData=this.userData),void 0!==this.parameters){var b=this.parameters;for(var c in b)void 0!==b[c]&&(a[c]=b[c]);return a}a.data={attributes:{}};var d=this.index;if(null!==d){var e=Array.prototype.slice.call(d.array);a.data.index={type:d.array.constructor.name,array:e}}var f=this.attributes;for(var c in f){var g=f[c],e=Array.prototype.slice.call(g.array);a.data.attributes[c]={itemSize:g.itemSize,type:g.array.constructor.name,array:e,normalized:g.normalized}}var h=this.groups;h.length>0&&(a.data.groups=JSON.parse(JSON.stringify(h)));var i=this.boundingSphere;return null!==i&&(a.data.boundingSphere={center:i.center.toArray(),radius:i.radius}),a},clone:function(){return(new M).copy(this)},copy:function(a){var b,c,d;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=a.name;var e=a.index;null!==e&&this.setIndex(e.clone());var f=a.attributes;for(b in f){var g=f[b];this.addAttribute(b,g.clone())}var h=a.morphAttributes;for(b in h){var i=[],j=h[b];for(c=0,d=j.length;c<d;c++)i.push(j[c].clone());this.morphAttributes[b]=i}var k=a.groups;for(c=0,d=k.length;c<d;c++){var l=k[c];this.addGroup(l.start,l.count,l.materialIndex)}var m=a.boundingBox;null!==m&&(this.boundingBox=m.clone());var n=a.boundingSphere;return null!==n&&(this.boundingSphere=n.clone()),this.drawRange.start=a.drawRange.start,this.drawRange.count=a.drawRange.count,this.userData=a.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),N.prototype=Object.create(z.prototype),N.prototype.constructor=N,O.prototype=Object.create(M.prototype),O.prototype.constructor=O,P.prototype=Object.create(z.prototype),P.prototype.constructor=P,Q.prototype=Object.create(M.prototype),Q.prototype.constructor=Q;var yi=0;R.prototype=Object.assign(Object.create(b.prototype),{constructor:R,isMaterial:!0,onBeforeCompile:function(){},setValues:function(a){if(void 0!==a)for(var b in a){var c=a[b];if(void 0!==c)if("shading"!==b){var d=this[b];void 0!==d&&(d&&d.isColor?d.set(c):d&&d.isVector3&&c&&c.isVector3?d.copy(c):this[b]="overdraw"===b?Number(c):c)}else this.flatShading=1===c}},toJSON:function(a){function b(a){var b=[];for(var c in a){var d=a[c];delete d.metadata,b.push(d)}return b}var c=void 0===a||"string"==typeof a;c&&(a={textures:{},images:{}});var d={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};if(d.uuid=this.uuid,d.type=this.type,""!==this.name&&(d.name=this.name),this.color&&this.color.isColor&&(d.color=this.color.getHex()),void 0!==this.roughness&&(d.roughness=this.roughness),void 0!==this.metalness&&(d.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(d.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(d.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(d.specular=this.specular.getHex()),void 0!==this.shininess&&(d.shininess=this.shininess),void 0!==this.clearCoat&&(d.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(d.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(d.map=this.map.toJSON(a).uuid),this.alphaMap&&this.alphaMap.isTexture&&(d.alphaMap=this.alphaMap.toJSON(a).uuid),this.lightMap&&this.lightMap.isTexture&&(d.lightMap=this.lightMap.toJSON(a).uuid),this.aoMap&&this.aoMap.isTexture&&(d.aoMap=this.aoMap.toJSON(a).uuid,d.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(d.bumpMap=this.bumpMap.toJSON(a).uuid,d.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(d.normalMap=this.normalMap.toJSON(a).uuid,d.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(d.displacementMap=this.displacementMap.toJSON(a).uuid,d.displacementScale=this.displacementScale,d.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(d.roughnessMap=this.roughnessMap.toJSON(a).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(d.metalnessMap=this.metalnessMap.toJSON(a).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(d.emissiveMap=this.emissiveMap.toJSON(a).uuid),this.specularMap&&this.specularMap.isTexture&&(d.specularMap=this.specularMap.toJSON(a).uuid),this.envMap&&this.envMap.isTexture&&(d.envMap=this.envMap.toJSON(a).uuid,d.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(d.gradientMap=this.gradientMap.toJSON(a).uuid),void 0!==this.size&&(d.size=this.size),void 0!==this.sizeAttenuation&&(d.sizeAttenuation=this.sizeAttenuation),this.blending!==mg&&(d.blending=this.blending),!0===this.flatShading&&(d.flatShading=this.flatShading),this.side!==fg&&(d.side=this.side),this.vertexColors!==ig&&(d.vertexColors=this.vertexColors),this.opacity<1&&(d.opacity=this.opacity),!0===this.transparent&&(d.transparent=this.transparent),d.depthFunc=this.depthFunc,d.depthTest=this.depthTest,d.depthWrite=this.depthWrite,0!==this.rotation&&(d.rotation=this.rotation),1!==this.linewidth&&(d.linewidth=this.linewidth),void 0!==this.dashSize&&(d.dashSize=this.dashSize),void 0!==this.gapSize&&(d.gapSize=this.gapSize),void 0!==this.scale&&(d.scale=this.scale),!0===this.dithering&&(d.dithering=!0),this.alphaTest>0&&(d.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(d.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(d.wireframe=this.wireframe),this.wireframeLinewidth>1&&(d.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(d.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(d.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(d.morphTargets=!0),!0===this.skinning&&(d.skinning=!0),!1===this.visible&&(d.visible=!1),"{}"!==JSON.stringify(this.userData)&&(d.userData=this.userData),c){var e=b(a.textures),f=b(a.images);e.length>0&&(d.textures=e),f.length>0&&(d.images=f)}return d},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.name=a.name,this.fog=a.fog,this.lights=a.lights,this.blending=a.blending,this.side=a.side,this.flatShading=a.flatShading,this.vertexColors=a.vertexColors,this.opacity=a.opacity,this.transparent=a.transparent,this.blendSrc=a.blendSrc,this.blendDst=a.blendDst,this.blendEquation=a.blendEquation,this.blendSrcAlpha=a.blendSrcAlpha,this.blendDstAlpha=a.blendDstAlpha,this.blendEquationAlpha=a.blendEquationAlpha,this.depthFunc=a.depthFunc,this.depthTest=a.depthTest,this.depthWrite=a.depthWrite,this.colorWrite=a.colorWrite,this.precision=a.precision,this.polygonOffset=a.polygonOffset,this.polygonOffsetFactor=a.polygonOffsetFactor,this.polygonOffsetUnits=a.polygonOffsetUnits,this.dithering=a.dithering,this.alphaTest=a.alphaTest,this.premultipliedAlpha=a.premultipliedAlpha,this.overdraw=a.overdraw,this.visible=a.visible,this.userData=JSON.parse(JSON.stringify(a.userData)),this.clipShadows=a.clipShadows,this.clipIntersection=a.clipIntersection;var b=a.clippingPlanes,c=null;if(null!==b){var d=b.length;c=new Array(d);for(var e=0;e!==d;++e)c[e]=b[e].clone()}return this.clippingPlanes=c,this.shadowSide=a.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),S.prototype=Object.create(R.prototype),S.prototype.constructor=S,S.prototype.isMeshBasicMaterial=!0,S.prototype.copy=function(a){return R.prototype.copy.call(this,a),this.color.copy(a.color),this.map=a.map,this.lightMap=a.lightMap,this.lightMapIntensity=a.lightMapIntensity,this.aoMap=a.aoMap,this.aoMapIntensity=a.aoMapIntensity,this.specularMap=a.specularMap,this.alphaMap=a.alphaMap,this.envMap=a.envMap,this.combine=a.combine,this.reflectivity=a.reflectivity,this.refractionRatio=a.refractionRatio,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.wireframeLinecap=a.wireframeLinecap,this.wireframeLinejoin=a.wireframeLinejoin,this.skinning=a.skinning,this.morphTargets=a.morphTargets,this},T.prototype=Object.create(R.prototype),T.prototype.constructor=T,T.prototype.isShaderMaterial=!0,T.prototype.copy=function(a){return R.prototype.copy.call(this,a),this.fragmentShader=a.fragmentShader,this.vertexShader=a.vertexShader,this.uniforms=ri.clone(a.uniforms),this.defines=Object.assign({},a.defines),this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.lights=a.lights,
this.clipping=a.clipping,this.skinning=a.skinning,this.morphTargets=a.morphTargets,this.morphNormals=a.morphNormals,this.extensions=a.extensions,this},T.prototype.toJSON=function(a){var b=R.prototype.toJSON.call(this,a);return b.uniforms=this.uniforms,b.vertexShader=this.vertexShader,b.fragmentShader=this.fragmentShader,b},Object.assign(U.prototype,{set:function(a,b){return this.origin.copy(a),this.direction.copy(b),this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){return this.origin.copy(a.origin),this.direction.copy(a.direction),this},at:function(a,b){return void 0===b&&(b=new f),b.copy(this.direction).multiplyScalar(a).add(this.origin)},lookAt:function(a){return this.direction.copy(a).sub(this.origin).normalize(),this},recast:function(){var a=new f;return function(b){return this.origin.copy(this.at(b,a)),this}}(),closestPointToPoint:function(a,b){void 0===b&&(b=new f),b.subVectors(a,this.origin);var c=b.dot(this.direction);return c<0?b.copy(this.origin):b.copy(this.direction).multiplyScalar(c).add(this.origin)},distanceToPoint:function(a){return Math.sqrt(this.distanceSqToPoint(a))},distanceSqToPoint:function(){var a=new f;return function(b){var c=a.subVectors(b,this.origin).dot(this.direction);return c<0?this.origin.distanceToSquared(b):(a.copy(this.direction).multiplyScalar(c).add(this.origin),a.distanceToSquared(b))}}(),distanceSqToSegment:function(){var a=new f,b=new f,c=new f;return function(d,e,f,g){a.copy(d).add(e).multiplyScalar(.5),b.copy(e).sub(d).normalize(),c.copy(this.origin).sub(a);var h,i,j,k,l=.5*d.distanceTo(e),m=-this.direction.dot(b),n=c.dot(this.direction),o=-c.dot(b),p=c.lengthSq(),q=Math.abs(1-m*m);if(q>0)if(h=m*o-n,i=m*n-o,k=l*q,h>=0)if(i>=-k)if(i<=k){var r=1/q;h*=r,i*=r,j=h*(h+m*i+2*n)+i*(m*h+i+2*o)+p}else i=l,h=Math.max(0,-(m*i+n)),j=-h*h+i*(i+2*o)+p;else i=-l,h=Math.max(0,-(m*i+n)),j=-h*h+i*(i+2*o)+p;else i<=-k?(h=Math.max(0,-(-m*l+n)),i=h>0?-l:Math.min(Math.max(-l,-o),l),j=-h*h+i*(i+2*o)+p):i<=k?(h=0,i=Math.min(Math.max(-l,-o),l),j=i*(i+2*o)+p):(h=Math.max(0,-(m*l+n)),i=h>0?l:Math.min(Math.max(-l,-o),l),j=-h*h+i*(i+2*o)+p);else i=m>0?-l:l,h=Math.max(0,-(m*i+n)),j=-h*h+i*(i+2*o)+p;return f&&f.copy(this.direction).multiplyScalar(h).add(this.origin),g&&g.copy(b).multiplyScalar(i).add(a),j}}(),intersectSphere:function(){var a=new f;return function(b,c){a.subVectors(b.center,this.origin);var d=a.dot(this.direction),e=a.dot(a)-d*d,f=b.radius*b.radius;if(e>f)return null;var g=Math.sqrt(f-e),h=d-g,i=d+g;return h<0&&i<0?null:h<0?this.at(i,c):this.at(h,c)}}(),intersectsSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},distanceToPlane:function(a){var b=a.normal.dot(this.direction);if(0===b)return 0===a.distanceToPoint(this.origin)?0:null;var c=-(this.origin.dot(a.normal)+a.constant)/b;return c>=0?c:null},intersectPlane:function(a,b){var c=this.distanceToPlane(a);return null===c?null:this.at(c,b)},intersectsPlane:function(a){var b=a.distanceToPoint(this.origin);return 0===b||a.normal.dot(this.direction)*b<0},intersectBox:function(a,b){var c,d,e,f,g,h,i=1/this.direction.x,j=1/this.direction.y,k=1/this.direction.z,l=this.origin;return i>=0?(c=(a.min.x-l.x)*i,d=(a.max.x-l.x)*i):(c=(a.max.x-l.x)*i,d=(a.min.x-l.x)*i),j>=0?(e=(a.min.y-l.y)*j,f=(a.max.y-l.y)*j):(e=(a.max.y-l.y)*j,f=(a.min.y-l.y)*j),c>f||e>d?null:((e>c||c!==c)&&(c=e),(f<d||d!==d)&&(d=f),k>=0?(g=(a.min.z-l.z)*k,h=(a.max.z-l.z)*k):(g=(a.max.z-l.z)*k,h=(a.min.z-l.z)*k),c>h||g>d?null:((g>c||c!==c)&&(c=g),(h<d||d!==d)&&(d=h),d<0?null:this.at(c>=0?c:d,b)))},intersectsBox:function(){var a=new f;return function(b){return null!==this.intersectBox(b,a)}}(),intersectTriangle:function(){var a=new f,b=new f,c=new f,d=new f;return function(e,f,g,h,i){b.subVectors(f,e),c.subVectors(g,e),d.crossVectors(b,c);var j,k=this.direction.dot(d);if(k>0){if(h)return null;j=1}else{if(!(k<0))return null;j=-1,k=-k}a.subVectors(this.origin,e);var l=j*this.direction.dot(c.crossVectors(a,c));if(l<0)return null;var m=j*this.direction.dot(b.cross(a));if(m<0)return null;if(l+m>k)return null;var n=-j*a.dot(d);return n<0?null:this.at(n/k,i)}}(),applyMatrix4:function(a){return this.origin.applyMatrix4(a),this.direction.transformDirection(a),this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}}),Object.assign(V.prototype,{set:function(a,b){return this.start.copy(a),this.end.copy(b),this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){return this.start.copy(a.start),this.end.copy(a.end),this},getCenter:function(a){return void 0===a&&(a=new f),a.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(a){return void 0===a&&(a=new f),a.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(a,b){return void 0===b&&(b=new f),this.delta(b).multiplyScalar(a).add(this.start)},closestPointToPointParameter:function(){var a=new f,b=new f;return function(c,d){a.subVectors(c,this.start),b.subVectors(this.end,this.start);var e=b.dot(b),f=b.dot(a),g=f/e;return d&&(g=oi.clamp(g,0,1)),g}}(),closestPointToPoint:function(a,b,c){var d=this.closestPointToPointParameter(a,b);return void 0===c&&(c=new f),this.delta(c).multiplyScalar(d).add(this.start)},applyMatrix4:function(a){return this.start.applyMatrix4(a),this.end.applyMatrix4(a),this},equals:function(a){return a.start.equals(this.start)&&a.end.equals(this.end)}}),Object.assign(W,{getNormal:function(){var a=new f;return function(b,c,d,e){void 0===e&&(e=new f),e.subVectors(d,c),a.subVectors(b,c),e.cross(a);var g=e.lengthSq();return g>0?e.multiplyScalar(1/Math.sqrt(g)):e.set(0,0,0)}}(),getBarycoord:function(){var a=new f,b=new f,c=new f;return function(d,e,g,h,i){a.subVectors(h,e),b.subVectors(g,e),c.subVectors(d,e);var j=a.dot(a),k=a.dot(b),l=a.dot(c),m=b.dot(b),n=b.dot(c),o=j*m-k*k;if(void 0===i&&(i=new f),0===o)return i.set(-2,-1,-1);var p=1/o,q=(m*l-k*n)*p,r=(j*n-k*l)*p;return i.set(1-q-r,r,q)}}(),containsPoint:function(){var a=new f;return function(b,c,d,e){return W.getBarycoord(b,c,d,e,a),a.x>=0&&a.y>=0&&a.x+a.y<=1}}()}),Object.assign(W.prototype,{set:function(a,b,c){return this.a.copy(a),this.b.copy(b),this.c.copy(c),this},setFromPointsAndIndices:function(a,b,c,d){return this.a.copy(a[b]),this.b.copy(a[c]),this.c.copy(a[d]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){return this.a.copy(a.a),this.b.copy(a.b),this.c.copy(a.c),this},getArea:function(){var a=new f,b=new f;return function(){return a.subVectors(this.c,this.b),b.subVectors(this.a,this.b),.5*a.cross(b).length()}}(),getMidpoint:function(a){return void 0===a&&(a=new f),a.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(a){return W.getNormal(this.a,this.b,this.c,a)},getPlane:function(a){return void 0===a&&(a=new f),a.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(a,b){return W.getBarycoord(a,this.a,this.b,this.c,b)},containsPoint:function(a){return W.containsPoint(a,this.a,this.b,this.c)},intersectsBox:function(a){return a.intersectsTriangle(this)},closestPointToPoint:function(){var a=new o,b=[new V,new V,new V],c=new f,d=new f;return function(e,g){void 0===g&&(g=new f);var h=1/0;if(a.setFromCoplanarPoints(this.a,this.b,this.c),a.projectPoint(e,c),!0===this.containsPoint(c))g.copy(c);else{b[0].set(this.a,this.b),b[1].set(this.b,this.c),b[2].set(this.c,this.a);for(var i=0;i<b.length;i++){b[i].closestPointToPoint(c,!0,d);var j=c.distanceToSquared(d);j<h&&(h=j,g.copy(d))}}return g}}(),equals:function(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}}),X.prototype=Object.assign(Object.create(v.prototype),{constructor:X,isMesh:!0,setDrawMode:function(a){this.drawMode=a},copy:function(a){return v.prototype.copy.call(this,a),this.drawMode=a.drawMode,void 0!==a.morphTargetInfluences&&(this.morphTargetInfluences=a.morphTargetInfluences.slice()),void 0!==a.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},a.morphTargetDictionary)),this},updateMorphTargets:function(){var a,b,c,d=this.geometry;if(d.isBufferGeometry){var e=d.morphAttributes,f=Object.keys(e);if(f.length>0){var g=e[f[0]];if(void 0!==g)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},a=0,b=g.length;a<b;a++)c=g[a].name||String(a),this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}else{var h=d.morphTargets;if(void 0!==h&&h.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},a=0,b=h.length;a<b;a++)c=h[a].name||String(a),this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}},raycast:function(){function a(a,b,c,d,e,f,g){return W.getBarycoord(a,b,c,d,t),e.multiplyScalar(t.x),f.multiplyScalar(t.y),g.multiplyScalar(t.z),e.add(f).add(g),e.clone()}function b(a,b,c,d,e,f,g,h){if(null===(b.side===gg?d.intersectTriangle(g,f,e,!0,h):d.intersectTriangle(e,f,g,b.side!==hg,h)))return null;v.copy(h),v.applyMatrix4(a.matrixWorld);var i=c.ray.origin.distanceTo(v);return i<c.near||i>c.far?null:{distance:i,point:v.clone(),object:a}}function e(c,d,e,f,g,h,i,m){j.fromBufferAttribute(f,h),k.fromBufferAttribute(f,i),l.fromBufferAttribute(f,m);var n=b(c,c.material,d,e,j,k,l,u);if(n){g&&(q.fromBufferAttribute(g,h),r.fromBufferAttribute(g,i),s.fromBufferAttribute(g,m),n.uv=a(u,j,k,l,q,r,s));var o=new y(h,i,m);W.getNormal(j,k,l,o.normal),n.face=o}return n}var g=new d,h=new U,i=new n,j=new f,k=new f,l=new f,m=new f,o=new f,p=new f,q=new c,r=new c,s=new c,t=new f,u=new f,v=new f;return function(c,d){var f=this.geometry,n=this.material,t=this.matrixWorld;if(void 0!==n&&(null===f.boundingSphere&&f.computeBoundingSphere(),i.copy(f.boundingSphere),i.applyMatrix4(t),!1!==c.ray.intersectsSphere(i)&&(g.getInverse(t),h.copy(c.ray).applyMatrix4(g),null===f.boundingBox||!1!==h.intersectsBox(f.boundingBox)))){var v;if(f.isBufferGeometry){var w,x,y,z,A,B=f.index,C=f.attributes.position,D=f.attributes.uv;if(null!==B)for(z=0,A=B.count;z<A;z+=3)w=B.getX(z),x=B.getX(z+1),y=B.getX(z+2),(v=e(this,c,h,C,D,w,x,y))&&(v.faceIndex=Math.floor(z/3),d.push(v));else if(void 0!==C)for(z=0,A=C.count;z<A;z+=3)w=z,x=z+1,y=z+2,(v=e(this,c,h,C,D,w,x,y))&&(v.faceIndex=Math.floor(z/3),d.push(v))}else if(f.isGeometry){var E,F,G,H,I=Array.isArray(n),J=f.vertices,K=f.faces,L=f.faceVertexUvs[0];L.length>0&&(H=L);for(var M=0,N=K.length;M<N;M++){var O=K[M],P=I?n[O.materialIndex]:n;if(void 0!==P){if(E=J[O.a],F=J[O.b],G=J[O.c],!0===P.morphTargets){var Q=f.morphTargets,R=this.morphTargetInfluences;j.set(0,0,0),k.set(0,0,0),l.set(0,0,0);for(var S=0,T=Q.length;S<T;S++){var U=R[S];if(0!==U){var V=Q[S].vertices;j.addScaledVector(m.subVectors(V[O.a],E),U),k.addScaledVector(o.subVectors(V[O.b],F),U),l.addScaledVector(p.subVectors(V[O.c],G),U)}}j.add(E),k.add(F),l.add(G),E=j,F=k,G=l}if(v=b(this,P,c,h,E,F,G,u)){if(H&&H[M]){var W=H[M];q.copy(W[0]),r.copy(W[1]),s.copy(W[2]),v.uv=a(u,E,F,G,q,r,s)}v.face=O,v.faceIndex=M,d.push(v)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ha.prototype=Object.create(h.prototype),ha.prototype.constructor=ha,ha.prototype.isCubeTexture=!0,Object.defineProperty(ha.prototype,"images",{get:function(){return this.image},set:function(a){this.image=a}});var zi=new h,Ai=new ha,Bi=[],Ci=[],Di=new Float32Array(16),Ei=new Float32Array(9),Fi=new Float32Array(4);Na.prototype.updateCache=function(a){var b=this.cache;a instanceof Float32Array&&b.length!==a.length&&(this.cache=new Float32Array(a.length)),la(b,a)},Oa.prototype.setValue=function(a,b){for(var c=this.seq,d=0,e=c.length;d!==e;++d){var f=c[d];f.setValue(a,b[f.id])}};var Gi=/([\w\d_]+)(\])?(\[|\.)?/g;Ra.prototype.setValue=function(a,b,c){var d=this.map[b];void 0!==d&&d.setValue(a,c,this.renderer)},Ra.prototype.setOptional=function(a,b,c){var d=b[c];void 0!==d&&this.setValue(a,c,d)},Ra.upload=function(a,b,c,d){for(var e=0,f=b.length;e!==f;++e){var g=b[e],h=c[g.id];!1!==h.needsUpdate&&g.setValue(a,h.value,d)}},Ra.seqWithValue=function(a,b){for(var c=[],d=0,e=a.length;d!==e;++d){var f=a[d];f.id in b&&c.push(f)}return c};var Hi=0,Ii=0;ob.prototype=Object.create(R.prototype),ob.prototype.constructor=ob,ob.prototype.isMeshDepthMaterial=!0,ob.prototype.copy=function(a){return R.prototype.copy.call(this,a),this.depthPacking=a.depthPacking,this.skinning=a.skinning,this.morphTargets=a.morphTargets,this.map=a.map,this.alphaMap=a.alphaMap,this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this},pb.prototype=Object.create(R.prototype),pb.prototype.constructor=pb,pb.prototype.isMeshDistanceMaterial=!0,pb.prototype.copy=function(a){return R.prototype.copy.call(this,a),this.referencePosition.copy(a.referencePosition),this.nearDistance=a.nearDistance,this.farDistance=a.farDistance,this.skinning=a.skinning,this.morphTargets=a.morphTargets,this.map=a.map,this.alphaMap=a.alphaMap,this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this},rb.prototype=Object.create(h.prototype),rb.prototype.constructor=rb,rb.prototype.isCanvasTexture=!0,wb.prototype=Object.assign(Object.create(w.prototype),{constructor:wb,isPerspectiveCamera:!0,copy:function(a,b){return w.prototype.copy.call(this,a,b),this.fov=a.fov,this.zoom=a.zoom,this.near=a.near,this.far=a.far,this.focus=a.focus,this.aspect=a.aspect,this.view=null===a.view?null:Object.assign({},a.view),this.filmGauge=a.filmGauge,this.filmOffset=a.filmOffset,this},setFocalLength:function(a){var b=.5*this.getFilmHeight()/a;this.fov=2*oi.RAD2DEG*Math.atan(b),this.updateProjectionMatrix()},getFocalLength:function(){var a=Math.tan(.5*oi.DEG2RAD*this.fov);return.5*this.getFilmHeight()/a},getEffectiveFOV:function(){return 2*oi.RAD2DEG*Math.atan(Math.tan(.5*oi.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(a,b,c,d,e,f){this.aspect=a/b,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=a,this.view.fullHeight=b,this.view.offsetX=c,this.view.offsetY=d,this.view.width=e,this.view.height=f,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var a=this.near,b=a*Math.tan(.5*oi.DEG2RAD*this.fov)/this.zoom,c=2*b,d=this.aspect*c,e=-.5*d,f=this.view;if(null!==this.view&&this.view.enabled){var g=f.fullWidth,h=f.fullHeight;e+=f.offsetX*d/g,b-=f.offsetY*c/h,d*=f.width/g,c*=f.height/h}var i=this.filmOffset;0!==i&&(e+=a*i/this.getFilmWidth()),this.projectionMatrix.makePerspective(e,e+d,b,b-c,a,this.far)},toJSON:function(a){var b=v.prototype.toJSON.call(this,a);return b.object.fov=this.fov,b.object.zoom=this.zoom,b.object.near=this.near,b.object.far=this.far,b.object.focus=this.focus,b.object.aspect=this.aspect,null!==this.view&&(b.object.view=Object.assign({},this.view)),b.object.filmGauge=this.filmGauge,b.object.filmOffset=this.filmOffset,b}}),xb.prototype=Object.assign(Object.create(wb.prototype),{constructor:xb,isArrayCamera:!0}),Bb.prototype.isFogExp2=!0,Bb.prototype.clone=function(){return new Bb(this.color,this.density)},Bb.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},Cb.prototype.isFog=!0,Cb.prototype.clone=function(){return new Cb(this.color,this.near,this.far)},Cb.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Db.prototype=Object.assign(Object.create(v.prototype),{constructor:Db,copy:function(a,b){return v.prototype.copy.call(this,a,b),null!==a.background&&(this.background=a.background.clone()),null!==a.fog&&(this.fog=a.fog.clone()),null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone()),this.autoUpdate=a.autoUpdate,this.matrixAutoUpdate=a.matrixAutoUpdate,this},toJSON:function(a){var b=v.prototype.toJSON.call(this,a);return null!==this.background&&(b.object.background=this.background.toJSON(a)),null!==this.fog&&(b.object.fog=this.fog.toJSON()),b}}),Eb.prototype=Object.create(R.prototype),Eb.prototype.constructor=Eb,Eb.prototype.isSpriteMaterial=!0,Eb.prototype.copy=function(a){return R.prototype.copy.call(this,a),this.color.copy(a.color),this.map=a.map,this.rotation=a.rotation,this},Fb.prototype=Object.assign(Object.create(v.prototype),{constructor:Fb,isSprite:!0,raycast:function(){var a=new f,b=new f,c=new f;return function(d,e){b.setFromMatrixPosition(this.matrixWorld),d.ray.closestPointToPoint(b,a),c.setFromMatrixScale(this.matrixWorld);var f=c.x*c.y/4;if(!(b.distanceToSquared(a)>f)){var g=d.ray.origin.distanceTo(a);g<d.near||g>d.far||e.push({distance:g,point:a.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(a){return v.prototype.copy.call(this,a),void 0!==a.center&&this.center.copy(a.center),this}}),Gb.prototype=Object.assign(Object.create(v.prototype),{constructor:Gb,copy:function(a){v.prototype.copy.call(this,a,!1);for(var b=a.levels,c=0,d=b.length;c<d;c++){var e=b[c];this.addLevel(e.object.clone(),e.distance)}return this},addLevel:function(a,b){void 0===b&&(b=0),b=Math.abs(b);for(var c=this.levels,d=0;d<c.length&&!(b<c[d].distance);d++);c.splice(d,0,{distance:b,object:a}),this.add(a)},getObjectForDistance:function(a){for(var b=this.levels,c=1,d=b.length;c<d&&!(a<b[c].distance);c++);return b[c-1].object},raycast:function(){var a=new f;return function(b,c){a.setFromMatrixPosition(this.matrixWorld);var d=b.ray.origin.distanceTo(a);this.getObjectForDistance(d).raycast(b,c)}}(),update:function(){var a=new f,b=new f;return function(c){var d=this.levels;if(d.length>1){a.setFromMatrixPosition(c.matrixWorld),b.setFromMatrixPosition(this.matrixWorld);var e=a.distanceTo(b);d[0].object.visible=!0;for(var f=1,g=d.length;f<g&&e>=d[f].distance;f++)d[f-1].object.visible=!1,d[f].object.visible=!0;for(;f<g;f++)d[f].object.visible=!1}}}(),toJSON:function(a){var b=v.prototype.toJSON.call(this,a);b.object.levels=[];for(var c=this.levels,d=0,e=c.length;d<e;d++){var f=c[d];b.object.levels.push({object:f.object.uuid,distance:f.distance})}return b}}),Object.assign(Hb.prototype,{calculateInverses:function(){this.boneInverses=[];for(var a=0,b=this.bones.length;a<b;a++){var c=new d;this.bones[a]&&c.getInverse(this.bones[a].matrixWorld),this.boneInverses.push(c)}},pose:function(){var a,b,c;for(b=0,c=this.bones.length;b<c;b++)(a=this.bones[b])&&a.matrixWorld.getInverse(this.boneInverses[b]);for(b=0,c=this.bones.length;b<c;b++)(a=this.bones[b])&&(a.parent&&a.parent.isBone?(a.matrix.getInverse(a.parent.matrixWorld),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))},update:function(){var a=new d,b=new d;return function(){for(var c=this.bones,d=this.boneInverses,e=this.boneMatrices,f=this.boneTexture,g=0,h=c.length;g<h;g++){var i=c[g]?c[g].matrixWorld:b;a.multiplyMatrices(i,d[g]),a.toArray(e,16*g)}void 0!==f&&(f.needsUpdate=!0)}}(),clone:function(){return new Hb(this.bones,this.boneInverses)},getBoneByName:function(a){for(var b=0,c=this.bones.length;b<c;b++){var d=this.bones[b];if(d.name===a)return d}}}),Ib.prototype=Object.assign(Object.create(v.prototype),{constructor:Ib,isBone:!0}),Jb.prototype=Object.assign(Object.create(X.prototype),{constructor:Jb,isSkinnedMesh:!0,initBones:function(){var a,b,c,d,e=[];if(this.geometry&&void 0!==this.geometry.bones){for(c=0,d=this.geometry.bones.length;c<d;c++)b=this.geometry.bones[c],a=new Ib,e.push(a),a.name=b.name,a.position.fromArray(b.pos),a.quaternion.fromArray(b.rotq),void 0!==b.scl&&a.scale.fromArray(b.scl);for(c=0,d=this.geometry.bones.length;c<d;c++)b=this.geometry.bones[c],-1!==b.parent&&null!==b.parent&&void 0!==e[b.parent]?e[b.parent].add(e[c]):this.add(e[c])}return this.updateMatrixWorld(!0),e},bind:function(a,b){this.skeleton=a,void 0===b&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),b=this.matrixWorld),this.bindMatrix.copy(b),this.bindMatrixInverse.getInverse(b)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var a,b;if(this.geometry&&this.geometry.isGeometry)for(b=0;b<this.geometry.skinWeights.length;b++){var c=this.geometry.skinWeights[b];a=1/c.manhattanLength(),a!==1/0?c.multiplyScalar(a):c.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var d=new i,e=this.geometry.attributes.skinWeight;for(b=0;b<e.count;b++)d.x=e.getX(b),d.y=e.getY(b),d.z=e.getZ(b),d.w=e.getW(b),a=1/d.manhattanLength(),a!==1/0?d.multiplyScalar(a):d.set(1,0,0,0),e.setXYZW(b,d.x,d.y,d.z,d.w)}},updateMatrixWorld:function(a){X.prototype.updateMatrixWorld.call(this,a),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode&&this.bindMatrixInverse.getInverse(this.bindMatrix)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Kb.prototype=Object.create(R.prototype),Kb.prototype.constructor=Kb,Kb.prototype.isLineBasicMaterial=!0,Kb.prototype.copy=function(a){return R.prototype.copy.call(this,a),this.color.copy(a.color),this.linewidth=a.linewidth,this.linecap=a.linecap,this.linejoin=a.linejoin,this},Lb.prototype=Object.assign(Object.create(v.prototype),{constructor:Lb,isLine:!0,computeLineDistances:function(){var a=new f,b=new f;return function(){var c=this.geometry;if(c.isBufferGeometry){if(null===c.index){for(var d=c.attributes.position,e=[0],f=1,g=d.count;f<g;f++)a.fromBufferAttribute(d,f-1),b.fromBufferAttribute(d,f),e[f]=e[f-1],e[f]+=a.distanceTo(b);c.addAttribute("lineDistance",new I(e,1))}}else if(c.isGeometry){var h=c.vertices,e=c.lineDistances;e[0]=0;for(var f=1,g=h.length;f<g;f++)e[f]=e[f-1],e[f]+=h[f-1].distanceTo(h[f])}return this}}(),raycast:function(){var a=new d,b=new U,c=new n;return function(d,e){var g=d.linePrecision,h=g*g,i=this.geometry,j=this.matrixWorld;if(null===i.boundingSphere&&i.computeBoundingSphere(),c.copy(i.boundingSphere),c.applyMatrix4(j),!1!==d.ray.intersectsSphere(c)){a.getInverse(j),b.copy(d.ray).applyMatrix4(a);var k=new f,l=new f,m=new f,n=new f,o=this&&this.isLineSegments?2:1;if(i.isBufferGeometry){var p=i.index,q=i.attributes,r=q.position.array;if(null!==p)for(var s=p.array,t=0,u=s.length-1;t<u;t+=o){var v=s[t],w=s[t+1];k.fromArray(r,3*v),l.fromArray(r,3*w);var x=b.distanceSqToSegment(k,l,n,m);if(!(x>h)){n.applyMatrix4(this.matrixWorld);var y=d.ray.origin.distanceTo(n);y<d.near||y>d.far||e.push({distance:y,point:m.clone().applyMatrix4(this.matrixWorld),index:t,face:null,faceIndex:null,object:this})}}else for(var t=0,u=r.length/3-1;t<u;t+=o){k.fromArray(r,3*t),l.fromArray(r,3*t+3);var x=b.distanceSqToSegment(k,l,n,m);if(!(x>h)){n.applyMatrix4(this.matrixWorld);var y=d.ray.origin.distanceTo(n);y<d.near||y>d.far||e.push({distance:y,point:m.clone().applyMatrix4(this.matrixWorld),index:t,face:null,faceIndex:null,object:this})}}}else if(i.isGeometry)for(var z=i.vertices,A=z.length,t=0;t<A-1;t+=o){var x=b.distanceSqToSegment(z[t],z[t+1],n,m);if(!(x>h)){n.applyMatrix4(this.matrixWorld);var y=d.ray.origin.distanceTo(n);y<d.near||y>d.far||e.push({distance:y,point:m.clone().applyMatrix4(this.matrixWorld),index:t,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Mb.prototype=Object.assign(Object.create(Lb.prototype),{constructor:Mb,isLineSegments:!0,computeLineDistances:function(){var a=new f,b=new f;return function(){var c=this.geometry;if(c.isBufferGeometry){if(null===c.index){for(var d=c.attributes.position,e=[],f=0,g=d.count;f<g;f+=2)a.fromBufferAttribute(d,f),b.fromBufferAttribute(d,f+1),e[f]=0===f?0:e[f-1],e[f+1]=e[f]+a.distanceTo(b);c.addAttribute("lineDistance",new I(e,1))}}else if(c.isGeometry)for(var h=c.vertices,e=c.lineDistances,f=0,g=h.length;f<g;f+=2)a.copy(h[f]),b.copy(h[f+1]),e[f]=0===f?0:e[f-1],e[f+1]=e[f]+a.distanceTo(b);return this}}()}),Nb.prototype=Object.assign(Object.create(Lb.prototype),{constructor:Nb,isLineLoop:!0}),Ob.prototype=Object.create(R.prototype),Ob.prototype.constructor=Ob,Ob.prototype.isPointsMaterial=!0,Ob.prototype.copy=function(a){return R.prototype.copy.call(this,a),this.color.copy(a.color),this.map=a.map,this.size=a.size,this.sizeAttenuation=a.sizeAttenuation,this.morphTargets=a.morphTargets,this},Pb.prototype=Object.assign(Object.create(v.prototype),{constructor:Pb,isPoints:!0,raycast:function(){var a=new d,b=new U,c=new n;return function(d,e){function g(a,c){var f=b.distanceSqToPoint(a);if(f<m){b.closestPointToPoint(a,o),o.applyMatrix4(j);var g=d.ray.origin.distanceTo(o);if(g<d.near||g>d.far)return;e.push({distance:g,distanceToRay:Math.sqrt(f),point:o.clone(),index:c,face:null,object:h})}}var h=this,i=this.geometry,j=this.matrixWorld,k=d.params.Points.threshold;if(null===i.boundingSphere&&i.computeBoundingSphere(),c.copy(i.boundingSphere),c.applyMatrix4(j),c.radius+=k,!1!==d.ray.intersectsSphere(c)){a.getInverse(j),b.copy(d.ray).applyMatrix4(a);var l=k/((this.scale.x+this.scale.y+this.scale.z)/3),m=l*l,n=new f,o=new f;if(i.isBufferGeometry){var p=i.index,q=i.attributes,r=q.position.array;if(null!==p)for(var s=p.array,t=0,u=s.length;t<u;t++){var v=s[t];n.fromArray(r,3*v),g(n,v)}else for(var t=0,w=r.length/3;t<w;t++)n.fromArray(r,3*t),g(n,t)}else for(var x=i.vertices,t=0,w=x.length;t<w;t++)g(x[t],t)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Qb.prototype=Object.assign(Object.create(v.prototype),{constructor:Qb,isGroup:!0}),Rb.prototype=Object.assign(Object.create(h.prototype),{constructor:Rb,isVideoTexture:!0,update:function(){var a=this.image;a.readyState>=a.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Sb.prototype=Object.create(h.prototype),Sb.prototype.constructor=Sb,Sb.prototype.isCompressedTexture=!0,Tb.prototype=Object.create(h.prototype),Tb.prototype.constructor=Tb,Tb.prototype.isDepthTexture=!0,Ub.prototype=Object.create(M.prototype),Ub.prototype.constructor=Ub,Vb.prototype=Object.create(z.prototype),Vb.prototype.constructor=Vb,Wb.prototype=Object.create(M.prototype),Wb.prototype.constructor=Wb,Xb.prototype=Object.create(z.prototype),Xb.prototype.constructor=Xb,Yb.prototype=Object.create(M.prototype),Yb.prototype.constructor=Yb,Zb.prototype=Object.create(z.prototype),Zb.prototype.constructor=Zb,$b.prototype=Object.create(Yb.prototype),$b.prototype.constructor=$b,_b.prototype=Object.create(z.prototype),_b.prototype.constructor=_b,ac.prototype=Object.create(Yb.prototype),ac.prototype.constructor=ac,bc.prototype=Object.create(z.prototype),bc.prototype.constructor=bc,cc.prototype=Object.create(Yb.prototype),cc.prototype.constructor=cc,dc.prototype=Object.create(z.prototype),dc.prototype.constructor=dc,ec.prototype=Object.create(Yb.prototype),ec.prototype.constructor=ec,fc.prototype=Object.create(z.prototype),fc.prototype.constructor=fc,gc.prototype=Object.create(M.prototype),gc.prototype.constructor=gc,hc.prototype=Object.create(z.prototype),hc.prototype.constructor=hc,ic.prototype=Object.create(M.prototype),ic.prototype.constructor=ic,jc.prototype=Object.create(z.prototype),jc.prototype.constructor=jc,kc.prototype=Object.create(M.prototype),kc.prototype.constructor=kc;var Ji={triangulate:function(a,b,c){c=c||2;var d=b&&b.length,e=d?b[0]*c:a.length,f=lc(a,0,e,c,!0),g=[];if(!f)return g;var h,i,j,k,l,m,n;if(d&&(f=sc(a,b,f,c)),a.length>80*c){h=j=a[0],i=k=a[1];for(var o=c;o<e;o+=c)l=a[o],m=a[o+1],l<h&&(h=l),m<i&&(i=m),l>j&&(j=l),m>k&&(k=m);n=Math.max(j-h,k-i),n=0!==n?1/n:0}return nc(f,g,c,h,i,n),g}},Ki={area:function(a){for(var b=a.length,c=0,d=b-1,e=0;e<b;d=e++)c+=a[d].x*a[e].y-a[e].x*a[d].y;return.5*c},isClockWise:function(a){return Ki.area(a)<0},triangulateShape:function(a,b){var c=[],d=[],e=[];Nc(a),Oc(c,a);var f=a.length;b.forEach(Nc);for(var g=0;g<b.length;g++)d.push(f),f+=b[g].length,Oc(c,b[g]);for(var h=Ji.triangulate(c,d),g=0;g<h.length;g+=3)e.push(h.slice(g,g+3));return e}};Pc.prototype=Object.create(z.prototype),Pc.prototype.constructor=Pc,Pc.prototype.toJSON=function(){var a=z.prototype.toJSON.call(this);return Rc(this.parameters.shapes,this.parameters.options,a)},Qc.prototype=Object.create(M.prototype),Qc.prototype.constructor=Qc,Qc.prototype.toJSON=function(){var a=M.prototype.toJSON.call(this);return Rc(this.parameters.shapes,this.parameters.options,a)};var Li={generateTopUV:function(a,b,d,e,f){var g=b[3*d],h=b[3*d+1],i=b[3*e],j=b[3*e+1],k=b[3*f],l=b[3*f+1];return[new c(g,h),new c(i,j),new c(k,l)]},generateSideWallUV:function(a,b,d,e,f,g){var h=b[3*d],i=b[3*d+1],j=b[3*d+2],k=b[3*e],l=b[3*e+1],m=b[3*e+2],n=b[3*f],o=b[3*f+1],p=b[3*f+2],q=b[3*g],r=b[3*g+1],s=b[3*g+2];return Math.abs(i-l)<.01?[new c(h,1-j),new c(k,1-m),new c(n,1-p),new c(q,1-s)]:[new c(i,1-j),new c(l,1-m),new c(o,1-p),new c(r,1-s)]}};Sc.prototype=Object.create(z.prototype),Sc.prototype.constructor=Sc,Tc.prototype=Object.create(Qc.prototype),Tc.prototype.constructor=Tc,Uc.prototype=Object.create(z.prototype),Uc.prototype.constructor=Uc,Vc.prototype=Object.create(M.prototype),Vc.prototype.constructor=Vc,Wc.prototype=Object.create(z.prototype),Wc.prototype.constructor=Wc,Xc.prototype=Object.create(M.prototype),Xc.prototype.constructor=Xc,Yc.prototype=Object.create(z.prototype),Yc.prototype.constructor=Yc,Zc.prototype=Object.create(M.prototype),Zc.prototype.constructor=Zc,$c.prototype=Object.create(z.prototype),$c.prototype.constructor=$c,$c.prototype.toJSON=function(){var a=z.prototype.toJSON.call(this);return ad(this.parameters.shapes,a)},_c.prototype=Object.create(M.prototype),_c.prototype.constructor=_c,_c.prototype.toJSON=function(){var a=M.prototype.toJSON.call(this);return ad(this.parameters.shapes,a)},bd.prototype=Object.create(M.prototype),bd.prototype.constructor=bd,cd.prototype=Object.create(z.prototype),cd.prototype.constructor=cd,dd.prototype=Object.create(M.prototype),dd.prototype.constructor=dd,ed.prototype=Object.create(cd.prototype),ed.prototype.constructor=ed,fd.prototype=Object.create(dd.prototype),fd.prototype.constructor=fd,gd.prototype=Object.create(z.prototype),gd.prototype.constructor=gd,hd.prototype=Object.create(M.prototype),hd.prototype.constructor=hd;var Mi=Object.freeze({WireframeGeometry:Ub,ParametricGeometry:Vb,ParametricBufferGeometry:Wb,TetrahedronGeometry:Zb,TetrahedronBufferGeometry:$b,OctahedronGeometry:_b,OctahedronBufferGeometry:ac,IcosahedronGeometry:bc,IcosahedronBufferGeometry:cc,DodecahedronGeometry:dc,DodecahedronBufferGeometry:ec,PolyhedronGeometry:Xb,PolyhedronBufferGeometry:Yb,TubeGeometry:fc,TubeBufferGeometry:gc,TorusKnotGeometry:hc,TorusKnotBufferGeometry:ic,TorusGeometry:jc,TorusBufferGeometry:kc,TextGeometry:Sc,TextBufferGeometry:Tc,SphereGeometry:Uc,SphereBufferGeometry:Vc,RingGeometry:Wc,RingBufferGeometry:Xc,PlaneGeometry:P,PlaneBufferGeometry:Q,LatheGeometry:Yc,LatheBufferGeometry:Zc,ShapeGeometry:$c,ShapeBufferGeometry:_c,ExtrudeGeometry:Pc,ExtrudeBufferGeometry:Qc,EdgesGeometry:bd,ConeGeometry:ed,ConeBufferGeometry:fd,CylinderGeometry:cd,CylinderBufferGeometry:dd,CircleGeometry:gd,CircleBufferGeometry:hd,BoxGeometry:N,BoxBufferGeometry:O});id.prototype=Object.create(R.prototype),id.prototype.constructor=id,id.prototype.isShadowMaterial=!0,id.prototype.copy=function(a){return R.prototype.copy.call(this,a),this.color.copy(a.color),this},jd.prototype=Object.create(T.prototype),jd.prototype.constructor=jd,jd.prototype.isRawShaderMaterial=!0,kd.prototype=Object.create(R.prototype),kd.prototype.constructor=kd,kd.prototype.isMeshStandardMaterial=!0,kd.prototype.copy=function(a){return R.prototype.copy.call(this,a),this.defines={STANDARD:""},this.color.copy(a.color),this.roughness=a.roughness,this.metalness=a.metalness,this.map=a.map,this.lightMap=a.lightMap,this.lightMapIntensity=a.lightMapIntensity,this.aoMap=a.aoMap,
this.aoMapIntensity=a.aoMapIntensity,this.emissive.copy(a.emissive),this.emissiveMap=a.emissiveMap,this.emissiveIntensity=a.emissiveIntensity,this.bumpMap=a.bumpMap,this.bumpScale=a.bumpScale,this.normalMap=a.normalMap,this.normalScale.copy(a.normalScale),this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this.roughnessMap=a.roughnessMap,this.metalnessMap=a.metalnessMap,this.alphaMap=a.alphaMap,this.envMap=a.envMap,this.envMapIntensity=a.envMapIntensity,this.refractionRatio=a.refractionRatio,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.wireframeLinecap=a.wireframeLinecap,this.wireframeLinejoin=a.wireframeLinejoin,this.skinning=a.skinning,this.morphTargets=a.morphTargets,this.morphNormals=a.morphNormals,this},ld.prototype=Object.create(kd.prototype),ld.prototype.constructor=ld,ld.prototype.isMeshPhysicalMaterial=!0,ld.prototype.copy=function(a){return kd.prototype.copy.call(this,a),this.defines={PHYSICAL:""},this.reflectivity=a.reflectivity,this.clearCoat=a.clearCoat,this.clearCoatRoughness=a.clearCoatRoughness,this},md.prototype=Object.create(R.prototype),md.prototype.constructor=md,md.prototype.isMeshPhongMaterial=!0,md.prototype.copy=function(a){return R.prototype.copy.call(this,a),this.color.copy(a.color),this.specular.copy(a.specular),this.shininess=a.shininess,this.map=a.map,this.lightMap=a.lightMap,this.lightMapIntensity=a.lightMapIntensity,this.aoMap=a.aoMap,this.aoMapIntensity=a.aoMapIntensity,this.emissive.copy(a.emissive),this.emissiveMap=a.emissiveMap,this.emissiveIntensity=a.emissiveIntensity,this.bumpMap=a.bumpMap,this.bumpScale=a.bumpScale,this.normalMap=a.normalMap,this.normalScale.copy(a.normalScale),this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this.specularMap=a.specularMap,this.alphaMap=a.alphaMap,this.envMap=a.envMap,this.combine=a.combine,this.reflectivity=a.reflectivity,this.refractionRatio=a.refractionRatio,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.wireframeLinecap=a.wireframeLinecap,this.wireframeLinejoin=a.wireframeLinejoin,this.skinning=a.skinning,this.morphTargets=a.morphTargets,this.morphNormals=a.morphNormals,this},nd.prototype=Object.create(md.prototype),nd.prototype.constructor=nd,nd.prototype.isMeshToonMaterial=!0,nd.prototype.copy=function(a){return md.prototype.copy.call(this,a),this.gradientMap=a.gradientMap,this},od.prototype=Object.create(R.prototype),od.prototype.constructor=od,od.prototype.isMeshNormalMaterial=!0,od.prototype.copy=function(a){return R.prototype.copy.call(this,a),this.bumpMap=a.bumpMap,this.bumpScale=a.bumpScale,this.normalMap=a.normalMap,this.normalScale.copy(a.normalScale),this.displacementMap=a.displacementMap,this.displacementScale=a.displacementScale,this.displacementBias=a.displacementBias,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.skinning=a.skinning,this.morphTargets=a.morphTargets,this.morphNormals=a.morphNormals,this},pd.prototype=Object.create(R.prototype),pd.prototype.constructor=pd,pd.prototype.isMeshLambertMaterial=!0,pd.prototype.copy=function(a){return R.prototype.copy.call(this,a),this.color.copy(a.color),this.map=a.map,this.lightMap=a.lightMap,this.lightMapIntensity=a.lightMapIntensity,this.aoMap=a.aoMap,this.aoMapIntensity=a.aoMapIntensity,this.emissive.copy(a.emissive),this.emissiveMap=a.emissiveMap,this.emissiveIntensity=a.emissiveIntensity,this.specularMap=a.specularMap,this.alphaMap=a.alphaMap,this.envMap=a.envMap,this.combine=a.combine,this.reflectivity=a.reflectivity,this.refractionRatio=a.refractionRatio,this.wireframe=a.wireframe,this.wireframeLinewidth=a.wireframeLinewidth,this.wireframeLinecap=a.wireframeLinecap,this.wireframeLinejoin=a.wireframeLinejoin,this.skinning=a.skinning,this.morphTargets=a.morphTargets,this.morphNormals=a.morphNormals,this},qd.prototype=Object.create(Kb.prototype),qd.prototype.constructor=qd,qd.prototype.isLineDashedMaterial=!0,qd.prototype.copy=function(a){return Kb.prototype.copy.call(this,a),this.scale=a.scale,this.dashSize=a.dashSize,this.gapSize=a.gapSize,this};var Ni=Object.freeze({ShadowMaterial:id,SpriteMaterial:Eb,RawShaderMaterial:jd,ShaderMaterial:T,PointsMaterial:Ob,MeshPhysicalMaterial:ld,MeshStandardMaterial:kd,MeshPhongMaterial:md,MeshToonMaterial:nd,MeshNormalMaterial:od,MeshLambertMaterial:pd,MeshDepthMaterial:ob,MeshDistanceMaterial:pb,MeshBasicMaterial:S,LineDashedMaterial:qd,LineBasicMaterial:Kb,Material:R}),Oi={enabled:!1,files:{},add:function(a,b){!1!==this.enabled&&(this.files[a]=b)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}},Pi=new rd,Qi={};Object.assign(sd.prototype,{load:function(a,b,c,d){void 0===a&&(a=""),void 0!==this.path&&(a=this.path+a),a=this.manager.resolveURL(a);var e=this,f=Oi.get(a);if(void 0!==f)return e.manager.itemStart(a),setTimeout(function(){b&&b(f),e.manager.itemEnd(a)},0),f;if(void 0!==Qi[a])return void Qi[a].push({onLoad:b,onProgress:c,onError:d});var g=/^data:(.*?)(;base64)?,(.*)$/,h=a.match(g);if(h){var i=h[1],j=!!h[2],k=h[3];k=window.decodeURIComponent(k),j&&(k=window.atob(k));try{var l,m=(this.responseType||"").toLowerCase();switch(m){case"arraybuffer":case"blob":for(var n=new Uint8Array(k.length),o=0;o<k.length;o++)n[o]=k.charCodeAt(o);l="blob"===m?new Blob([n.buffer],{type:i}):n.buffer;break;case"document":var p=new DOMParser;l=p.parseFromString(k,i);break;case"json":l=JSON.parse(k);break;default:l=k}window.setTimeout(function(){b&&b(l),e.manager.itemEnd(a)},0)}catch(b){window.setTimeout(function(){d&&d(b),e.manager.itemEnd(a),e.manager.itemError(a)},0)}}else{Qi[a]=[],Qi[a].push({onLoad:b,onProgress:c,onError:d});var q=new XMLHttpRequest;q.open("GET",a,!0),q.addEventListener("load",function(b){var c=this.response;Oi.add(a,c);var d=Qi[a];if(delete Qi[a],200===this.status||0===this.status){this.status;for(var f=0,g=d.length;f<g;f++){var h=d[f];h.onLoad&&h.onLoad(c)}e.manager.itemEnd(a)}else{for(var f=0,g=d.length;f<g;f++){var h=d[f];h.onError&&h.onError(b)}e.manager.itemEnd(a),e.manager.itemError(a)}},!1),q.addEventListener("progress",function(b){for(var c=Qi[a],d=0,e=c.length;d<e;d++){var f=c[d];f.onProgress&&f.onProgress(b)}},!1),q.addEventListener("error",function(b){var c=Qi[a];delete Qi[a];for(var d=0,f=c.length;d<f;d++){var g=c[d];g.onError&&g.onError(b)}e.manager.itemEnd(a),e.manager.itemError(a)},!1),void 0!==this.responseType&&(q.responseType=this.responseType),void 0!==this.withCredentials&&(q.withCredentials=this.withCredentials),q.overrideMimeType&&q.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(var r in this.requestHeader)q.setRequestHeader(r,this.requestHeader[r]);q.send(null)}return e.manager.itemStart(a),q},setPath:function(a){return this.path=a,this},setResponseType:function(a){return this.responseType=a,this},setWithCredentials:function(a){return this.withCredentials=a,this},setMimeType:function(a){return this.mimeType=a,this},setRequestHeader:function(a){return this.requestHeader=a,this}}),Object.assign(td.prototype,{load:function(a,b,c,d){var e=this,f=[],g=new Sb;g.image=f;var h=new sd(this.manager);if(h.setPath(this.path),h.setResponseType("arraybuffer"),Array.isArray(a))for(var i=0,j=0,k=a.length;j<k;++j)!function(j){h.load(a[j],function(a){var c=e._parser(a,!0);f[j]={width:c.width,height:c.height,format:c.format,mipmaps:c.mipmaps},6===(i+=1)&&(1===c.mipmapCount&&(g.minFilter=ih),g.format=c.format,g.needsUpdate=!0,b&&b(g))},c,d)}(j);else h.load(a,function(a){var c=e._parser(a,!0);if(c.isCubemap)for(var d=c.mipmaps.length/c.mipmapCount,h=0;h<d;h++){f[h]={mipmaps:[]};for(var i=0;i<c.mipmapCount;i++)f[h].mipmaps.push(c.mipmaps[h*c.mipmapCount+i]),f[h].format=c.format,f[h].width=c.width,f[h].height=c.height}else g.image.width=c.width,g.image.height=c.height,g.mipmaps=c.mipmaps;1===c.mipmapCount&&(g.minFilter=ih),g.format=c.format,g.needsUpdate=!0,b&&b(g)},c,d);return g},setPath:function(a){return this.path=a,this}}),Object.assign(ud.prototype,{load:function(a,b,c,d){var e=this,f=new l,g=new sd(this.manager);return g.setResponseType("arraybuffer"),g.load(a,function(a){var c=e._parser(a);c&&(void 0!==c.image?f.image=c.image:void 0!==c.data&&(f.image.width=c.width,f.image.height=c.height,f.image.data=c.data),f.wrapS=void 0!==c.wrapS?c.wrapS:dh,f.wrapT=void 0!==c.wrapT?c.wrapT:dh,f.magFilter=void 0!==c.magFilter?c.magFilter:ih,f.minFilter=void 0!==c.minFilter?c.minFilter:kh,f.anisotropy=void 0!==c.anisotropy?c.anisotropy:1,void 0!==c.format&&(f.format=c.format),void 0!==c.type&&(f.type=c.type),void 0!==c.mipmaps&&(f.mipmaps=c.mipmaps),1===c.mipmapCount&&(f.minFilter=ih),f.needsUpdate=!0,b&&b(f,c))},c,d),f}}),Object.assign(vd.prototype,{crossOrigin:"Anonymous",load:function(a,b,c,d){function e(){i.removeEventListener("load",e,!1),i.removeEventListener("error",f,!1),Oi.add(a,this),b&&b(this),g.manager.itemEnd(a)}function f(b){i.removeEventListener("load",e,!1),i.removeEventListener("error",f,!1),d&&d(b),g.manager.itemEnd(a),g.manager.itemError(a)}void 0===a&&(a=""),void 0!==this.path&&(a=this.path+a),a=this.manager.resolveURL(a);var g=this,h=Oi.get(a);if(void 0!==h)return g.manager.itemStart(a),setTimeout(function(){b&&b(h),g.manager.itemEnd(a)},0),h;var i=document.createElementNS("http://www.w3.org/1999/xhtml","img");return i.addEventListener("load",e,!1),i.addEventListener("error",f,!1),"data:"!==a.substr(0,5)&&void 0!==this.crossOrigin&&(i.crossOrigin=this.crossOrigin),g.manager.itemStart(a),i.src=a,i},setCrossOrigin:function(a){return this.crossOrigin=a,this},setPath:function(a){return this.path=a,this}}),Object.assign(wd.prototype,{crossOrigin:"Anonymous",load:function(a,b,c,d){var e=new ha,f=new vd(this.manager);f.setCrossOrigin(this.crossOrigin),f.setPath(this.path);for(var g=0,h=0;h<a.length;++h)!function(c){f.load(a[c],function(a){e.images[c]=a,6==++g&&(e.needsUpdate=!0,b&&b(e))},void 0,d)}(h);return e},setCrossOrigin:function(a){return this.crossOrigin=a,this},setPath:function(a){return this.path=a,this}}),Object.assign(xd.prototype,{crossOrigin:"Anonymous",load:function(a,b,c,d){var e=new h,f=new vd(this.manager);return f.setCrossOrigin(this.crossOrigin),f.setPath(this.path),f.load(a,function(c){e.image=c;var d=a.search(/\.(jpg|jpeg)$/)>0||0===a.search(/^data\:image\/jpeg/);e.format=d?yh:zh,e.needsUpdate=!0,void 0!==b&&b(e)},c,d),e},setCrossOrigin:function(a){return this.crossOrigin=a,this},setPath:function(a){return this.path=a,this}}),Object.assign(yd.prototype,{getPoint:function(){return null},getPointAt:function(a,b){var c=this.getUtoTmapping(a);return this.getPoint(c,b)},getPoints:function(a){void 0===a&&(a=5);for(var b=[],c=0;c<=a;c++)b.push(this.getPoint(c/a));return b},getSpacedPoints:function(a){void 0===a&&(a=5);for(var b=[],c=0;c<=a;c++)b.push(this.getPointAt(c/a));return b},getLength:function(){var a=this.getLengths();return a[a.length-1]},getLengths:function(a){if(void 0===a&&(a=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var b,c,d=[],e=this.getPoint(0),f=0;for(d.push(0),c=1;c<=a;c++)b=this.getPoint(c/a),f+=b.distanceTo(e),d.push(f),e=b;return this.cacheArcLengths=d,d},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(a,b){var c,d=this.getLengths(),e=0,f=d.length;c=b||a*d[f-1];for(var g,h=0,i=f-1;h<=i;)if(e=Math.floor(h+(i-h)/2),(g=d[e]-c)<0)h=e+1;else{if(!(g>0)){i=e;break}i=e-1}if(e=i,d[e]===c)return e/(f-1);var j=d[e];return(e+(c-j)/(d[e+1]-j))/(f-1)},getTangent:function(a){var b=a-1e-4,c=a+1e-4;b<0&&(b=0),c>1&&(c=1);var d=this.getPoint(b);return this.getPoint(c).clone().sub(d).normalize()},getTangentAt:function(a){var b=this.getUtoTmapping(a);return this.getTangent(b)},computeFrenetFrames:function(a,b){var c,e,g,h=new f,i=[],j=[],k=[],l=new f,m=new d;for(c=0;c<=a;c++)e=c/a,i[c]=this.getTangentAt(e),i[c].normalize();j[0]=new f,k[0]=new f;var n=Number.MAX_VALUE,o=Math.abs(i[0].x),p=Math.abs(i[0].y),q=Math.abs(i[0].z);for(o<=n&&(n=o,h.set(1,0,0)),p<=n&&(n=p,h.set(0,1,0)),q<=n&&h.set(0,0,1),l.crossVectors(i[0],h).normalize(),j[0].crossVectors(i[0],l),k[0].crossVectors(i[0],j[0]),c=1;c<=a;c++)j[c]=j[c-1].clone(),k[c]=k[c-1].clone(),l.crossVectors(i[c-1],i[c]),l.length()>Number.EPSILON&&(l.normalize(),g=Math.acos(oi.clamp(i[c-1].dot(i[c]),-1,1)),j[c].applyMatrix4(m.makeRotationAxis(l,g))),k[c].crossVectors(i[c],j[c]);if(!0===b)for(g=Math.acos(oi.clamp(j[0].dot(j[a]),-1,1)),g/=a,i[0].dot(l.crossVectors(j[0],j[a]))>0&&(g=-g),c=1;c<=a;c++)j[c].applyMatrix4(m.makeRotationAxis(i[c],g*c)),k[c].crossVectors(i[c],j[c]);return{tangents:i,normals:j,binormals:k}},clone:function(){return(new this.constructor).copy(this)},copy:function(a){return this.arcLengthDivisions=a.arcLengthDivisions,this},toJSON:function(){var a={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return a.arcLengthDivisions=this.arcLengthDivisions,a.type=this.type,a},fromJSON:function(a){return this.arcLengthDivisions=a.arcLengthDivisions,this}}),zd.prototype=Object.create(yd.prototype),zd.prototype.constructor=zd,zd.prototype.isEllipseCurve=!0,zd.prototype.getPoint=function(a,b){for(var d=b||new c,e=2*Math.PI,f=this.aEndAngle-this.aStartAngle,g=Math.abs(f)<Number.EPSILON;f<0;)f+=e;for(;f>e;)f-=e;f<Number.EPSILON&&(f=g?0:e),!0!==this.aClockwise||g||(f===e?f=-e:f-=e);var h=this.aStartAngle+a*f,i=this.aX+this.xRadius*Math.cos(h),j=this.aY+this.yRadius*Math.sin(h);if(0!==this.aRotation){var k=Math.cos(this.aRotation),l=Math.sin(this.aRotation),m=i-this.aX,n=j-this.aY;i=m*k-n*l+this.aX,j=m*l+n*k+this.aY}return d.set(i,j)},zd.prototype.copy=function(a){return yd.prototype.copy.call(this,a),this.aX=a.aX,this.aY=a.aY,this.xRadius=a.xRadius,this.yRadius=a.yRadius,this.aStartAngle=a.aStartAngle,this.aEndAngle=a.aEndAngle,this.aClockwise=a.aClockwise,this.aRotation=a.aRotation,this},zd.prototype.toJSON=function(){var a=yd.prototype.toJSON.call(this);return a.aX=this.aX,a.aY=this.aY,a.xRadius=this.xRadius,a.yRadius=this.yRadius,a.aStartAngle=this.aStartAngle,a.aEndAngle=this.aEndAngle,a.aClockwise=this.aClockwise,a.aRotation=this.aRotation,a},zd.prototype.fromJSON=function(a){return yd.prototype.fromJSON.call(this,a),this.aX=a.aX,this.aY=a.aY,this.xRadius=a.xRadius,this.yRadius=a.yRadius,this.aStartAngle=a.aStartAngle,this.aEndAngle=a.aEndAngle,this.aClockwise=a.aClockwise,this.aRotation=a.aRotation,this},Ad.prototype=Object.create(zd.prototype),Ad.prototype.constructor=Ad,Ad.prototype.isArcCurve=!0;var Ri=new f,Si=new Bd,Ti=new Bd,Ui=new Bd;Cd.prototype=Object.create(yd.prototype),Cd.prototype.constructor=Cd,Cd.prototype.isCatmullRomCurve3=!0,Cd.prototype.getPoint=function(a,b){var c=b||new f,d=this.points,e=d.length,g=(e-(this.closed?0:1))*a,h=Math.floor(g),i=g-h;this.closed?h+=h>0?0:(Math.floor(Math.abs(h)/e)+1)*e:0===i&&h===e-1&&(h=e-2,i=1);var j,k,l,m;if(this.closed||h>0?j=d[(h-1)%e]:(Ri.subVectors(d[0],d[1]).add(d[0]),j=Ri),k=d[h%e],l=d[(h+1)%e],this.closed||h+2<e?m=d[(h+2)%e]:(Ri.subVectors(d[e-1],d[e-2]).add(d[e-1]),m=Ri),"centripetal"===this.curveType||"chordal"===this.curveType){var n="chordal"===this.curveType?.5:.25,o=Math.pow(j.distanceToSquared(k),n),p=Math.pow(k.distanceToSquared(l),n),q=Math.pow(l.distanceToSquared(m),n);p<1e-4&&(p=1),o<1e-4&&(o=p),q<1e-4&&(q=p),Si.initNonuniformCatmullRom(j.x,k.x,l.x,m.x,o,p,q),Ti.initNonuniformCatmullRom(j.y,k.y,l.y,m.y,o,p,q),Ui.initNonuniformCatmullRom(j.z,k.z,l.z,m.z,o,p,q)}else"catmullrom"===this.curveType&&(Si.initCatmullRom(j.x,k.x,l.x,m.x,this.tension),Ti.initCatmullRom(j.y,k.y,l.y,m.y,this.tension),Ui.initCatmullRom(j.z,k.z,l.z,m.z,this.tension));return c.set(Si.calc(i),Ti.calc(i),Ui.calc(i)),c},Cd.prototype.copy=function(a){yd.prototype.copy.call(this,a),this.points=[];for(var b=0,c=a.points.length;b<c;b++){var d=a.points[b];this.points.push(d.clone())}return this.closed=a.closed,this.curveType=a.curveType,this.tension=a.tension,this},Cd.prototype.toJSON=function(){var a=yd.prototype.toJSON.call(this);a.points=[];for(var b=0,c=this.points.length;b<c;b++){var d=this.points[b];a.points.push(d.toArray())}return a.closed=this.closed,a.curveType=this.curveType,a.tension=this.tension,a},Cd.prototype.fromJSON=function(a){yd.prototype.fromJSON.call(this,a),this.points=[];for(var b=0,c=a.points.length;b<c;b++){var d=a.points[b];this.points.push((new f).fromArray(d))}return this.closed=a.closed,this.curveType=a.curveType,this.tension=a.tension,this},Nd.prototype=Object.create(yd.prototype),Nd.prototype.constructor=Nd,Nd.prototype.isCubicBezierCurve=!0,Nd.prototype.getPoint=function(a,b){var d=b||new c,e=this.v0,f=this.v1,g=this.v2,h=this.v3;return d.set(Md(a,e.x,f.x,g.x,h.x),Md(a,e.y,f.y,g.y,h.y)),d},Nd.prototype.copy=function(a){return yd.prototype.copy.call(this,a),this.v0.copy(a.v0),this.v1.copy(a.v1),this.v2.copy(a.v2),this.v3.copy(a.v3),this},Nd.prototype.toJSON=function(){var a=yd.prototype.toJSON.call(this);return a.v0=this.v0.toArray(),a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a.v3=this.v3.toArray(),a},Nd.prototype.fromJSON=function(a){return yd.prototype.fromJSON.call(this,a),this.v0.fromArray(a.v0),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this.v3.fromArray(a.v3),this},Od.prototype=Object.create(yd.prototype),Od.prototype.constructor=Od,Od.prototype.isCubicBezierCurve3=!0,Od.prototype.getPoint=function(a,b){var c=b||new f,d=this.v0,e=this.v1,g=this.v2,h=this.v3;return c.set(Md(a,d.x,e.x,g.x,h.x),Md(a,d.y,e.y,g.y,h.y),Md(a,d.z,e.z,g.z,h.z)),c},Od.prototype.copy=function(a){return yd.prototype.copy.call(this,a),this.v0.copy(a.v0),this.v1.copy(a.v1),this.v2.copy(a.v2),this.v3.copy(a.v3),this},Od.prototype.toJSON=function(){var a=yd.prototype.toJSON.call(this);return a.v0=this.v0.toArray(),a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a.v3=this.v3.toArray(),a},Od.prototype.fromJSON=function(a){return yd.prototype.fromJSON.call(this,a),this.v0.fromArray(a.v0),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this.v3.fromArray(a.v3),this},Pd.prototype=Object.create(yd.prototype),Pd.prototype.constructor=Pd,Pd.prototype.isLineCurve=!0,Pd.prototype.getPoint=function(a,b){var d=b||new c;return 1===a?d.copy(this.v2):(d.copy(this.v2).sub(this.v1),d.multiplyScalar(a).add(this.v1)),d},Pd.prototype.getPointAt=function(a,b){return this.getPoint(a,b)},Pd.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Pd.prototype.copy=function(a){return yd.prototype.copy.call(this,a),this.v1.copy(a.v1),this.v2.copy(a.v2),this},Pd.prototype.toJSON=function(){var a=yd.prototype.toJSON.call(this);return a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a},Pd.prototype.fromJSON=function(a){return yd.prototype.fromJSON.call(this,a),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this},Qd.prototype=Object.create(yd.prototype),Qd.prototype.constructor=Qd,Qd.prototype.isLineCurve3=!0,Qd.prototype.getPoint=function(a,b){var c=b||new f;return 1===a?c.copy(this.v2):(c.copy(this.v2).sub(this.v1),c.multiplyScalar(a).add(this.v1)),c},Qd.prototype.getPointAt=function(a,b){return this.getPoint(a,b)},Qd.prototype.copy=function(a){return yd.prototype.copy.call(this,a),this.v1.copy(a.v1),this.v2.copy(a.v2),this},Qd.prototype.toJSON=function(){var a=yd.prototype.toJSON.call(this);return a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a},Qd.prototype.fromJSON=function(a){return yd.prototype.fromJSON.call(this,a),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this},Rd.prototype=Object.create(yd.prototype),Rd.prototype.constructor=Rd,Rd.prototype.isQuadraticBezierCurve=!0,Rd.prototype.getPoint=function(a,b){var d=b||new c,e=this.v0,f=this.v1,g=this.v2;return d.set(Hd(a,e.x,f.x,g.x),Hd(a,e.y,f.y,g.y)),d},Rd.prototype.copy=function(a){return yd.prototype.copy.call(this,a),this.v0.copy(a.v0),this.v1.copy(a.v1),this.v2.copy(a.v2),this},Rd.prototype.toJSON=function(){var a=yd.prototype.toJSON.call(this);return a.v0=this.v0.toArray(),a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a},Rd.prototype.fromJSON=function(a){return yd.prototype.fromJSON.call(this,a),this.v0.fromArray(a.v0),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this},Sd.prototype=Object.create(yd.prototype),Sd.prototype.constructor=Sd,Sd.prototype.isQuadraticBezierCurve3=!0,Sd.prototype.getPoint=function(a,b){var c=b||new f,d=this.v0,e=this.v1,g=this.v2;return c.set(Hd(a,d.x,e.x,g.x),Hd(a,d.y,e.y,g.y),Hd(a,d.z,e.z,g.z)),c},Sd.prototype.copy=function(a){return yd.prototype.copy.call(this,a),this.v0.copy(a.v0),this.v1.copy(a.v1),this.v2.copy(a.v2),this},Sd.prototype.toJSON=function(){var a=yd.prototype.toJSON.call(this);return a.v0=this.v0.toArray(),a.v1=this.v1.toArray(),a.v2=this.v2.toArray(),a},Sd.prototype.fromJSON=function(a){return yd.prototype.fromJSON.call(this,a),this.v0.fromArray(a.v0),this.v1.fromArray(a.v1),this.v2.fromArray(a.v2),this},Td.prototype=Object.create(yd.prototype),Td.prototype.constructor=Td,Td.prototype.isSplineCurve=!0,Td.prototype.getPoint=function(a,b){var d=b||new c,e=this.points,f=(e.length-1)*a,g=Math.floor(f),h=f-g,i=e[0===g?g:g-1],j=e[g],k=e[g>e.length-2?e.length-1:g+1],l=e[g>e.length-3?e.length-1:g+2];return d.set(Dd(h,i.x,j.x,k.x,l.x),Dd(h,i.y,j.y,k.y,l.y)),d},Td.prototype.copy=function(a){yd.prototype.copy.call(this,a),this.points=[];for(var b=0,c=a.points.length;b<c;b++){var d=a.points[b];this.points.push(d.clone())}return this},Td.prototype.toJSON=function(){var a=yd.prototype.toJSON.call(this);a.points=[];for(var b=0,c=this.points.length;b<c;b++){var d=this.points[b];a.points.push(d.toArray())}return a},Td.prototype.fromJSON=function(a){yd.prototype.fromJSON.call(this,a),this.points=[];for(var b=0,d=a.points.length;b<d;b++){var e=a.points[b];this.points.push((new c).fromArray(e))}return this};var Vi=Object.freeze({ArcCurve:Ad,CatmullRomCurve3:Cd,CubicBezierCurve:Nd,CubicBezierCurve3:Od,EllipseCurve:zd,LineCurve:Pd,LineCurve3:Qd,QuadraticBezierCurve:Rd,QuadraticBezierCurve3:Sd,SplineCurve:Td});Ud.prototype=Object.assign(Object.create(yd.prototype),{constructor:Ud,add:function(a){this.curves.push(a)},closePath:function(){var a=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new Pd(b,a))},getPoint:function(a){for(var b=a*this.getLength(),c=this.getCurveLengths(),d=0;d<c.length;){if(c[d]>=b){var e=c[d]-b,f=this.curves[d],g=f.getLength(),h=0===g?0:1-e/g;return f.getPointAt(h)}d++}return null},getLength:function(){var a=this.getCurveLengths();return a[a.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var a=[],b=0,c=0,d=this.curves.length;c<d;c++)b+=this.curves[c].getLength(),a.push(b);return this.cacheLengths=a,a},getSpacedPoints:function(a){void 0===a&&(a=40);for(var b=[],c=0;c<=a;c++)b.push(this.getPoint(c/a));return this.autoClose&&b.push(b[0]),b},getPoints:function(a){a=a||12;for(var b,c=[],d=0,e=this.curves;d<e.length;d++)for(var f=e[d],g=f&&f.isEllipseCurve?2*a:f&&f.isLineCurve?1:f&&f.isSplineCurve?a*f.points.length:a,h=f.getPoints(g),i=0;i<h.length;i++){var j=h[i];b&&b.equals(j)||(c.push(j),b=j)}return this.autoClose&&c.length>1&&!c[c.length-1].equals(c[0])&&c.push(c[0]),c},copy:function(a){yd.prototype.copy.call(this,a),this.curves=[];for(var b=0,c=a.curves.length;b<c;b++){var d=a.curves[b];this.curves.push(d.clone())}return this.autoClose=a.autoClose,this},toJSON:function(){var a=yd.prototype.toJSON.call(this);a.autoClose=this.autoClose,a.curves=[];for(var b=0,c=this.curves.length;b<c;b++){var d=this.curves[b];a.curves.push(d.toJSON())}return a},fromJSON:function(a){yd.prototype.fromJSON.call(this,a),this.autoClose=a.autoClose,this.curves=[];for(var b=0,c=a.curves.length;b<c;b++){var d=a.curves[b];this.curves.push((new Vi[d.type]).fromJSON(d))}return this}}),Vd.prototype=Object.assign(Object.create(Ud.prototype),{constructor:Vd,setFromPoints:function(a){this.moveTo(a[0].x,a[0].y);for(var b=1,c=a.length;b<c;b++)this.lineTo(a[b].x,a[b].y)},moveTo:function(a,b){this.currentPoint.set(a,b)},lineTo:function(a,b){var d=new Pd(this.currentPoint.clone(),new c(a,b));this.curves.push(d),this.currentPoint.set(a,b)},quadraticCurveTo:function(a,b,d,e){var f=new Rd(this.currentPoint.clone(),new c(a,b),new c(d,e));this.curves.push(f),this.currentPoint.set(d,e)},bezierCurveTo:function(a,b,d,e,f,g){var h=new Nd(this.currentPoint.clone(),new c(a,b),new c(d,e),new c(f,g));this.curves.push(h),this.currentPoint.set(f,g)},splineThru:function(a){var b=[this.currentPoint.clone()].concat(a),c=new Td(b);this.curves.push(c),this.currentPoint.copy(a[a.length-1])},arc:function(a,b,c,d,e,f){var g=this.currentPoint.x,h=this.currentPoint.y;this.absarc(a+g,b+h,c,d,e,f)},absarc:function(a,b,c,d,e,f){this.absellipse(a,b,c,c,d,e,f)},ellipse:function(a,b,c,d,e,f,g,h){var i=this.currentPoint.x,j=this.currentPoint.y;this.absellipse(a+i,b+j,c,d,e,f,g,h)},absellipse:function(a,b,c,d,e,f,g,h){var i=new zd(a,b,c,d,e,f,g,h);if(this.curves.length>0){var j=i.getPoint(0);j.equals(this.currentPoint)||this.lineTo(j.x,j.y)}this.curves.push(i);var k=i.getPoint(1);this.currentPoint.copy(k)},copy:function(a){return Ud.prototype.copy.call(this,a),this.currentPoint.copy(a.currentPoint),this},toJSON:function(){var a=Ud.prototype.toJSON.call(this);return a.currentPoint=this.currentPoint.toArray(),a},fromJSON:function(a){return Ud.prototype.fromJSON.call(this,a),this.currentPoint.fromArray(a.currentPoint),this}}),Wd.prototype=Object.assign(Object.create(Vd.prototype),{constructor:Wd,getPointsHoles:function(a){for(var b=[],c=0,d=this.holes.length;c<d;c++)b[c]=this.holes[c].getPoints(a);return b},extractPoints:function(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}},copy:function(a){Vd.prototype.copy.call(this,a),this.holes=[];for(var b=0,c=a.holes.length;b<c;b++){var d=a.holes[b];this.holes.push(d.clone())}return this},toJSON:function(){var a=Vd.prototype.toJSON.call(this);a.uuid=this.uuid,a.holes=[];for(var b=0,c=this.holes.length;b<c;b++){var d=this.holes[b];a.holes.push(d.toJSON())}return a},fromJSON:function(a){Vd.prototype.fromJSON.call(this,a),this.uuid=a.uuid,this.holes=[];for(var b=0,c=a.holes.length;b<c;b++){var d=a.holes[b];this.holes.push((new Vd).fromJSON(d))}return this}}),Xd.prototype=Object.assign(Object.create(v.prototype),{constructor:Xd,isLight:!0,copy:function(a){return v.prototype.copy.call(this,a),this.color.copy(a.color),this.intensity=a.intensity,this},toJSON:function(a){var b=v.prototype.toJSON.call(this,a);return b.object.color=this.color.getHex(),b.object.intensity=this.intensity,void 0!==this.groundColor&&(b.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(b.object.distance=this.distance),void 0!==this.angle&&(b.object.angle=this.angle),void 0!==this.decay&&(b.object.decay=this.decay),void 0!==this.penumbra&&(b.object.penumbra=this.penumbra),void 0!==this.shadow&&(b.object.shadow=this.shadow.toJSON()),b}}),Yd.prototype=Object.assign(Object.create(Xd.prototype),{constructor:Yd,isHemisphereLight:!0,copy:function(a){return Xd.prototype.copy.call(this,a),this.groundColor.copy(a.groundColor),this}}),Object.assign(Zd.prototype,{copy:function(a){return this.camera=a.camera.clone(),this.bias=a.bias,this.radius=a.radius,this.mapSize.copy(a.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var a={};return 0!==this.bias&&(a.bias=this.bias),1!==this.radius&&(a.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(a.mapSize=this.mapSize.toArray()),a.camera=this.camera.toJSON(!1).object,delete a.camera.matrix,a}}),$d.prototype=Object.assign(Object.create(Zd.prototype),{constructor:$d,isSpotLightShadow:!0,update:function(a){var b=this.camera,c=2*oi.RAD2DEG*a.angle,d=this.mapSize.width/this.mapSize.height,e=a.distance||b.far;c===b.fov&&d===b.aspect&&e===b.far||(b.fov=c,b.aspect=d,b.far=e,b.updateProjectionMatrix())}}),_d.prototype=Object.assign(Object.create(Xd.prototype),{constructor:_d,isSpotLight:!0,copy:function(a){return Xd.prototype.copy.call(this,a),this.distance=a.distance,this.angle=a.angle,this.penumbra=a.penumbra,this.decay=a.decay,this.target=a.target.clone(),this.shadow=a.shadow.clone(),this}}),ae.prototype=Object.assign(Object.create(Xd.prototype),{constructor:ae,isPointLight:!0,copy:function(a){return Xd.prototype.copy.call(this,a),this.distance=a.distance,this.decay=a.decay,this.shadow=a.shadow.clone(),this}}),be.prototype=Object.assign(Object.create(Zd.prototype),{constructor:be}),ce.prototype=Object.assign(Object.create(Xd.prototype),{constructor:ce,isDirectionalLight:!0,copy:function(a){return Xd.prototype.copy.call(this,a),this.target=a.target.clone(),this.shadow=a.shadow.clone(),this}}),de.prototype=Object.assign(Object.create(Xd.prototype),{constructor:de,isAmbientLight:!0}),ee.prototype=Object.assign(Object.create(Xd.prototype),{constructor:ee,isRectAreaLight:!0,copy:function(a){return Xd.prototype.copy.call(this,a),this.width=a.width,this.height=a.height,this},toJSON:function(a){var b=Xd.prototype.toJSON.call(this,a);return b.object.width=this.width,b.object.height=this.height,b}}),fe.prototype=Object.assign(Object.create(pe.prototype),{constructor:fe,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ge.prototype=Object.assign(Object.create(pe.prototype),{constructor:ge,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Object.assign(he.prototype,{evaluate:function(a){var b=this.parameterPositions,c=this._cachedIndex,d=b[c],e=b[c-1];a:{b:{var f;c:{d:if(!(a<d)){for(var g=c+2;;){if(void 0===d){if(a<e)break d;return c=b.length,this._cachedIndex=c,this.afterEnd_(c-1,a,e)}if(c===g)break;if(e=d,d=b[++c],a<d)break b}f=b.length;break c}{if(a>=e)break a;var h=b[1];a<h&&(c=2,e=h);for(var g=c-2;;){if(void 0===e)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(c===g)break;if(d=e,e=b[--c-1],a>=e)break b}f=c,c=0}}for(;c<f;){var i=c+f>>>1;a<b[i]?f=i:c=i+1}if(d=b[c],void 0===(e=b[c-1]))return this._cachedIndex=0,this.beforeStart_(0,a,d);if(void 0===d)return c=b.length,this._cachedIndex=c,this.afterEnd_(c-1,e,a)}this._cachedIndex=c,this.intervalChanged_(c,e,d)}return this.interpolate_(c,e,a,d)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(a){for(var b=this.resultBuffer,c=this.sampleValues,d=this.valueSize,e=a*d,f=0;f!==d;++f)b[f]=c[e+f];return b},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(he.prototype,{beforeStart_:he.prototype.copySampleValue_,afterEnd_:he.prototype.copySampleValue_}),ie.prototype=Object.assign(Object.create(he.prototype),{constructor:ie,interpolate_:function(a,b,c,d){for(var f=this.resultBuffer,g=this.sampleValues,h=this.valueSize,i=a*h,j=(c-b)/(d-b),k=i+h;i!==k;i+=4)e.slerpFlat(f,0,g,i-h,g,i,j);return f}}),je.prototype=Object.assign(Object.create(pe.prototype),{constructor:je,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(a){return new ie(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodSmooth:void 0}),ke.prototype=Object.assign(Object.create(pe.prototype),{constructor:ke,ValueTypeName:"color"}),le.prototype=Object.assign(Object.create(pe.prototype),{constructor:le,ValueTypeName:"number"}),me.prototype=Object.assign(Object.create(he.prototype),{constructor:me,DefaultSettings_:{endingStart:bi,endingEnd:bi},intervalChanged_:function(a,b,c){var d=this.parameterPositions,e=a-2,f=a+1,g=d[e],h=d[f];if(void 0===g)switch(this.getSettings_().endingStart){case 2401:e=a,g=2*b-c;break;case 2402:e=d.length-2,g=b+d[e]-d[e+1];break;default:e=a,g=c}
if(void 0===h)switch(this.getSettings_().endingEnd){case 2401:f=a,h=2*c-b;break;case 2402:f=1,h=c+d[1]-d[0];break;default:f=a-1,h=b}var i=.5*(c-b),j=this.valueSize;this._weightPrev=i/(b-g),this._weightNext=i/(h-c),this._offsetPrev=e*j,this._offsetNext=f*j},interpolate_:function(a,b,c,d){for(var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize,h=a*g,i=h-g,j=this._offsetPrev,k=this._offsetNext,l=this._weightPrev,m=this._weightNext,n=(c-b)/(d-b),o=n*n,p=o*n,q=-l*p+2*l*o-l*n,r=(1+l)*p+(-1.5-2*l)*o+(-.5+l)*n+1,s=(-1-m)*p+(1.5+m)*o+.5*n,t=m*p-m*o,u=0;u!==g;++u)e[u]=q*f[j+u]+r*f[i+u]+s*f[h+u]+t*f[k+u];return e}}),ne.prototype=Object.assign(Object.create(he.prototype),{constructor:ne,interpolate_:function(a,b,c,d){for(var e=this.resultBuffer,f=this.sampleValues,g=this.valueSize,h=a*g,i=h-g,j=(c-b)/(d-b),k=1-j,l=0;l!==g;++l)e[l]=f[i+l]*k+f[h+l]*j;return e}}),oe.prototype=Object.assign(Object.create(he.prototype),{constructor:oe,interpolate_:function(a){return this.copySampleValue_(a-1)}});var Wi={arraySlice:function(a,b,c){return Wi.isTypedArray(a)?new a.constructor(a.subarray(b,void 0!==c?c:a.length)):a.slice(b,c)},convertArray:function(a,b,c){return!a||!c&&a.constructor===b?a:"number"==typeof b.BYTES_PER_ELEMENT?new b(a):Array.prototype.slice.call(a)},isTypedArray:function(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)},getKeyframeOrder:function(a){function b(b,c){return a[b]-a[c]}for(var c=a.length,d=new Array(c),e=0;e!==c;++e)d[e]=e;return d.sort(b),d},sortedArray:function(a,b,c){for(var d=a.length,e=new a.constructor(d),f=0,g=0;g!==d;++f)for(var h=c[f]*b,i=0;i!==b;++i)e[g++]=a[h+i];return e},flattenJSON:function(a,b,c,d){for(var e=1,f=a[0];void 0!==f&&void 0===f[d];)f=a[e++];if(void 0!==f){var g=f[d];if(void 0!==g)if(Array.isArray(g))do{g=f[d],void 0!==g&&(b.push(f.time),c.push.apply(c,g)),f=a[e++]}while(void 0!==f);else if(void 0!==g.toArray)do{g=f[d],void 0!==g&&(b.push(f.time),g.toArray(c,c.length)),f=a[e++]}while(void 0!==f);else do{g=f[d],void 0!==g&&(b.push(f.time),c.push(g)),f=a[e++]}while(void 0!==f)}}};Object.assign(pe,{parse:function(a){if(void 0===a.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var b=pe._getTrackTypeForValueTypeName(a.type);if(void 0===a.times){var c=[],d=[];Wi.flattenJSON(a.keys,c,d,"value"),a.times=c,a.values=d}return void 0!==b.parse?b.parse(a):new b(a.name,a.times,a.values,a.interpolation)},toJSON:function(a){var b,c=a.constructor;if(void 0!==c.toJSON)b=c.toJSON(a);else{b={name:a.name,times:Wi.convertArray(a.times,Array),values:Wi.convertArray(a.values,Array)};var d=a.getInterpolation();d!==a.DefaultInterpolation&&(b.interpolation=d)}return b.type=a.ValueTypeName,b},_getTrackTypeForValueTypeName:function(a){switch(a.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return le;case"vector":case"vector2":case"vector3":case"vector4":return qe;case"color":return ke;case"quaternion":return je;case"bool":case"boolean":return ge;case"string":return fe}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+a)}}),Object.assign(pe.prototype,{constructor:pe,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(a){return new oe(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodLinear:function(a){return new ne(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodSmooth:function(a){return new me(this.times,this.values,this.getValueSize(),a)},setInterpolation:function(a){var b;switch(a){case 2300:b=this.InterpolantFactoryMethodDiscrete;break;case 2301:b=this.InterpolantFactoryMethodLinear;break;case 2302:b=this.InterpolantFactoryMethodSmooth}if(void 0!==b)this.createInterpolant=b;else{var c="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(a===this.DefaultInterpolation)throw new Error(c);this.setInterpolation(this.DefaultInterpolation)}}},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(a){if(0!==a)for(var b=this.times,c=0,d=b.length;c!==d;++c)b[c]+=a;return this},scale:function(a){if(1!==a)for(var b=this.times,c=0,d=b.length;c!==d;++c)b[c]*=a;return this},trim:function(a,b){for(var c=this.times,d=c.length,e=0,f=d-1;e!==d&&c[e]<a;)++e;for(;-1!==f&&c[f]>b;)--f;if(++f,0!==e||f!==d){e>=f&&(f=Math.max(f,1),e=f-1);var g=this.getValueSize();this.times=Wi.arraySlice(c,e,f),this.values=Wi.arraySlice(this.values,e*g,f*g)}return this},validate:function(){var a=!0,b=this.getValueSize();b-Math.floor(b)!=0&&(a=!1);var c=this.times,d=this.values,e=c.length;0===e&&(a=!1);for(var f=null,g=0;g!==e;g++){var h=c[g];if("number"==typeof h&&isNaN(h)){a=!1;break}if(null!==f&&f>h){a=!1;break}f=h}if(void 0!==d&&Wi.isTypedArray(d))for(var g=0,i=d.length;g!==i;++g){var j=d[g];if(isNaN(j)){a=!1;break}}return a},optimize:function(){for(var a=this.times,b=this.values,c=this.getValueSize(),d=2302===this.getInterpolation(),e=1,f=a.length-1,g=1;g<f;++g){var h=!1,i=a[g];if(i!==a[g+1]&&(1!==g||i!==i[0]))if(d)h=!0;else for(var j=g*c,k=j-c,l=j+c,m=0;m!==c;++m){var n=b[j+m];if(n!==b[k+m]||n!==b[l+m]){h=!0;break}}if(h){if(g!==e){a[e]=a[g];for(var o=g*c,p=e*c,m=0;m!==c;++m)b[p+m]=b[o+m]}++e}}if(f>0){a[e]=a[f];for(var o=f*c,p=e*c,m=0;m!==c;++m)b[p+m]=b[o+m];++e}return e!==a.length&&(this.times=Wi.arraySlice(a,0,e),this.values=Wi.arraySlice(b,0,e*c)),this}}),qe.prototype=Object.assign(Object.create(pe.prototype),{constructor:qe,ValueTypeName:"vector"}),Object.assign(re,{parse:function(a){for(var b=[],c=a.tracks,d=1/(a.fps||1),e=0,f=c.length;e!==f;++e)b.push(pe.parse(c[e]).scale(d));return new re(a.name,a.duration,b)},toJSON:function(a){for(var b=[],c=a.tracks,d={name:a.name,duration:a.duration,tracks:b,uuid:a.uuid},e=0,f=c.length;e!==f;++e)b.push(pe.toJSON(c[e]));return d},CreateFromMorphTargetSequence:function(a,b,c,d){for(var e=b.length,f=[],g=0;g<e;g++){var h=[],i=[];h.push((g+e-1)%e,g,(g+1)%e),i.push(0,1,0);var j=Wi.getKeyframeOrder(h);h=Wi.sortedArray(h,1,j),i=Wi.sortedArray(i,1,j),d||0!==h[0]||(h.push(e),i.push(i[0])),f.push(new le(".morphTargetInfluences["+b[g].name+"]",h,i).scale(1/c))}return new re(a,-1,f)},findByName:function(a,b){var c=a;if(!Array.isArray(a)){var d=a;c=d.geometry&&d.geometry.animations||d.animations}for(var e=0;e<c.length;e++)if(c[e].name===b)return c[e];return null},CreateClipsFromMorphTargetSequences:function(a,b,c){for(var d={},e=/^([\w-]*?)([\d]+)$/,f=0,g=a.length;f<g;f++){var h=a[f],i=h.name.match(e);if(i&&i.length>1){var j=i[1],k=d[j];k||(d[j]=k=[]),k.push(h)}}var l=[];for(var j in d)l.push(re.CreateFromMorphTargetSequence(j,d[j],b,c));return l},parseAnimation:function(a,b){if(!a)return null;for(var c=function(a,b,c,d,e){if(0!==c.length){var f=[],g=[];Wi.flattenJSON(c,f,g,d),0!==f.length&&e.push(new a(b,f,g))}},d=[],e=a.name||"default",f=a.length||-1,g=a.fps||30,h=a.hierarchy||[],i=0;i<h.length;i++){var j=h[i].keys;if(j&&0!==j.length)if(j[0].morphTargets){for(var k={},l=0;l<j.length;l++)if(j[l].morphTargets)for(var m=0;m<j[l].morphTargets.length;m++)k[j[l].morphTargets[m]]=-1;for(var n in k){for(var o=[],p=[],m=0;m!==j[l].morphTargets.length;++m){var q=j[l];o.push(q.time),p.push(q.morphTarget===n?1:0)}d.push(new le(".morphTargetInfluence["+n+"]",o,p))}f=k.length*(g||1)}else{var r=".bones["+b[i].name+"]";c(qe,r+".position",j,"pos",d),c(je,r+".quaternion",j,"rot",d),c(qe,r+".scale",j,"scl",d)}}return 0===d.length?null:new re(e,f,d)}}),Object.assign(re.prototype,{resetDuration:function(){for(var a=this.tracks,b=0,c=0,d=a.length;c!==d;++c){var e=this.tracks[c];b=Math.max(b,e.times[e.times.length-1])}this.duration=b},trim:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].trim(0,this.duration);return this},optimize:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].optimize();return this}}),Object.assign(se.prototype,{load:function(a,b,c,d){var e=this;new sd(e.manager).load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},setTextures:function(a){this.textures=a},parse:function(a){function b(a){return d[a],d[a]}var d=this.textures,e=new Ni[a.type];if(void 0!==a.uuid&&(e.uuid=a.uuid),void 0!==a.name&&(e.name=a.name),void 0!==a.color&&e.color.setHex(a.color),void 0!==a.roughness&&(e.roughness=a.roughness),void 0!==a.metalness&&(e.metalness=a.metalness),void 0!==a.emissive&&e.emissive.setHex(a.emissive),void 0!==a.specular&&e.specular.setHex(a.specular),void 0!==a.shininess&&(e.shininess=a.shininess),void 0!==a.clearCoat&&(e.clearCoat=a.clearCoat),void 0!==a.clearCoatRoughness&&(e.clearCoatRoughness=a.clearCoatRoughness),void 0!==a.uniforms&&(e.uniforms=a.uniforms),void 0!==a.vertexShader&&(e.vertexShader=a.vertexShader),void 0!==a.fragmentShader&&(e.fragmentShader=a.fragmentShader),void 0!==a.vertexColors&&(e.vertexColors=a.vertexColors),void 0!==a.fog&&(e.fog=a.fog),void 0!==a.flatShading&&(e.flatShading=a.flatShading),void 0!==a.blending&&(e.blending=a.blending),void 0!==a.side&&(e.side=a.side),void 0!==a.opacity&&(e.opacity=a.opacity),void 0!==a.transparent&&(e.transparent=a.transparent),void 0!==a.alphaTest&&(e.alphaTest=a.alphaTest),void 0!==a.depthTest&&(e.depthTest=a.depthTest),void 0!==a.depthWrite&&(e.depthWrite=a.depthWrite),void 0!==a.colorWrite&&(e.colorWrite=a.colorWrite),void 0!==a.wireframe&&(e.wireframe=a.wireframe),void 0!==a.wireframeLinewidth&&(e.wireframeLinewidth=a.wireframeLinewidth),void 0!==a.wireframeLinecap&&(e.wireframeLinecap=a.wireframeLinecap),void 0!==a.wireframeLinejoin&&(e.wireframeLinejoin=a.wireframeLinejoin),void 0!==a.rotation&&(e.rotation=a.rotation),1!==a.linewidth&&(e.linewidth=a.linewidth),void 0!==a.dashSize&&(e.dashSize=a.dashSize),void 0!==a.gapSize&&(e.gapSize=a.gapSize),void 0!==a.scale&&(e.scale=a.scale),void 0!==a.polygonOffset&&(e.polygonOffset=a.polygonOffset),void 0!==a.polygonOffsetFactor&&(e.polygonOffsetFactor=a.polygonOffsetFactor),void 0!==a.polygonOffsetUnits&&(e.polygonOffsetUnits=a.polygonOffsetUnits),void 0!==a.skinning&&(e.skinning=a.skinning),void 0!==a.morphTargets&&(e.morphTargets=a.morphTargets),void 0!==a.dithering&&(e.dithering=a.dithering),void 0!==a.visible&&(e.visible=a.visible),void 0!==a.userData&&(e.userData=a.userData),void 0!==a.shading&&(e.flatShading=1===a.shading),void 0!==a.size&&(e.size=a.size),void 0!==a.sizeAttenuation&&(e.sizeAttenuation=a.sizeAttenuation),void 0!==a.map&&(e.map=b(a.map)),void 0!==a.alphaMap&&(e.alphaMap=b(a.alphaMap),e.transparent=!0),void 0!==a.bumpMap&&(e.bumpMap=b(a.bumpMap)),void 0!==a.bumpScale&&(e.bumpScale=a.bumpScale),void 0!==a.normalMap&&(e.normalMap=b(a.normalMap)),void 0!==a.normalScale){var f=a.normalScale;!1===Array.isArray(f)&&(f=[f,f]),e.normalScale=(new c).fromArray(f)}return void 0!==a.displacementMap&&(e.displacementMap=b(a.displacementMap)),void 0!==a.displacementScale&&(e.displacementScale=a.displacementScale),void 0!==a.displacementBias&&(e.displacementBias=a.displacementBias),void 0!==a.roughnessMap&&(e.roughnessMap=b(a.roughnessMap)),void 0!==a.metalnessMap&&(e.metalnessMap=b(a.metalnessMap)),void 0!==a.emissiveMap&&(e.emissiveMap=b(a.emissiveMap)),void 0!==a.emissiveIntensity&&(e.emissiveIntensity=a.emissiveIntensity),void 0!==a.specularMap&&(e.specularMap=b(a.specularMap)),void 0!==a.envMap&&(e.envMap=b(a.envMap)),void 0!==a.reflectivity&&(e.reflectivity=a.reflectivity),void 0!==a.lightMap&&(e.lightMap=b(a.lightMap)),void 0!==a.lightMapIntensity&&(e.lightMapIntensity=a.lightMapIntensity),void 0!==a.aoMap&&(e.aoMap=b(a.aoMap)),void 0!==a.aoMapIntensity&&(e.aoMapIntensity=a.aoMapIntensity),void 0!==a.gradientMap&&(e.gradientMap=b(a.gradientMap)),e}}),Object.assign(te.prototype,{load:function(a,b,c,d){var e=this;new sd(e.manager).load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},parse:function(a){var b=new M,c=a.data.index;if(void 0!==c){var d=new Xi[c.type](c.array);b.setIndex(new A(d,1))}var e=a.data.attributes;for(var g in e){var h=e[g],d=new Xi[h.type](h.array);b.addAttribute(g,new A(d,h.itemSize,h.normalized))}var i=a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==i)for(var j=0,k=i.length;j!==k;++j){var l=i[j];b.addGroup(l.start,l.count,l.materialIndex)}var m=a.data.boundingSphere;if(void 0!==m){var o=new f;void 0!==m.center&&o.fromArray(m.center),b.boundingSphere=new n(o,m.radius)}return b}});var Xi={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};ue.Handlers={handlers:[],add:function(a,b){this.handlers.push(a,b)},get:function(a){for(var b=this.handlers,c=0,d=b.length;c<d;c+=2){var e=b[c],f=b[c+1];if(e.test(a))return f}return null}},Object.assign(ue.prototype,{crossOrigin:void 0,onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(a,b,c){for(var d=[],e=0;e<a.length;++e)d[e]=this.createMaterial(a[e],b,c);return d},createMaterial:function(){var a={NoBlending:lg,NormalBlending:mg,AdditiveBlending:ng,SubtractiveBlending:og,MultiplyBlending:pg,CustomBlending:qg},b=new q,c=new xd,d=new se;return function(e,f,g){function h(a,b,d,e,h){var j,k=f+a,l=ue.Handlers.get(k);null!==l?j=l.load(k):(c.setCrossOrigin(g),j=c.load(k)),void 0!==b&&(j.repeat.fromArray(b),1!==b[0]&&(j.wrapS=ch),1!==b[1]&&(j.wrapT=ch)),void 0!==d&&j.offset.fromArray(d),void 0!==e&&("repeat"===e[0]&&(j.wrapS=ch),"mirror"===e[0]&&(j.wrapS=eh),"repeat"===e[1]&&(j.wrapT=ch),"mirror"===e[1]&&(j.wrapT=eh)),void 0!==h&&(j.anisotropy=h);var m=oi.generateUUID();return i[m]=j,m}var i={},j={uuid:oi.generateUUID(),type:"MeshLambertMaterial"};for(var k in e){var l=e[k];switch(k){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":j.name=l;break;case"blending":j.blending=a[l];break;case"colorAmbient":case"mapAmbient":break;case"colorDiffuse":j.color=b.fromArray(l).getHex();break;case"colorSpecular":j.specular=b.fromArray(l).getHex();break;case"colorEmissive":j.emissive=b.fromArray(l).getHex();break;case"specularCoef":j.shininess=l;break;case"shading":"basic"===l.toLowerCase()&&(j.type="MeshBasicMaterial"),"phong"===l.toLowerCase()&&(j.type="MeshPhongMaterial"),"standard"===l.toLowerCase()&&(j.type="MeshStandardMaterial");break;case"mapDiffuse":j.map=h(l,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":j.emissiveMap=h(l,e.mapEmissiveRepeat,e.mapEmissiveOffset,e.mapEmissiveWrap,e.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":j.lightMap=h(l,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":j.aoMap=h(l,e.mapAORepeat,e.mapAOOffset,e.mapAOWrap,e.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":j.bumpMap=h(l,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy);break;case"mapBumpScale":j.bumpScale=l;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":j.normalMap=h(l,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy);break;case"mapNormalFactor":j.normalScale=l;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":j.specularMap=h(l,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":j.metalnessMap=h(l,e.mapMetalnessRepeat,e.mapMetalnessOffset,e.mapMetalnessWrap,e.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":j.roughnessMap=h(l,e.mapRoughnessRepeat,e.mapRoughnessOffset,e.mapRoughnessWrap,e.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":j.alphaMap=h(l,e.mapAlphaRepeat,e.mapAlphaOffset,e.mapAlphaWrap,e.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":j.side=gg;break;case"doubleSided":j.side=hg;break;case"transparency":j.opacity=l;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":j[k]=l;break;case"vertexColors":!0===l&&(j.vertexColors=kg),"face"===l&&(j.vertexColors=jg)}}return"MeshBasicMaterial"===j.type&&delete j.emissive,"MeshPhongMaterial"!==j.type&&delete j.specular,j.opacity<1&&(j.transparent=!0),d.setTextures(i),d.parse(j)}}()});var Yi={decodeText:function(a){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(a);for(var b="",c=0,d=a.length;c<d;c++)b+=String.fromCharCode(a[c]);return decodeURIComponent(escape(b))},extractUrlBase:function(a){var b=a.lastIndexOf("/");return-1===b?"./":a.substr(0,b+1)}};Object.assign(ve.prototype,{load:function(a,b,c,d){var e=this,f=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:Yi.extractUrlBase(a),g=new sd(this.manager);g.setWithCredentials(this.withCredentials),g.load(a,function(a){var c=JSON.parse(a),d=c.metadata;if(void 0!==d){var g=d.type;if(void 0!==g&&"object"===g.toLowerCase())return}var h=e.parse(c,f);b(h.geometry,h.materials)},c,d)},setTexturePath:function(a){this.texturePath=a},parse:function(){function a(a,b){function d(a,b){return a&1<<b}var e,g,h,i,j,k,l,m,n,o,p,r,s,t,u,v,w,x,z,A,B,C,D,E,F,G,H,I=a.faces,J=a.vertices,K=a.normals,L=a.colors,M=a.scale,N=0;if(void 0!==a.uvs){for(e=0;e<a.uvs.length;e++)a.uvs[e].length&&N++;for(e=0;e<N;e++)b.faceVertexUvs[e]=[]}for(i=0,j=J.length;i<j;)x=new f,x.x=J[i++]*M,x.y=J[i++]*M,x.z=J[i++]*M,b.vertices.push(x);for(i=0,j=I.length;i<j;)if(o=I[i++],p=d(o,0),r=d(o,1),s=d(o,3),t=d(o,4),u=d(o,5),v=d(o,6),w=d(o,7),p){if(A=new y,A.a=I[i],A.b=I[i+1],A.c=I[i+3],B=new y,B.a=I[i+1],B.b=I[i+2],B.c=I[i+3],i+=4,r&&(n=I[i++],A.materialIndex=n,B.materialIndex=n),h=b.faces.length,s)for(e=0;e<N;e++)for(E=a.uvs[e],b.faceVertexUvs[e][h]=[],b.faceVertexUvs[e][h+1]=[],g=0;g<4;g++)m=I[i++],G=E[2*m],H=E[2*m+1],F=new c(G,H),2!==g&&b.faceVertexUvs[e][h].push(F),0!==g&&b.faceVertexUvs[e][h+1].push(F);if(t&&(l=3*I[i++],A.normal.set(K[l++],K[l++],K[l]),B.normal.copy(A.normal)),u)for(e=0;e<4;e++)l=3*I[i++],D=new f(K[l++],K[l++],K[l]),2!==e&&A.vertexNormals.push(D),0!==e&&B.vertexNormals.push(D);if(v&&(k=I[i++],C=L[k],A.color.setHex(C),B.color.setHex(C)),w)for(e=0;e<4;e++)k=I[i++],C=L[k],2!==e&&A.vertexColors.push(new q(C)),0!==e&&B.vertexColors.push(new q(C));b.faces.push(A),b.faces.push(B)}else{if(z=new y,z.a=I[i++],z.b=I[i++],z.c=I[i++],r&&(n=I[i++],z.materialIndex=n),h=b.faces.length,s)for(e=0;e<N;e++)for(E=a.uvs[e],b.faceVertexUvs[e][h]=[],g=0;g<3;g++)m=I[i++],G=E[2*m],H=E[2*m+1],F=new c(G,H),b.faceVertexUvs[e][h].push(F);if(t&&(l=3*I[i++],z.normal.set(K[l++],K[l++],K[l])),u)for(e=0;e<3;e++)l=3*I[i++],D=new f(K[l++],K[l++],K[l]),z.vertexNormals.push(D);if(v&&(k=I[i++],z.color.setHex(L[k])),w)for(e=0;e<3;e++)k=I[i++],z.vertexColors.push(new q(L[k]));b.faces.push(z)}}function b(a,b){var c=void 0!==a.influencesPerVertex?a.influencesPerVertex:2;if(a.skinWeights)for(var d=0,e=a.skinWeights.length;d<e;d+=c){var f=a.skinWeights[d],g=c>1?a.skinWeights[d+1]:0,h=c>2?a.skinWeights[d+2]:0,j=c>3?a.skinWeights[d+3]:0;b.skinWeights.push(new i(f,g,h,j))}if(a.skinIndices)for(var d=0,e=a.skinIndices.length;d<e;d+=c){var k=a.skinIndices[d],l=c>1?a.skinIndices[d+1]:0,m=c>2?a.skinIndices[d+2]:0,n=c>3?a.skinIndices[d+3]:0;b.skinIndices.push(new i(k,l,m,n))}b.bones=a.bones,b.bones&&b.bones.length>0&&(b.skinWeights.length!==b.skinIndices.length||(b.skinIndices.length,b.vertices.length))}function d(a,b){var c=a.scale;if(void 0!==a.morphTargets)for(var d=0,e=a.morphTargets.length;d<e;d++){b.morphTargets[d]={},b.morphTargets[d].name=a.morphTargets[d].name,b.morphTargets[d].vertices=[];for(var g=b.morphTargets[d].vertices,h=a.morphTargets[d].vertices,i=0,j=h.length;i<j;i+=3){var k=new f;k.x=h[i]*c,k.y=h[i+1]*c,k.z=h[i+2]*c,g.push(k)}}if(void 0!==a.morphColors&&a.morphColors.length>0)for(var l=b.faces,m=a.morphColors[0].colors,d=0,e=l.length;d<e;d++)l[d].color.fromArray(m,3*d)}function e(a,b){var c=[],d=[];void 0!==a.animation&&d.push(a.animation),void 0!==a.animations&&(a.animations.length?d=d.concat(a.animations):d.push(a.animations));for(var e=0;e<d.length;e++){var f=re.parseAnimation(d[e],b.bones);f&&c.push(f)}if(b.morphTargets){var g=re.CreateClipsFromMorphTargetSequences(b.morphTargets,10);c=c.concat(g)}c.length>0&&(b.animations=c)}return function(c,f){void 0!==c.data&&(c=c.data),void 0!==c.scale?c.scale=1/c.scale:c.scale=1;var g=new z;return a(c,g),b(c,g),d(c,g),e(c,g),g.computeFaceNormals(),g.computeBoundingSphere(),void 0===c.materials||0===c.materials.length?{geometry:g}:{geometry:g,materials:ue.prototype.initMaterials(c.materials,f,this.crossOrigin)}}}()}),Object.assign(we.prototype,{load:function(a,b,c,d){""===this.texturePath&&(this.texturePath=a.substring(0,a.lastIndexOf("/")+1));var e=this;new sd(e.manager).load(a,function(a){var c=null;try{c=JSON.parse(a)}catch(a){return void(void 0!==d&&d(a))}var f=c.metadata;void 0!==f&&void 0!==f.type&&"geometry"!==f.type.toLowerCase()&&e.parse(c,b)},c,d)},setTexturePath:function(a){return this.texturePath=a,this},setCrossOrigin:function(a){return this.crossOrigin=a,this},parse:function(a,b){var c=this.parseShape(a.shapes),d=this.parseGeometries(a.geometries,c),e=this.parseImages(a.images,function(){void 0!==b&&b(h)}),f=this.parseTextures(a.textures,e),g=this.parseMaterials(a.materials,f),h=this.parseObject(a.object,d,g);return a.animations&&(h.animations=this.parseAnimations(a.animations)),void 0!==a.images&&0!==a.images.length||void 0!==b&&b(h),h},parseShape:function(a){var b={};if(void 0!==a)for(var c=0,d=a.length;c<d;c++){var e=(new Wd).fromJSON(a[c]);b[e.uuid]=e}return b},parseGeometries:function(a,b){var c={};if(void 0!==a)for(var d=new ve,e=new te,f=0,g=a.length;f<g;f++){var h,i=a[f];switch(i.type){case"PlaneGeometry":case"PlaneBufferGeometry":h=new Mi[i.type](i.width,i.height,i.widthSegments,i.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":h=new Mi[i.type](i.width,i.height,i.depth,i.widthSegments,i.heightSegments,i.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":h=new Mi[i.type](i.radius,i.segments,i.thetaStart,i.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":h=new Mi[i.type](i.radiusTop,i.radiusBottom,i.height,i.radialSegments,i.heightSegments,i.openEnded,i.thetaStart,i.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":h=new Mi[i.type](i.radius,i.height,i.radialSegments,i.heightSegments,i.openEnded,i.thetaStart,i.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":h=new Mi[i.type](i.radius,i.widthSegments,i.heightSegments,i.phiStart,i.phiLength,i.thetaStart,i.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":h=new Mi[i.type](i.radius,i.detail);break;case"RingGeometry":case"RingBufferGeometry":h=new Mi[i.type](i.innerRadius,i.outerRadius,i.thetaSegments,i.phiSegments,i.thetaStart,i.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":h=new Mi[i.type](i.radius,i.tube,i.radialSegments,i.tubularSegments,i.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":h=new Mi[i.type](i.radius,i.tube,i.tubularSegments,i.radialSegments,i.p,i.q);break;case"LatheGeometry":case"LatheBufferGeometry":h=new Mi[i.type](i.points,i.segments,i.phiStart,i.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":h=new Mi[i.type](i.vertices,i.indices,i.radius,i.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var j=[],k=0,l=i.shapes.length;k<l;k++){var m=b[i.shapes[k]];j.push(m)}h=new Mi[i.type](j,i.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(var j=[],k=0,l=i.shapes.length;k<l;k++){var m=b[i.shapes[k]];j.push(m)}var n=i.options.extrudePath;void 0!==n&&(i.options.extrudePath=(new Vi[n.type]).fromJSON(n)),h=new Mi[i.type](j,i.options);break;case"BufferGeometry":h=e.parse(i);break;case"Geometry":h=d.parse(i,this.texturePath).geometry;break;default:continue}h.uuid=i.uuid,void 0!==i.name&&(h.name=i.name),!0===h.isBufferGeometry&&void 0!==i.userData&&(h.userData=i.userData),c[i.uuid]=h}return c},parseMaterials:function(a,b){var c={};if(void 0!==a){var d=new se;d.setTextures(b);for(var e=0,f=a.length;e<f;e++){var g=a[e];if("MultiMaterial"===g.type){for(var h=[],i=0;i<g.materials.length;i++)h.push(d.parse(g.materials[i]));c[g.uuid]=h}else c[g.uuid]=d.parse(g)}}return c},parseAnimations:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=re.parse(d);void 0!==d.uuid&&(e.uuid=d.uuid),b.push(e)}return b},parseImages:function(a,b){var c=this,d={};if(void 0!==a&&a.length>0){var e=new rd(b),f=new vd(e);f.setCrossOrigin(this.crossOrigin);for(var g=0,h=a.length;g<h;g++){var i=a[g],j=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(i.url)?i.url:c.texturePath+i.url;d[i.uuid]=function(a){return c.manager.itemStart(a),f.load(a,function(){c.manager.itemEnd(a)},void 0,function(){c.manager.itemEnd(a),c.manager.itemError(a)})}(j)}}return d},parseTextures:function(a,b){function c(a,b){return"number"==typeof a?a:b[a]}var d={};if(void 0!==a)for(var e=0,f=a.length;e<f;e++){var g=a[e];g.image,b[g.image];var i=new h(b[g.image]);i.needsUpdate=!0,i.uuid=g.uuid,void 0!==g.name&&(i.name=g.name),void 0!==g.mapping&&(i.mapping=c(g.mapping,Zi)),void 0!==g.offset&&i.offset.fromArray(g.offset),void 0!==g.repeat&&i.repeat.fromArray(g.repeat),void 0!==g.center&&i.center.fromArray(g.center),void 0!==g.rotation&&(i.rotation=g.rotation),void 0!==g.wrap&&(i.wrapS=c(g.wrap[0],$i),i.wrapT=c(g.wrap[1],$i)),void 0!==g.format&&(i.format=g.format),void 0!==g.minFilter&&(i.minFilter=c(g.minFilter,_i)),void 0!==g.magFilter&&(i.magFilter=c(g.magFilter,_i)),void 0!==g.anisotropy&&(i.anisotropy=g.anisotropy),void 0!==g.flipY&&(i.flipY=g.flipY),d[g.uuid]=i}return d},parseObject:function(a,b,c){function d(a){return b[a],b[a]}function e(a){if(void 0!==a){if(Array.isArray(a)){for(var b=[],d=0,e=a.length;d<e;d++){var f=a[d];c[f],b.push(c[f])}return b}return c[a],c[a]}}var f;switch(a.type){case"Scene":f=new Db,void 0!==a.background&&Number.isInteger(a.background)&&(f.background=new q(a.background)),void 0!==a.fog&&("Fog"===a.fog.type?f.fog=new Cb(a.fog.color,a.fog.near,a.fog.far):"FogExp2"===a.fog.type&&(f.fog=new Bb(a.fog.color,a.fog.density)));break;case"PerspectiveCamera":f=new wb(a.fov,a.aspect,a.near,a.far),void 0!==a.focus&&(f.focus=a.focus),void 0!==a.zoom&&(f.zoom=a.zoom),void 0!==a.filmGauge&&(f.filmGauge=a.filmGauge),void 0!==a.filmOffset&&(f.filmOffset=a.filmOffset),void 0!==a.view&&(f.view=Object.assign({},a.view));break;case"OrthographicCamera":f=new x(a.left,a.right,a.top,a.bottom,a.near,a.far),void 0!==a.zoom&&(f.zoom=a.zoom),void 0!==a.view&&(f.view=Object.assign({},a.view));break;case"AmbientLight":f=new de(a.color,a.intensity);break;case"DirectionalLight":f=new ce(a.color,a.intensity);break;case"PointLight":f=new ae(a.color,a.intensity,a.distance,a.decay);break;case"RectAreaLight":f=new ee(a.color,a.intensity,a.width,a.height);break;case"SpotLight":f=new _d(a.color,a.intensity,a.distance,a.angle,a.penumbra,a.decay);break;case"HemisphereLight":f=new Yd(a.color,a.groundColor,a.intensity);break;case"SkinnedMesh":case"Mesh":var g=d(a.geometry),h=e(a.material);f=g.bones&&g.bones.length>0?new Jb(g,h):new X(g,h);break;case"LOD":f=new Gb;break;case"Line":f=new Lb(d(a.geometry),e(a.material),a.mode);break;case"LineLoop":f=new Nb(d(a.geometry),e(a.material));break;case"LineSegments":f=new Mb(d(a.geometry),e(a.material));break;case"PointCloud":case"Points":f=new Pb(d(a.geometry),e(a.material));break;case"Sprite":f=new Fb(e(a.material));break;case"Group":f=new Qb;break;default:f=new v}if(f.uuid=a.uuid,void 0!==a.name&&(f.name=a.name),void 0!==a.matrix?(f.matrix.fromArray(a.matrix),void 0!==a.matrixAutoUpdate&&(f.matrixAutoUpdate=a.matrixAutoUpdate),f.matrixAutoUpdate&&f.matrix.decompose(f.position,f.quaternion,f.scale)):(void 0!==a.position&&f.position.fromArray(a.position),void 0!==a.rotation&&f.rotation.fromArray(a.rotation),void 0!==a.quaternion&&f.quaternion.fromArray(a.quaternion),void 0!==a.scale&&f.scale.fromArray(a.scale)),void 0!==a.castShadow&&(f.castShadow=a.castShadow),void 0!==a.receiveShadow&&(f.receiveShadow=a.receiveShadow),a.shadow&&(void 0!==a.shadow.bias&&(f.shadow.bias=a.shadow.bias),void 0!==a.shadow.radius&&(f.shadow.radius=a.shadow.radius),void 0!==a.shadow.mapSize&&f.shadow.mapSize.fromArray(a.shadow.mapSize),void 0!==a.shadow.camera&&(f.shadow.camera=this.parseObject(a.shadow.camera))),void 0!==a.visible&&(f.visible=a.visible),void 0!==a.frustumCulled&&(f.frustumCulled=a.frustumCulled),void 0!==a.renderOrder&&(f.renderOrder=a.renderOrder),void 0!==a.userData&&(f.userData=a.userData),void 0!==a.children)for(var i=a.children,j=0;j<i.length;j++)f.add(this.parseObject(i[j],b,c));if("LOD"===a.type)for(var k=a.levels,l=0;l<k.length;l++){var m=k[l],n=f.getObjectByProperty("uuid",m.object);void 0!==n&&f.addLevel(n,m.distance)}return f}});var Zi={UVMapping:300,CubeReflectionMapping:Xg,CubeRefractionMapping:Yg,EquirectangularReflectionMapping:Zg,EquirectangularRefractionMapping:$g,SphericalReflectionMapping:_g,CubeUVReflectionMapping:ah,CubeUVRefractionMapping:bh},$i={RepeatWrapping:ch,ClampToEdgeWrapping:dh,MirroredRepeatWrapping:eh},_i={NearestFilter:fh,NearestMipMapNearestFilter:gh,NearestMipMapLinearFilter:hh,LinearFilter:ih,LinearMipMapNearestFilter:jh,LinearMipMapLinearFilter:kh};xe.prototype={constructor:xe,setOptions:function(a){return this.options=a,this},load:function(a,b,c,d){void 0===a&&(a=""),void 0!==this.path&&(a=this.path+a),a=this.manager.resolveURL(a);var e=this,f=Oi.get(a);if(void 0!==f)return e.manager.itemStart(a),setTimeout(function(){b&&b(f),e.manager.itemEnd(a)},0),f;fetch(a).then(function(a){return a.blob()}).then(function(a){return createImageBitmap(a,e.options)}).then(function(c){Oi.add(a,c),b&&b(c),e.manager.itemEnd(a)}).catch(function(b){d&&d(b),e.manager.itemEnd(a),e.manager.itemError(a)})},setCrossOrigin:function(){return this},setPath:function(a){return this.path=a,this}},Object.assign(ye.prototype,{moveTo:function(a,b){this.currentPath=new Vd,this.subPaths.push(this.currentPath),this.currentPath.moveTo(a,b)},lineTo:function(a,b){this.currentPath.lineTo(a,b)},quadraticCurveTo:function(a,b,c,d){this.currentPath.quadraticCurveTo(a,b,c,d)},bezierCurveTo:function(a,b,c,d,e,f){this.currentPath.bezierCurveTo(a,b,c,d,e,f)},splineThru:function(a){this.currentPath.splineThru(a)},toShapes:function(a,b){function c(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c],f=new Wd;f.curves=e.curves,b.push(f)}return b}var d=Ki.isClockWise,e=this.subPaths;if(0===e.length)return[];if(!0===b)return c(e);var f,g,h,i=[];if(1===e.length)return g=e[0],h=new Wd,h.curves=g.curves,i.push(h),i;var j=!d(e[0].getPoints());j=a?!j:j;var k,l=[],m=[],n=[],o=0;m[o]=void 0,n[o]=[];for(var p=0,q=e.length;p<q;p++)g=e[p],k=g.getPoints(),f=d(k),f=a?!f:f,f?(!j&&m[o]&&o++,m[o]={s:new Wd,p:k},m[o].s.curves=g.curves,j&&o++,n[o]=[]):n[o].push({h:g,p:k[0]});if(!m[0])return c(e);if(m.length>1){
for(var r=!1,s=[],t=0,u=m.length;t<u;t++)l[t]=[];for(var t=0,u=m.length;t<u;t++)for(var v=n[t],w=0;w<v.length;w++){for(var x=v[w],y=!0,z=0;z<m.length;z++)(function(a,b){for(var c=b.length,d=!1,e=c-1,f=0;f<c;e=f++){var g=b[e],h=b[f],i=h.x-g.x,j=h.y-g.y;if(Math.abs(j)>Number.EPSILON){if(j<0&&(g=b[f],i=-i,h=b[e],j=-j),a.y<g.y||a.y>h.y)continue;if(a.y===g.y){if(a.x===g.x)return!0}else{var k=j*(a.x-g.x)-i*(a.y-g.y);if(0===k)return!0;if(k<0)continue;d=!d}}else{if(a.y!==g.y)continue;if(h.x<=a.x&&a.x<=g.x||g.x<=a.x&&a.x<=h.x)return!0}}return d})(x.p,m[z].p)&&(t!==z&&s.push({froms:t,tos:z,hole:w}),y?(y=!1,l[z].push(x)):r=!0);y&&l[t].push(x)}s.length>0&&(r||(n=l))}for(var A,p=0,B=m.length;p<B;p++){h=m[p].s,i.push(h),A=n[p];for(var C=0,D=A.length;C<D;C++)h.holes.push(A[C].h)}return i}}),Object.assign(ze.prototype,{isFont:!0,generateShapes:function(a,b,c){void 0===b&&(b=100),void 0===c&&(c=4);for(var d=[],e=Ae(a,b,c,this.data),f=0,g=e.length;f<g;f++)Array.prototype.push.apply(d,e[f].toShapes());return d}}),Object.assign(Ce.prototype,{load:function(a,b,c,d){var e=this,f=new sd(this.manager);f.setPath(this.path),f.load(a,function(a){var c;try{c=JSON.parse(a)}catch(b){c=JSON.parse(a.substring(65,a.length-2))}var d=e.parse(c);b&&b(d)},c,d)},parse:function(a){return new ze(a)},setPath:function(a){return this.path=a,this}});var aj,bj={getContext:function(){return void 0===aj&&(aj=new(window.AudioContext||window.webkitAudioContext)),aj},setContext:function(a){aj=a}};Object.assign(De.prototype,{load:function(a,b,c,d){var e=new sd(this.manager);e.setResponseType("arraybuffer"),e.load(a,function(a){bj.getContext().decodeAudioData(a,function(a){b(a)})},c,d)}}),Object.assign(Ee.prototype,{update:function(){var a,b,c,e,f,g,h,i,j=new d,k=new d;return function(d){if(a!==this||b!==d.focus||c!==d.fov||e!==d.aspect*this.aspect||f!==d.near||g!==d.far||h!==d.zoom||i!==this.eyeSep){a=this,b=d.focus,c=d.fov,e=d.aspect*this.aspect,f=d.near,g=d.far,h=d.zoom;var l=d.projectionMatrix.clone();i=this.eyeSep/2;var m,n,o=i*f/b,p=f*Math.tan(oi.DEG2RAD*c*.5)/h;k.elements[12]=-i,j.elements[12]=i,m=-p*e+o,n=p*e+o,l.elements[0]=2*f/(n-m),l.elements[8]=(n+m)/(n-m),this.cameraL.projectionMatrix.copy(l),m=-p*e-o,n=p*e-o,l.elements[0]=2*f/(n-m),l.elements[8]=(n+m)/(n-m),this.cameraR.projectionMatrix.copy(l)}this.cameraL.matrixWorld.copy(d.matrixWorld).multiply(k),this.cameraR.matrixWorld.copy(d.matrixWorld).multiply(j)}}()}),Fe.prototype=Object.create(v.prototype),Fe.prototype.constructor=Fe,Ge.prototype=Object.assign(Object.create(v.prototype),{constructor:Ge,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(a){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=a,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(a){this.gain.gain.setTargetAtTime(a,this.context.currentTime,.01)},updateMatrixWorld:function(){var a=new f,b=new e,c=new f,d=new f;return function(e){v.prototype.updateMatrixWorld.call(this,e);var f=this.context.listener,g=this.up;this.matrixWorld.decompose(a,b,c),d.set(0,0,-1).applyQuaternion(b),f.positionX?(f.positionX.setValueAtTime(a.x,this.context.currentTime),f.positionY.setValueAtTime(a.y,this.context.currentTime),f.positionZ.setValueAtTime(a.z,this.context.currentTime),f.forwardX.setValueAtTime(d.x,this.context.currentTime),f.forwardY.setValueAtTime(d.y,this.context.currentTime),f.forwardZ.setValueAtTime(d.z,this.context.currentTime),f.upX.setValueAtTime(g.x,this.context.currentTime),f.upY.setValueAtTime(g.y,this.context.currentTime),f.upZ.setValueAtTime(g.z,this.context.currentTime)):(f.setPosition(a.x,a.y,a.z),f.setOrientation(d.x,d.y,d.z,g.x,g.y,g.z))}}()}),He.prototype=Object.assign(Object.create(v.prototype),{constructor:He,getOutput:function(){return this.gain},setNodeSource:function(a){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=a,this.connect(),this},setMediaElementSource:function(a){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(a),this.connect(),this},setBuffer:function(a){return this.buffer=a,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying&&!1!==this.hasPlaybackControl){var a=this.context.createBufferSource();return a.buffer=this.buffer,a.loop=this.loop,a.onended=this.onEnded.bind(this),a.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,a.start(this.startTime,this.offset),this.isPlaying=!0,this.source=a,this.connect()}},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.offset=0,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].connect(this.filters[a]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].disconnect(this.filters[a]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(a){return a||(a=[]),!0===this.isPlaying?(this.disconnect(),this.filters=a,this.connect()):this.filters=a,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(a){return this.setFilters(a?[a]:[])},setPlaybackRate:function(a){if(!1!==this.hasPlaybackControl)return this.playbackRate=a,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1!==this.hasPlaybackControl&&this.loop},setLoop:function(a){if(!1!==this.hasPlaybackControl)return this.loop=a,!0===this.isPlaying&&(this.source.loop=this.loop),this},getVolume:function(){return this.gain.gain.value},setVolume:function(a){return this.gain.gain.setTargetAtTime(a,this.context.currentTime,.01),this}}),Ie.prototype=Object.assign(Object.create(He.prototype),{constructor:Ie,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(a){this.panner.refDistance=a},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(a){this.panner.rolloffFactor=a},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(a){this.panner.distanceModel=a},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(a){this.panner.maxDistance=a},updateMatrixWorld:function(){var a=new f;return function(b){v.prototype.updateMatrixWorld.call(this,b),a.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(a.x,a.y,a.z)}}()}),Object.assign(Je.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var a=0,b=this.getFrequencyData(),c=0;c<b.length;c++)a+=b[c];return a/b.length}}),Object.assign(Ke.prototype,{accumulate:function(a,b){var c=this.buffer,d=this.valueSize,e=a*d+d,f=this.cumulativeWeight;if(0===f){for(var g=0;g!==d;++g)c[e+g]=c[g];f=b}else{f+=b;var h=b/f;this._mixBufferRegion(c,e,0,h,d)}this.cumulativeWeight=f},apply:function(a){var b=this.valueSize,c=this.buffer,d=a*b+b,e=this.cumulativeWeight,f=this.binding;if(this.cumulativeWeight=0,e<1){var g=3*b;this._mixBufferRegion(c,d,g,1-e,b)}for(var h=b,i=b+b;h!==i;++h)if(c[h]!==c[h+b]){f.setValue(c,d);break}},saveOriginalState:function(){var a=this.binding,b=this.buffer,c=this.valueSize,d=3*c;a.getValue(b,d);for(var e=c,f=d;e!==f;++e)b[e]=b[d+e%c];this.cumulativeWeight=0},restoreOriginalState:function(){var a=3*this.valueSize;this.binding.setValue(this.buffer,a)},_select:function(a,b,c,d,e){if(d>=.5)for(var f=0;f!==e;++f)a[b+f]=a[c+f]},_slerp:function(a,b,c,d){e.slerpFlat(a,b,a,b,a,c,d)},_lerp:function(a,b,c,d,e){for(var f=1-d,g=0;g!==e;++g){var h=b+g;a[h]=a[h]*f+a[c+g]*d}}});var cj="\\[\\]\\.:\\/";Object.assign(Le.prototype,{getValue:function(a,b){this.bind();var c=this._targetGroup.nCachedObjects_,d=this._bindings[c];void 0!==d&&d.getValue(a,b)},setValue:function(a,b){for(var c=this._bindings,d=this._targetGroup.nCachedObjects_,e=c.length;d!==e;++d)c[d].setValue(a,b)},bind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b)a[b].bind()},unbind:function(){for(var a=this._bindings,b=this._targetGroup.nCachedObjects_,c=a.length;b!==c;++b)a[b].unbind()}}),Object.assign(Me,{Composite:Le,create:function(a,b,c){return a&&a.isAnimationObjectGroup?new Me.Composite(a,b,c):new Me(a,b,c)},sanitizeNodeName:function(){var a=new RegExp("["+cj+"]","g");return function(b){return b.replace(/\s/g,"_").replace(a,"")}}(),parseTrackName:function(){var a="[^"+cj+"]",b="[^"+cj.replace("\\.","")+"]",c=/((?:WC+[\/:])*)/.source.replace("WC",a),d=/(WCOD+)?/.source.replace("WCOD",b),e=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",a),f=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",a),g=new RegExp("^"+c+d+e+f+"$"),h=["material","materials","bones"];return function(a){var b=g.exec(a);if(!b)throw new Error("PropertyBinding: Cannot parse trackName: "+a);var c={nodeName:b[2],objectName:b[3],objectIndex:b[4],propertyName:b[5],propertyIndex:b[6]},d=c.nodeName&&c.nodeName.lastIndexOf(".");if(void 0!==d&&-1!==d){var e=c.nodeName.substring(d+1);-1!==h.indexOf(e)&&(c.nodeName=c.nodeName.substring(0,d),c.objectName=e)}if(null===c.propertyName||0===c.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+a);return c}}(),findNode:function(a,b){if(!b||""===b||"root"===b||"."===b||-1===b||b===a.name||b===a.uuid)return a;if(a.skeleton){var c=a.skeleton.getBoneByName(b);if(void 0!==c)return c}if(a.children){var d=function(a){for(var c=0;c<a.length;c++){var e=a[c];if(e.name===b||e.uuid===b)return e;var f=d(e.children);if(f)return f}return null},e=d(a.children);if(e)return e}return null}}),Object.assign(Me.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(a,b){a[b]=this.node[this.propertyName]},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)a[b++]=c[d]},function(a,b){a[b]=this.resolvedProperty[this.propertyIndex]},function(a,b){this.resolvedProperty.toArray(a,b)}],SetterByBindingTypeAndVersioning:[[function(a,b){this.targetObject[this.propertyName]=a[b]},function(a,b){this.targetObject[this.propertyName]=a[b],this.targetObject.needsUpdate=!0},function(a,b){this.targetObject[this.propertyName]=a[b],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++]},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.needsUpdate=!0},function(a,b){for(var c=this.resolvedProperty,d=0,e=c.length;d!==e;++d)c[d]=a[b++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty[this.propertyIndex]=a[b]},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b],this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty[this.propertyIndex]=a[b],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,b){this.resolvedProperty.fromArray(a,b)},function(a,b){this.resolvedProperty.fromArray(a,b),this.targetObject.needsUpdate=!0},function(a,b){this.resolvedProperty.fromArray(a,b),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(a,b){this.bind(),this.getValue(a,b)},setValue:function(a,b){this.bind(),this.setValue(a,b)},bind:function(){var a=this.node,b=this.parsedPath,c=b.objectName,d=b.propertyName,e=b.propertyIndex;if(a||(a=Me.findNode(this.rootNode,b.nodeName)||this.rootNode,this.node=a),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,a){if(c){var f=b.objectIndex;switch(c){case"materials":if(!a.material)return;if(!a.material.materials)return;a=a.material.materials;break;case"bones":if(!a.skeleton)return;a=a.skeleton.bones;for(var g=0;g<a.length;g++)if(a[g].name===f){f=g;break}break;default:if(void 0===a[c])return;a=a[c]}if(void 0!==f){if(void 0===a[f])return;a=a[f]}}var h=a[d];if(void 0!==h){var i=this.Versioning.None;void 0!==a.needsUpdate?(i=this.Versioning.NeedsUpdate,this.targetObject=a):void 0!==a.matrixWorldNeedsUpdate&&(i=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=a);var j=this.BindingType.Direct;if(void 0!==e){if("morphTargetInfluences"===d){if(!a.geometry)return;if(a.geometry.isBufferGeometry){if(!a.geometry.morphAttributes)return;for(var g=0;g<this.node.geometry.morphAttributes.position.length;g++)if(a.geometry.morphAttributes.position[g].name===e){e=g;break}}else{if(!a.geometry.morphTargets)return;for(var g=0;g<this.node.geometry.morphTargets.length;g++)if(a.geometry.morphTargets[g].name===e){e=g;break}}}j=this.BindingType.ArrayElement,this.resolvedProperty=h,this.propertyIndex=e}else void 0!==h.fromArray&&void 0!==h.toArray?(j=this.BindingType.HasFromToArray,this.resolvedProperty=h):Array.isArray(h)?(j=this.BindingType.EntireArray,this.resolvedProperty=h):this.propertyName=d;this.getValue=this.GetterByBindingType[j],this.setValue=this.SetterByBindingTypeAndVersioning[j][i]}else{b.nodeName}}},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Me.prototype,{_getValue_unbound:Me.prototype.getValue,_setValue_unbound:Me.prototype.setValue}),Object.assign(Ne.prototype,{isAnimationObjectGroup:!0,add:function(){for(var a=this._objects,b=a.length,c=this.nCachedObjects_,d=this._indicesByUUID,e=this._paths,f=this._parsedPaths,g=this._bindings,h=g.length,i=0,j=arguments.length;i!==j;++i){var k=arguments[i],l=k.uuid,m=d[l];if(void 0===m){m=b++,d[l]=m,a.push(k);for(var n=0,o=h;n!==o;++n)g[n].push(new Me(k,e[n],f[n]))}else if(m<c){a[m];var p=--c,q=a[p];d[q.uuid]=m,a[m]=q,d[l]=p,a[p]=k;for(var n=0,o=h;n!==o;++n){var r=g[n],s=r[p],t=r[m];r[m]=s,void 0===t&&(t=new Me(k,e[n],f[n])),r[p]=t}}else a[m]}this.nCachedObjects_=c},remove:function(){for(var a=this._objects,b=this.nCachedObjects_,c=this._indicesByUUID,d=this._bindings,e=d.length,f=0,g=arguments.length;f!==g;++f){var h=arguments[f],i=h.uuid,j=c[i];if(void 0!==j&&j>=b){var k=b++,l=a[k];c[l.uuid]=j,a[j]=l,c[i]=k,a[k]=h;for(var m=0,n=e;m!==n;++m){var o=d[m],p=o[k],q=o[j];o[j]=p,o[k]=q}}}this.nCachedObjects_=b},uncache:function(){for(var a=this._objects,b=a.length,c=this.nCachedObjects_,d=this._indicesByUUID,e=this._bindings,f=e.length,g=0,h=arguments.length;g!==h;++g){var i=arguments[g],j=i.uuid,k=d[j];if(void 0!==k)if(delete d[j],k<c){var l=--c,m=a[l],n=--b,o=a[n];d[m.uuid]=k,a[k]=m,d[o.uuid]=l,a[l]=o,a.pop();for(var p=0,q=f;p!==q;++p){var r=e[p],s=r[l],t=r[n];r[k]=s,r[l]=t,r.pop()}}else{var n=--b,o=a[n];d[o.uuid]=k,a[k]=o,a.pop();for(var p=0,q=f;p!==q;++p){var r=e[p];r[k]=r[n],r.pop()}}}this.nCachedObjects_=c},subscribe_:function(a,b){var c=this._bindingsIndicesByPath,d=c[a],e=this._bindings;if(void 0!==d)return e[d];var f=this._paths,g=this._parsedPaths,h=this._objects,i=h.length,j=this.nCachedObjects_,k=new Array(i);d=e.length,c[a]=d,f.push(a),g.push(b),e.push(k);for(var l=j,m=h.length;l!==m;++l){var n=h[l];k[l]=new Me(n,a,b)}return k},unsubscribe_:function(a){var b=this._bindingsIndicesByPath,c=b[a];if(void 0!==c){var d=this._paths,e=this._parsedPaths,f=this._bindings,g=f.length-1,h=f[g];b[a[g]]=c,f[c]=h,f.pop(),e[c]=e[g],e.pop(),d[c]=d[g],d.pop()}}}),Object.assign(Oe.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(a){return this._startTime=a,this},setLoop:function(a,b){return this.loop=a,this.repetitions=b,this},setEffectiveWeight:function(a){return this.weight=a,this._effectiveWeight=this.enabled?a:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(a){return this._scheduleFading(a,0,1)},fadeOut:function(a){return this._scheduleFading(a,1,0)},crossFadeFrom:function(a,b,c){if(a.fadeOut(b),this.fadeIn(b),c){var d=this._clip.duration,e=a._clip.duration,f=e/d,g=d/e;a.warp(1,f,b),this.warp(g,1,b)}return this},crossFadeTo:function(a,b,c){return a.crossFadeFrom(this,b,c)},stopFading:function(){var a=this._weightInterpolant;return null!==a&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(a)),this},setEffectiveTimeScale:function(a){return this.timeScale=a,this._effectiveTimeScale=this.paused?0:a,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(a){return this.timeScale=this._clip.duration/a,this.stopWarping()},syncWith:function(a){return this.time=a.time,this.timeScale=a.timeScale,this.stopWarping()},halt:function(a){return this.warp(this._effectiveTimeScale,0,a)},warp:function(a,b,c){var d=this._mixer,e=d.time,f=this._timeScaleInterpolant,g=this.timeScale;null===f&&(f=d._lendControlInterpolant(),this._timeScaleInterpolant=f);var h=f.parameterPositions,i=f.sampleValues;return h[0]=e,h[1]=e+c,i[0]=a/g,i[1]=b/g,this},stopWarping:function(){var a=this._timeScaleInterpolant;return null!==a&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(a)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(a,b,c,d){if(!this.enabled)return void this._updateWeight(a);var e=this._startTime;if(null!==e){var f=(a-e)*c;if(f<0||0===c)return;this._startTime=null,b=c*f}b*=this._updateTimeScale(a);var g=this._updateTime(b),h=this._updateWeight(a);if(h>0)for(var i=this._interpolants,j=this._propertyBindings,k=0,l=i.length;k!==l;++k)i[k].evaluate(g),j[k].accumulate(d,h)},_updateWeight:function(a){var b=0;if(this.enabled){b=this.weight;var c=this._weightInterpolant;if(null!==c){var d=c.evaluate(a)[0];b*=d,a>c.parameterPositions[1]&&(this.stopFading(),0===d&&(this.enabled=!1))}}return this._effectiveWeight=b,b},_updateTimeScale:function(a){var b=0;if(!this.paused){b=this.timeScale;var c=this._timeScaleInterpolant;if(null!==c){b*=c.evaluate(a)[0],a>c.parameterPositions[1]&&(this.stopWarping(),0===b?this.paused=!0:this.timeScale=b)}}return this._effectiveTimeScale=b,b},_updateTime:function(a){var b=this.time+a;if(0===a)return b;var c=this._clip.duration,d=this.loop,e=this._loopCount;if(2200===d){-1===e&&(this._loopCount=0,this._setEndings(!0,!0,!1));a:{if(b>=c)b=c;else{if(!(b<0))break a;b=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:a<0?-1:1})}}else{var f=2202===d;if(-1===e&&(a>=0?(e=0,this._setEndings(!0,0===this.repetitions,f)):this._setEndings(0===this.repetitions,!0,f)),b>=c||b<0){var g=Math.floor(b/c);b-=c*g,e+=Math.abs(g);var h=this.repetitions-e;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,b=a>0?c:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:a>0?1:-1});else{if(1===h){var i=a<0;this._setEndings(i,!i,f)}else this._setEndings(!1,!1,f);this._loopCount=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:g})}}if(f&&1==(1&e))return this.time=b,c-b}return this.time=b,b},_setEndings:function(a,b,c){var d=this._interpolantSettings;c?(d.endingStart=2401,d.endingEnd=2401):(d.endingStart=a?this.zeroSlopeAtStart?2401:bi:2402,d.endingEnd=b?this.zeroSlopeAtEnd?2401:bi:2402)},_scheduleFading:function(a,b,c){var d=this._mixer,e=d.time,f=this._weightInterpolant;null===f&&(f=d._lendControlInterpolant(),this._weightInterpolant=f);var g=f.parameterPositions,h=f.sampleValues;return g[0]=e,h[0]=b,g[1]=e+a,h[1]=c,this}}),Pe.prototype=Object.assign(Object.create(b.prototype),{constructor:Pe,_bindAction:function(a,b){var c=a._localRoot||this._root,d=a._clip.tracks,e=d.length,f=a._propertyBindings,g=a._interpolants,h=c.uuid,i=this._bindingsByRootAndName,j=i[h];void 0===j&&(j={},i[h]=j);for(var k=0;k!==e;++k){var l=d[k],m=l.name,n=j[m];if(void 0!==n)f[k]=n;else{if(void 0!==(n=f[k])){null===n._cacheIndex&&(++n.referenceCount,this._addInactiveBinding(n,h,m));continue}var o=b&&b._propertyBindings[k].binding.parsedPath;n=new Ke(Me.create(c,m,o),l.ValueTypeName,l.getValueSize()),++n.referenceCount,this._addInactiveBinding(n,h,m),f[k]=n}g[k].resultBuffer=n.buffer}},_activateAction:function(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var b=(a._localRoot||this._root).uuid,c=a._clip.uuid,d=this._actionsByClip[c];this._bindAction(a,d&&d.knownActions[0]),this._addInactiveAction(a,c,b)}for(var e=a._propertyBindings,f=0,g=e.length;f!==g;++f){var h=e[f];0==h.useCount++&&(this._lendBinding(h),h.saveOriginalState())}this._lendAction(a)}},_deactivateAction:function(a){if(this._isActiveAction(a)){for(var b=a._propertyBindings,c=0,d=b.length;c!==d;++c){var e=b[c];0==--e.useCount&&(e.restoreOriginalState(),this._takeBackBinding(e))}this._takeBackAction(a)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}},_isActiveAction:function(a){var b=a._cacheIndex;return null!==b&&b<this._nActiveActions},_addInactiveAction:function(a,b,c){var d=this._actions,e=this._actionsByClip,f=e[b];if(void 0===f)f={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,e[b]=f;else{var g=f.knownActions;a._byClipCacheIndex=g.length,g.push(a)}a._cacheIndex=d.length,d.push(a),f.actionByRoot[c]=a},_removeInactiveAction:function(a){var b=this._actions,c=b[b.length-1],d=a._cacheIndex;c._cacheIndex=d,b[d]=c,b.pop(),a._cacheIndex=null;var e=a._clip.uuid,f=this._actionsByClip,g=f[e],h=g.knownActions,i=h[h.length-1],j=a._byClipCacheIndex;i._byClipCacheIndex=j,h[j]=i,h.pop(),a._byClipCacheIndex=null,delete g.actionByRoot[(a._localRoot||this._root).uuid],0===h.length&&delete f[e],this._removeInactiveBindingsForAction(a)},_removeInactiveBindingsForAction:function(a){for(var b=a._propertyBindings,c=0,d=b.length;c!==d;++c){var e=b[c];0==--e.referenceCount&&this._removeInactiveBinding(e)}},_lendAction:function(a){var b=this._actions,c=a._cacheIndex,d=this._nActiveActions++,e=b[d];a._cacheIndex=d,b[d]=a,e._cacheIndex=c,b[c]=e},_takeBackAction:function(a){var b=this._actions,c=a._cacheIndex,d=--this._nActiveActions,e=b[d];a._cacheIndex=d,b[d]=a,e._cacheIndex=c,b[c]=e},_addInactiveBinding:function(a,b,c){var d=this._bindingsByRootAndName,e=d[b],f=this._bindings;void 0===e&&(e={},d[b]=e),e[c]=a,a._cacheIndex=f.length,f.push(a)},_removeInactiveBinding:function(a){var b=this._bindings,c=a.binding,d=c.rootNode.uuid,e=c.path,f=this._bindingsByRootAndName,g=f[d],h=b[b.length-1],i=a._cacheIndex;h._cacheIndex=i,b[i]=h,b.pop(),delete g[e];a:{for(var j in g)break a;delete f[d]}},_lendBinding:function(a){var b=this._bindings,c=a._cacheIndex,d=this._nActiveBindings++,e=b[d];a._cacheIndex=d,b[d]=a,e._cacheIndex=c,b[c]=e},_takeBackBinding:function(a){var b=this._bindings,c=a._cacheIndex,d=--this._nActiveBindings,e=b[d];a._cacheIndex=d,b[d]=a,e._cacheIndex=c,b[c]=e},_lendControlInterpolant:function(){var a=this._controlInterpolants,b=this._nActiveControlInterpolants++,c=a[b];return void 0===c&&(c=new ne(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),c.__cacheIndex=b,a[b]=c),c},_takeBackControlInterpolant:function(a){var b=this._controlInterpolants,c=a.__cacheIndex,d=--this._nActiveControlInterpolants,e=b[d];a.__cacheIndex=d,b[d]=a,e.__cacheIndex=c,b[c]=e},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(a,b){var c=b||this._root,d=c.uuid,e="string"==typeof a?re.findByName(c,a):a,f=null!==e?e.uuid:a,g=this._actionsByClip[f],h=null;if(void 0!==g){var i=g.actionByRoot[d];if(void 0!==i)return i;h=g.knownActions[0],null===e&&(e=h._clip)}if(null===e)return null;var j=new Oe(this,e,b);return this._bindAction(j,h),this._addInactiveAction(j,f,d),j},existingAction:function(a,b){var c=b||this._root,d=c.uuid,e="string"==typeof a?re.findByName(c,a):a,f=e?e.uuid:a,g=this._actionsByClip[f];return void 0!==g?g.actionByRoot[d]||null:null},stopAllAction:function(){var a=this._actions,b=this._nActiveActions,c=this._bindings,d=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var e=0;e!==b;++e)a[e].reset();for(var e=0;e!==d;++e)c[e].useCount=0;return this},update:function(a){a*=this.timeScale;for(var b=this._actions,c=this._nActiveActions,d=this.time+=a,e=Math.sign(a),f=this._accuIndex^=1,g=0;g!==c;++g){b[g]._update(d,a,e,f)}for(var h=this._bindings,i=this._nActiveBindings,g=0;g!==i;++g)h[g].apply(f);return this},getRoot:function(){return this._root},uncacheClip:function(a){var b=this._actions,c=a.uuid,d=this._actionsByClip,e=d[c];if(void 0!==e){for(var f=e.knownActions,g=0,h=f.length;g!==h;++g){var i=f[g];this._deactivateAction(i);var j=i._cacheIndex,k=b[b.length-1];i._cacheIndex=null,i._byClipCacheIndex=null,k._cacheIndex=j,b[j]=k,b.pop(),this._removeInactiveBindingsForAction(i)}delete d[c]}},uncacheRoot:function(a){var b=a.uuid,c=this._actionsByClip;for(var d in c){var e=c[d].actionByRoot,f=e[b];void 0!==f&&(this._deactivateAction(f),this._removeInactiveAction(f))}var g=this._bindingsByRootAndName,h=g[b];if(void 0!==h)for(var i in h){var j=h[i];j.restoreOriginalState(),this._removeInactiveBinding(j)}},uncacheAction:function(a,b){var c=this.existingAction(a,b);null!==c&&(this._deactivateAction(c),this._removeInactiveAction(c))}}),Qe.prototype.clone=function(){return new Qe(void 0===this.value.clone?this.value:this.value.clone())},Re.prototype=Object.assign(Object.create(M.prototype),{constructor:Re,isInstancedBufferGeometry:!0,copy:function(a){return M.prototype.copy.call(this,a),this.maxInstancedCount=a.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),Object.defineProperties(Se.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Se.prototype,{isInterleavedBufferAttribute:!0,setX:function(a,b){return this.data.array[a*this.data.stride+this.offset]=b,this},setY:function(a,b){return this.data.array[a*this.data.stride+this.offset+1]=b,this},setZ:function(a,b){return this.data.array[a*this.data.stride+this.offset+2]=b,this},setW:function(a,b){return this.data.array[a*this.data.stride+this.offset+3]=b,this},getX:function(a){return this.data.array[a*this.data.stride+this.offset]},getY:function(a){return this.data.array[a*this.data.stride+this.offset+1]},getZ:function(a){return this.data.array[a*this.data.stride+this.offset+2]},getW:function(a){return this.data.array[a*this.data.stride+this.offset+3]},setXY:function(a,b,c){return a=a*this.data.stride+this.offset,this.data.array[a+0]=b,this.data.array[a+1]=c,this},setXYZ:function(a,b,c,d){return a=a*this.data.stride+this.offset,this.data.array[a+0]=b,this.data.array[a+1]=c,this.data.array[a+2]=d,this},setXYZW:function(a,b,c,d,e){return a=a*this.data.stride+this.offset,this.data.array[a+0]=b,this.data.array[a+1]=c,this.data.array[a+2]=d,this.data.array[a+3]=e,this}}),Object.defineProperty(Te.prototype,"needsUpdate",{set:function(a){!0===a&&this.version++}}),Object.assign(Te.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(a){if(Array.isArray(a))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==a?a.length/this.stride:0,this.array=a,this},setDynamic:function(a){return this.dynamic=a,this},copy:function(a){return this.array=new a.array.constructor(a.array),this.count=a.count,this.stride=a.stride,this.dynamic=a.dynamic,this},copyAt:function(a,b,c){a*=this.stride,c*=b.stride;for(var d=0,e=this.stride;d<e;d++)this.array[a+d]=b.array[c+d];return this},set:function(a,b){return void 0===b&&(b=0),this.array.set(a,b),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(a){return this.onUploadCallback=a,this}}),Ue.prototype=Object.assign(Object.create(Te.prototype),{constructor:Ue,isInstancedInterleavedBuffer:!0,copy:function(a){return Te.prototype.copy.call(this,a),this.meshPerAttribute=a.meshPerAttribute,this}}),Ve.prototype=Object.assign(Object.create(A.prototype),{constructor:Ve,isInstancedBufferAttribute:!0,copy:function(a){return A.prototype.copy.call(this,a),this.meshPerAttribute=a.meshPerAttribute,this}}),Object.assign(We.prototype,{linePrecision:1,set:function(a,b){this.ray.set(a,b)},setFromCamera:function(a,b){b&&b.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(b.matrixWorld),this.ray.direction.set(a.x,a.y,.5).unproject(b).sub(this.ray.origin).normalize()):b&&b.isOrthographicCamera&&(this.ray.origin.set(a.x,a.y,(b.near+b.far)/(b.near-b.far)).unproject(b),this.ray.direction.set(0,0,-1).transformDirection(b.matrixWorld))},intersectObject:function(a,b,c){var d=c||[];return Ye(a,this,d,b),d.sort(Xe),d},intersectObjects:function(a,b,c){var d=c||[];if(!1===Array.isArray(a))return d;for(var e=0,f=a.length;e<f;e++)Ye(a[e],this,d,b);return d.sort(Xe),d}}),Object.assign(Ze.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var a=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var b=("undefined"==typeof performance?Date:performance).now();a=(b-this.oldTime)/1e3,this.oldTime=b,this.elapsedTime+=a}return a}}),Object.assign($e.prototype,{set:function(a,b,c){return this.radius=a,this.phi=b,this.theta=c,this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){return this.radius=a.radius,this.phi=a.phi,this.theta=a.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(a){return this.radius=a.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(a.x,a.z),this.phi=Math.acos(oi.clamp(a.y/this.radius,-1,1))),this}}),Object.assign(_e.prototype,{set:function(a,b,c){return this.radius=a,this.theta=b,this.y=c,this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){return this.radius=a.radius,this.theta=a.theta,this.y=a.y,this},setFromVector3:function(a){return this.radius=Math.sqrt(a.x*a.x+a.z*a.z),this.theta=Math.atan2(a.x,a.z),this.y=a.y,this}}),Object.assign(af.prototype,{set:function(a,b){return this.min.copy(a),
this.max.copy(b),this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new c;return function(b,c){var d=a.copy(c).multiplyScalar(.5);return this.min.copy(b).sub(d),this.max.copy(b).add(d),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){return this.min.copy(a.min),this.max.copy(a.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(a){return void 0===a&&(a=new c),this.isEmpty()?a.set(0,0):a.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(a){return void 0===a&&(a=new c),this.isEmpty()?a.set(0,0):a.subVectors(this.max,this.min)},expandByPoint:function(a){return this.min.min(a),this.max.max(a),this},expandByVector:function(a){return this.min.sub(a),this.max.add(a),this},expandByScalar:function(a){return this.min.addScalar(-a),this.max.addScalar(a),this},containsPoint:function(a){return!(a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y)},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y},getParameter:function(a,b){return void 0===b&&(b=new c),b.set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(a){return!(a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y)},clampPoint:function(a,b){return void 0===b&&(b=new c),b.copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new c;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),intersect:function(a){return this.min.max(a.min),this.max.min(a.max),this},union:function(a){return this.min.min(a.min),this.max.max(a.max),this},translate:function(a){return this.min.add(a),this.max.add(a),this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}}),bf.prototype=Object.create(v.prototype),bf.prototype.constructor=bf,bf.prototype.isImmediateRenderObject=!0,cf.prototype=Object.create(Mb.prototype),cf.prototype.constructor=cf,cf.prototype.update=function(){var a=new f,b=new f,c=new g;return function(){var d=["a","b","c"];this.object.updateMatrixWorld(!0),c.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,f=this.geometry.attributes.position,g=this.object.geometry;if(g&&g.isGeometry)for(var h=g.vertices,i=g.faces,j=0,k=0,l=i.length;k<l;k++)for(var m=i[k],n=0,o=m.vertexNormals.length;n<o;n++){var p=h[m[d[n]]],q=m.vertexNormals[n];a.copy(p).applyMatrix4(e),b.copy(q).applyMatrix3(c).normalize().multiplyScalar(this.size).add(a),f.setXYZ(j,a.x,a.y,a.z),j+=1,f.setXYZ(j,b.x,b.y,b.z),j+=1}else if(g&&g.isBufferGeometry)for(var r=g.attributes.position,s=g.attributes.normal,j=0,n=0,o=r.count;n<o;n++)a.set(r.getX(n),r.getY(n),r.getZ(n)).applyMatrix4(e),b.set(s.getX(n),s.getY(n),s.getZ(n)),b.applyMatrix3(c).normalize().multiplyScalar(this.size).add(a),f.setXYZ(j,a.x,a.y,a.z),j+=1,f.setXYZ(j,b.x,b.y,b.z),j+=1;f.needsUpdate=!0}}(),df.prototype=Object.create(v.prototype),df.prototype.constructor=df,df.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},df.prototype.update=function(){var a=new f,b=new f;return function(){this.light.updateMatrixWorld();var c=this.light.distance?this.light.distance:1e3,d=c*Math.tan(this.light.angle);this.cone.scale.set(d,d,c),a.setFromMatrixPosition(this.light.matrixWorld),b.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(b.sub(a)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),ff.prototype=Object.create(Mb.prototype),ff.prototype.constructor=ff,ff.prototype.updateMatrixWorld=function(){var a=new f,b=new d,c=new d;return function(d){var e=this.bones,f=this.geometry,g=f.getAttribute("position");c.getInverse(this.root.matrixWorld);for(var h=0,i=0;h<e.length;h++){var j=e[h];j.parent&&j.parent.isBone&&(b.multiplyMatrices(c,j.matrixWorld),a.setFromMatrixPosition(b),g.setXYZ(i,a.x,a.y,a.z),b.multiplyMatrices(c,j.parent.matrixWorld),a.setFromMatrixPosition(b),g.setXYZ(i+1,a.x,a.y,a.z),i+=2)}f.getAttribute("position").needsUpdate=!0,v.prototype.updateMatrixWorld.call(this,d)}}(),gf.prototype=Object.create(X.prototype),gf.prototype.constructor=gf,gf.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},gf.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},hf.prototype=Object.create(v.prototype),hf.prototype.constructor=hf,hf.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},hf.prototype.update=function(){var a=.5*this.light.width,b=.5*this.light.height,c=this.line.geometry.attributes.position,d=c.array;d[0]=a,d[1]=-b,d[2]=0,d[3]=a,d[4]=b,d[5]=0,d[6]=-a,d[7]=b,d[8]=0,d[9]=-a,d[10]=-b,d[11]=0,d[12]=a,d[13]=-b,d[14]=0,c.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},jf.prototype=Object.create(v.prototype),jf.prototype.constructor=jf,jf.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},jf.prototype.update=function(){var a=new f,b=new q,c=new q;return function(){var d=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var e=d.geometry.getAttribute("color");b.copy(this.light.color),c.copy(this.light.groundColor);for(var f=0,g=e.count;f<g;f++){var h=f<g/2?b:c;e.setXYZ(f,h.r,h.g,h.b)}e.needsUpdate=!0}d.lookAt(a.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),kf.prototype=Object.create(Mb.prototype),kf.prototype.constructor=kf,lf.prototype=Object.create(Mb.prototype),lf.prototype.constructor=lf,mf.prototype=Object.create(Mb.prototype),mf.prototype.constructor=mf,mf.prototype.update=function(){var a=new f,b=new f,c=new g;return function(){this.object.updateMatrixWorld(!0),c.getNormalMatrix(this.object.matrixWorld);for(var d=this.object.matrixWorld,e=this.geometry.attributes.position,f=this.object.geometry,g=f.vertices,h=f.faces,i=0,j=0,k=h.length;j<k;j++){var l=h[j],m=l.normal;a.copy(g[l.a]).add(g[l.b]).add(g[l.c]).divideScalar(3).applyMatrix4(d),b.copy(m).applyMatrix3(c).normalize().multiplyScalar(this.size).add(a),e.setXYZ(i,a.x,a.y,a.z),i+=1,e.setXYZ(i,b.x,b.y,b.z),i+=1}e.needsUpdate=!0}}(),nf.prototype=Object.create(v.prototype),nf.prototype.constructor=nf,nf.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},nf.prototype.update=function(){var a=new f,b=new f,c=new f;return function(){a.setFromMatrixPosition(this.light.matrixWorld),b.setFromMatrixPosition(this.light.target.matrixWorld),c.subVectors(b,a),this.lightPlane.lookAt(c),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(c),this.targetLine.scale.z=c.length()}}(),of.prototype=Object.create(Mb.prototype),of.prototype.constructor=of,of.prototype.update=function(){function a(a,f,g,h){d.set(f,g,h).unproject(e);var i=c[a];if(void 0!==i)for(var j=b.getAttribute("position"),k=0,l=i.length;k<l;k++)j.setXYZ(i[k],d.x,d.y,d.z)}var b,c,d=new f,e=new w;return function(){b=this.geometry,c=this.pointMap;e.projectionMatrix.copy(this.camera.projectionMatrix),a("c",0,0,-1),a("t",0,0,1),a("n1",-1,-1,-1),a("n2",1,-1,-1),a("n3",-1,1,-1),a("n4",1,1,-1),a("f1",-1,-1,1),a("f2",1,-1,1),a("f3",-1,1,1),a("f4",1,1,1),a("u1",.7,1.1,-1),a("u2",-.7,1.1,-1),a("u3",0,2,-1),a("cf1",-1,0,1),a("cf2",1,0,1),a("cf3",0,-1,1),a("cf4",0,1,1),a("cn1",-1,0,-1),a("cn2",1,0,-1),a("cn3",0,-1,-1),a("cn4",0,1,-1),b.getAttribute("position").needsUpdate=!0}}(),pf.prototype=Object.create(Mb.prototype),pf.prototype.constructor=pf,pf.prototype.update=function(){var a=new m;return function(b){if(void 0!==this.object&&a.setFromObject(this.object),!a.isEmpty()){var c=a.min,d=a.max,e=this.geometry.attributes.position,f=e.array;f[0]=d.x,f[1]=d.y,f[2]=d.z,f[3]=c.x,f[4]=d.y,f[5]=d.z,f[6]=c.x,f[7]=c.y,f[8]=d.z,f[9]=d.x,f[10]=c.y,f[11]=d.z,f[12]=d.x,f[13]=d.y,f[14]=c.z,f[15]=c.x,f[16]=d.y,f[17]=c.z,f[18]=c.x,f[19]=c.y,f[20]=c.z,f[21]=d.x,f[22]=c.y,f[23]=c.z,e.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),pf.prototype.setFromObject=function(a){return this.object=a,this.update(),this},qf.prototype=Object.create(Mb.prototype),qf.prototype.constructor=qf,qf.prototype.updateMatrixWorld=function(a){var b=this.box;b.isEmpty()||(b.getCenter(this.position),b.getSize(this.scale),this.scale.multiplyScalar(.5),v.prototype.updateMatrixWorld.call(this,a))},rf.prototype=Object.create(Lb.prototype),rf.prototype.constructor=rf,rf.prototype.updateMatrixWorld=function(a){var b=-this.plane.constant;Math.abs(b)<1e-8&&(b=1e-8),this.scale.set(.5*this.size,.5*this.size,b),this.children[0].material.side=b<0?gg:fg,this.lookAt(this.plane.normal),v.prototype.updateMatrixWorld.call(this,a)};var dj,ej;sf.prototype=Object.create(v.prototype),sf.prototype.constructor=sf,sf.prototype.setDirection=function(){var a,b=new f;return function(c){c.y>.99999?this.quaternion.set(0,0,0,1):c.y<-.99999?this.quaternion.set(1,0,0,0):(b.set(c.z,0,-c.x).normalize(),a=Math.acos(c.y),this.quaternion.setFromAxisAngle(b,a))}}(),sf.prototype.setLength=function(a,b,c){void 0===b&&(b=.2*a),void 0===c&&(c=.2*b),this.line.scale.set(1,Math.max(0,a-b),1),this.line.updateMatrix(),this.cone.scale.set(c,b,c),this.cone.position.y=a,this.cone.updateMatrix()},sf.prototype.setColor=function(a){this.line.material.color.copy(a),this.cone.material.color.copy(a)},tf.prototype=Object.create(Mb.prototype),tf.prototype.constructor=tf;yd.create=function(a,b){return a.prototype=Object.create(yd.prototype),a.prototype.constructor=a,a.prototype.getPoint=b,a},Object.assign(Ud.prototype,{createPointsGeometry:function(a){var b=this.getPoints(a);return this.createGeometry(b)},createSpacedPointsGeometry:function(a){var b=this.getSpacedPoints(a);return this.createGeometry(b)},createGeometry:function(a){for(var b=new z,c=0,d=a.length;c<d;c++){var e=a[c];b.vertices.push(new f(e.x,e.y,e.z||0))}return b}}),Object.assign(Vd.prototype,{fromPoints:function(a){this.setFromPoints(a)}}),Of.prototype=Object.create(Cd.prototype),Pf.prototype=Object.create(Cd.prototype),Qf.prototype=Object.create(Cd.prototype),Object.assign(Qf.prototype,{initFromArray:function(){},getControlPointsArray:function(){},reparametrizeByArcLength:function(){}}),kf.prototype.setColors=function(){},ff.prototype.update=function(){},Object.assign(ue.prototype,{extractUrlBase:function(a){return Yi.extractUrlBase(a)}}),Object.assign(af.prototype,{center:function(a){return this.getCenter(a)},empty:function(){return this.isEmpty()},isIntersectionBox:function(a){return this.intersectsBox(a)},size:function(a){return this.getSize(a)}}),Object.assign(m.prototype,{center:function(a){return this.getCenter(a)},empty:function(){return this.isEmpty()},isIntersectionBox:function(a){return this.intersectsBox(a)},isIntersectionSphere:function(a){return this.intersectsSphere(a)},size:function(a){return this.getSize(a)}}),V.prototype.center=function(a){return this.getCenter(a)},Object.assign(oi,{random16:function(){return Math.random()},nearestPowerOfTwo:function(a){return oi.floorPowerOfTwo(a)},nextPowerOfTwo:function(a){return oi.ceilPowerOfTwo(a)}}),Object.assign(g.prototype,{flattenToArrayOffset:function(a,b){return this.toArray(a,b)},multiplyVector3:function(a){return a.applyMatrix3(this)},multiplyVector3Array:function(){},applyToBuffer:function(a){return this.applyToBufferAttribute(a)},applyToVector3Array:function(){}}),Object.assign(d.prototype,{extractPosition:function(a){return this.copyPosition(a)},flattenToArrayOffset:function(a,b){return this.toArray(a,b)},getPosition:function(){var a;return function(){return void 0===a&&(a=new f),a.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(a){return this.makeRotationFromQuaternion(a)},multiplyToArray:function(){},multiplyVector3:function(a){return a.applyMatrix4(this)},multiplyVector4:function(a){return a.applyMatrix4(this)},multiplyVector3Array:function(){},rotateAxis:function(a){a.transformDirection(this)},crossVector:function(a){return a.applyMatrix4(this)},translate:function(){},rotateX:function(){},rotateY:function(){},rotateZ:function(){},rotateByAxis:function(){},applyToBuffer:function(a){return this.applyToBufferAttribute(a)},applyToVector3Array:function(){},makeFrustum:function(a,b,c,d,e,f){return this.makePerspective(a,b,d,c,e,f)}}),o.prototype.isIntersectionLine=function(a){return this.intersectsLine(a)},e.prototype.multiplyVector3=function(a){return a.applyQuaternion(this)},Object.assign(U.prototype,{isIntersectionBox:function(a){return this.intersectsBox(a)},isIntersectionPlane:function(a){return this.intersectsPlane(a)},isIntersectionSphere:function(a){return this.intersectsSphere(a)}}),Object.assign(W.prototype,{area:function(){return this.getArea()},barycoordFromPoint:function(a,b){return this.getBarycoord(a,b)},midpoint:function(a){return this.getMidpoint(a)},normal:function(a){return this.getNormal(a)},plane:function(a){return this.getPlane(a)}}),Object.assign(W,{barycoordFromPoint:function(a,b,c,d,e){return W.getBarycoord(a,b,c,d,e)},normal:function(a,b,c,d){return W.getNormal(a,b,c,d)}}),Object.assign(Wd.prototype,{extractAllPoints:function(a){return this.extractPoints(a)},extrude:function(a){return new Pc(this,a)},makeGeometry:function(a){return new $c(this,a)}}),Object.assign(c.prototype,{fromAttribute:function(a,b,c){return this.fromBufferAttribute(a,b,c)},distanceToManhattan:function(a){return this.manhattanDistanceTo(a)},lengthManhattan:function(){return this.manhattanLength()}}),Object.assign(f.prototype,{setEulerFromRotationMatrix:function(){},setEulerFromQuaternion:function(){},getPositionFromMatrix:function(a){return this.setFromMatrixPosition(a)},getScaleFromMatrix:function(a){return this.setFromMatrixScale(a)},getColumnFromMatrix:function(a,b){return this.setFromMatrixColumn(b,a)},applyProjection:function(a){return this.applyMatrix4(a)},fromAttribute:function(a,b,c){return this.fromBufferAttribute(a,b,c)},distanceToManhattan:function(a){return this.manhattanDistanceTo(a)},lengthManhattan:function(){return this.manhattanLength()}}),Object.assign(i.prototype,{fromAttribute:function(a,b,c){return this.fromBufferAttribute(a,b,c)},lengthManhattan:function(){return this.manhattanLength()}}),Object.assign(z.prototype,{computeTangents:function(){},computeLineDistances:function(){}}),Object.assign(v.prototype,{getChildByName:function(a){return this.getObjectByName(a)},renderDepth:function(){},translate:function(a,b){return this.translateOnAxis(b,a)},getWorldRotation:function(){}}),Object.defineProperties(v.prototype,{eulerOrder:{get:function(){return this.rotation.order},set:function(a){this.rotation.order=a}},useQuaternion:{get:function(){},set:function(){}}}),Object.defineProperties(Gb.prototype,{objects:{get:function(){return this.levels}}}),Object.defineProperty(Hb.prototype,"useVertexTexture",{get:function(){},set:function(){}}),Object.defineProperty(yd.prototype,"__arcLengthDivisions",{get:function(){return this.arcLengthDivisions},set:function(a){this.arcLengthDivisions=a}}),wb.prototype.setLens=function(a,b){void 0!==b&&(this.filmGauge=b),this.setFocalLength(a)},Object.defineProperties(Xd.prototype,{onlyShadow:{set:function(){}},shadowCameraFov:{set:function(a){this.shadow.camera.fov=a}},shadowCameraLeft:{set:function(a){this.shadow.camera.left=a}},shadowCameraRight:{set:function(a){this.shadow.camera.right=a}},shadowCameraTop:{set:function(a){this.shadow.camera.top=a}},shadowCameraBottom:{set:function(a){this.shadow.camera.bottom=a}},shadowCameraNear:{set:function(a){this.shadow.camera.near=a}},shadowCameraFar:{set:function(a){this.shadow.camera.far=a}},shadowCameraVisible:{set:function(){}},shadowBias:{set:function(a){this.shadow.bias=a}},shadowDarkness:{set:function(){}},shadowMapWidth:{set:function(a){this.shadow.mapSize.width=a}},shadowMapHeight:{set:function(a){this.shadow.mapSize.height=a}}}),Object.defineProperties(A.prototype,{length:{get:function(){return this.array.length}},copyIndicesArray:function(){}}),Object.assign(M.prototype,{addIndex:function(a){this.setIndex(a)},addDrawCall:function(a,b,c){this.addGroup(a,b)},clearDrawCalls:function(){this.clearGroups()},computeTangents:function(){},computeOffsets:function(){}}),Object.defineProperties(M.prototype,{drawcalls:{get:function(){return this.groups}},offsets:{get:function(){return this.groups}}}),Object.assign(Qc.prototype,{getArrays:function(){},addShapeList:function(){},addShape:function(){}}),Object.defineProperties(Qe.prototype,{dynamic:{set:function(){}},onUpdate:{value:function(){return this}}}),Object.defineProperties(R.prototype,{wrapAround:{get:function(){},set:function(){}},wrapRGB:{get:function(){return new q}},shading:{get:function(){},set:function(a){this.flatShading=1===a}}}),Object.defineProperties(md.prototype,{metal:{get:function(){return!1},set:function(){}}}),Object.defineProperties(T.prototype,{derivatives:{get:function(){return this.extensions.derivatives},set:function(a){this.extensions.derivatives=a}}}),Object.assign(Ab.prototype,{animate:function(a){this.setAnimationLoop(a)},getCurrentRenderTarget:function(){return this.getRenderTarget()},getMaxAnisotropy:function(){return this.capabilities.getMaxAnisotropy()},getPrecision:function(){return this.capabilities.precision},resetGLState:function(){return this.state.reset()},supportsFloatTextures:function(){return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(a){this.setScissorTest(a)},initMaterial:function(){},addPrePlugin:function(){},addPostPlugin:function(){},updateShadowMap:function(){},setFaceCulling:function(){}}),Object.defineProperties(Ab.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(a){this.shadowMap.enabled=a}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(a){this.shadowMap.type=a}},shadowMapCullFace:{get:function(){},set:function(){}}}),Object.defineProperties(qb.prototype,{cullFace:{get:function(){},set:function(){}},renderReverseSided:{get:function(){},set:function(){}},renderSingleSided:{get:function(){},set:function(){}}}),Object.defineProperties(j.prototype,{wrapS:{get:function(){return this.texture.wrapS},set:function(a){this.texture.wrapS=a}},wrapT:{get:function(){return this.texture.wrapT},set:function(a){this.texture.wrapT=a}},magFilter:{get:function(){return this.texture.magFilter},set:function(a){this.texture.magFilter=a}},minFilter:{get:function(){return this.texture.minFilter},set:function(a){this.texture.minFilter=a}},anisotropy:{get:function(){return this.texture.anisotropy},set:function(a){this.texture.anisotropy=a}},offset:{get:function(){return this.texture.offset},set:function(a){this.texture.offset=a}},repeat:{get:function(){return this.texture.repeat},set:function(a){this.texture.repeat=a}},format:{get:function(){return this.texture.format},set:function(a){this.texture.format=a}},type:{get:function(){return this.texture.type},set:function(a){this.texture.type=a}},generateMipmaps:{get:function(){return this.texture.generateMipmaps},set:function(a){this.texture.generateMipmaps=a}}}),Object.defineProperties(yb.prototype,{standing:{set:function(){}}}),He.prototype.load=function(a){var b=this;return(new De).load(a,function(a){b.setBuffer(a)}),this},Je.prototype.getData=function(){return this.getFrequencyData()},Fe.prototype.updateCubeMap=function(a,b){return this.update(a,b)};var fj={merge:function(a,b,c){var d;b.isMesh&&(b.matrixAutoUpdate&&b.updateMatrix(),d=b.matrix,b=b.geometry),a.merge(b,d,c)},center:function(a){return a.center()}},gj={crossOrigin:void 0,loadTexture:function(a,b,c,d){var e=new xd;e.setCrossOrigin(this.crossOrigin);var f=e.load(a,c,void 0,d);return b&&(f.mapping=b),f},loadTextureCube:function(a,b,c,d){var e=new wd;e.setCrossOrigin(this.crossOrigin);var f=e.load(a,c,void 0,d);return b&&(f.mapping=b),f},loadCompressedTexture:function(){},loadCompressedTextureCube:function(){}},hj={createMultiMaterialObject:function(){},detach:function(){},attach:function(){}};a.WebGLRenderTargetCube=k,a.WebGLRenderTarget=j,a.WebGLRenderer=Ab,a.ShaderLib=ui,a.UniformsLib=ti,a.UniformsUtils=ri,a.ShaderChunk=qi,a.FogExp2=Bb,a.Fog=Cb,a.Scene=Db,a.Sprite=Fb,a.LOD=Gb,a.SkinnedMesh=Jb,a.Skeleton=Hb,a.Bone=Ib,a.Mesh=X,a.LineSegments=Mb,a.LineLoop=Nb,a.Line=Lb,a.Points=Pb,a.Group=Qb,a.VideoTexture=Rb,a.DataTexture=l,a.CompressedTexture=Sb,a.CubeTexture=ha,a.CanvasTexture=rb,a.DepthTexture=Tb,a.Texture=h,a.CompressedTextureLoader=td,a.DataTextureLoader=ud,a.CubeTextureLoader=wd,a.TextureLoader=xd,a.ObjectLoader=we,a.MaterialLoader=se,a.BufferGeometryLoader=te,a.DefaultLoadingManager=Pi,a.LoadingManager=rd,a.JSONLoader=ve,a.ImageLoader=vd,a.ImageBitmapLoader=xe,a.FontLoader=Ce,a.FileLoader=sd,a.Loader=ue,a.LoaderUtils=Yi,a.Cache=Oi,a.AudioLoader=De,a.SpotLightShadow=$d,a.SpotLight=_d,a.PointLight=ae,a.RectAreaLight=ee,a.HemisphereLight=Yd,a.DirectionalLightShadow=be,a.DirectionalLight=ce,a.AmbientLight=de,a.LightShadow=Zd,a.Light=Xd,a.StereoCamera=Ee,a.PerspectiveCamera=wb,a.OrthographicCamera=x,a.CubeCamera=Fe,a.ArrayCamera=xb,a.Camera=w,a.AudioListener=Ge,a.PositionalAudio=Ie,a.AudioContext=bj,a.AudioAnalyser=Je,a.Audio=He,a.VectorKeyframeTrack=qe,a.StringKeyframeTrack=fe,a.QuaternionKeyframeTrack=je,a.NumberKeyframeTrack=le,a.ColorKeyframeTrack=ke,a.BooleanKeyframeTrack=ge,a.PropertyMixer=Ke,a.PropertyBinding=Me,a.KeyframeTrack=pe,a.AnimationUtils=Wi,a.AnimationObjectGroup=Ne,a.AnimationMixer=Pe,a.AnimationClip=re,a.Uniform=Qe,a.InstancedBufferGeometry=Re,a.BufferGeometry=M,a.Geometry=z,a.InterleavedBufferAttribute=Se,a.InstancedInterleavedBuffer=Ue,a.InterleavedBuffer=Te,a.InstancedBufferAttribute=Ve,a.Face3=y,a.Object3D=v,a.Raycaster=We,a.Layers=u,a.EventDispatcher=b,a.Clock=Ze,a.QuaternionLinearInterpolant=ie,a.LinearInterpolant=ne,a.DiscreteInterpolant=oe,a.CubicInterpolant=me,a.Interpolant=he,a.Triangle=W,a.Math=oi,a.Spherical=$e,a.Cylindrical=_e,a.Plane=o,a.Frustum=p,a.Sphere=n,a.Ray=U,a.Matrix4=d,a.Matrix3=g,a.Box3=m,a.Box2=af,a.Line3=V,a.Euler=t,a.Vector4=i,a.Vector3=f,a.Vector2=c,a.Quaternion=e,a.Color=q,a.ImmediateRenderObject=bf,a.VertexNormalsHelper=cf,a.SpotLightHelper=df,a.SkeletonHelper=ff,a.PointLightHelper=gf,a.RectAreaLightHelper=hf,a.HemisphereLightHelper=jf,a.GridHelper=kf,a.PolarGridHelper=lf,a.FaceNormalsHelper=mf,a.DirectionalLightHelper=nf,a.CameraHelper=of,a.BoxHelper=pf,a.Box3Helper=qf,a.PlaneHelper=rf,a.ArrowHelper=sf,a.AxesHelper=tf,a.Shape=Wd,a.Path=Vd,a.ShapePath=ye,a.Font=ze,a.CurvePath=Ud,a.Curve=yd,a.ShapeUtils=Ki,a.WebGLUtils=vb,a.WireframeGeometry=Ub,a.ParametricGeometry=Vb,a.ParametricBufferGeometry=Wb,a.TetrahedronGeometry=Zb,a.TetrahedronBufferGeometry=$b,a.OctahedronGeometry=_b,a.OctahedronBufferGeometry=ac,a.IcosahedronGeometry=bc,a.IcosahedronBufferGeometry=cc,a.DodecahedronGeometry=dc,a.DodecahedronBufferGeometry=ec,a.PolyhedronGeometry=Xb,a.PolyhedronBufferGeometry=Yb,a.TubeGeometry=fc,a.TubeBufferGeometry=gc,a.TorusKnotGeometry=hc,a.TorusKnotBufferGeometry=ic,a.TorusGeometry=jc,a.TorusBufferGeometry=kc,a.TextGeometry=Sc,a.TextBufferGeometry=Tc,a.SphereGeometry=Uc,a.SphereBufferGeometry=Vc,a.RingGeometry=Wc,a.RingBufferGeometry=Xc,a.PlaneGeometry=P,a.PlaneBufferGeometry=Q,a.LatheGeometry=Yc,a.LatheBufferGeometry=Zc,a.ShapeGeometry=$c,a.ShapeBufferGeometry=_c,a.ExtrudeGeometry=Pc,a.ExtrudeBufferGeometry=Qc,a.EdgesGeometry=bd,a.ConeGeometry=ed,a.ConeBufferGeometry=fd,a.CylinderGeometry=cd,a.CylinderBufferGeometry=dd,a.CircleGeometry=gd,a.CircleBufferGeometry=hd,a.BoxGeometry=N,a.BoxBufferGeometry=O,a.ShadowMaterial=id,a.SpriteMaterial=Eb,a.RawShaderMaterial=jd,a.ShaderMaterial=T,a.PointsMaterial=Ob,a.MeshPhysicalMaterial=ld,a.MeshStandardMaterial=kd,a.MeshPhongMaterial=md,a.MeshToonMaterial=nd,a.MeshNormalMaterial=od,a.MeshLambertMaterial=pd,a.MeshDepthMaterial=ob,a.MeshDistanceMaterial=pb,a.MeshBasicMaterial=S,a.LineDashedMaterial=qd;a.LineBasicMaterial=Kb,a.Material=R,a.Float64BufferAttribute=J,a.Float32BufferAttribute=I,a.Uint32BufferAttribute=H,a.Int32BufferAttribute=G,a.Uint16BufferAttribute=F,a.Int16BufferAttribute=E,a.Uint8ClampedBufferAttribute=D,a.Uint8BufferAttribute=C,a.Int8BufferAttribute=B,a.BufferAttribute=A,a.ArcCurve=Ad,a.CatmullRomCurve3=Cd,a.CubicBezierCurve=Nd,a.CubicBezierCurve3=Od,a.EllipseCurve=zd,a.LineCurve=Pd,a.LineCurve3=Qd,a.QuadraticBezierCurve=Rd,a.QuadraticBezierCurve3=Sd,a.SplineCurve=Td,a.REVISION=$f,a.MOUSE=_f,a.CullFaceNone=ag,a.CullFaceBack=bg,a.CullFaceFront=cg,a.CullFaceFrontBack=3,a.FrontFaceDirectionCW=0,a.FrontFaceDirectionCCW=1,a.BasicShadowMap=0,a.PCFShadowMap=dg,a.PCFSoftShadowMap=eg,a.FrontSide=fg,a.BackSide=gg,a.DoubleSide=hg,a.FlatShading=1,a.SmoothShading=2,a.NoColors=ig,a.FaceColors=jg,a.VertexColors=kg,a.NoBlending=lg,a.NormalBlending=mg,a.AdditiveBlending=ng,a.SubtractiveBlending=og,a.MultiplyBlending=pg,a.CustomBlending=qg,a.AddEquation=rg,a.SubtractEquation=sg,a.ReverseSubtractEquation=tg,a.MinEquation=ug,a.MaxEquation=vg,a.ZeroFactor=wg,a.OneFactor=xg,a.SrcColorFactor=yg,a.OneMinusSrcColorFactor=zg,a.SrcAlphaFactor=Ag,a.OneMinusSrcAlphaFactor=Bg,a.DstAlphaFactor=Cg,a.OneMinusDstAlphaFactor=Dg,a.DstColorFactor=Eg,a.OneMinusDstColorFactor=Fg,a.SrcAlphaSaturateFactor=Gg,a.NeverDepth=Hg,a.AlwaysDepth=Ig,a.LessDepth=Jg,a.LessEqualDepth=Kg,a.EqualDepth=Lg,a.GreaterEqualDepth=Mg,a.GreaterDepth=Ng,a.NotEqualDepth=Og,a.MultiplyOperation=Pg,a.MixOperation=Qg,a.AddOperation=Rg,a.NoToneMapping=Sg,a.LinearToneMapping=Tg,a.ReinhardToneMapping=Ug,a.Uncharted2ToneMapping=Vg,a.CineonToneMapping=Wg,a.UVMapping=300,a.CubeReflectionMapping=Xg,a.CubeRefractionMapping=Yg,a.EquirectangularReflectionMapping=Zg,a.EquirectangularRefractionMapping=$g,a.SphericalReflectionMapping=_g,a.CubeUVReflectionMapping=ah,a.CubeUVRefractionMapping=bh,a.RepeatWrapping=ch,a.ClampToEdgeWrapping=dh,a.MirroredRepeatWrapping=eh,a.NearestFilter=fh,a.NearestMipMapNearestFilter=gh,a.NearestMipMapLinearFilter=hh,a.LinearFilter=ih,a.LinearMipMapNearestFilter=jh,a.LinearMipMapLinearFilter=kh,a.UnsignedByteType=lh,a.ByteType=mh,a.ShortType=nh,a.UnsignedShortType=oh,a.IntType=ph,a.UnsignedIntType=qh,a.FloatType=rh,a.HalfFloatType=sh,a.UnsignedShort4444Type=th,a.UnsignedShort5551Type=uh,a.UnsignedShort565Type=vh,a.UnsignedInt248Type=wh,a.AlphaFormat=xh,a.RGBFormat=yh,a.RGBAFormat=zh,a.LuminanceFormat=Ah,a.LuminanceAlphaFormat=Bh,a.RGBEFormat=Ch,a.DepthFormat=Dh,a.DepthStencilFormat=Eh,a.RGB_S3TC_DXT1_Format=Fh,a.RGBA_S3TC_DXT1_Format=Gh,a.RGBA_S3TC_DXT3_Format=Hh,a.RGBA_S3TC_DXT5_Format=Ih,a.RGB_PVRTC_4BPPV1_Format=Jh,a.RGB_PVRTC_2BPPV1_Format=Kh,a.RGBA_PVRTC_4BPPV1_Format=Lh,a.RGBA_PVRTC_2BPPV1_Format=Mh,a.RGB_ETC1_Format=Nh,a.RGBA_ASTC_4x4_Format=Oh,a.RGBA_ASTC_5x4_Format=Ph,a.RGBA_ASTC_5x5_Format=Qh,a.RGBA_ASTC_6x5_Format=Rh,a.RGBA_ASTC_6x6_Format=Sh,a.RGBA_ASTC_8x5_Format=Th,a.RGBA_ASTC_8x6_Format=Uh,a.RGBA_ASTC_8x8_Format=Vh,a.RGBA_ASTC_10x5_Format=Wh,a.RGBA_ASTC_10x6_Format=Xh,a.RGBA_ASTC_10x8_Format=Yh,a.RGBA_ASTC_10x10_Format=Zh,a.RGBA_ASTC_12x10_Format=$h,a.RGBA_ASTC_12x12_Format=_h,a.LoopOnce=2200,a.LoopRepeat=ai,a.LoopPingPong=2202,a.InterpolateDiscrete=2300,a.InterpolateLinear=2301,a.InterpolateSmooth=2302,a.ZeroCurvatureEnding=bi,a.ZeroSlopeEnding=2401,a.WrapAroundEnding=2402,a.TrianglesDrawMode=ci,a.TriangleStripDrawMode=di,a.TriangleFanDrawMode=ei,a.LinearEncoding=fi,a.sRGBEncoding=gi,a.GammaEncoding=hi,a.RGBEEncoding=ii,a.LogLuvEncoding=3003,a.RGBM7Encoding=ji,a.RGBM16Encoding=ki,a.RGBDEncoding=li,a.BasicDepthPacking=mi,a.RGBADepthPacking=ni,a.CubeGeometry=N,a.Face4=uf,a.LineStrip=0,a.LinePieces=1,a.MeshFaceMaterial=vf,a.MultiMaterial=wf,a.PointCloud=xf,a.Particle=yf,a.ParticleSystem=zf,a.PointCloudMaterial=Af,a.ParticleBasicMaterial=Bf,a.ParticleSystemMaterial=Cf,a.Vertex=Df,a.DynamicBufferAttribute=Ef,a.Int8Attribute=Ff,a.Uint8Attribute=Gf,a.Uint8ClampedAttribute=Hf,a.Int16Attribute=If,a.Uint16Attribute=Jf,a.Int32Attribute=Kf,a.Uint32Attribute=Lf,a.Float32Attribute=Mf,a.Float64Attribute=Nf,a.ClosedSplineCurve3=Of,a.SplineCurve3=Pf,a.Spline=Qf,a.AxisHelper=Rf,a.BoundingBoxHelper=Sf,a.EdgesHelper=Tf,a.WireframeHelper=Uf,a.XHRLoader=Vf,a.BinaryTextureLoader=Wf,a.GeometryUtils=fj,a.ImageUtils=gj,a.Projector=Xf,a.CanvasRenderer=Yf,a.SceneUtils=hj,a.LensFlare=Zf,Object.defineProperty(a,"__esModule",{value:!0})})},{}],357:[function(a,b,c){(function(d){!function(a,d){"object"==typeof c&&"object"==typeof b?b.exports=d():"function"==typeof define&&define.amd?define([],d):"object"==typeof c?c.Twig=d():a.Twig=d()}(d,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&c&&"string"!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=2)}([function(a,b,c){"use strict";a.exports=function(){var a=/%%|%(?:(\d+)\$)?((?:[-+#0 ]|'[\s\S])*)(\d+)?(?:\.(\d*))?([\s\S])/g,b=arguments,c=0,d=b[c++],e=function(a,b,c,d){c||(c=" ");var e=a.length>=b?"":new Array(1+b-a.length>>>0).join(c);return d?a+e:e+a},f=function(a,b,c,d,f){var g=d-a.length;return g>0&&(a=c||"0"!==f?e(a,d,f,c):[a.slice(0,b.length),e("",g,"0",!0),a.slice(b.length)].join("")),a},g=function(a,b,c,d,g,h){return a=e((a>>>0).toString(b),g||0,"0",!1),f(a,"",c,d,h)},h=function(a,b,c,d,e){return null!==d&&void 0!==d&&(a=a.slice(0,d)),f(a,"",b,c,e)},i=function(a,d,i,j,k,l){var m,n,o,p,q;if("%%"===a)return"%";var r,s,t=" ",u=!1,v="";for(r=0,s=i.length;r<s;r++)switch(i.charAt(r)){case" ":case"0":t=i.charAt(r);break;case"+":v="+";break;case"-":u=!0;break;case"'":r+1<s&&(t=i.charAt(r+1),r++)}if(j=j?+j:0,!isFinite(j))throw new Error("Width must be finite");if(k=k?+k:"d"===l?0:"fFeE".indexOf(l)>-1?6:void 0,d&&0==+d)throw new Error("Argument number must be greater than zero");if(d&&+d>=b.length)throw new Error("Too few arguments");switch(q=d?b[+d]:b[c++],l){case"%":return"%";case"s":return h(q+"",u,j,k,t);case"c":return h(String.fromCharCode(+q),u,j,k,t);case"b":return g(q,2,u,j,k,t);case"o":return g(q,8,u,j,k,t);case"x":return g(q,16,u,j,k,t);case"X":return g(q,16,u,j,k,t).toUpperCase();case"u":return g(q,10,u,j,k,t);case"i":case"d":return m=+q||0,m=Math.round(m-m%1),n=m<0?"-":v,q=n+e(String(Math.abs(m)),k,"0",!1),u&&"0"===t&&(t=" "),f(q,n,u,j,t);case"e":
case"E":case"f":case"F":case"g":case"G":return m=+q,n=m<0?"-":v,o=["toExponential","toFixed","toPrecision"]["efg".indexOf(l.toLowerCase())],p=["toString","toUpperCase"]["eEfFgG".indexOf(l)%2],q=n+Math.abs(m)[o](k),f(q,n,u,j,t)[p]();default:return""}};try{return d.replace(a,i)}catch(a){return!1}}},function(b,c){b.exports=a("path")},function(a,b,c){a.exports=c(3)()},function(a,b,c){a.exports=function a(){var b={VERSION:"1.13.1"};return c(4)(b),c(5)(b),c(6)(b),c(8)(b),c(9)(b),c(10)(b),c(20)(b),c(21)(b),c(23)(b),c(24)(b),c(25)(b),c(26)(b),c(27)(b),c(28)(b),c(29)(b),b.exports.factory=a,b.exports}},function(a,b){a.exports=function(a){"use strict";function b(b,c){if(b.options.rethrow)throw"string"==typeof c&&(c=new a.Error(c)),"TwigException"!=c.type||c.file||(c.file=b.id),c;if(a.log.error("Error parsing twig template "+b.id+": "),c.stack?a.log.error(c.stack):a.log.error(c.toString()),a.debug)return c.toString()}function c(a,b){var c=Object.prototype.toString.call(b).slice(8,-1);return void 0!==b&&null!==b&&c===a}return a.trace=!1,a.debug=!1,a.cache=!0,a.noop=function(){},a.placeholders={parent:"{{|PARENT|}}"},a.hasIndexOf=Array.prototype.hasOwnProperty("indexOf"),a.indexOf=function(b,c){if(a.hasIndexOf)return b.indexOf(c);if(void 0===b||null===b)throw new TypeError;var d=Object(b),e=d.length>>>0;if(0===e)return-1;var f=0;if(arguments.length>0&&(f=Number(arguments[1]),f!==f?f=0:0!==f&&f!==1/0&&f!==-1/0&&(f=(f>0||-1)*Math.floor(Math.abs(f)))),f>=e)return-1;for(var g=f>=0?f:Math.max(e-Math.abs(f),0);g<e;g++)if(g in d&&d[g]===c)return g;return b==c?0:-1},a.forEach=function(a,b,c){if(Array.prototype.forEach)return a.forEach(b,c);var d,e;if(null==a)throw new TypeError(" this is null or not defined");var f=Object(a),g=f.length>>>0;if("[object Function]"!={}.toString.call(b))throw new TypeError(b+" is not a function");for(c&&(d=c),e=0;e<g;){var h;e in f&&(h=f[e],b.call(d,h,e,f)),e++}},a.merge=function(b,c,d){return a.forEach(Object.keys(c),function(a){(!d||a in b)&&(b[a]=c[a])}),b},a.attempt=function(a,b){try{return a()}catch(a){return b(a)}},a.Error=function(a,b){this.message=a,this.name="TwigException",this.type="TwigException",this.file=b},a.Error.prototype.toString=function(){return this.name+": "+this.message},a.log={trace:function(){a.trace&&console},debug:function(){a.debug&&console}},"undefined"!=typeof console?void 0!==console.error?a.log.error=function(){}:void 0!==console.log&&(a.log.error=function(){}):a.log.error=function(){},a.ChildContext=function(b){return a.lib.copy(b)},a.token={},a.token.type={output:"output",logic:"logic",comment:"comment",raw:"raw",output_whitespace_pre:"output_whitespace_pre",output_whitespace_post:"output_whitespace_post",output_whitespace_both:"output_whitespace_both",logic_whitespace_pre:"logic_whitespace_pre",logic_whitespace_post:"logic_whitespace_post",logic_whitespace_both:"logic_whitespace_both"},a.token.definitions=[{type:a.token.type.raw,open:"{% raw %}",close:"{% endraw %}"},{type:a.token.type.raw,open:"{% verbatim %}",close:"{% endverbatim %}"},{type:a.token.type.output_whitespace_pre,open:"{{-",close:"}}"},{type:a.token.type.output_whitespace_post,open:"{{",close:"-}}"},{type:a.token.type.output_whitespace_both,open:"{{-",close:"-}}"},{type:a.token.type.logic_whitespace_pre,open:"{%-",close:"%}"},{type:a.token.type.logic_whitespace_post,open:"{%",close:"-%}"},{type:a.token.type.logic_whitespace_both,open:"{%-",close:"-%}"},{type:a.token.type.output,open:"{{",close:"}}"},{type:a.token.type.logic,open:"{%",close:"%}"},{type:a.token.type.comment,open:"{#",close:"#}"}],a.token.strings=['"',"'"],a.token.findStart=function(b){var c,d,e,f,g={position:null,def:null},h=null,i=a.token.definitions.length;for(c=0;c<i;c++)d=a.token.definitions[c],e=b.indexOf(d.open),f=b.indexOf(d.close),a.log.trace("Twig.token.findStart: ","Searching for ",d.open," found at ",e),e>=0&&d.open.length!==d.close.length&&f<0||(e>=0&&(null===g.position||e<g.position)?(g.position=e,g.def=d,h=f):e>=0&&null!==g.position&&e===g.position&&(d.open.length>g.def.open.length?(g.position=e,g.def=d,h=f):d.open.length===g.def.open.length&&(d.close.length,g.def.close.length,f>=0&&f<h&&(g.position=e,g.def=d,h=f))));return g},a.token.findEnd=function(b,c,d){for(var e,f,g=null,h=!1,i=0,j=null,k=null,l=null,m=null,n=null,o=null;!h;){if(j=null,k=null,!((l=b.indexOf(c.close,i))>=0))throw new a.Error("Unable to find closing bracket '"+c.close+"' opened near template position "+d);if(g=l,h=!0,c.type===a.token.type.comment)break;if(c.type===a.token.type.raw)break;for(f=a.token.strings.length,e=0;e<f;e+=1)(n=b.indexOf(a.token.strings[e],i))>0&&n<l&&(null===j||n<j)&&(j=n,k=a.token.strings[e]);if(null!==j)for(m=j+1,g=null,h=!1;;){if((o=b.indexOf(k,m))<0)throw"Unclosed string in template";if("\\"!==b.substr(o-1,1)){i=o+1;break}m=o+1}}return g},a.tokenize=function(b){for(var c=[],d=0,e=null,f=null;b.length>0;)if(e=a.token.findStart(b),a.log.trace("Twig.tokenize: ","Found token: ",e),null!==e.position){if(e.position>0&&c.push({type:a.token.type.raw,value:b.substring(0,e.position)}),b=b.substr(e.position+e.def.open.length),d+=e.position+e.def.open.length,f=a.token.findEnd(b,e.def,d),a.log.trace("Twig.tokenize: ","Token ends at ",f),c.push({type:e.def.type,value:b.substring(0,f).trim()}),"\n"===b.substr(f+e.def.close.length,1))switch(e.def.type){case"logic_whitespace_pre":case"logic_whitespace_post":case"logic_whitespace_both":case"logic":f+=1}b=b.substr(f+e.def.close.length),d+=f+e.def.close.length}else c.push({type:a.token.type.raw,value:b}),b="";return c},a.compile=function(b){var c=this;return a.attempt(function(){for(var d=[],e=[],f=[],g=null,h=null,i=null,j=null,k=null,l=null,m=null,n=null,o=null,p=null,q=null,r=null,s=function(b){a.expression.compile.call(c,b),e.length>0?f.push(b):d.push(b)},t=function(b){if(h=a.logic.compile.call(c,b),p=h.type,q=a.logic.handler[p].open,r=a.logic.handler[p].next,a.log.trace("Twig.compile: ","Compiled logic token to ",h," next is: ",r," open is : ",q),void 0!==q&&!q){if(j=e.pop(),m=a.logic.handler[j.type],a.indexOf(m.next,p)<0)throw new Error(p+" not expected after a "+j.type);j.output=j.output||[],j.output=j.output.concat(f),f=[],o={type:a.token.type.logic,token:j},e.length>0?f.push(o):d.push(o)}void 0!==r&&r.length>0?(a.log.trace("Twig.compile: ","Pushing ",h," to logic stack."),e.length>0&&(j=e.pop(),j.output=j.output||[],j.output=j.output.concat(f),e.push(j),f=[]),e.push(h)):void 0!==q&&q&&(o={type:a.token.type.logic,token:h},e.length>0?f.push(o):d.push(o))};b.length>0;){switch(g=b.shift(),k=d[d.length-1],l=f[f.length-1],n=b[0],a.log.trace("Compiling token ",g),g.type){case a.token.type.raw:e.length>0?f.push(g):d.push(g);break;case a.token.type.logic:t.call(c,g);break;case a.token.type.comment:break;case a.token.type.output:s.call(c,g);break;case a.token.type.logic_whitespace_pre:case a.token.type.logic_whitespace_post:case a.token.type.logic_whitespace_both:case a.token.type.output_whitespace_pre:case a.token.type.output_whitespace_post:case a.token.type.output_whitespace_both:switch(g.type!==a.token.type.output_whitespace_post&&g.type!==a.token.type.logic_whitespace_post&&(k&&k.type===a.token.type.raw&&(d.pop(),null===k.value.match(/^\s*$/)&&(k.value=k.value.trim(),d.push(k))),l&&l.type===a.token.type.raw&&(f.pop(),null===l.value.match(/^\s*$/)&&(l.value=l.value.trim(),f.push(l)))),g.type){case a.token.type.output_whitespace_pre:case a.token.type.output_whitespace_post:case a.token.type.output_whitespace_both:s.call(c,g);break;case a.token.type.logic_whitespace_pre:case a.token.type.logic_whitespace_post:case a.token.type.logic_whitespace_both:t.call(c,g)}g.type!==a.token.type.output_whitespace_pre&&g.type!==a.token.type.logic_whitespace_pre&&n&&n.type===a.token.type.raw&&(b.shift(),null===n.value.match(/^\s*$/)&&(n.value=n.value.trim(),b.unshift(n)))}a.log.trace("Twig.compile: "," Output: ",d," Logic Stack: ",e," Pending Output: ",f)}if(e.length>0)throw i=e.pop(),new Error("Unable to find an end tag for "+i.type+", expecting one of "+i.next);return d},function(b){if(c.options.rethrow)throw"TwigException"!=b.type||b.file||(b.file=c.id),b;a.log.error("Error compiling twig template "+c.id+": "),b.stack?a.log.error(b.stack):a.log.error(b.toString())})},a.parse=function(c,d,e){function f(a){i.push(a)}function g(a){void 0!==a.chain&&(m=a.chain),void 0!==a.context&&(d=a.context),void 0!==a.output&&i.push(a.output)}var h=this,i=[],j=null,k=!0,l=null,m=!0;if(l=a.async.forEach(c,function(b){switch(a.log.debug("Twig.parse: ","Parsing token: ",b),b.type){case a.token.type.raw:i.push(a.filters.raw(b.value));break;case a.token.type.logic:return a.logic.parseAsync.call(h,b.token,d,m).then(g);case a.token.type.comment:break;case a.token.type.output_whitespace_pre:case a.token.type.output_whitespace_post:case a.token.type.output_whitespace_both:case a.token.type.output:return a.log.debug("Twig.parse: ","Output token: ",b.stack),a.expression.parseAsync.call(h,b.stack,d).then(f)}}).then(function(){return i=a.output.call(h,i),k=!1,i}).catch(function(a){e&&b(h,a),j=a}),e)return l;if(null!==j)return b(this,j);if(k)throw new a.Error("You are using Twig.js in sync mode in combination with async extensions.");return i},a.prepare=function(b){var c,d;return a.log.debug("Twig.prepare: ","Tokenizing ",b),d=a.tokenize.call(this,b),a.log.debug("Twig.prepare: ","Compiling ",d),c=a.compile.call(this,d),a.log.debug("Twig.prepare: ","Compiled ",c),c},a.output=function(b){var c=this.options.autoescape;if(!c)return b.join("");var d="string"==typeof c?c:"html",e=0,f=b.length,g="",h=new Array(f);for(e=0;e<f;e++)g=b[e],!g||!0===g.twig_markup||g.twig_markup===d||"html"===d&&"html_attr"===g.twig_markup||(g=a.filters.escape(g,[d])),h[e]=g;return h.length<1?"":a.Markup(h.join(""),!0)},a.Templates={loaders:{},parsers:{},registry:{}},a.validateId=function(b){if("prototype"===b)throw new a.Error(b+" is not a valid twig identifier");if(a.cache&&a.Templates.registry.hasOwnProperty(b))throw new a.Error("There is already a template with the ID "+b);return!0},a.Templates.registerLoader=function(b,c,d){if("function"!=typeof c)throw new a.Error("Unable to add loader for "+b+": Invalid function reference given.");d&&(c=c.bind(d)),this.loaders[b]=c},a.Templates.unRegisterLoader=function(a){this.isRegisteredLoader(a)&&delete this.loaders[a]},a.Templates.isRegisteredLoader=function(a){return this.loaders.hasOwnProperty(a)},a.Templates.registerParser=function(b,c,d){if("function"!=typeof c)throw new a.Error("Unable to add parser for "+b+": Invalid function regerence given.");d&&(c=c.bind(d)),this.parsers[b]=c},a.Templates.unRegisterParser=function(a){this.isRegisteredParser(a)&&delete this.parsers[a]},a.Templates.isRegisteredParser=function(a){return this.parsers.hasOwnProperty(a)},a.Templates.save=function(b){if(void 0===b.id)throw new a.Error("Unable to save template with no id");a.Templates.registry[b.id]=b},a.Templates.load=function(b){return a.Templates.registry.hasOwnProperty(b)?a.Templates.registry[b]:null},a.Templates.loadRemote=function(b,c,d,e){var f,g=void 0===c.id?b:c.id,h=a.Templates.registry[g];return a.cache&&void 0!==h?("function"==typeof d&&d(h),h):(c.parser=c.parser||"twig",c.id=g,void 0===c.async&&(c.async=!0),f=this.loaders[c.method]||this.loaders.fs,f.call(this,b,c,d,e))},a.Template=function(b){var d=b.data,e=b.id,f=b.blocks,g=b.macros||{},h=b.base,i=b.path,j=b.url,k=b.name,l=b.method,m=b.options;this.id=e,this.method=l,this.base=h,this.path=i,this.url=j,this.name=k,this.macros=g,this.options=m,this.reset(f),c("String",d)?this.tokens=a.prepare.call(this,d):this.tokens=d,void 0!==e&&a.Templates.save(this)},a.Template.prototype.reset=function(b){a.log.debug("Twig.Template.reset","Reseting template "+this.id),this.blocks={},this.importedBlocks=[],this.originalBlockTokens={},this.child={blocks:b||{}},this.extend=null,this.parseStack=[]},a.Template.prototype.render=function(b,c,d){var e=this;return this.context=b||{},this.reset(),c&&c.blocks&&(this.blocks=c.blocks),c&&c.macros&&(this.macros=c.macros),a.async.potentiallyAsync(this,d,function(){return a.parseAsync.call(this,this.tokens,this.context).then(function(b){var d,f;return e.extend?(e.options.allowInlineIncludes&&(d=a.Templates.load(e.extend))&&(d.options=e.options),d||(f=a.path.parsePath(e,e.extend),d=a.Templates.loadRemote(f,{method:e.getLoaderMethod(),base:e.base,async:!1,id:f,options:e.options})),e.parent=d,e.parent.renderAsync(e.context,{blocks:e.blocks,isInclude:!0})):c?"blocks"==c.output?e.blocks:"macros"==c.output?e.macros:!0===c.isInclude?b:b.valueOf():b.valueOf()})})},a.Template.prototype.importFile=function(b){var c,d;if(!this.url&&this.options.allowInlineIncludes){if(b=this.path?a.path.parsePath(this,b):b,!(d=a.Templates.load(b))&&!(d=a.Templates.loadRemote(c,{id:b,method:this.getLoaderMethod(),async:!1,path:b,options:this.options})))throw new a.Error("Unable to find the template "+b);return d.options=this.options,d}return c=a.path.parsePath(this,b),d=a.Templates.loadRemote(c,{method:this.getLoaderMethod(),base:this.base,async:!1,options:this.options,id:c})},a.Template.prototype.importBlocks=function(b,c){var d=this.importFile(b),e=this.context,f=this;c=c||!1,d.render(e),a.forEach(Object.keys(d.blocks),function(a){(c||void 0===f.blocks[a])&&(f.blocks[a]=d.blocks[a],f.importedBlocks.push(a))})},a.Template.prototype.importMacros=function(b){var c=a.path.parsePath(this,b);return a.Templates.loadRemote(c,{method:this.getLoaderMethod(),async:!1,id:c})},a.Template.prototype.getLoaderMethod=function(){return this.path?"fs":this.url?"ajax":this.method||"fs"},a.Template.prototype.compile=function(b){return a.compiler.compile(this,b)},a.Markup=function(a,b){if("string"!=typeof a||a.length<1)return a;var c=new String(a);return c.twig_markup=void 0===b||b,c},a}},function(a,b){a.exports=function(a){return a.compiler={module:{}},a.compiler.compile=function(b,c){var d,e=JSON.stringify(b.tokens),f=b.id;if(c.module){if(void 0===a.compiler.module[c.module])throw new a.Error("Unable to find module type "+c.module);d=a.compiler.module[c.module](f,e,c.twig)}else d=a.compiler.wrap(f,e);return d},a.compiler.module={amd:function(b,c,d){return'define(["'+d+'"], function (Twig) {\n\tvar twig, templates;\ntwig = Twig.twig;\ntemplates = '+a.compiler.wrap(b,c)+"\n\treturn templates;\n});"},node:function(b,c){return'var twig = require("twig").twig;\nexports.template = '+a.compiler.wrap(b,c)},cjs2:function(b,c,d){return'module.declare([{ twig: "'+d+'" }], function (require, exports, module) {\n\tvar twig = require("twig").twig;\n\texports.template = '+a.compiler.wrap(b,c)+"\n});"}},a.compiler.wrap=function(a,b){return'twig({id:"'+a.replace('"','\\"')+'", data:'+b+", precompiled: true});\n"},a}},function(a,b,c){a.exports=function(a){"use strict";function b(b,c,d){return c?a.expression.parseAsync.call(b,c,d):a.Promise.resolve(!1)}a.expression={},c(7)(a),a.expression.reservedWords=["true","false","null","TRUE","FALSE","NULL","_context","and","b-and","or","b-or","b-xor","in","not in","if","matches","starts","ends","with"],a.expression.type={comma:"Twig.expression.type.comma",operator:{unary:"Twig.expression.type.operator.unary",binary:"Twig.expression.type.operator.binary"},string:"Twig.expression.type.string",bool:"Twig.expression.type.bool",slice:"Twig.expression.type.slice",array:{start:"Twig.expression.type.array.start",end:"Twig.expression.type.array.end"},object:{start:"Twig.expression.type.object.start",end:"Twig.expression.type.object.end"},parameter:{start:"Twig.expression.type.parameter.start",end:"Twig.expression.type.parameter.end"},subexpression:{start:"Twig.expression.type.subexpression.start",end:"Twig.expression.type.subexpression.end"},key:{period:"Twig.expression.type.key.period",brackets:"Twig.expression.type.key.brackets"},filter:"Twig.expression.type.filter",_function:"Twig.expression.type._function",variable:"Twig.expression.type.variable",number:"Twig.expression.type.number",_null:"Twig.expression.type.null",context:"Twig.expression.type.context",test:"Twig.expression.type.test"},a.expression.set={operations:[a.expression.type.filter,a.expression.type.operator.unary,a.expression.type.operator.binary,a.expression.type.array.end,a.expression.type.object.end,a.expression.type.parameter.end,a.expression.type.subexpression.end,a.expression.type.comma,a.expression.type.test],expressions:[a.expression.type._function,a.expression.type.bool,a.expression.type.string,a.expression.type.variable,a.expression.type.number,a.expression.type._null,a.expression.type.context,a.expression.type.parameter.start,a.expression.type.array.start,a.expression.type.object.start,a.expression.type.subexpression.start,a.expression.type.operator.unary]},a.expression.set.operations_extended=a.expression.set.operations.concat([a.expression.type.key.period,a.expression.type.key.brackets,a.expression.type.slice]),a.expression.fn={compile:{push:function(a,b,c){c.push(a)},push_both:function(a,b,c){c.push(a),b.push(a)}},parse:{push:function(a,b,c){b.push(a)},push_value:function(a,b,c){b.push(a.value)}}},a.expression.definitions=[{type:a.expression.type.test,regex:/^is\s+(not)?\s*([a-zA-Z_][a-zA-Z0-9_]*(\s?as)?)/,next:a.expression.set.operations.concat([a.expression.type.parameter.start]),compile:function(a,b,c){a.filter=a.match[2],a.modifier=a.match[1],delete a.match,delete a.value,c.push(a)},parse:function(c,d,e){var f=d.pop();return b(this,c.params,e).then(function(b){var e=a.test(c.filter,f,b);"not"==c.modifier?d.push(!e):d.push(e)})}},{type:a.expression.type.comma,regex:/^,/,next:a.expression.set.expressions.concat([a.expression.type.array.end,a.expression.type.object.end]),compile:function(b,c,d){var e,f=c.length-1;for(delete b.match,delete b.value;f>=0;f--){if(e=c.pop(),e.type===a.expression.type.object.start||e.type===a.expression.type.parameter.start||e.type===a.expression.type.array.start){c.push(e);break}d.push(e)}d.push(b)}},{type:a.expression.type.number,regex:/^\-?\d+(\.\d+)?/,next:a.expression.set.operations,compile:function(a,b,c){a.value=Number(a.value),c.push(a)},parse:a.expression.fn.parse.push_value},{type:a.expression.type.operator.binary,regex:/(^\?\?|^\?\:|^(b\-and)|^(b\-or)|^(b\-xor)|^[\+\-~%\?]|^[\:](?!\d\])|^[!=]==?|^[!<>]=?|^\*\*?|^\/\/?|^(and)[\(|\s+]|^(or)[\(|\s+]|^(in)[\(|\s+]|^(not in)[\(|\s+]|^(matches)|^(starts with)|^(ends with)|^\.\.)/,next:a.expression.set.expressions,transform:function(a,b){switch(a[0]){case"and(":case"or(":case"in(":case"not in(":return b[b.length-1].value=a[2],a[0];default:return""}},compile:function(b,c,d){delete b.match,b.value=b.value.trim();var e=b.value,f=a.expression.operator.lookup(e,b);for(a.log.trace("Twig.expression.compile: ","Operator: ",f," from ",e);c.length>0&&(c[c.length-1].type==a.expression.type.operator.unary||c[c.length-1].type==a.expression.type.operator.binary)&&(f.associativity===a.expression.operator.leftToRight&&f.precidence>=c[c.length-1].precidence||f.associativity===a.expression.operator.rightToLeft&&f.precidence>c[c.length-1].precidence);){var g=c.pop();d.push(g)}if(":"===e){if(!c[c.length-1]||"?"!==c[c.length-1].value){var h=d.pop();if(h.type===a.expression.type.string||h.type===a.expression.type.variable)b.key=h.value;else if(h.type===a.expression.type.number)b.key=h.value.toString();else{if(!h.expression||h.type!==a.expression.type.parameter.end&&h.type!=a.expression.type.subexpression.end)throw new a.Error("Unexpected value before ':' of "+h.type+" = "+h.value);b.params=h.params}return void d.push(b)}}else c.push(f)},parse:function(b,c,d){if(b.key)c.push(b);else{if(b.params)return a.expression.parseAsync.call(this,b.params,d).then(function(a){b.key=a,c.push(b),d.loop||delete b.params});a.expression.operator.parse(b.value,c)}}},{type:a.expression.type.operator.unary,regex:/(^not\s+)/,next:a.expression.set.expressions,compile:function(b,c,d){delete b.match,b.value=b.value.trim();var e=b.value,f=a.expression.operator.lookup(e,b);for(a.log.trace("Twig.expression.compile: ","Operator: ",f," from ",e);c.length>0&&(c[c.length-1].type==a.expression.type.operator.unary||c[c.length-1].type==a.expression.type.operator.binary)&&(f.associativity===a.expression.operator.leftToRight&&f.precidence>=c[c.length-1].precidence||f.associativity===a.expression.operator.rightToLeft&&f.precidence>c[c.length-1].precidence);){var g=c.pop();d.push(g)}c.push(f)},parse:function(b,c,d){a.expression.operator.parse(b.value,c)}},{type:a.expression.type.string,regex:/^(["'])(?:(?=(\\?))\2[\s\S])*?\1/,next:a.expression.set.operations_extended,compile:function(b,c,d){var e=b.value;delete b.match,e='"'===e.substring(0,1)?e.replace('\\"','"'):e.replace("\\'","'"),b.value=e.substring(1,e.length-1).replace(/\\n/g,"\n").replace(/\\r/g,"\r"),a.log.trace("Twig.expression.compile: ","String value: ",b.value),d.push(b)},parse:a.expression.fn.parse.push_value},{type:a.expression.type.subexpression.start,regex:/^\(/,next:a.expression.set.expressions.concat([a.expression.type.subexpression.end]),compile:function(a,b,c){a.value="(",c.push(a),b.push(a)},parse:a.expression.fn.parse.push},{type:a.expression.type.subexpression.end,regex:/^\)/,next:a.expression.set.operations_extended,validate:function(b,c){for(var d=c.length-1,e=!1,f=!1,g=0;!e&&d>=0;){var h=c[d];e=h.type===a.expression.type.subexpression.start,e&&f&&(f=!1,e=!1),h.type===a.expression.type.parameter.start?g++:h.type===a.expression.type.parameter.end?g--:h.type===a.expression.type.subexpression.end&&(f=!0),d--}return e&&0===g},compile:function(b,c,d){var e,f=b;for(e=c.pop();c.length>0&&e.type!=a.expression.type.subexpression.start;)d.push(e),e=c.pop();for(var g=[];b.type!==a.expression.type.subexpression.start;)g.unshift(b),b=d.pop();g.unshift(b);e=c[c.length-1],void 0===e||e.type!==a.expression.type._function&&e.type!==a.expression.type.filter&&e.type!==a.expression.type.test&&e.type!==a.expression.type.key.brackets?(f.expression=!0,g.pop(),g.shift(),f.params=g,d.push(f)):(f.expression=!1,e.params=g)},parse:function(b,c,d){if(b.expression)return a.expression.parseAsync.call(this,b.params,d).then(function(a){c.push(a)});throw new a.Error("Unexpected subexpression end when token is not marked as an expression")}},{type:a.expression.type.parameter.start,regex:/^\(/,next:a.expression.set.expressions.concat([a.expression.type.parameter.end]),validate:function(b,c){var d=c[c.length-1];return d&&a.indexOf(a.expression.reservedWords,d.value.trim())<0},compile:a.expression.fn.compile.push_both,parse:a.expression.fn.parse.push},{type:a.expression.type.parameter.end,regex:/^\)/,next:a.expression.set.operations_extended,compile:function(b,c,d){var e,f=b;for(e=c.pop();c.length>0&&e.type!=a.expression.type.parameter.start;)d.push(e),e=c.pop();for(var g=[];b.type!==a.expression.type.parameter.start;)g.unshift(b),b=d.pop();g.unshift(b);b=d[d.length-1],void 0===b||b.type!==a.expression.type._function&&b.type!==a.expression.type.filter&&b.type!==a.expression.type.test&&b.type!==a.expression.type.key.brackets?(f.expression=!0,g.pop(),g.shift(),f.params=g,d.push(f)):(f.expression=!1,b.params=g)},parse:function(b,c,d){var e=[],f=!1,g=null;if(b.expression)return a.expression.parseAsync.call(this,b.params,d).then(function(a){c.push(a)});for(;c.length>0;){if((g=c.pop())&&g.type&&g.type==a.expression.type.parameter.start){f=!0;break}e.unshift(g)}if(!f)throw new a.Error("Expected end of parameter set.");c.push(e)}},{type:a.expression.type.slice,regex:/^\[(\d*\:\d*)\]/,next:a.expression.set.operations_extended,compile:function(a,b,c){var d=a.match[1].split(":"),e=d[0]?parseInt(d[0]):void 0,f=d[1]?parseInt(d[1]):void 0;a.value="slice",a.params=[e,f],f||(a.params=[e]),c.push(a)},parse:function(b,c,d){var e=c.pop(),f=b.params;c.push(a.filter.call(this,b.value,e,f))}},{type:a.expression.type.array.start,regex:/^\[/,next:a.expression.set.expressions.concat([a.expression.type.array.end]),compile:a.expression.fn.compile.push_both,parse:a.expression.fn.parse.push},{type:a.expression.type.array.end,regex:/^\]/,next:a.expression.set.operations_extended,compile:function(b,c,d){for(var e,f=c.length-1;f>=0&&(e=c.pop(),e.type!==a.expression.type.array.start);f--)d.push(e);d.push(b)},parse:function(b,c,d){for(var e=[],f=!1,g=null;c.length>0;){if(g=c.pop(),g.type&&g.type==a.expression.type.array.start){f=!0;break}e.unshift(g)}if(!f)throw new a.Error("Expected end of array.");c.push(e)}},{type:a.expression.type.object.start,regex:/^\{/,next:a.expression.set.expressions.concat([a.expression.type.object.end]),compile:a.expression.fn.compile.push_both,parse:a.expression.fn.parse.push},{type:a.expression.type.object.end,regex:/^\}/,next:a.expression.set.operations_extended,compile:function(b,c,d){for(var e,f=c.length-1;f>=0&&(!(e=c.pop())||e.type!==a.expression.type.object.start);f--)d.push(e);d.push(b)},parse:function(b,c,d){for(var e={},f=!1,g=null,h=!1,i=null;c.length>0;){if((g=c.pop())&&g.type&&g.type===a.expression.type.object.start){f=!0;break}if(g&&g.type&&(g.type===a.expression.type.operator.binary||g.type===a.expression.type.operator.unary)&&g.key){if(!h)throw new a.Error("Missing value for key '"+g.key+"' in object definition.");e[g.key]=i,void 0===e._keys&&(e._keys=[]),e._keys.unshift(g.key),i=null,h=!1}else h=!0,i=g}if(!f)throw new a.Error("Unexpected end of object.");c.push(e)}},{type:a.expression.type.filter,regex:/^\|\s?([a-zA-Z_][a-zA-Z0-9_\-]*)/,next:a.expression.set.operations_extended.concat([a.expression.type.parameter.start]),compile:function(a,b,c){a.value=a.match[1],c.push(a)},parse:function(c,d,e){var f=this,g=d.pop();return b(this,c.params,e).then(function(b){return a.filter.call(f,c.value,g,b)}).then(function(a){d.push(a)})}},{type:a.expression.type._function,regex:/^([a-zA-Z_][a-zA-Z0-9_]*)\s*\(/,next:a.expression.type.parameter.start,validate:function(b,c){return b[1]&&a.indexOf(a.expression.reservedWords,b[1])<0},transform:function(a,b){return"("},compile:function(a,b,c){var d=a.match[1];a.fn=d,delete a.match,delete a.value,c.push(a)},parse:function(c,d,e){var f,g=this,h=c.fn;return b(this,c.params,e).then(function(b){if(a.functions[h])f=a.functions[h].apply(g,b);else{if("function"!=typeof e[h])throw new a.Error(h+" function does not exist and is not defined in the context");f=e[h].apply(e,b)}return f}).then(function(a){d.push(a)})}},{type:a.expression.type.variable,regex:/^[a-zA-Z_][a-zA-Z0-9_]*/,next:a.expression.set.operations_extended.concat([a.expression.type.parameter.start]),compile:a.expression.fn.compile.push,validate:function(b,c){return a.indexOf(a.expression.reservedWords,b[0])<0},parse:function(b,c,d){return a.expression.resolveAsync.call(this,d[b.value],d).then(function(a){c.push(a)})}},{type:a.expression.type.key.period,regex:/^\.([a-zA-Z0-9_]+)/,next:a.expression.set.operations_extended.concat([a.expression.type.parameter.start]),compile:function(a,b,c){a.key=a.match[1],delete a.match,delete a.value,c.push(a)},parse:function(c,d,e,f){var g,h=this,i=c.key,j=d.pop();return b(this,c.params,e).then(function(b){if(null===j||void 0===j){if(h.options.strict_variables)throw new a.Error("Can't access a key "+i+" on an null or undefined object.");g=void 0}else{var c=function(a){return a.substr(0,1).toUpperCase()+a.substr(1)};g="object"==typeof j&&i in j?j[i]:void 0!==j["get"+c(i)]?j["get"+c(i)]:void 0!==j["is"+c(i)]?j["is"+c(i)]:void 0}return a.expression.resolveAsync.call(h,g,e,b,f,j)}).then(function(a){d.push(a)})}},{type:a.expression.type.key.brackets,regex:/^\[([^\]\:]*)\]/,next:a.expression.set.operations_extended.concat([a.expression.type.parameter.start]),compile:function(b,c,d){var e=b.match[1];delete b.value,delete b.match,b.stack=a.expression.compile({value:e}).stack,d.push(b)},parse:function(c,d,e,f){var g,h,i=this,j=null;return b(this,c.params,e).then(function(b){return j=b,a.expression.parseAsync.call(i,c.stack,e)}).then(function(b){if(null===(g=d.pop())||void 0===g){if(i.options.strict_variables)throw new a.Error("Can't access a key "+b+" on an null or undefined object.");return null}return h="object"==typeof g&&b in g?g[b]:null,a.expression.resolveAsync.call(i,h,g,j,f)}).then(function(a){d.push(a)})}},{type:a.expression.type._null,regex:/^(null|NULL|none|NONE)/,next:a.expression.set.operations,compile:function(a,b,c){delete a.match,a.value=null,c.push(a)},parse:a.expression.fn.parse.push_value},{type:a.expression.type.context,regex:/^_context/,next:a.expression.set.operations_extended.concat([a.expression.type.parameter.start]),compile:a.expression.fn.compile.push,parse:function(a,b,c){b.push(c)}},{type:a.expression.type.bool,regex:/^(true|TRUE|false|FALSE)/,next:a.expression.set.operations,compile:function(a,b,c){a.value="true"===a.match[0].toLowerCase(),delete a.match,c.push(a)},parse:a.expression.fn.parse.push_value}],a.expression.resolveAsync=function(b,c,d,e,f){if("function"!=typeof b)return a.Promise.resolve(b);var g=a.Promise.resolve(d);if(e&&e.type===a.expression.type.parameter.end){g=g.then(function(){return e.params&&a.expression.parseAsync.call(this,e.params,c,!0)}).then(function(a){return e.cleanup=!0,a})}return g.then(function(a){return b.apply(f||c,a||[])})},a.expression.resolve=function(b,c,d,e,f){return a.async.potentiallyAsync(this,!1,function(){return a.expression.resolveAsync.call(this,b,c,d,e,f)})},a.expression.handler={},a.expression.extendType=function(b){a.expression.type[b]="Twig.expression.type."+b},a.expression.extend=function(b){if(!b.type)throw new a.Error("Unable to extend logic definition. No type provided for "+b);a.expression.handler[b.type]=b};for(;a.expression.definitions.length>0;)a.expression.extend(a.expression.definitions.shift());return a.expression.tokenize=function(b){var c,d,e,f,g,h,i=[],j=0,k=null,l=[];for(h=function(){for(var b=arguments.length-2,d=new Array(b);b-- >0;)d[b]=arguments[b];if(a.log.trace("Twig.expression.tokenize","Matched a ",c," regular expression of ",d),k&&a.indexOf(k,c)<0)return l.push(c+" cannot follow a "+i[i.length-1].type+" at template:"+j+" near '"+d[0].substring(0,20)+"...'"),d[0];var e=a.expression.handler[c];return e.validate&&!e.validate(d,i)?d[0]:(l=[],i.push({type:c,value:d[0],match:d}),g=!0,k=f,j+=d[0].length,e.transform?e.transform(d,i):"")},a.log.debug("Twig.expression.tokenize","Tokenizing expression ",b);b.length>0;){b=b.trim();for(c in a.expression.handler){if(f=a.expression.handler[c].next,d=a.expression.handler[c].regex,a.log.trace("Checking type ",c," on ",b),g=!1,a.lib.isArray(d))for(e=d.length;e-- >0;)b=b.replace(d[e],h);else b=b.replace(d,h);if(g)break}if(!g)throw l.length>0?new a.Error(l.join(" OR ")):new a.Error("Unable to parse '"+b+"' at template position"+j)}return a.log.trace("Twig.expression.tokenize","Tokenized to ",i),i},a.expression.compile=function(b){var c=b.value,d=a.expression.tokenize(c),e=null,f=[],g=[],h=null;for(a.log.trace("Twig.expression.compile: ","Compiling ",c);d.length>0;)e=d.shift(),h=a.expression.handler[e.type],a.log.trace("Twig.expression.compile: ","Compiling ",e),h.compile&&h.compile(e,g,f),a.log.trace("Twig.expression.compile: ","Stack is",g),a.log.trace("Twig.expression.compile: ","Output is",f);for(;g.length>0;)f.push(g.pop());return a.log.trace("Twig.expression.compile: ","Final output is",f),b.stack=f,delete b.value,b},a.expression.parse=function(b,c,d,e){var f=this;a.lib.isArray(b)||(b=[b]);var g=[],h=[],i=a.expression.type.operator.binary;return a.async.potentiallyAsync(this,e,function(){return a.async.forEach(b,function(d,e){var j,k=null,l=null;if(!d.cleanup)return b.length>e+1&&(l=b[e+1]),k=a.expression.handler[d.type],k.parse&&(j=k.parse.call(f,d,g,c,l)),d.type===i&&c.loop&&h.push(d),j}).then(function(){for(var a=h.length,b=null;a-- >0;)b=h[a],b.params&&b.key&&delete b.key;if(d){var c=g.splice(0);g.push(c)}return g.pop()})})},a}},function(a,b){a.exports=function(a){"use strict";a.expression.operator={leftToRight:"leftToRight",rightToLeft:"rightToLeft"};var b=function(a,b){if(void 0===b||null===b)return null;if(void 0!==b.indexOf)return a===b||""!==a&&b.indexOf(a)>-1;var c;for(c in b)if(b.hasOwnProperty(c)&&b[c]===a)return!0;return!1}
;return a.expression.operator.lookup=function(b,c){switch(b){case"..":c.precidence=20,c.associativity=a.expression.operator.leftToRight;break;case",":c.precidence=18,c.associativity=a.expression.operator.leftToRight;break;case"?:":case"?":case":":c.precidence=16,c.associativity=a.expression.operator.rightToLeft;break;case"??":c.precidence=15,c.associativity=a.expression.operator.rightToLeft;break;case"or":c.precidence=14,c.associativity=a.expression.operator.leftToRight;break;case"and":c.precidence=13,c.associativity=a.expression.operator.leftToRight;break;case"b-or":c.precidence=12,c.associativity=a.expression.operator.leftToRight;break;case"b-xor":c.precidence=11,c.associativity=a.expression.operator.leftToRight;break;case"b-and":c.precidence=10,c.associativity=a.expression.operator.leftToRight;break;case"==":case"!=":c.precidence=9,c.associativity=a.expression.operator.leftToRight;break;case"<":case"<=":case">":case">=":case"not in":case"in":c.precidence=8,c.associativity=a.expression.operator.leftToRight;break;case"~":case"+":case"-":c.precidence=6,c.associativity=a.expression.operator.leftToRight;break;case"//":case"**":case"*":case"/":case"%":c.precidence=5,c.associativity=a.expression.operator.leftToRight;break;case"not":c.precidence=3,c.associativity=a.expression.operator.rightToLeft;break;case"matches":case"starts with":case"ends with":c.precidence=8,c.associativity=a.expression.operator.leftToRight;break;default:throw new a.Error("Failed to lookup operator: "+b+" is an unknown operator.")}return c.operator=b,c},a.expression.operator.parse=function(c,d){a.log.trace("Twig.expression.operator.parse: ","Handling ",c);var e,f,g;if("?"===c&&(g=d.pop()),f=d.pop(),"not"!==c&&(e=d.pop()),"in"!==c&&"not in"!==c&&(e&&Array.isArray(e)&&(e=e.length),f&&Array.isArray(f)&&(f=f.length)),"matches"===c&&f&&"string"==typeof f){var h=f.match(/^\/(.*)\/([gims]?)$/),i=h[1],j=h[2];f=new RegExp(i,j)}switch(c){case":":break;case"??":void 0===e&&(e=f,f=g,g=void 0),void 0!==e&&null!==e?d.push(e):d.push(f);break;case"?:":a.lib.boolval(e)?d.push(e):d.push(f);break;case"?":void 0===e&&(e=f,f=g,g=void 0),a.lib.boolval(e)?d.push(f):d.push(g);break;case"+":f=parseFloat(f),e=parseFloat(e),d.push(e+f);break;case"-":f=parseFloat(f),e=parseFloat(e),d.push(e-f);break;case"*":f=parseFloat(f),e=parseFloat(e),d.push(e*f);break;case"/":f=parseFloat(f),e=parseFloat(e),d.push(e/f);break;case"//":f=parseFloat(f),e=parseFloat(e),d.push(Math.floor(e/f));break;case"%":f=parseFloat(f),e=parseFloat(e),d.push(e%f);break;case"~":d.push((null!=e?e.toString():"")+(null!=f?f.toString():""));break;case"not":case"!":d.push(!a.lib.boolval(f));break;case"<":d.push(e<f);break;case"<=":d.push(e<=f);break;case">":d.push(e>f);break;case">=":d.push(e>=f);break;case"===":d.push(e===f);break;case"==":d.push(e==f);break;case"!==":d.push(e!==f);break;case"!=":d.push(e!=f);break;case"or":d.push(a.lib.boolval(e)||a.lib.boolval(f));break;case"b-or":d.push(e|f);break;case"b-xor":d.push(e^f);break;case"and":d.push(a.lib.boolval(e)&&a.lib.boolval(f));break;case"b-and":d.push(e&f);break;case"**":d.push(Math.pow(e,f));break;case"not in":d.push(!b(e,f));break;case"in":d.push(b(e,f));break;case"matches":d.push(f.test(e));break;case"starts with":d.push(0===e.indexOf(f));break;case"ends with":d.push(-1!==e.indexOf(f,e.length-f.length));break;case"..":d.push(a.functions.range(e,f));break;default:throw new a.Error("Failed to parse operator: "+c+" is an unknown operator.")}},a}},function(a,b){a.exports=function(a){function b(a,b){var c=Object.prototype.toString.call(b).slice(8,-1);return void 0!==b&&null!==b&&c===a}return a.filters={upper:function(a){return"string"!=typeof a?a:a.toUpperCase()},lower:function(a){return"string"!=typeof a?a:a.toLowerCase()},capitalize:function(a){return"string"!=typeof a?a:a.substr(0,1).toUpperCase()+a.toLowerCase().substr(1)},title:function(a){return"string"!=typeof a?a:a.toLowerCase().replace(/(^|\s)([a-z])/g,function(a,b,c){return b+c.toUpperCase()})},length:function(b){return a.lib.is("Array",b)||"string"==typeof b?b.length:a.lib.is("Object",b)?void 0===b._keys?Object.keys(b).length:b._keys.length:0},reverse:function(a){if(b("Array",a))return a.reverse();if(b("String",a))return a.split("").reverse().join("");if(b("Object",a)){var c=a._keys||Object.keys(a).reverse();return a._keys=c,a}},sort:function(a){if(b("Array",a))return a.sort();if(b("Object",a)){delete a._keys;var c=Object.keys(a),d=c.sort(function(b,c){var d;return a[b]>a[c]==!(a[b]<=a[c])?a[b]>a[c]?1:a[b]<a[c]?-1:0:isNaN(d=parseFloat(a[b]))||isNaN(b1=parseFloat(a[c]))?"string"==typeof a[b]?a[b]>a[c].toString()?1:a[b]<a[c].toString()?-1:0:"string"==typeof a[c]?a[b].toString()>a[c]?1:a[b].toString()<a[c]?-1:0:null:d>b1?1:d<b1?-1:0});return a._keys=d,a}},keys:function(b){if(void 0!==b&&null!==b){var c=b._keys||Object.keys(b),d=[];return a.forEach(c,function(a){"_keys"!==a&&b.hasOwnProperty(a)&&d.push(a)}),d}},url_encode:function(b){if(void 0!==b&&null!==b){if(a.lib.is("Object",b)){var c=function(b,d){var e=[],f=b._keys||Object.keys(b);return a.forEach(f,function(f){if(Object.prototype.hasOwnProperty.call(b,f)){var g=d?d+"["+f+"]":f,h=b[f];e.push(a.lib.is("Object",h)||a.lib.isArray(h)?c(h,g):encodeURIComponent(g)+"="+encodeURIComponent(h))}}),e.join("&amp;")};return c(b)}var d=encodeURIComponent(b);return d=d.replace("'","%27")}},join:function(c,d){if(void 0!==c&&null!==c){var e="",f=[],g=null;return d&&d[0]&&(e=d[0]),b("Array",c)?f=c:(g=c._keys||Object.keys(c),a.forEach(g,function(a){"_keys"!==a&&c.hasOwnProperty(a)&&f.push(c[a])})),f.join(e)}},default:function(b,c){if(void 0!==c&&c.length>1)throw new a.Error("default filter expects one argument");return void 0===b||null===b||""===b?void 0===c?"":c[0]:b},json_encode:function(c){if(void 0===c||null===c)return"null";if("object"==typeof c&&b("Array",c))return e=[],a.forEach(c,function(b){e.push(a.filters.json_encode(b))}),"["+e.join(",")+"]";if("object"==typeof c&&b("Date",c))return'"'+c.toISOString()+'"';if("object"==typeof c){var d=c._keys||Object.keys(c),e=[];return a.forEach(d,function(b){e.push(JSON.stringify(b)+":"+a.filters.json_encode(c[b]))}),"{"+e.join(",")+"}"}return JSON.stringify(c)},merge:function(c,d){var e=[],f=0,g=[];if(b("Array",c)?a.forEach(d,function(a){b("Array",a)||(e={})}):e={},b("Array",e)||(e._keys=[]),b("Array",c)?a.forEach(c,function(a){e._keys&&e._keys.push(f),e[f]=a,f++}):(g=c._keys||Object.keys(c),a.forEach(g,function(a){e[a]=c[a],e._keys.push(a);var b=parseInt(a,10);!isNaN(b)&&b>=f&&(f=b+1)})),a.forEach(d,function(c){b("Array",c)?a.forEach(c,function(a){e._keys&&e._keys.push(f),e[f]=a,f++}):(g=c._keys||Object.keys(c),a.forEach(g,function(a){e[a]||e._keys.push(a),e[a]=c[a];var b=parseInt(a,10);!isNaN(b)&&b>=f&&(f=b+1)}))}),0===d.length)throw new a.Error("Filter merge expects at least one parameter");return e},date:function(b,c){var d=a.functions.date(b),e=c&&c.length?c[0]:"F j, Y H:i";return a.lib.date(e.replace(/\\\\/g,"\\"),d)},date_modify:function(b,c){if(void 0!==b&&null!==b){if(void 0===c||1!==c.length)throw new a.Error("date_modify filter expects 1 argument");var d,e=c[0];return a.lib.is("Date",b)&&(d=a.lib.strtotime(e,b.getTime()/1e3)),a.lib.is("String",b)&&(d=a.lib.strtotime(e,a.lib.strtotime(b))),a.lib.is("Number",b)&&(d=a.lib.strtotime(e,b)),new Date(1e3*d)}},replace:function(b,c){if(void 0!==b&&null!==b){var d,e=c[0];for(d in e)e.hasOwnProperty(d)&&"_keys"!==d&&(b=a.lib.replaceAll(b,d,e[d]));return b}},format:function(b,c){if(void 0!==b&&null!==b)return a.lib.vsprintf(b,c)},striptags:function(b,c){if(void 0!==b&&null!==b)return a.lib.strip_tags(b,c)},escape:function(b,c){if(void 0!==b&&null!==b){var d="html";if(c&&c.length&&!0!==c[0]&&(d=c[0]),"html"==d){var e=b.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return a.Markup(e,"html")}if("js"==d){for(var e=b.toString(),f="",g=0;g<e.length;g++)if(e[g].match(/^[a-zA-Z0-9,\._]$/))f+=e[g];else{var h=e.charCodeAt(g);f+=h<128?"\\x"+h.toString(16).toUpperCase():a.lib.sprintf("\\u%04s",h.toString(16).toUpperCase())}return a.Markup(f,"js")}if("css"==d){for(var e=b.toString(),f="",g=0;g<e.length;g++)if(e[g].match(/^[a-zA-Z0-9]$/))f+=e[g];else{var h=e.charCodeAt(g);f+="\\"+h.toString(16).toUpperCase()+" "}return a.Markup(f,"css")}if("url"==d){var f=a.filters.url_encode(b);return a.Markup(f,"url")}if("html_attr"==d){for(var e=b.toString(),f="",g=0;g<e.length;g++)if(e[g].match(/^[a-zA-Z0-9,\.\-_]$/))f+=e[g];else if(e[g].match(/^[&<>"]$/))f+=e[g].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");else{var h=e.charCodeAt(g);f+=h<=31&&9!=h&&10!=h&&13!=h?"&#xFFFD;":h<128?a.lib.sprintf("&#x%02s;",h.toString(16).toUpperCase()):a.lib.sprintf("&#x%04s;",h.toString(16).toUpperCase())}return a.Markup(f,"html_attr")}throw new a.Error("escape strategy unsupported")}},e:function(b,c){return a.filters.escape(b,c)},nl2br:function(b){if(void 0!==b&&null!==b){var c="<br />BACKSLASH_n_replace";return b=a.filters.escape(b).replace(/\r\n/g,c).replace(/\r/g,c).replace(/\n/g,c),b=a.lib.replaceAll(b,"BACKSLASH_n_replace","\n"),a.Markup(b)}},number_format:function(a,b){var c=a,d=b&&b[0]?b[0]:void 0,e=b&&void 0!==b[1]?b[1]:".",f=b&&void 0!==b[2]?b[2]:",";c=(c+"").replace(/[^0-9+\-Ee.]/g,"");var g=isFinite(+c)?+c:0,h=isFinite(+d)?Math.abs(d):0,i="";return i=(h?function(a,b){var c=Math.pow(10,b);return""+Math.round(a*c)/c}(g,h):""+Math.round(g)).split("."),i[0].length>3&&(i[0]=i[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,f)),(i[1]||"").length<h&&(i[1]=i[1]||"",i[1]+=new Array(h-i[1].length+1).join("0")),i.join(e)},trim:function(a,b){if(void 0!==a&&null!==a){var c,d=""+a;c=b&&b[0]?""+b[0]:" \n\r\t\f\v            ​\u2028\u2029　";for(var e=0;e<d.length;e++)if(-1===c.indexOf(d.charAt(e))){d=d.substring(e);break}for(e=d.length-1;e>=0;e--)if(-1===c.indexOf(d.charAt(e))){d=d.substring(0,e+1);break}return-1===c.indexOf(d.charAt(0))?d:""}},truncate:function(a,b){var c=30,d=!1,e="...";if(a+="",b&&(b[0]&&(c=b[0]),b[1]&&(d=b[1]),b[2]&&(e=b[2])),a.length>c){if(d&&-1===(c=a.indexOf(" ",c)))return a;a=a.substr(0,c)+e}return a},slice:function(b,c){if(void 0!==b&&null!==b){if(void 0===c||c.length<1)throw new a.Error("slice filter expects at least 1 argument");var d=c[0]||0,e=c.length>1?c[1]:b.length,f=d>=0?d:Math.max(b.length+d,0);if(a.lib.is("Array",b)){for(var g=[],h=f;h<f+e&&h<b.length;h++)g.push(b[h]);return g}if(a.lib.is("String",b))return b.substr(f,e);throw new a.Error("slice filter expects value to be an array or string")}},abs:function(a){if(void 0!==a&&null!==a)return Math.abs(a)},first:function(a){if(b("Array",a))return a[0];if(b("Object",a)){if("_keys"in a)return a[a._keys[0]]}else if("string"==typeof a)return a.substr(0,1)},split:function(b,c){if(void 0!==b&&null!==b){if(void 0===c||c.length<1||c.length>2)throw new a.Error("split filter expects 1 or 2 argument");if(a.lib.is("String",b)){var d=c[0],e=c[1],f=b.split(d);if(void 0===e)return f;if(e<0)return b.split(d,f.length+e);var g=[];if(""==d)for(;f.length>0;){for(var h="",i=0;i<e&&f.length>0;i++)h+=f.shift();g.push(h)}else{for(var i=0;i<e-1&&f.length>0;i++)g.push(f.shift());f.length>0&&g.push(f.join(d))}return g}throw new a.Error("split filter expects value to be a string")}},last:function(b){if(a.lib.is("Object",b)){var c;return c=void 0===b._keys?Object.keys(b):b._keys,b[c[c.length-1]]}return b[b.length-1]},raw:function(b){return a.Markup(b)},batch:function(b,c){var d,e,f,g=c.shift(),h=c.shift();if(!a.lib.is("Array",b))throw new a.Error("batch filter expects items to be an array");if(!a.lib.is("Number",g))throw new a.Error("batch filter expects size to be a number");if(g=Math.ceil(g),d=a.lib.chunkArray(b,g),h&&b.length%g!=0){for(e=d.pop(),f=g-e.length;f--;)e.push(h);d.push(e)}return d},round:function(b,c){c=c||[];var d=c.length>0?c[0]:0,e=c.length>1?c[1]:"common";if(b=parseFloat(b),d&&!a.lib.is("Number",d))throw new a.Error("round filter expects precision to be a number");if("common"===e)return a.lib.round(b,d);if(!a.lib.is("Function",Math[e]))throw new a.Error("round filter expects method to be 'floor', 'ceil', or 'common'");return Math[e](b*Math.pow(10,d))/Math.pow(10,d)}},a.filter=function(b,c,d){if(!a.filters[b])throw"Unable to find filter "+b;return a.filters[b].call(this,c,d)},a.filter.extend=function(b,c){a.filters[b]=c},a}},function(a,b,c){a.exports=function(b){return b.functions={range:function(a,b,c){var d,e,f=[],g=c||1,h=!1;if(isNaN(a)||isNaN(b)?isNaN(a)&&isNaN(b)?(h=!0,d=a.charCodeAt(0),e=b.charCodeAt(0)):(d=isNaN(a)?0:a,e=isNaN(b)?0:b):(d=parseInt(a,10),e=parseInt(b,10)),d>e)for(;d>=e;)f.push(h?String.fromCharCode(d):d),d-=g;else for(;d<=e;)f.push(h?String.fromCharCode(d):d),d+=g;return f},cycle:function(a,b){return a[b%a.length]},dump:function(){var a=arguments.length;for(args=new Array(a);a-- >0;)args[a]=arguments[a];var c=0,d="",e=function(a){for(var b="";a>0;)a--,b+="  ";return b},f=function(a){d+=e(c),"object"==typeof a?g(a):"function"==typeof a?d+="function()\n":"string"==typeof a?d+="string("+a.length+') "'+a+'"\n':"number"==typeof a?d+="number("+a+")\n":"boolean"==typeof a&&(d+="bool("+a+")\n")},g=function(a){var b;if(null===a)d+="NULL\n";else if(void 0===a)d+="undefined\n";else if("object"==typeof a){d+=e(c)+typeof a,c++,d+="("+function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c}(a)+") {\n";for(b in a)d+=e(c)+"["+b+"]=> \n",f(a[b]);c--,d+=e(c)+"}\n"}else f(a)};return 0==args.length&&args.push(this.context),b.forEach(args,function(a){g(a)}),d},date:function(a,c){var d;if(void 0===a||null===a||""===a)d=new Date;else if(b.lib.is("Date",a))d=a;else if(b.lib.is("String",a))d=a.match(/^[0-9]+$/)?new Date(1e3*a):new Date(1e3*b.lib.strtotime(a));else{if(!b.lib.is("Number",a))throw new b.Error("Unable to parse date "+a);d=new Date(1e3*a)}return d},block:function(a){return this.originalBlockTokens[a]?b.logic.parse.call(this,this.originalBlockTokens[a],this.context).output:this.blocks[a]},parent:function(){return b.placeholders.parent},attribute:function(a,c,d){return b.lib.is("Object",a)&&a.hasOwnProperty(c)?"function"==typeof a[c]?a[c].apply(void 0,d):a[c]:a[c]||void 0},max:function(a){return b.lib.is("Object",a)?(delete a._keys,b.lib.max(a)):b.lib.max.apply(null,arguments)},min:function(a){return b.lib.is("Object",a)?(delete a._keys,b.lib.min(a)):b.lib.min.apply(null,arguments)},template_from_string:function(a){return void 0===a&&(a=""),b.Templates.parsers.twig({options:this.options,data:a})},random:function(a){function c(a){var b=Math.floor(Math.random()*d),c=Math.min.call(null,0,a),e=Math.max.call(null,0,a);return c+Math.floor((e-c+1)*b/d)}var d=2147483648;if(b.lib.is("Number",a))return c(a);if(b.lib.is("String",a))return a.charAt(c(a.length-1));if(b.lib.is("Array",a))return a[c(a.length-1)];if(b.lib.is("Object",a)){var e=Object.keys(a);return a[e[c(e.length-1)]]}return c(d-1)},source:function(c,d){var e,f,g=!1,h=void 0!==a.exports&&"undefined"==typeof window,i=c;f=h?"fs":"ajax";var j={id:c,path:i,method:f,parser:"source",async:!1,fetchTemplateSource:!0};void 0===d&&(d=!1);try{e=b.Templates.loadRemote(c,j),void 0===e||null===e?e="":g=!0}catch(a){b.log.debug("Twig.functions.source: ","Problem loading template  ",a)}return g||d?e:'Template "{name}" is not defined.'.replace("{name}",c)}},b._function=function(a,c,d){if(!b.functions[a])throw"Unable to find function "+a;return b.functions[a](c,d)},b._function.extend=function(a,c){b.functions[a]=c},b}},function(a,b,c){a.exports=function(a){a.lib={},a.lib.sprintf=c(0),a.lib.vsprintf=c(11),a.lib.round=c(12),a.lib.max=c(13),a.lib.min=c(14),a.lib.strip_tags=c(15),a.lib.strtotime=c(17),a.lib.date=c(18),a.lib.boolval=c(19);var b=Object.prototype.toString;return a.lib.is=function(a,c){return void 0!==c&&null!==c&&("Array"===a&&Array.isArray?Array.isArray(c):b.call(c).slice(8,-1)===a)},a.lib.isArray=Array.isArray||function(a){return"Array"===b.call(a).slice(8,-1)},a.lib.copy=function(a){var b,c={};for(b in a)c[b]=a[b];return c},a.lib.extend=function(a,b){var c,d=Object.keys(b||{});for(c=d.length;c--;)a[d[c]]=b[d[c]];return a},a.lib.replaceAll=function(a,b,c){return a.split(b).join(c)},a.lib.chunkArray=function(b,c){var d=[],e=0,f=b.length;if(c<1||!a.lib.is("Array",b))return[];for(;e<f;)d.push(b.slice(e,e+=c));return d},a}},function(a,b,c){"use strict";a.exports=function(a,b){return c(0).apply(this,[a].concat(b))}},function(a,b,c){"use strict";a.exports=function(a,b,c){var d,e,f,g;if(b|=0,d=Math.pow(10,b),a*=d,g=a>0|-(a<0),f=a%1==.5*g,e=Math.floor(a),f)switch(c){case"PHP_ROUND_HALF_DOWN":a=e+(g<0);break;case"PHP_ROUND_HALF_EVEN":a=e+e%2*g;break;case"PHP_ROUND_HALF_ODD":a=e+!(e%2);break;default:a=e+(g>0)}return(f?a:Math.round(a))/d}},function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};a.exports=function(){var a,b,c=0,e=0,f=arguments,g=f.length,h=function(a){if("[object Array]"===Object.prototype.toString.call(a))return a;var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b};if(0===g)throw new Error("At least one value should be passed to max()");if(1===g){if("object"!==d(f[0]))throw new Error("Wrong parameter count for max()");if(a=h(f[0]),0===a.length)throw new Error("Array must contain at least one element for max()")}else a=f;for(b=a[0],c=1,e=a.length;c<e;++c)1===function a(b,c){var e=0,f=0,g=0,i=0,j=0;if(b===c)return 0;if("object"===(void 0===b?"undefined":d(b))){if("object"===(void 0===c?"undefined":d(c))){if(b=h(b),c=h(c),j=b.length,(i=c.length)>j)return 1;if(i<j)return-1;for(e=0,f=j;e<f;++e){if(1===(g=a(b[e],c[e])))return 1;if(-1===g)return-1}return 0}return-1}return"object"===(void 0===c?"undefined":d(c))?1:isNaN(c)&&!isNaN(b)?0===b?0:b<0?1:-1:isNaN(b)&&!isNaN(c)?0===c?0:c>0?1:-1:c===b?0:c>b?1:-1}(b,a[c])&&(b=a[c]);return b}},function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};a.exports=function(){var a,b,c=0,e=0,f=arguments,g=f.length,h=function(a){if("[object Array]"===Object.prototype.toString.call(a))return a;var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b};if(0===g)throw new Error("At least one value should be passed to min()");if(1===g){if("object"!==d(f[0]))throw new Error("Wrong parameter count for min()");if(a=h(f[0]),0===a.length)throw new Error("Array must contain at least one element for min()")}else a=f;for(b=a[0],c=1,e=a.length;c<e;++c)-1===function a(b,c){var e=0,f=0,g=0,i=0,j=0;if(b===c)return 0;if("object"===(void 0===b?"undefined":d(b))){if("object"===(void 0===c?"undefined":d(c))){if(b=h(b),c=h(c),j=b.length,(i=c.length)>j)return 1;if(i<j)return-1;for(e=0,f=j;e<f;++e){if(1===(g=a(b[e],c[e])))return 1;if(-1===g)return-1}return 0}return-1}return"object"===(void 0===c?"undefined":d(c))?1:isNaN(c)&&!isNaN(b)?0===b?0:b<0?1:-1:isNaN(b)&&!isNaN(c)?0===c?0:c>0?1:-1:c===b?0:c>b?1:-1}(b,a[c])&&(b=a[c]);return b}},function(a,b,c){"use strict";a.exports=function(a,b){var d=c(16);b=(((b||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");for(var e=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,f=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,g=d(a);;){var h=g;if(g=h.replace(f,"").replace(e,function(a,c){return b.indexOf("<"+c.toLowerCase()+">")>-1?a:""}),h===g)return g}}},function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};a.exports=function(a){switch(void 0===a?"undefined":d(a)){case"boolean":return a?"1":"";case"string":return a;case"number":return isNaN(a)?"NAN":isFinite(a)?a+"":(a<0?"-":"")+"INF";case"undefined":return"";case"object":return Array.isArray(a)?"Array":null!==a?"Object":"";case"function":default:throw new Error("Unsupported value type")}}},function(a,b,c){"use strict";a.exports=function(a,b){function c(a,b,c){var d,e=i[b];void 0!==e&&(d=e-h.getDay(),0===d?d=7*c:d>0&&"last"===a?d-=7:d<0&&"next"===a&&(d+=7),h.setDate(h.getDate()+d))}var d,e,f,g,h,i,j,k,l,m,n;if(!a)return!1;a=a.replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g," ").replace(/[\t\r\n]/g,"").toLowerCase();var o=new RegExp(["^(\\d{1,4})","([\\-\\.\\/:])","(\\d{1,2})","([\\-\\.\\/:])","(\\d{1,4})","(?:\\s(\\d{1,2}):(\\d{2})?:?(\\d{2})?)?","(?:\\s([A-Z]+)?)?$"].join(""));if((e=a.match(o))&&e[2]===e[4])if(e[1]>1901)switch(e[2]){case"-":return!(e[3]>12||e[5]>31)&&new Date(e[1],parseInt(e[3],10)-1,e[5],e[6]||0,e[7]||0,e[8]||0,e[9]||0)/1e3;case".":return!1;case"/":return!(e[3]>12||e[5]>31)&&new Date(e[1],parseInt(e[3],10)-1,e[5],e[6]||0,e[7]||0,e[8]||0,e[9]||0)/1e3}else if(e[5]>1901)switch(e[2]){case"-":case".":return!(e[3]>12||e[1]>31)&&new Date(e[5],parseInt(e[3],10)-1,e[1],e[6]||0,e[7]||0,e[8]||0,e[9]||0)/1e3;case"/":return!(e[1]>12||e[3]>31)&&new Date(e[5],parseInt(e[1],10)-1,e[3],e[6]||0,e[7]||0,e[8]||0,e[9]||0)/1e3}else switch(e[2]){case"-":return!(e[3]>12||e[5]>31||e[1]<70&&e[1]>38)&&(g=e[1]>=0&&e[1]<=38?+e[1]+2e3:e[1],new Date(g,parseInt(e[3],10)-1,e[5],e[6]||0,e[7]||0,e[8]||0,e[9]||0)/1e3);case".":return e[5]>=70?!(e[3]>12||e[1]>31)&&new Date(e[5],parseInt(e[3],10)-1,e[1],e[6]||0,e[7]||0,e[8]||0,e[9]||0)/1e3:e[5]<60&&!e[6]&&(!(e[1]>23||e[3]>59)&&(f=new Date,new Date(f.getFullYear(),f.getMonth(),f.getDate(),e[1]||0,e[3]||0,e[5]||0,e[9]||0)/1e3));case"/":return!(e[1]>12||e[3]>31||e[5]<70&&e[5]>38)&&(g=e[5]>=0&&e[5]<=38?+e[5]+2e3:e[5],new Date(g,parseInt(e[1],10)-1,e[3],e[6]||0,e[7]||0,e[8]||0,e[9]||0)/1e3);case":":return!(e[1]>23||e[3]>59||e[5]>59)&&(f=new Date,new Date(f.getFullYear(),f.getMonth(),f.getDate(),e[1]||0,e[3]||0,e[5]||0)/1e3)}if("now"===a)return null===b||isNaN(b)?(new Date).getTime()/1e3|0:0|b;if(!isNaN(d=Date.parse(a)))return d/1e3|0;if(o=new RegExp(["^([0-9]{4}-[0-9]{2}-[0-9]{2})","[ t]","([0-9]{2}:[0-9]{2}:[0-9]{2}(\\.[0-9]+)?)","([\\+-][0-9]{2}(:[0-9]{2})?|z)"].join("")),(e=a.match(o))&&("z"===e[4]?e[4]="Z":e[4].match(/^([+-][0-9]{2})$/)&&(e[4]=e[4]+":00"),!isNaN(d=Date.parse(e[1]+"T"+e[2]+e[4]))))return d/1e3|0;if(h=b?new Date(1e3*b):new Date,i={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},j={yea:"FullYear",mon:"Month",day:"Date",hou:"Hours",min:"Minutes",sec:"Seconds"},l="(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?)",m="([+-]?\\d+\\s"+l+"|(last|next)\\s"+l+")(\\sago)?",!(e=a.match(new RegExp(m,"gi"))))return!1;for(n=0,k=e.length;n<k;n++)if(!function(a){var b=a.split(" "),d=b[0],e=b[1].substring(0,3),f=/\d+/.test(d),g="ago"===b[2],i=("last"===d?-1:1)*(g?-1:1);if(f&&(i*=parseInt(d,10)),j.hasOwnProperty(e)&&!b[1].match(/^mon(day|\.)?$/i))return h["set"+j[e]](h["get"+j[e]]()+i);if("wee"===e)return h.setDate(h.getDate()+7*i);if("next"===d||"last"===d)c(d,e,i);else if(!f)return!1;return!0}(e[n]))return!1;return h.getTime()/1e3}},function(a,b,c){"use strict";a.exports=function(a,b){var c,d,e=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],f=/\\?(.?)/gi,g=function(a,b){return d[a]?d[a]():b},h=function(a,b){for(a=String(a);a.length<b;)a="0"+a;return a};d={d:function(){return h(d.j(),2)},D:function(){return d.l().slice(0,3)},j:function(){return c.getDate()},l:function(){return e[d.w()]+"day"},N:function(){return d.w()||7},S:function(){var a=d.j(),b=a%10;return b<=3&&1===parseInt(a%100/10,10)&&(b=0),["st","nd","rd"][b-1]||"th"},w:function(){return c.getDay()},z:function(){var a=new Date(d.Y(),d.n()-1,d.j()),b=new Date(d.Y(),0,1);return Math.round((a-b)/864e5)},W:function(){var a=new Date(d.Y(),d.n()-1,d.j()-d.N()+3),b=new Date(a.getFullYear(),0,4);return h(1+Math.round((a-b)/864e5/7),2)},F:function(){return e[6+d.n()]},m:function(){return h(d.n(),2)},M:function(){return d.F().slice(0,3)},n:function(){return c.getMonth()+1},t:function(){return new Date(d.Y(),d.n(),0).getDate()},L:function(){var a=d.Y();return a%4==0&a%100!=0|a%400==0},o:function(){var a=d.n(),b=d.W();return d.Y()+(12===a&&b<9?1:1===a&&b>9?-1:0)},Y:function(){return c.getFullYear()},y:function(){return d.Y().toString().slice(-2)},a:function(){return c.getHours()>11?"pm":"am"},A:function(){return d.a().toUpperCase()},B:function(){var a=3600*c.getUTCHours(),b=60*c.getUTCMinutes(),d=c.getUTCSeconds();return h(Math.floor((a+b+d+3600)/86.4)%1e3,3)},g:function(){return d.G()%12||12},G:function(){return c.getHours()},h:function(){return h(d.g(),2)},H:function(){return h(d.G(),2)},i:function(){return h(c.getMinutes(),2)},s:function(){return h(c.getSeconds(),2)},u:function(){return h(1e3*c.getMilliseconds(),6)},e:function(){throw new Error("Not supported (see source code of date() for timezone on how to add support)")},I:function(){return new Date(d.Y(),0)-Date.UTC(d.Y(),0)!=new Date(d.Y(),6)-Date.UTC(d.Y(),6)?1:0},O:function(){var a=c.getTimezoneOffset(),b=Math.abs(a);return(a>0?"-":"+")+h(100*Math.floor(b/60)+b%60,4)},P:function(){var a=d.O();return a.substr(0,3)+":"+a.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-c.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(f,g)},r:function(){return"D, d M Y H:i:s O".replace(f,g)},U:function(){return c/1e3|0}};return function(a,b){return c=void 0===b?new Date:b instanceof Date?new Date(b):new Date(1e3*b),a.replace(f,g)}(a,b)}},function(a,b,c){"use strict";a.exports=function(a){return!1!==a&&(0!==a&&0!==a&&(""!==a&&"0"!==a&&((!Array.isArray(a)||0!==a.length)&&(null!==a&&void 0!==a))))}},function(a,b){a.exports=function(a){"use strict";a.Templates.registerLoader("ajax",function(b,c,d,e){var f,g,h=c.precompiled,i=this.parsers[c.parser]||this.parser.twig;if("undefined"==typeof XMLHttpRequest)throw new a.Error('Unsupported platform: Unable to do ajax requests because there is no "XMLHTTPRequest" implementation');return g=new XMLHttpRequest,g.onreadystatechange=function(){var j=null;4===g.readyState&&(200===g.status||window.cordova&&0==g.status?(a.log.debug("Got template ",g.responseText),j=!0===h?JSON.parse(g.responseText):g.responseText,c.url=b,c.data=j,f=i.call(this,c),"function"==typeof d&&d(f)):"function"==typeof e&&e(g))},g.open("GET",b,!!c.async),g.send(),!!c.async||f})}},function(a,b,c){a.exports=function(a){"use strict";var b,d;try{b=c(22),d=c(1)}catch(a){}a.Templates.registerLoader("fs",function(c,e,f,g){var h,i=null,j=e.precompiled,k=this.parsers[e.parser]||this.parser.twig;if(!b||!d)throw new a.Error('Unsupported platform: Unable to load from file because there is no "fs" or "path" implementation');var l=function(a,b){if(a)return void("function"==typeof g&&g(a));!0===j&&(b=JSON.parse(b)),e.data=b,e.path=e.path||c,h=k.call(this,e),"function"==typeof f&&f(h)};if(e.path=e.path||c,e.async)return b.stat(e.path,function(c,d){if(c||!d.isFile())return void("function"==typeof g&&g(new a.Error("Unable to find template file "+e.path)));b.readFile(e.path,"utf8",l)}),!0;try{if(!b.statSync(e.path).isFile())throw new a.Error("Unable to find template file "+e.path)}catch(b){throw new a.Error("Unable to find template file "+e.path)}return i=b.readFileSync(e.path,"utf8"),l(void 0,i),h})}},function(b,c){b.exports=a("fs")},function(a,b){a.exports=function(a){"use strict";for(a.logic={},a.logic.type={if_:"Twig.logic.type.if",endif:"Twig.logic.type.endif",for_:"Twig.logic.type.for",endfor:"Twig.logic.type.endfor",else_:"Twig.logic.type.else",elseif:"Twig.logic.type.elseif",set:"Twig.logic.type.set",setcapture:"Twig.logic.type.setcapture",endset:"Twig.logic.type.endset",filter:"Twig.logic.type.filter",endfilter:"Twig.logic.type.endfilter",shortblock:"Twig.logic.type.shortblock",block:"Twig.logic.type.block",endblock:"Twig.logic.type.endblock",extends_:"Twig.logic.type.extends",use:"Twig.logic.type.use",include:"Twig.logic.type.include",spaceless:"Twig.logic.type.spaceless",endspaceless:"Twig.logic.type.endspaceless",macro:"Twig.logic.type.macro",endmacro:"Twig.logic.type.endmacro",import_:"Twig.logic.type.import",from:"Twig.logic.type.from",embed:"Twig.logic.type.embed",endembed:"Twig.logic.type.endembed",with:"Twig.logic.type.with",endwith:"Twig.logic.type.endwith",verbatim:"Twig.logic.type.verbatim",endverbatim:"Twig.logic.type.endverbatim"},a.logic.definitions=[{type:a.logic.type.if_,regex:/^if\s?([\s\S]+)$/,next:[a.logic.type.else_,a.logic.type.elseif,a.logic.type.endif],open:!0,compile:function(b){var c=b.match[1];return b.stack=a.expression.compile.call(this,{type:a.expression.type.expression,value:c}).stack,delete b.match,b},parse:function(b,c,d){var e=this;return a.expression.parseAsync.call(this,b.stack,c).then(function(f){return d=!0,a.lib.boolval(f)?(d=!1,a.parseAsync.call(e,b.output,c)):""}).then(function(a){return{chain:d,output:a}})}},{type:a.logic.type.elseif,regex:/^elseif\s?([^\s].*)$/,next:[a.logic.type.else_,a.logic.type.elseif,a.logic.type.endif],open:!1,compile:function(b){var c=b.match[1];return b.stack=a.expression.compile.call(this,{type:a.expression.type.expression,value:c}).stack,delete b.match,b},parse:function(b,c,d){var e=this;return a.expression.parseAsync.call(this,b.stack,c).then(function(f){return d&&a.lib.boolval(f)?(d=!1,a.parseAsync.call(e,b.output,c)):""}).then(function(a){return{chain:d,output:a}})}},{type:a.logic.type.else_,regex:/^else$/,next:[a.logic.type.endif,a.logic.type.endfor],open:!1,parse:function(b,c,d){var e=a.Promise.resolve("");return d&&(e=a.parseAsync.call(this,b.output,c)),e.then(function(a){return{chain:d,output:a}})}},{type:a.logic.type.endif,regex:/^endif$/,next:[],open:!1},{type:a.logic.type.for_,regex:/^for\s+([a-zA-Z0-9_,\s]+)\s+in\s+([\S\s]+?)(?:\s+if\s+([^\s].*))?$/,next:[a.logic.type.else_,a.logic.type.endfor],open:!0,compile:function(b){var c=b.match[1],d=b.match[2],e=b.match[3],f=null;if(b.key_var=null,b.value_var=null,c.indexOf(",")>=0){if(f=c.split(","),2!==f.length)throw new a.Error("Invalid expression in for loop: "+c);b.key_var=f[0].trim(),b.value_var=f[1].trim()}else b.value_var=c.trim();return b.expression=a.expression.compile.call(this,{type:a.expression.type.expression,value:d}).stack,e&&(b.conditional=a.expression.compile.call(this,{type:a.expression.type.expression,value:e}).stack),delete b.match,b},parse:function(b,c,d){var e,f,g=[],h=0,i=this,j=b.conditional,k=function(a,b){var d=void 0!==j;return{index:a+1,index0:a,revindex:d?void 0:b-a,revindex0:d?void 0:b-a-1,first:0===a,last:d?void 0:a===b-1,length:d?void 0:b,parent:c}},l=function(d,f){var l=a.ChildContext(c);return l[b.value_var]=f,b.key_var&&(l[b.key_var]=d),l.loop=k(h,e),(void 0===j?a.Promise.resolve(!0):a.expression.parseAsync.call(i,j,l)).then(function(c){if(c)return a.parseAsync.call(i,b.output,l).then(function(a){g.push(a),h+=1})}).then(function(){delete l.loop,delete l[b.value_var],delete l[b.key_var],a.merge(c,l,!0)})};return a.expression.parseAsync.call(this,b.expression,c).then(function(b){return a.lib.isArray(b)?(e=b.length,a.async.forEach(b,function(a){return l(h,a)})):a.lib.is("Object",b)?(f=void 0!==b._keys?b._keys:Object.keys(b),e=f.length,a.async.forEach(f,function(a){if("_keys"!==a)return l(a,b[a])})):void 0}).then(function(){return d=0===g.length,{chain:d,output:a.output.call(i,g)}})}},{type:a.logic.type.endfor,regex:/^endfor$/,next:[],open:!1},{type:a.logic.type.set,regex:/^set\s+([a-zA-Z0-9_,\s]+)\s*=\s*([\s\S]+)$/,next:[],open:!0,compile:function(b){var c=b.match[1].trim(),d=b.match[2],e=a.expression.compile.call(this,{type:a.expression.type.expression,value:d}).stack;return b.key=c,b.expression=e,delete b.match,b},parse:function(b,c,d){var e=b.key;return a.expression.parseAsync.call(this,b.expression,c).then(function(b){return b===c&&(b=a.lib.copy(b)),c[e]=b,{chain:d,context:c}})}},{type:a.logic.type.setcapture,regex:/^set\s+([a-zA-Z0-9_,\s]+)$/,next:[a.logic.type.endset],
open:!0,compile:function(a){var b=a.match[1].trim();return a.key=b,delete a.match,a},parse:function(b,c,d){var e=this,f=b.key;return a.parseAsync.call(this,b.output,c).then(function(a){return e.context[f]=a,c[f]=a,{chain:d,context:c}})}},{type:a.logic.type.endset,regex:/^endset$/,next:[],open:!1},{type:a.logic.type.filter,regex:/^filter\s+(.+)$/,next:[a.logic.type.endfilter],open:!0,compile:function(b){var c="|"+b.match[1].trim();return b.stack=a.expression.compile.call(this,{type:a.expression.type.expression,value:c}).stack,delete b.match,b},parse:function(b,c,d){var e=this;return a.parseAsync.call(this,b.output,c).then(function(d){var f=[{type:a.expression.type.string,value:d}].concat(b.stack);return a.expression.parseAsync.call(e,f,c)}).then(function(a){return{chain:d,output:a}})}},{type:a.logic.type.endfilter,regex:/^endfilter$/,next:[],open:!1},{type:a.logic.type.block,regex:/^block\s+([a-zA-Z0-9_]+)$/,next:[a.logic.type.endblock],open:!0,compile:function(a){return a.block=a.match[1].trim(),delete a.match,a},parse:function(b,c,d){var e,f=this,g=a.Promise.resolve(),h=a.indexOf(this.importedBlocks,b.block)>-1,i=this.blocks[b.block]&&a.indexOf(this.blocks[b.block],a.placeholders.parent)>-1;return a.forEach(this.parseStack,function(c){c.type==a.logic.type.for_&&(b.overwrite=!0)}),(void 0===this.blocks[b.block]||h||i||b.overwrite)&&(g=b.expression?a.expression.parseAsync.call(this,b.output,c).then(function(b){return a.expression.parseAsync.call(f,{type:a.expression.type.string,value:b},c)}):a.parseAsync.call(this,b.output,c).then(function(b){return a.expression.parseAsync.call(f,{type:a.expression.type.string,value:b},c)}),g=g.then(function(c){h&&f.importedBlocks.splice(f.importedBlocks.indexOf(b.block),1),f.blocks[b.block]=i?a.Markup(f.blocks[b.block].replace(a.placeholders.parent,c)):c,f.originalBlockTokens[b.block]={type:b.type,block:b.block,output:b.output,overwrite:!0}})),g.then(function(){return e=f.child.blocks[b.block]?f.child.blocks[b.block]:f.blocks[b.block],{chain:d,output:e}})}},{type:a.logic.type.shortblock,regex:/^block\s+([a-zA-Z0-9_]+)\s+(.+)$/,next:[],open:!0,compile:function(b){return b.expression=b.match[2].trim(),b.output=a.expression.compile({type:a.expression.type.expression,value:b.expression}).stack,b.block=b.match[1].trim(),delete b.match,b},parse:function(b,c,d){for(var e=new Array(arguments.length),f=arguments.length;f-- >0;)e[f]=arguments[f];return a.logic.handler[a.logic.type.block].parse.apply(this,e)}},{type:a.logic.type.endblock,regex:/^endblock(?:\s+([a-zA-Z0-9_]+))?$/,next:[],open:!1},{type:a.logic.type.extends_,regex:/^extends\s+(.+)$/,next:[],open:!0,compile:function(b){var c=b.match[1].trim();return delete b.match,b.stack=a.expression.compile.call(this,{type:a.expression.type.expression,value:c}).stack,b},parse:function(b,c,d){var e,f=this,g=a.ChildContext(c);return a.expression.parseAsync.call(this,b.stack,c).then(function(b){return f.extend=b,e=b instanceof a.Template?b:f.importFile(b),e.renderAsync(g)}).then(function(){return a.lib.extend(c,g),{chain:d,output:""}})}},{type:a.logic.type.use,regex:/^use\s+(.+)$/,next:[],open:!0,compile:function(b){var c=b.match[1].trim();return delete b.match,b.stack=a.expression.compile.call(this,{type:a.expression.type.expression,value:c}).stack,b},parse:function(b,c,d){var e=this;return a.expression.parseAsync.call(this,b.stack,c).then(function(a){return e.importBlocks(a),{chain:d,output:""}})}},{type:a.logic.type.include,regex:/^include\s+(.+?)(?:\s|$)(ignore missing(?:\s|$))?(?:with\s+([\S\s]+?))?(?:\s|$)(only)?$/,next:[],open:!0,compile:function(b){var c=b.match,d=c[1].trim(),e=void 0!==c[2],f=c[3],g=void 0!==c[4]&&c[4].length;return delete b.match,b.only=g,b.ignoreMissing=e,b.stack=a.expression.compile.call(this,{type:a.expression.type.expression,value:d}).stack,void 0!==f&&(b.withStack=a.expression.compile.call(this,{type:a.expression.type.expression,value:f.trim()}).stack),b},parse:function(b,c,d){var e=b.only?{}:a.ChildContext(c),f=b.ignoreMissing,g=this,h=null,i={chain:d,output:""};return h=void 0!==b.withStack?a.expression.parseAsync.call(this,b.withStack,c).then(function(b){a.lib.extend(e,b)}):a.Promise.resolve(),h.then(function(){return a.expression.parseAsync.call(g,b.stack,c)}).then(function(b){if(b instanceof a.Template)return b.renderAsync(e,{isInclude:!0});try{return g.importFile(b).renderAsync(e,{isInclude:!0})}catch(a){if(f)return"";throw a}}).then(function(a){return""!==a&&(i.output=a),i})}},{type:a.logic.type.spaceless,regex:/^spaceless$/,next:[a.logic.type.endspaceless],open:!0,parse:function(b,c,d){return a.parseAsync.call(this,b.output,c).then(function(b){var c=/>\s+</g,e=b.replace(c,"><").trim();return e=a.Markup(e),{chain:d,output:e}})}},{type:a.logic.type.endspaceless,regex:/^endspaceless$/,next:[],open:!1},{type:a.logic.type.macro,regex:/^macro\s+([a-zA-Z0-9_]+)\s*\(\s*((?:[a-zA-Z0-9_]+(?:\s*=\s*([\s\S]+))?(?:,\s*)?)*)\s*\)$/,next:[a.logic.type.endmacro],open:!0,compile:function(b){var c=b.match[1],d=b.match[2].split(/\s*,\s*/),e=d.map(function(a){return a.split(/\s*=\s*/)[0]}),f=e.length;if(f>1)for(var g={},h=0;h<f;h++){var i=e[h];if(g[i])throw new a.Error("Duplicate arguments for parameter: "+i);g[i]=1}return b.macroName=c,b.parameters=e,b.defaults=d.reduce(function(b,c){var d=c.split(/\s*=\s*/),e=d[0],f=d[1];return b[e]=f?a.expression.compile.call(this,{type:a.expression.type.expression,value:f}).stack:void 0,b},{}),delete b.match,b},parse:function(b,c,d){var e=this;return this.macros[b.macroName]=function(){var d={_self:e.macros},f=Array.prototype.slice.call(arguments);return a.async.forEach(b.parameters,function(e,g){return void 0!==f[g]?(d[e]=f[g],!0):void 0!==b.defaults[e]?a.expression.parseAsync.call(this,b.defaults[e],c).then(function(b){return d[e]=b,a.Promise.resolve()}):(d[e]=void 0,!0)}).then(function(){return a.parseAsync.call(e,b.output,d)})},{chain:d,output:""}}},{type:a.logic.type.endmacro,regex:/^endmacro$/,next:[],open:!1},{type:a.logic.type.import_,regex:/^import\s+(.+)\s+as\s+([a-zA-Z0-9_]+)$/,next:[],open:!0,compile:function(b){var c=b.match[1].trim(),d=b.match[2].trim();return delete b.match,b.expression=c,b.contextName=d,b.stack=a.expression.compile.call(this,{type:a.expression.type.expression,value:c}).stack,b},parse:function(b,c,d){var e=this,f={chain:d,output:""};return"_self"===b.expression?(c[b.contextName]=this.macros,a.Promise.resolve(f)):a.expression.parseAsync.call(this,b.stack,c).then(function(a){return e.importFile(a||b.expression)}).then(function(a){return c[b.contextName]=a.renderAsync({},{output:"macros"}),f})}},{type:a.logic.type.from,regex:/^from\s+(.+)\s+import\s+([a-zA-Z0-9_, ]+)$/,next:[],open:!0,compile:function(b){for(var c=b.match[1].trim(),d=b.match[2].trim().split(/\s*,\s*/),e={},f=0;f<d.length;f++){var g=d[f],h=g.match(/^([a-zA-Z0-9_]+)\s+as\s+([a-zA-Z0-9_]+)$/);h?e[h[1].trim()]=h[2].trim():g.match(/^([a-zA-Z0-9_]+)$/)&&(e[g]=g)}return delete b.match,b.expression=c,b.macroNames=e,b.stack=a.expression.compile.call(this,{type:a.expression.type.expression,value:c}).stack,b},parse:function(b,c,d){var e=this,f=a.Promise.resolve(this.macros);return"_self"!==b.expression&&(f=a.expression.parseAsync.call(this,b.stack,c).then(function(a){return e.importFile(a||b.expression)}).then(function(a){return a.renderAsync({},{output:"macros"})})),f.then(function(a){for(var e in b.macroNames)a.hasOwnProperty(e)&&(c[b.macroNames[e]]=a[e]);return{chain:d,output:""}})}},{type:a.logic.type.embed,regex:/^embed\s+(.+?)(?:\s+(ignore missing))?(?:\s+with\s+([\S\s]+?))?(?:\s+(only))?$/,next:[a.logic.type.endembed],open:!0,compile:function(b){var c=b.match,d=c[1].trim(),e=void 0!==c[2],f=c[3],g=void 0!==c[4]&&c[4].length;return delete b.match,b.only=g,b.ignoreMissing=e,b.stack=a.expression.compile.call(this,{type:a.expression.type.expression,value:d}).stack,void 0!==f&&(b.withStack=a.expression.compile.call(this,{type:a.expression.type.expression,value:f.trim()}).stack),b},parse:function(b,c,d){var e,f,g={},h=this,i=a.Promise.resolve();if(!b.only)for(e in c)c.hasOwnProperty(e)&&(g[e]=c[e]);return void 0!==b.withStack&&(i=a.expression.parseAsync.call(this,b.withStack,c).then(function(a){for(e in a)a.hasOwnProperty(e)&&(g[e]=a[e])})),i.then(function(){return i=null,a.expression.parseAsync.call(h,b.stack,g)}).then(function(c){if(c instanceof a.Template)f=c;else try{f=h.importFile(c)}catch(a){if(b.ignoreMissing)return"";throw h=null,a}return h._blocks=a.lib.copy(h.blocks),h.blocks={},a.parseAsync.call(h,b.output,g).then(function(){return f.renderAsync(g,{blocks:h.blocks})})}).then(function(b){return h.blocks=a.lib.copy(h._blocks),{chain:d,output:b}})}},{type:a.logic.type.endembed,regex:/^endembed$/,next:[],open:!1},{type:a.logic.type.with,regex:/^(?:with\s+([\S\s]+?))(?:\s|$)(only)?$/,next:[a.logic.type.endwith],open:!0,compile:function(b){var c=b.match,d=c[1],e=void 0!==c[2]&&c[2].length;return delete b.match,b.only=e,void 0!==d&&(b.withStack=a.expression.compile.call(this,{type:a.expression.type.expression,value:d.trim()}).stack),b},parse:function(b,c,d){var e,f={},g=this,h=a.Promise.resolve();return b.only||(f=a.ChildContext(c)),void 0!==b.withStack&&(h=a.expression.parseAsync.call(this,b.withStack,c).then(function(a){for(e in a)a.hasOwnProperty(e)&&(f[e]=a[e])})),h.then(function(){return a.parseAsync.call(g,b.output,f)}).then(function(a){return{chain:d,output:a}})}},{type:a.logic.type.endwith,regex:/^endwith$/,next:[],open:!1},{type:a.logic.type.verbatim,regex:/^verbatim/,next:[a.logic.type.endverbatim],open:!0,parse:function(a,b,c){return{chain:c,output:b}}},{type:a.logic.type.endverbatim,regex:/^endverbatim$/,next:[],open:!1}],a.logic.handler={},a.logic.extendType=function(b,c){c=c||"Twig.logic.type"+b,a.logic.type[b]=c},a.logic.extend=function(b){if(!b.type)throw new a.Error("Unable to extend logic definition. No type provided for "+b);a.logic.extendType(b.type),a.logic.handler[b.type]=b};a.logic.definitions.length>0;)a.logic.extend(a.logic.definitions.shift());return a.logic.compile=function(b){var c=b.value.trim(),d=a.logic.tokenize.call(this,c),e=a.logic.handler[d.type];return e.compile&&(d=e.compile.call(this,d),a.log.trace("Twig.logic.compile: ","Compiled logic token to ",d)),d},a.logic.tokenize=function(b){var c=null,d=null,e=null,f=null,g=null,h=null,i=null;b=b.trim();for(c in a.logic.handler)for(d=a.logic.handler[c].type,e=a.logic.handler[c].regex,f=e,a.lib.isArray(e)||(f=[e]),g=f.length,h=0;h<g;h++)if(null!==(i=f[h].exec(b)))return a.log.trace("Twig.logic.tokenize: ","Matched a ",d," regular expression of ",i),{type:d,match:i};throw new a.Error("Unable to parse '"+b.trim()+"'")},a.logic.parse=function(b,c,d,e){return a.async.potentiallyAsync(this,e,function(){a.log.debug("Twig.logic.parse: ","Parsing logic token ",b);var e,f=a.logic.handler[b.type],g=this;return f.parse?(g.parseStack.unshift(b),e=f.parse.call(g,b,c||{},d),a.isPromise(e)?e=e.then(function(a){return g.parseStack.shift(),a}):g.parseStack.shift(),e):""})},a}},function(a,b){a.exports=function(a){"use strict";a.Templates.registerParser("source",function(a){return a.data||""})}},function(a,b){a.exports=function(a){"use strict";a.Templates.registerParser("twig",function(b){return new a.Template(b)})}},function(a,b,c){a.exports=function(a){"use strict";return a.path={},a.path.parsePath=function(b,c){var d=null,e=b.options.namespaces,f=c||"";if(e&&"object"==typeof e)for(d in e)if(-1!==f.indexOf(d)){var g=new RegExp("^"+d+"::"),h=new RegExp("^@"+d);if(g.test(f))return f=f.replace(d+"::",e[d]);if(h.test(f))return f=f.replace("@"+d,e[d])}return a.path.relativePath(b,f)},a.path.relativePath=function(b,d){var e,f,g,h="/",i=[],d=d||"";if(b.url)e=void 0!==b.base?b.base+("/"===b.base.charAt(b.base.length-1)?"":"/"):b.url;else if(b.path){var j=c(1),k=j.sep||h,l=new RegExp("^\\.{1,2}"+k.replace("\\","\\\\"));d=d.replace(/\//g,k),void 0!==b.base&&null==d.match(l)?(d=d.replace(b.base,""),e=b.base+k):e=j.normalize(b.path),e=e.replace(k+k,k),h=k}else{if(!b.name&&!b.id||!b.method||"fs"===b.method||"ajax"===b.method)throw new a.Error("Cannot extend an inline template.");e=b.base||b.name||b.id}for(f=e.split(h),f.pop(),f=f.concat(d.split(h));f.length>0;)"."==(g=f.shift())||(".."==g&&i.length>0&&".."!=i[i.length-1]?i.pop():i.push(g));return i.join(h)},a}},function(a,b){a.exports=function(a){"use strict";return a.tests={empty:function(a){if(null===a||void 0===a)return!0;if("number"==typeof a)return!1;if(a.length&&a.length>0)return!1;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},odd:function(a){return a%2==1},even:function(a){return a%2==0},divisibleby:function(a,b){return a%b[0]==0},defined:function(a){return void 0!==a},none:function(a){return null===a},null:function(a){return this.none(a)},"same as":function(a,b){return a===b[0]},sameas:function(b,c){return a.tests["same as"](b,c)},iterable:function(b){return b&&(a.lib.is("Array",b)||a.lib.is("Object",b))}},a.test=function(b,c,d){if(!a.tests[b])throw"Test "+b+" is not defined.";return a.tests[b](c,d)},a.test.extend=function(b,c){a.tests[b]=c},a}},function(a,b){a.exports=function(a){"use strict";function b(b,c,d){var e=d.call(b),f=null,g=!0;if(!a.isPromise(e))return e;if(e.then(function(a){e=a,g=!1}).catch(function(a){f=a}),null!==f)throw f;if(g)throw new a.Error("You are using Twig.js in sync mode in combination with async extensions.");return e}function c(a,b,c){try{a(b,c)}catch(a){c(a)}}function d(a,b,c){var d=[b,c,-2];return a?-2==a[2]?a=[a,d]:a.push(d):a=d,a}var e=1,f=2;return a.parseAsync=function(b,c){return a.parse.call(this,b,c,!0)},a.expression.parseAsync=function(b,c,d){return a.expression.parse.call(this,b,c,d,!0)},a.logic.parseAsync=function(b,c,d){return a.logic.parse.call(this,b,c,d,!0)},a.Template.prototype.renderAsync=function(a,b){return this.render(a,b,!0)},a.async={},a.isPromise=function(a){return a&&a.then&&"function"==typeof a.then},a.async.potentiallyAsync=function(c,d,e){return d?a.Promise.resolve(e.call(c)):b(c,d,e)},a.Thenable=function(a,b,c){this.then=a,this._value=c?b:null,this._state=c||0},a.Thenable.prototype.catch=function(a){return this._state==e?this:this.then(null,a)},a.Thenable.resolvedThen=function(b){try{return a.Promise.resolve(b(this._value))}catch(b){return a.Promise.reject(b)}},a.Thenable.rejectedThen=function(b,c){if(!c||"function"!=typeof c)return this;var d=this._value,e=a.attempt(function(){return c(d)},a.Promise.reject);return a.Promise.resolve(e)},a.Promise=function(b){function d(a){j(e,a)}function g(a){j(f,a)}var h=0,i=null,j=function(a,b){h=a,i=b};return c(b,d,g),h===e?a.Promise.resolve(i):h===f?a.Promise.reject(i):(j=a.FullPromise(),j.promise)},a.FullPromise=function(){function b(a){a(i._value)}function c(a,b){b(i._value)}function f(d,f){i._state||(i._value=f,i._state=d,h=d==e?b:c,g&&(-2===g[2]&&(h(g[0],g[1]),g=null),a.forEach(g,function(a){h(a[0],a[1])}),g=null))}var g=null,h=function(a,b){g=d(g,a,b)},i=new a.Thenable(function(b,c){var d="function"==typeof b;if(i._state==e&&!d)return a.Promise.resolve(i._value);if(i._state===e)return a.attempt(function(){return a.Promise.resolve(b(i._value))},a.Promise.reject);var f="function"==typeof c;return a.Promise(function(e,g){h(d?function(c){a.attempt(function(){e(b(c))},g)}:e,f?function(b){a.attempt(function(){e(c(b))},g)}:g)})});return f.promise=i,f},a.Promise.defaultResolved=new a.Thenable(a.Thenable.resolvedThen,void 0,e),a.Promise.emptyStringResolved=new a.Thenable(a.Thenable.resolvedThen,"",e),a.Promise.resolve=function(b){return arguments.length<1||void 0===b?a.Promise.defaultResolved:a.isPromise(b)?b:""===b?a.Promise.emptyStringResolved:new a.Thenable(a.Thenable.resolvedThen,b,e)},a.Promise.reject=function(b){return new a.Thenable(a.Thenable.rejectedThen,b,f)},a.Promise.all=function(b){var c=new Array(b.length);return a.async.forEach(b,function(b,d){return a.isPromise(b)?b._state==e?void(c[d]=b._value):b.then(function(a){c[d]=a}):void(c[d]=b)}).then(function(){return c})},a.async.forEach=function(b,c){function d(){var h=null;do{if(g==f)return a.Promise.resolve();h=c(b[g],g),g++}while(!h||!a.isPromise(h)||h._state==e);return h.then(d)}var f=b.length,g=0;return d()},a}},function(a,b){a.exports=function(a){"use strict";return a.exports={VERSION:a.VERSION},a.exports.twig=function(b){var c=b.id,d={strict_variables:b.strict_variables||!1,autoescape:null!=b.autoescape&&b.autoescape||!1,allowInlineIncludes:b.allowInlineIncludes||!1,rethrow:b.rethrow||!1,namespaces:b.namespaces};if(a.cache&&c&&a.validateId(c),void 0!==b.debug&&(a.debug=b.debug),void 0!==b.trace&&(a.trace=b.trace),void 0!==b.data)return a.Templates.parsers.twig({data:b.data,path:b.hasOwnProperty("path")?b.path:void 0,module:b.module,id:c,options:d});if(void 0!==b.ref){if(void 0!==b.id)throw new a.Error("Both ref and id cannot be set on a twig.js template.");return a.Templates.load(b.ref)}if(void 0!==b.method){if(!a.Templates.isRegisteredLoader(b.method))throw new a.Error('Loader for "'+b.method+'" is not defined.');return a.Templates.loadRemote(b.name||b.href||b.path||c||void 0,{id:c,method:b.method,parser:b.parser||"twig",base:b.base,module:b.module,precompiled:b.precompiled,async:b.async,options:d},b.load,b.error)}return void 0!==b.href?a.Templates.loadRemote(b.href,{id:c,method:"ajax",parser:b.parser||"twig",base:b.base,module:b.module,precompiled:b.precompiled,async:b.async,options:d},b.load,b.error):void 0!==b.path?a.Templates.loadRemote(b.path,{id:c,method:"fs",parser:b.parser||"twig",base:b.base,module:b.module,precompiled:b.precompiled,async:b.async,options:d},b.load,b.error):void 0},a.exports.extendFilter=function(b,c){a.filter.extend(b,c)},a.exports.extendFunction=function(b,c){a._function.extend(b,c)},a.exports.extendTest=function(b,c){a.test.extend(b,c)},a.exports.extendTag=function(b){a.logic.extend(b)},a.exports.extend=function(b){b(a)},a.exports.compile=function(b,c){var d,e=c.filename,f=c.filename;return d=new a.Template({data:b,path:f,id:e,options:c.settings["twig options"]}),function(a){return d.render(a)}},a.exports.renderFile=function(b,c,d){"function"==typeof c&&(d=c,c={}),c=c||{};var e=c.settings||{},f=e["twig options"],g={path:b,base:e.views,load:function(a){if(!f||!f.allow_async)return void d(null,""+a.render(c));a.renderAsync(c).then(function(a){d(null,a)},d)}};if(f)for(var h in f)f.hasOwnProperty(h)&&(g[h]=f[h]);a.exports.twig(g)},a.exports.__express=a.exports.renderFile,a.exports.cache=function(b){a.cache=b},a.exports.path=a.path,a.exports.filters=a.filters,a.exports.Promise=a.Promise,a}}])})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{fs:4,path:346}],358:[function(a,b,c){!function(a){"use strict";function b(a){if("string"!=typeof a&&(a=String(a)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function c(a){return"string"!=typeof a&&(a=String(a)),a}function d(a){var b={next:function(){var b=a.shift();return{done:void 0===b,value:b}}};return r.iterable&&(b[Symbol.iterator]=function(){return b}),b}function e(a){this.map={},a instanceof e?a.forEach(function(a,b){this.append(b,a)},this):Array.isArray(a)?a.forEach(function(a){this.append(a[0],a[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(b){this.append(b,a[b])},this)}function f(a){if(a.bodyUsed)return Promise.reject(new TypeError("Already read"));a.bodyUsed=!0}function g(a){return new Promise(function(b,c){a.onload=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function h(a){var b=new FileReader,c=g(b);return b.readAsArrayBuffer(a),c}function i(a){var b=new FileReader,c=g(b);return b.readAsText(a),c}function j(a){for(var b=new Uint8Array(a),c=new Array(b.length),d=0;d<b.length;d++)c[d]=String.fromCharCode(b[d]);return c.join("")}function k(a){if(a.slice)return a.slice(0);var b=new Uint8Array(a.byteLength);return b.set(new Uint8Array(a)),b.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(a){if(this._bodyInit=a,a)if("string"==typeof a)this._bodyText=a;else if(r.blob&&Blob.prototype.isPrototypeOf(a))this._bodyBlob=a;else if(r.formData&&FormData.prototype.isPrototypeOf(a))this._bodyFormData=a;else if(r.searchParams&&URLSearchParams.prototype.isPrototypeOf(a))this._bodyText=a.toString();else if(r.arrayBuffer&&r.blob&&t(a))this._bodyArrayBuffer=k(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!r.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(a)&&!u(a))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=k(a)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof a?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var a=f(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var a=f(this);if(a)return a;if(this._bodyBlob)return i(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(j(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(o)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(a){var b=a.toUpperCase();return v.indexOf(b)>-1?b:a}function n(a,b){b=b||{};var c=b.body;if(a instanceof n){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,b.headers||(this.headers=new e(a.headers)),this.method=a.method,this.mode=a.mode,c||null==a._bodyInit||(c=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=b.credentials||this.credentials||"omit",!b.headers&&this.headers||(this.headers=new e(b.headers)),this.method=m(b.method||this.method||"GET"),this.mode=b.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&c)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(c)}function o(a){var b=new FormData;return a.trim().split("&").forEach(function(a){if(a){var c=a.split("="),d=c.shift().replace(/\+/g," "),e=c.join("=").replace(/\+/g," ");b.append(decodeURIComponent(d),decodeURIComponent(e))}}),b}function p(a){var b=new e;return a.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(a){var c=a.split(":"),d=c.shift().trim();if(d){var e=c.join(":").trim();b.append(d,e)}}),b}function q(a,b){b||(b={}),this.type="default",this.status=void 0===b.status?200:b.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in b?b.statusText:"OK",this.headers=new e(b.headers),this.url=b.url||"",this._initBody(a)}if(!a.fetch){var r={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch(a){return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};if(r.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],t=function(a){return a&&DataView.prototype.isPrototypeOf(a)},u=ArrayBuffer.isView||function(a){return a&&s.indexOf(Object.prototype.toString.call(a))>-1};e.prototype.append=function(a,d){a=b(a),d=c(d);var e=this.map[a];this.map[a]=e?e+","+d:d},e.prototype.delete=function(a){delete this.map[b(a)]},e.prototype.get=function(a){return a=b(a),this.has(a)?this.map[a]:null},e.prototype.has=function(a){return this.map.hasOwnProperty(b(a))},e.prototype.set=function(a,d){this.map[b(a)]=c(d)},e.prototype.forEach=function(a,b){for(var c in this.map)this.map.hasOwnProperty(c)&&a.call(b,this.map[c],c,this)},e.prototype.keys=function(){var a=[];return this.forEach(function(b,c){a.push(c)}),d(a)},e.prototype.values=function(){var a=[];return this.forEach(function(b){a.push(b)}),d(a)},e.prototype.entries=function(){var a=[];return this.forEach(function(b,c){a.push([c,b])}),d(a)},r.iterable&&(e.prototype[Symbol.iterator]=e.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];n.prototype.clone=function(){return new n(this,{body:this._bodyInit})},l.call(n.prototype),l.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new e(this.headers),url:this.url})},q.error=function(){var a=new q(null,{status:0,statusText:""});return a.type="error",a};var w=[301,302,303,307,308];q.redirect=function(a,b){if(-1===w.indexOf(b))throw new RangeError("Invalid status code");return new q(null,{status:b,headers:{location:a}})},a.Headers=e,a.Request=n,a.Response=q,a.fetch=function(a,b){return new Promise(function(c,d){var e=new n(a,b),f=new XMLHttpRequest;f.onload=function(){var a={status:f.status,statusText:f.statusText,headers:p(f.getAllResponseHeaders()||"")};a.url="responseURL"in f?f.responseURL:a.headers.get("X-Request-URL");var b="response"in f?f.response:f.responseText;c(new q(b,a))},f.onerror=function(){d(new TypeError("Network request failed"))},f.ontimeout=function(){d(new TypeError("Network request failed"))},f.open(e.method,e.url,!0),"include"===e.credentials?f.withCredentials=!0:"omit"===e.credentials&&(f.withCredentials=!1),"responseType"in f&&r.blob&&(f.responseType="blob"),e.headers.forEach(function(a,b){f.setRequestHeader(b,a)}),f.send(void 0===e._bodyInit?null:e._bodyInit)})},a.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},{}],359:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("utils/Device"),h=d(g),i=a("jquery"),j=d(i),k=a("three"),l=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(k);a("whatwg-fetch"),a("babel-polyfill");var m=a("gsap/src/minified/TweenMax.min"),n=(d(m),a("gsap/src/minified/plugins/ScrollToPlugin.min")),o=(d(n),a("vendor/gsap/utils/Draggable.min")),p=(d(o),a("vendor/gsap/plugins/ThrowPropsPlugin.min")),q=(d(p),a("vendor/gsap/plugins/BezierPlugin.min")),r=(d(q),a("core/loader/ManifestLoader")),s=d(r),t=a("core/utils/Router"),u=d(t),v=a("core/modules/ModulesManager"),w=d(v),x=a("vendor/Exist"),y=d(x),z=a("utils/Render"),A=d(z),B=a("utils/Stage"),C=d(B),D=a("utils/VScroll"),E=d(D),F=a("utils/Cache"),G=d(F),H=a("utils/Frozen"),I=d(H),J=a("utils/Timeout"),K=d(J),L=a("extend"),M=(d(L),a("./modules/LoaderModule")),N=d(M),O=a("./modules/HeaderModule"),P=d(O),Q=a("./modules/gl/SliderModule"),R=d(Q),S=a("./modules/CookiesModule"),T=d(S),U=a("./modules/IntroModule"),V=d(U),W=a("./modules/ContactModule"),X=d(W),Y=a("vendor/Signal"),Z=(d(Y),a("utils/Events"));d(Z);window.Device=new h.default;var $=a("fastclick");window.$=j.default,window.THREE=l;a("vendor/FancySelect"),a("jquery-validation"),a("vendor/fbxLoader");j.default.validator.addMethod("pattern",function(a,b,c){return!!this.optional(b)||("string"==typeof c&&(c=new RegExp("^(?:"+c+")$")),c.test(a))},"Invalid format."),window.Device=new h.default,window.Render=new A.default,window.Stage=new C.default,window.VScroll=new E.default,window.Cache=new G.default,window.Frozen=new I.default,window.Timeout=new K.default;var _=function(){function a(){var b=this;e(this,a),window.app=this,$(document.body),this.onRoutesMatched=this.onRoutesMatched.bind(this),this.onClick=this.onClick.bind(this),this.$root=(0,j.default)("#root"),this.isFirst=!0,this.pixelRatio=window.devicePixelRatio||1,this.datas={pixelRatio:this.pixelRatio,apiURL:apiURL,baseURL:baseURL,basePath:basePath,locale:locale,assetsPath:assetsPath,assetsBaseURL:assetsBaseURL,l10n:l10nJSON,modulesRoutes:modulesJSON,manifest:manifestJSON,library:libraryJSON,svgs:svgsJSON},this.manifestLoader=new s.default(this.datas.basePath,this.datas),w.default.setModulesRoutesData(this.datas.modulesRoutes),this.router=new u.default(this.datas.locale,noLocaleInRoute),this.router.addRoutes(this.datas.modulesRoutes.modules),this.router.routeMatched.add(this.onRoutesMatched),this.loader=new N.default,this.contact=new X.default,this.header=new P.default,this.cookies=new T.default,this.intro=new V.default,this.manifestLoader.complete.addOnce(function(){b.slider=new R.default});Cache.updated.addOnce(function(){b.router.parse()}),Cache.init(),(0,j.default)(document).on("click","[rel='internal']",this.onClick)}return f(a,[{key:"onClick",value:function(a){a.preventDefault(),a.stopPropagation();var b=(0,j.default)(a.currentTarget),c=b.attr("href"),d=b.attr("data-silent")||!1;(0,y.default)(c)&&!b.hasClass("disabled")&&this.router.navigate(c,{silent:d})}},{key:"onRoutesMatched",value:function(a){if(a){if(w.default.switch(a),this.header.hide(),a.length>0)if(a[0].params&&a[0].params.id){var b=a[0].params.id;b=b.replace(new RegExp("-","g"),"");var c=this.datas.l10n.meta.share[b];document.title=c?c.meta_title:this.datas.l10n.meta.share.title}else document.title=this.datas.l10n.meta.share.title;a.length>0&&!this.isFirst&&window.gtag&&gtag("config","UA-121245736-1",{page_path:window.location.pathname}),this.isFirst=!1}}}]),a}();new _},{"./modules/ContactModule":370,"./modules/CookiesModule":371,"./modules/HeaderModule":372,"./modules/IntroModule":374,"./modules/LoaderModule":375,"./modules/gl/SliderModule":394,"babel-polyfill":3,"core/loader/ManifestLoader":360,"core/modules/ModulesManager":363,"core/utils/Router":367,extend:334,fastclick:335,"gsap/src/minified/TweenMax.min":338,"gsap/src/minified/plugins/ScrollToPlugin.min":339,jquery:342,"jquery-validation":341,three:356,"utils/Cache":397,"utils/Device":398,"utils/Events":399,"utils/Frozen":400,"utils/Render":402,"utils/Stage":404,"utils/Timeout":406,"utils/VScroll":407,"vendor/Exist":410,"vendor/FancySelect":411,"vendor/Signal":412,"vendor/fbxLoader":414,"vendor/gsap/plugins/BezierPlugin.min":417,"vendor/gsap/plugins/ThrowPropsPlugin.min":419,"vendor/gsap/utils/Draggable.min":420,"whatwg-fetch":358}],360:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("vendor/Signal"),i=d(h),j=a("utils/StringUtils"),k=d(j),l=a("mm-unpacker"),m=d(l),n=a("vendor/Exist"),o=d(n),p=a("utils/BufferUtils"),q=d(p),r=a("core/utils/TemplateRenderer"),s=d(r),t=a("preload-js"),u=d(t),v=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",c=arguments[1];e(this,a),this.onFileLoaded=this.onFileLoaded.bind(this),
this.onProgress=this.onProgress.bind(this),this.onFilesLoaded=this.onFilesLoaded.bind(this),this.basePath=b,this.datas=c,this.loader=null,this.separator=".",this.nbFilesCached=0,this.nbFiles=0,this.start=new i.default,this.progress=new i.default,this.complete=new i.default}return g(a,[{key:"reset",value:function(a){this.nbFilesCached=0,this.nbFiles=a.length,(0,o.default)(this.loader)&&(this.loader.removeAllEventListeners(),this.loader.removeAll())}},{key:"load",value:function(a){var b=this,c=a;"string"==typeof a&&(c=[a]),c=this.getFilesToLoad(c),this.reset(c);for(var d=[],e=0;e<c.length;e++){var f=c[e];if(f.id=s.default.render(f.id,this.datas),Cache.get(f.id)&&!(0,o.default)(f.infos.data.nocache))this.onFileLoaded({item:{id:f.id}});else{var g={id:f.id,src:f.src,data:f.infos};(0,o.default)(f.type)&&(g.type=f.type),d.push(g)}}this.start.dispatch(),this.nbFilesCached===this.nbFiles?this.onFilesLoaded():(this.loader=new u.default.LoadQueue(!0),this.loader.addEventListener("fileload",this.onFileLoaded),this.loader.addEventListener("progress",this.onProgress),this.loader.addEventListener("complete",this.onFilesLoaded),d.map(function(a){return b.loader.loadFile(a)}))}},{key:"onProgress",value:function(a){this.progress.dispatch(a)}},{key:"onFileLoaded",value:function(a){var b=a.item,c=b.id;if(this.nbFilesCached++,!Cache.get(c)){var d={item:a.result,type:a.item.type};if((0,o.default)(b.data)&&(0,o.default)(b.data.data)&&(0,o.default)(b.data.data.mapping)?d.mapping=b.data.data.mapping:d.library_id=b.data.fileId,"image"==d.type){var e=new Image,g=q.default.getBlob(a.rawResult,a.loader._request.getResponseHeader("content-type"));e.src=q.default.blobAsURI(g),e.blob=g,d.item=e}Cache.set(c,d);var h=b.data.batchId,i=b.data.fileId;if(-1!==i.indexOf("packConf")&&Cache.get(h+this.separator+"packFile")||-1!==i.indexOf("packFile")&&Cache.get(h+this.separator+"packConf"))for(var j=Cache.get(h+this.separator+"packConf"),k=j.item,l=Cache.get(h+this.separator+"packFile").item,n=j.mapping,p=new m.default(l,k),r=0;r<n.length;r++){var s=n[r];(0,o.default)(s.library_id)&&(s.src=this.getFileSrcFromLibrary(s),s.id=s.library_id);var t=p.getType(s.src),u=t.split(";",1),v=f(u,1);t=v[0];var w=t.split("/",1),x=f(w,1),y=x[0];if("application/json"==t)try{var z=JSON.parse(p.getAsString(s.src))}catch(a){return}else if("text"==y)var z=p.getAsString(s.src);else if("image"==y){var z=new Image,A=q.default.getBlob(p.getData(s.src),p.getType(s.src));z.src=q.default.blobAsURI(A),z.blob=A}else var z=p.getAsBytes(s.src);"text/twig"==t&&this.registerPartial(s.src,z),Cache.set(h+this.separator+s.id,{item:z,library_id:s.id,type:y})}else{var B=b.src.match(/.*\.(twig)/i);(0,o.default)(B)&&"twig"===B[1]&&this.registerPartial(this.getFileSrcFromLibrary(b.data.data),d.item)}}}},{key:"onFilesLoaded",value:function(){var a=this;setTimeout(function(){a.complete.dispatch()},0)}},{key:"registerPartial",value:function(a,b){var c=a.replace("shared/html/partials","@partials");s.default.registerPartial(c,b)}},{key:"getFilesToLoad",value:function(a){var b=[],c=a;"string"==typeof a&&(c=[a]);for(var d=0,e=[0,1],f=0;f<e.length;f++)for(var g=c,h=0;h<this.datas.manifest.length;h++)for(var i=this.datas.manifest[h],j=0;j<g.length;j++){var k=g[j];if(i.id===k&&(0,o.default)(i.dependencies))for(var l=0;l<i.dependencies.length;l++){var m=i.dependencies[l];-1===c.indexOf(m)&&c.push(m)}}for(var n=0;n<this.datas.manifest.length;n++)for(var i=this.datas.manifest[n],p=0;p<c.length;p++){var k=c[p];if(i.id===k&&(d++,i.files))for(var q=0;q<i.files.length;q++){var r=i.files[q];if((0,o.default)(r.library_id)&&(r.id=r.library_id),(0,o.default)(r.sequence)){this.nbFiles=parseInt(r.sequence,10);var t=0;(0,o.default)(r.offset)&&(t=parseInt(r.offset,10));for(var u=t;u<this.nbFiles.length;u++){var v=u,w=s.default.render(r.id,{sequence:v});r.library_id=w;var x=this.getFileSrc(r,this.datas);b.push({id:i.id+this.separator+w,src:x,infos:{batchId:i.id,fileId:w,data:r}})}}else{var x=this.getFileSrc(r,this.datas),y={id:i.id+this.separator+r.id,src:x,infos:{batchId:i.id,fileId:r.id,data:r}};-1!==r.id.indexOf("packFile")&&(y.type="binary"),b.push(y)}}}if(d!==c.length)throw"Some batches were not found: "+c.toString();return b}},{key:"getFile",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=Cache.getAll(),e=d[a+this.separator+b].item;return c&&(e=$(e).clone()[0]),e}},{key:"getFileById",value:function(a){var b=Cache.getAll();for(var c in b){var d=b[c];if((0,o.default)(d.library_id)&&d.library_id===a)return d.item.src}return null}},{key:"getPrefix",value:function(){var a=this.datas.baseURL;return a=a.substring(0,a.length-1-(this.datas.basePath.length-1)),-1===a.indexOf("http://")&&-1===a.indexOf("https://")&&(a=window.location.protocol+a),a}},{key:"getFilesByBatchId",value:function(a){var b=Cache.getAll(),c=[];for(var d in b){var e=b[d];-1!==(d+this.separator).indexOf(a+this.separator)&&c.push({id:d,item:e})}return c}},{key:"getFileSrcFromLibrary",value:function(a){var b=a.library_id.split("."),c=this.datas.library[b[0]];return b.shift(),b=b.join("."),c=c[b]}},{key:"getFileSrc",value:function(a,b){if((0,o.default)(a.library_id))var c=this.getFileSrcFromLibrary(a);else var c=a.src;var d=c.match(/.*\.(twig)/i);if((0,o.default)(d)&&"twig"==d[1]);else if(-1===c.indexOf("http://")&&-1===c.indexOf("https://"))var c=this.datas.assetsBaseURL+this.datas.assetsPath+c;if((0,o.default)(b))var c=s.default.render(c,b);if(-1===c.indexOf("http://")&&-1===c.indexOf("https://")){var e=this.getPrefix();"/"!==e.substring(e.length-1)&&(e+="/");var c=e+k.default.removeLeadingSlash(c)}return c}}]),a}();c.default=v},{"core/utils/TemplateRenderer":368,"mm-unpacker":343,"preload-js":351,"utils/BufferUtils":396,"utils/StringUtils":405,"vendor/Exist":410,"vendor/Signal":412}],361:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("vendor/Signal"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=function(){function a(b,c){d(this,a),this.id=b,this.params=c,this.onDestroy=new g.default,this.onShow=new g.default,this.submodules=[]}return e(a,[{key:"addSubmodule",value:function(a){a.onDestroy.addOnce(this.onSubmoduleDestroy,{submodule:a,submodules:this.submodules,_this:this}),this.submodules.push({id:a.id,module:a})}},{key:"onSubmoduleDestroy",value:function(){this.submodules.splice(this.submodules.indexOf(this.submodule),1)}},{key:"enter",value:function(){for(var a=0;a<this.submodules.length;a++){this.submodules[a].module.enter()}this.show()}},{key:"show",value:function(){this.showed=!0,this.onShow.dispatch()}},{key:"exit",value:function(){for(var a=0;a<this.submodules.length;a++){this.submodules[a].module.exit()}this.hide()}},{key:"hide",value:function(){this.showed=!1,this.destroy()}},{key:"destroy",value:function(){this.submodules=[],this.onDestroy.dispatch()}}]),a}();c.default=h},{"vendor/Signal":412}],362:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("vendor/Signal"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=function(){function a(){d(this,a)}return e(a,null,[{key:"loadModules",value:function(a){this.nextModules=a,this.clean(),this.checkIfReady(),this.previousModules=this.nextModules}},{key:"clean",value:function(){if(this.loaded=0,app.manifestLoader.complete.remove(this.onLoadComplete),this.previousModules&&this.previousModules.length>0)return this.previousModules.map(function(a){return a.module.preloadReady.removeAll()})}},{key:"checkIfReady",value:function(){var a=this;this.nextModules.map(function(b){return b.module.preloadReady.addOnce(a.onReady),b.module.preload()})}},{key:"onReady",value:function(a){for(var b=0;b<this.nextModules.length;b++){var c=this.nextModules[b];c.id===a&&(c.ready=!0,this.loaded++)}this.loaded===this.nextModules.length&&this.load()}},{key:"load",value:function(){for(var a=[],b=0;b<this.nextModules.length;b++){var c=this.nextModules[b];a=a.concat(c.module.getBatches())}app.manifestLoader.complete.addOnce(this.onLoadComplete),app.manifestLoader.load(a)}},{key:"onLoadComplete",value:function(){this.complete.dispatch()}}]),a}();c.default=h,h.onReady=h.onReady.bind(h),h.onLoadComplete=h.onLoadComplete.bind(h),h.complete=new g.default},{"vendor/Signal":412}],363:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./ModulesSwitcher"),h=d(g),i=a("extend"),j=d(i),k=a("vendor/Exist"),l=d(k),m=function(){function a(){e(this,a)}return f(a,null,[{key:"setModulesRoutesData",value:function(a){this.modulesRoutesData=a,this.routes=this.parseRoutes(this.modulesRoutesData.modules)}},{key:"switch",value:function(a){var b=this.cloneModules(this.modulesRoutesData),c=[],d=[],e=this.getModuleByRoute(a[0].route,b,d);d=d.reverse(),d.push(e.id),this.cleanTree(b,d),this.getFlattenTree(b.modules,c),h.default.switch(b,c,a[0],e)}},{key:"cleanTree",value:function(a,b){if((0,l.default)(a.modules))for(var c=a.modules.length;c--;){var d=a.modules[c];-1===b.indexOf(d.id)&&(0,l.default)(d.routes)&&a.modules.splice(c,1),this.cleanTree(d,b)}}},{key:"getFlattenTree",value:function(a,b){for(var c=0;c<a.length;c++){var d=a[c];b.push(d.id),(0,l.default)(d.modules)&&d.modules.length>0&&this.getFlattenTree(d.modules,b)}}},{key:"getModuleByRoute",value:function(a,b,c){for(var d=0;d<b.modules.length;d++){var e=b.modules[d];if((0,l.default)(e.routes)&&e.routes.indexOf(a)>-1)return e;if((0,l.default)(e.modules)){var f=this.getModuleByRoute(a,e,c);if((0,l.default)(f))return c.push(e.id),f}}}},{key:"parseRoutes",value:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];(0,l.default)(d.routes)&&b.push({routes:d.routes,middleware:d.middleware}),(0,l.default)(d.modules)&&(b=b.concat(this.parseRoutes(d.modules)))}return b}},{key:"cloneModules",value:function(a){return a=(0,j.default)(!0,{},a)}}]),a}();c.default=m},{"./ModulesSwitcher":364,extend:334,"vendor/Exist":410}],364:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./ModulesLoader"),h=d(g),i=a("vendor/Exist"),j=d(i),k=a("modules/index"),l=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}(k),m=function(){function a(){e(this,a)}return f(a,null,[{key:"switch",value:function(a,b,c,d){null==this.modules&&(this.modules=[]),this.flattenNextModules=b,this.routeObject=c,this.nextModule=d,this.addNewModules(a.modules);for(var e=[],f=0;f<this.flattenNextModules.length;f++){var g=this.flattenNextModules[f];e.push(this.getModuleById(g))}this.cleanSwitch(),h.default.complete.addOnce(this.doSwitch),h.default.loadModules(e)}},{key:"cleanSwitch",value:function(){h.default.complete.removeAll()}},{key:"doSwitch",value:function(){this.cleanSubmodules(this.modules,this.flattenNextModules),this.cascadeExitSwitch(this.modules,this.flattenNextModules),this.cascadeEnterSwitch()}},{key:"cleanSubmodules",value:function(a,b,c){for(var d=0;d<a.length;d++)-1==b.indexOf(a[d].id)&&c&&c.submodules.splice(c.submodules.indexOf(a[d]),1),(0,j.default)(a[d])&&(0,j.default)(a[d].module)&&a[d].module.submodules.length>0&&this.cleanSubmodules(a[d].module.submodules,b,a[d].module)}},{key:"cascadeEnterSwitch",value:function(a){for(var b=0;b<this.modules.length;b++){this.getModuleById(this.modules[b].id).module.enter()}}},{key:"getModuleById",value:function(a){for(var b=0;b<this.modules.length;b++){var c=this.modules[b];if(c.id===a)return c}}},{key:"addNewModules",value:function(a){for(var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=0;c<a.length;c++){var d=a[c],e={params:{}};this.nextModule.id===d.id&&(e=this.routeObject);var f=this.getModuleById(d.id),g=null;(0,j.default)(b)&&(e.params.parent=b.id),(null==f||(0,j.default)(f)&&e.params.id!=f.module.params.id)&&(g=new(l[this.defineClassName(d)])(d.id,e.params),(0,j.default)(b)&&b.addSubmodule(g),this.modules.push({id:d.id,module:g,ready:!1})),null==g&&(g=f.module),(0,j.default)(d.modules)&&d.modules.length>0&&this.addNewModules(d.modules,g)}}},{key:"defineClassName",value:function(a){var b=a.id,c=b.toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()});return c=c.charAt(0).toUpperCase()+c.slice(1),c+="Module"}},{key:"cascadeExitSwitch",value:function(a,b){for(var c=a.length;c--;){var d=a[c];(-1===b.indexOf(d.id)||-1!==b.indexOf(d.id)&&d.id==this.nextModule.id&&this.routeObject.params.id!==d.module.params.id)&&(d.module.exit(),a.splice(c,1))}}}]),a}();c.default=m,m.doSwitch=m.doSwitch.bind(m)},{"./ModulesLoader":362,"modules/index":395,"vendor/Exist":410}],365:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("./MiddlewareMethods"),h=d(g),i=a("vendor/Signal"),j=d(i),k=function(){function a(){e(this,a)}return f(a,null,[{key:"callMethod",value:function(a){"function"==typeof h.default[a]?h.default[a].call(this):this.respondPositive()}},{key:"onRedirect",value:function(){app.user.data&&"missing_user"!=app.user.error?(app.user.brackets.length<=0?app.router.navigate("/bracket/new",{silent:!0}):app.router.navigate("/dashboard"),this.response.dispatch(!1)):this.response.dispatch(!0)}},{key:"isLogged",value:function(){if(app.user.data&&"missing_user"!=app.user.error){if(app.user.brackets.length<=0)return app.router.navigate("/bracket/new",{silent:!0}),void this.response.dispatch(!1);this.response.dispatch(!0)}else app.user.logout(),this.response.dispatch(!1)}},{key:"canPlay",value:function(){app.user.data&&"missing_user"!=app.user.error?app.user.data.can_play?this.response.dispatch(!0):this.response.dispatch(!1):(app.user.logout(),this.response.dispatch(!1))}},{key:"isAdmin",value:function(){if(app.user.league&&app.user.data)for(var a=app.user.league.users,b=0;b<a.length;b++)if(1==a[b].is_admin&&a[b].facebookId==app.user.data.facebookId)return void this.response.dispatch(!0);this.response.dispatch(!1),app.router.navigate("/leagues")}},{key:"respondPositive",value:function(){this.response.dispatch(!0)}},{key:"respondNegative",value:function(){this.response.dispatch(!1)}}]),a}();c.default=k,k.response=new j.default},{"./MiddlewareMethods":366,"vendor/Signal":412}],366:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=a("./Middleware"),i=function(a){return a&&a.__esModule?a:{default:a}}(h),j=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),g(b,null,[{key:"isValidUser",value:function(){app.datas.appDebug?this.respondPositive():(this.respondNegative(),app.router.navigate("/"))}}]),b}(i.default);c.default=j},{"./Middleware":365}],367:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("vendor/Signal"),h=d(g),i=a("path-to-regexp"),j=d(i),k=a("utils/StringUtils"),l=d(k),m=a("./MiddlewareMethods"),n=d(m),o=a("vendor/Exist"),p=d(o),q=function(){function a(b,c){e(this,a),this.onMiddlewareResponse=this.onMiddlewareResponse.bind(this),this.onPopState=this.onPopState.bind(this),this.locale=b,this.noLocaleInRoute=c||!1,this.onSameRoute=new h.default,this.routeMatched=new h.default,this.middlewareRefused=new h.default,this.regexps=[],this.isPopState=!1,window.addEventListener("popstate",this.onPopState)}return f(a,[{key:"onPopState",value:function(a){if((0,p.default)(a)&&(0,p.default)(a.state)){this.isPopState=!0;var b=a.state.replace(app.datas.basePath,"");this.navigate(b)}}},{key:"navigate",value:function(a,b){this.extra=b,this.parse(a)}},{key:"replaceState",value:function(a){if((null==this.extra||(0,p.default)(this.extra.silent)&&!this.extra.silent)&&window.history.pushState){if(null==this.lastRoute)return;this.lastRoute.cleanFull===a?window.history.replaceState(a,null,a):window.history.pushState(a,null,a)}}},{key:"parse",value:function(a){if(null==a){if(window.history.pushState){var b=window.location.href;window.history.pushState(b,null,b)}a=this.removeBasePath(window.location.pathname),a=this.removeLocale(a)}if(this.lastRoute=this.nextRoute,this.tmpNextRoute=this.buildRouteObjectFromHash(a),(0,p.default)(this.lastRoute)&&this.lastRoute.cleanFull===this.tmpNextRoute.cleanFull)return void this.onSameRoute.dispatch();for(var c=null,d=0;d<this.regexps.length;d++){var e=this.regexps[d],f=e.regexp.exec(this.tmpNextRoute.clean);if((0,p.default)(f)){for(var g=f.splice(1),h={},i=0;i<g.length;i++){var j=g[i];h[e.keys[i].name]=j}var k=e.routeObj;c={route:k.routes[0],params:h,middleware:k.middleware};break}}this.parseResponse(c)}},{key:"parseResponse",value:function(a){(0,p.default)(a)?(0,p.default)(a.middleware)?(this.matchedRoute=a,n.default.response.addOnce(this.onMiddlewareResponse),n.default.callMethod(a.middleware)):(this.doReplaceState(),this.nextRoute=this.tmpNextRoute,this.routeMatched.dispatch([a])):this.routeMatched.dispatch(!1)}},{key:"onMiddlewareResponse",value:function(a){if(this.nextRoute=this.tmpNextRoute,!a)return void this.middlewareRefused.dispatch();var b=this.matchedRoute;this.doReplaceState(),this.routeMatched.dispatch([b])}},{key:"doReplaceState",value:function(){this.isPopState||this.replaceState(this.tmpNextRoute.cleanFull),this.isPopState=!1}},{key:"removeBasePath",value:function(a){return 0===a.indexOf(basePath)?a.substr(basePath.length):a}},{key:"removeLocale",value:function(a){return 0===a.indexOf(this.locale)?a.substr(this.locale.length):a}},{key:"buildRouteObjectFromHash",value:function(a){var b={};if(b.raw=l.default.removeTrailingSlash(a),a=l.default.removeLeadingSlash(a),this.noLocaleInRoute)a="/"+a;else{var c=new RegExp("^"+this.locale+"([^\\w]|$)");a=a.replace(c,""),a=l.default.removeLeadingSlash(a),a="/"+this.locale+"/"+a}return a=l.default.removeTrailingSlash(a),a+="/",b.clean=a,a=l.default.removeLeadingSlash(a),a=basePath+a,b.cleanFull=a,b}},{key:"addRoutes",value:function(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.routes)for(var d=0;d<c.routes.length;d++){var e=c.routes[d],f=[];this.noLocaleInRoute||(e="/"+this.locale+e),this.regexps.push({regexp:(0,j.default)(e,f),keys:f,middleware:c.middleware,routeObj:c})}(0,p.default)(c.modules)&&this.addRoutes(c.modules)}}}]),a}();c.default=q},{"./MiddlewareMethods":366,"path-to-regexp":347,"utils/StringUtils":405,"vendor/Exist":410,"vendor/Signal":412}],368:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("twig"),h=d(g),i=a("vendor/Exist"),j=d(i),k=function(){function a(){e(this,a)}return f(a,null,[{key:"render",value:function(a,b){return h.default.twig({data:a,allowInlineIncludes:!0}).render(b)}},{key:"append",value:function(a,b,c){var d=$(this.render(b,c));return this.add(a,d),d}},{key:"prepend",value:function(a,b,c){var d=$(this.render(b,c));return this.add(a,d,!0),d}},{key:"add",value:function(a,b){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?a.prepend(b):a.append(b)}},{key:"registerPartial",value:function(a,b){return h.default.twig({id:a,data:b})}}]),a}();c.default=k,h.default.twig({id:"@partials/global/modules.twig",data:""}),h.default.extendFunction("resolveImage",function(a){var b=app.datas.assetsBaseURL+app.datas.assetsPath,c=app.manifestLoader.getFileById("img."+a);return(0,j.default)(c)?c:b+app.datas.library.img[a]})},{twig:357,"vendor/Exist":410}],369:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=a("core/modules/AbstractModule"),k=d(j),l=a("core/utils/TemplateRenderer"),m=d(l),n=a("vendor/Signal"),o=d(n),p=function(a){function b(a,c){e(this,b);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.preloadReady=new o.default,d}return g(b,a),h(b,[{key:"getBatches",value:function(){return this.id}},{key:"preload",value:function(){this.preloadReady.dispatch(this.id)}},{key:"addTemplate",value:function(a,b){b.params=this.params;var c=app.manifestLoader.getFile(this.id,"tpl."+this.id);this.$elt=m.default.append(a,c,b)}},{key:"enter",value:function(){this.showed||(this.params.parent?this.$parentWrapper=$("#"+this.params.parent):this.$parentWrapper=app.$root,this.addTemplate(this.$parentWrapper,app.datas),this.registerDOM(),i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"enter",this).call(this))}},{key:"registerDOM",value:function(){}},{key:"bind",value:function(){}},{key:"show",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"show",this).call(this),this.bind()}},{key:"exit",value:function(){this.showed&&i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"exit",this).call(this)}},{key:"unbind",value:function(){}},{key:"hide",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"hide",this).call(this),this.unbind()}},{key:"destroy",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"destroy",this).call(this),this.$elt.remove()}}]),b}(k.default);c.default=p},{"core/modules/AbstractModule":361,"core/utils/TemplateRenderer":368,"vendor/Signal":412}],370:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("perfect-scrollbar"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=function(){function a(){d(this,a),this.$contact=$("#contact"),this.$menu=$("#menu"),this.$root=$("#root"),this.$terms=$("#terms"),this.onShowContact=this.onShowContact.bind(this),this.onUpdateSelect=this.onUpdateSelect.bind(this),this.onCheck=this.onCheck.bind(this),this.onSubmit=this.onSubmit.bind(this),this.onFileChanged=this.onFileChanged.bind(this),this.onCaptcha=this.onCaptcha.bind(this),this.ps=new g.default(this.$contact.find(".scrolling").get(0)),this.$contact.find("select").fancySelect(),this.$contact.find("select").on("change.fs",this.onUpdateSelect),this.bind()}return e(a,[{key:"bind",value:function(){this.$contact.find('input[type="file"]').on("change",this.onFileChanged),this.$contact.find(".close").on("click",this.onShowContact),this.$contact.find(".submit").on("click",this.onSubmit),this.$contact.find("#sexe-m, #sexe-mme").on("click",this.onCheck)}},{key:"onFileChanged",value:function(a){a.target.files[0].size>3e6?$(a.target).addClass("error"):$(a.target).removeClass("error")}},{key:"hide",value:function(){this.$contact.removeClass("show")}},{key:"onCheck",value:function(a){"sexe-m"==a.target.id?(this.$contact.find("#sexe-mme").get(0).checked=!1,this.$contact.find("#sexe-mme, #sexe-m").removeClass("error")):(this.$contact.find("#sexe-m").get(0).checked=!1,this.$contact.find("#sexe-mme, #sexe-m").removeClass("error"))}},{key:"onSubmit",value:function(a){var b=this;a.preventDefault();var c={"sexe-m":{},"sexe-mme":{},first_name:{required:!0},last_name:{required:!0},address:{required:!0},zip:{required:!0},city:{required:!0},country:{},email:{required:!0,email:!0},"email-confirm":{equalTo:'[name="email"]'},phone:{},birthday:{required:!0,pattern:/[0-9]{2}[\/][0-9]{2}[\/][0-9]{4}/},request:{},message:{required:!0},permission_whaou:{}},d=this.$contact.find("#request").get(0).selectedIndex;1==d&&(c.product_name={required:!0},c.product_date={required:!0,pattern:/[0-9]{2}[\/][0-9]{2}[\/][0-9]{4}/},c.product_lot={required:!0},c.product_images={required:!0}),3==d&&(c.game_name={required:!0}),5==d&&(c.other_images={required:!0}),this.form&&this.form.destroy(),this.form=this.$contact.find("form").validate({rules:c});var e=this.form.form();if(0==d&&(e=!1),$("#sexe-m:checked, #sexe-mme:checked").length<=0?(e=!1,$("#sexe-m, #sexe-mme").addClass("error")):$("#sexe-m, #sexe-mme").removeClass("error"),1==d)for(var f=0;f<$("#product_images")[0].files.length;f++)$("#product_images")[0].files[f].size>3e6&&(e=!1,$("#product_images").addClass("error"));if(5==d)for(var g=0;g<$("#other_images")[0].files.length;g++)$("#other_images")[0].files[g].size>3e6&&(e=!1,$("#other_images").addClass("error"));e?(this.$contact.find(".submit").addClass("hide"),this.$contact.find(".loader-spinner").addClass("show"),grecaptcha.execute()):(this.$contact.find(".submit").addClass("hide"),this.$contact.find(".loader-spinner").addClass("show"),setTimeout(function(){b.$contact.find(".submit").removeClass("hide"),b.$contact.find(".loader-spinner").removeClass("show"),b.$contact.find(".submit").addClass("error"),setTimeout(function(){b.$contact.find(".submit").removeClass("error")},300)},300))}},{key:"onCaptcha",value:function(a){var b=this;grecaptcha.reset(),window.onSubmit=function(){};var c=new FormData(this.$contact.find("form").get(0));$.ajax({url:"/api/v1/emails",data:c,contentType:!1,processData:!1,cache:!1,dataType:"json",method:"POST",success:function(a){a&&a.error?(b.$contact.find(".submit").addClass("error"),setTimeout(function(){b.$contact.find(".submit").removeClass("error")},300),window.onSubmit=window.app.contact.onCaptcha):(b.$contact.addClass("after"),b.ps.update()),b.$contact.find(".submit").removeClass("hide"),b.$contact.find(".loader-spinner").removeClass("show")}})}},{key:"onUpdateSelect",value:function(a){var b=this,c=this.$contact.find("#request").get(0).selectedIndex;c>0?this.$contact.find(".message-pub").addClass("hide"):this.$contact.find(".message-pub").removeClass("hide");var d=this.$contact.find("#request option").eq(c).attr("data-id");this.$contact.find(".opt").removeClass("show"),this.$contact.find(".opt-spinner").addClass("show"),setTimeout(function(){b.$contact.find(".opt-spinner").removeClass("show"),b.$contact.find("."+d).addClass("show")},400)}},{key:"onShowContact",value:function(a){a&&(a.stopPropagation(),a.preventDefault()),window.onSubmit=window.app.contact.onCaptcha,this.$menu.find(".terms-link").removeClass("active"),this.$menu.find(".contact-link").removeClass("active"),this.$contact.hasClass("show")?(this.form=this.$contact.find("form").validate(),this.form.resetForm(),this.$contact.find("form")[0].reset(),this.$contact.removeClass("show after"),this.$captcha=null):(this.form=this.$contact.find("form").validate(),this.form.resetForm(),this.$contact.find("form")[0].reset(),this.$contact.addClass("show").removeClass("after"),this.$terms.removeClass("show"),this.$menu.find(".contact-link").addClass("active"),this.$captcha=this.$contact.find(".g-recaptcha"))}}]),a}();c.default=h},{"perfect-scrollbar":348}],371:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this.onClick=this.onClick.bind(this),this.onSkip=this.onSkip.bind(this),this.$elt=$("#cookies")}return e(a,[{key:"bind",value:function(){}},{key:"unbind",value:function(){}},{key:"onClick",value:function(a){}},{key:"onSkip",value:function(a){}},{key:"show",value:function(){}},{key:"hide",value:function(){}}]),a}();c.default=f},{}],372:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){
var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("perfect-scrollbar"),h=d(g),i=a("vendor/Swipe"),j=d(i),k=function(){function a(){var b=this;e(this,a),this.onRoutesMatched=this.onRoutesMatched.bind(this),this.onClickBurger=this.onClickBurger.bind(this),this.onClickHide=this.onClickHide.bind(this),this.onShowTerms=this.onShowTerms.bind(this),this.onClickSlide=this.onClickSlide.bind(this),this.onNext=this.onNext.bind(this),this.onPrev=this.onPrev.bind(this),this.$elt=$("#header"),this.$overlay=$("#overlay-menu"),this.$menu=$("#menu"),this.$root=$("#root"),this.$terms=$("#terms");new h.default(this.$terms.find(".scrolling").get(0));this.swiper=new j.default(this.$menu.find("#swiper")[0],{startSlide:1,auto:3e3,callback:function(a){b.$menu.find(".bottom .next, .bottom .prev").removeClass("disable"),a>=b.$menu.find("#swiper .slide").length-1?b.$menu.find(".bottom .next").addClass("disable"):0==a&&b.$menu.find(".bottom .prev").addClass("disable")}}),this.swiper.disable(),TweenMax.set(this.$elt.find(".logo"),{scale:0}),this.bind(),app.router.routeMatched.add(this.onRoutesMatched)}return f(a,[{key:"animIn",value:function(){TweenMax.to(this.$elt.find(".logo"),1,{scale:1,ease:Elastic.easeOut.config(1,.8)})}},{key:"onRoutesMatched",value:function(a){if(a&&a.length>0){var b=a[0];if(this.$elt.find(".bg").removeClass("hide"),this.$menu.find(".roadmap li").removeClass("active"),b)if(b.params&&b.params.id)for(var c=0;c<app.datas.l10n.scenes.length;c++){var d=app.datas.l10n.scenes[c];-1!=d.link.indexOf(b.params.id)&&(this.$elt.find(".bg").addClass("hide"),this.$menu.find('.roadmap li a[data-id="'+d.id+'"]').parent().addClass("active"))}else this.$menu.find(".roadmap li").eq(0).addClass("active")}}},{key:"bind",value:function(){this.$menu.find(".slide").on("click",this.onClickSlide),this.$terms.find(".close").on("click",this.onShowTerms),this.$elt.find(".burger").on("click",this.onClickBurger),this.$menu.find(".terms-link").on("click",this.onShowTerms),this.$menu.find(".contact-link").on("click",app.contact.onShowContact),this.$menu.find(".bottom .next").on("click",this.onNext),this.$menu.find(".bottom .prev").on("click",this.onPrev)}},{key:"onPrev",value:function(){this.swiper.prev()}},{key:"onNext",value:function(){this.swiper.next()}},{key:"onClickSlide",value:function(a){a.preventDefault();var b=$(a.currentTarget).attr("href");this.swiper&&this.swiper.getDragging()||window.open(b,"_blank")}},{key:"onClickBurger",value:function(){this.$elt.hasClass("active")?this.hide():this.show()}},{key:"hideBurger",value:function(){this.$elt.find(".burger").addClass("hide")}},{key:"showBurger",value:function(){this.$elt.find(".burger").removeClass("hide")}},{key:"onClickHide",value:function(){this.hide()}},{key:"onShowTerms",value:function(a){a.stopPropagation(),a.preventDefault(),this.$menu.find(".terms-link").removeClass("active"),this.$menu.find(".contact-link").removeClass("active"),this.$terms.hasClass("show")?(this.$terms.removeClass("show"),$(a.currentTarget).removeClass("active")):(this.$terms.addClass("show"),app.contact.hide(),$(a.currentTarget).addClass("active"))}},{key:"show",value:function(){this.$overlay.on("click",this.onClickHide),this.$elt.addClass("active"),this.$menu.addClass("show"),this.$root.find("#mouse").removeClass("show"),this.$overlay.addClass("show"),this.$root.addClass("anim"),this.swiper.slide(0,0),this.$menu.find(".bottom .prev").addClass("disable"),this.swiper.enable(),TweenMax.set(this.$menu.find(".roadmap li"),{skewY:-10,y:20,force3D:!0}),TweenMax.staggerTo(this.$menu.find(".roadmap li"),.7,{skewY:0,y:0,force3D:!0,ease:Elastic.easeOut.config(1,1.2)},.03)}},{key:"hide",value:function(){this.$overlay.off("click",this.onClickHide),this.$elt.removeClass("active"),this.$root.find("#mouse").addClass("show"),this.$root.removeClass("anim"),this.$menu.find(".terms-link").removeClass("active"),this.$menu.find(".contact-link").removeClass("active"),this.$menu.removeClass("show"),this.$overlay.removeClass("show"),this.$terms.removeClass("show"),app.contact.hide(),this.swiper.slide(1,0),this.swiper.disable()}}]),a}();c.default=k},{"perfect-scrollbar":348,"vendor/Swipe":413}],373:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=a("./BaseModule"),k=d(j),l=a("./gl/Scene"),m=d(l),n=a("./MouseModule"),o=d(n),p=a("vendor/Swipe"),q=d(p),r=a("utils/Events"),s=d(r),t=function(a){function b(a,c){e(this,b);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.onClickScene=d.onClickScene.bind(d),d.onResize=d.onResize.bind(d),d.onClickSlide=d.onClickSlide.bind(d),d.onMouseOver=d.onMouseOver.bind(d),d.onDiscover=d.onDiscover.bind(d),d.onMouseOut=d.onMouseOut.bind(d),d}return g(b,a),h(b,[{key:"addSubmodule",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"addSubmodule",this).call(this,a)}},{key:"onSubmoduleDestroy",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onSubmoduleDestroy",this).call(this)}},{key:"bind",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"bind",this).call(this),this.$elt.find(".scene").on("click",this.onClickScene),this.$elt.find(".slide").on("click",this.onClickSlide),this.$elt.find(".discover").on("click",this.onDiscover),this.$elt.find(".scene, .discover").on("mouseenter",this.onMouseOver),this.$elt.find(".scene, .discover").on("mouseleave",this.onMouseOut),s.default.RESIZED.add(this.onResize)}},{key:"onDiscover",value:function(a){a.stopPropagation(),a.preventDefault(),this.scene.animToFirst()}},{key:"onClickSlide",value:function(a){a.preventDefault();var b=$(a.currentTarget).attr("href"),c=$(a.currentTarget).attr("target");this.swiper&&this.swiper.getDragging()||window.open(b,c)}},{key:"onResize",value:function(){Stage.width<768||Device.mobile?(this.swiper&&this.swiper.kill(),this.swiper=new q.default(this.$elt.find("#swiper")[0],{startSlide:1,auto:3e3,callback:function(a){}}),this.swiper.slide(0,0)):this.swiper&&this.swiper.kill()}},{key:"registerDOM",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"registerDOM",this).call(this)}},{key:"show",value:function(){var a=this;i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"show",this).call(this),app.header.showBurger(),setTimeout(function(){a.scene=new m.default(a.$elt),a.scene.bind()},200),this.mouse=new o.default($("#mouse"),!0),this.mouse.bind(),this.onResize(),app.router.nextRoute&&"contact"==app.router.nextRoute.raw&&(app.header.show(),app.header.onShowContact())}},{key:"onMouseOver",value:function(){this.mouse.hide()}},{key:"onMouseOut",value:function(){this.mouse.show()}},{key:"onClickScene",value:function(a){a.preventDefault(),a.stopPropagation();var b=$(a.currentTarget).attr("href");if(-1!=b.indexOf("maison")&&(Stage.width<768||Device.mobile)){var c=JSON.parse(JSON.stringify(app.datas.l10n.scenes[0])),d=c.layers_hover[0];return void(d.iframe_url&&window.open(d.iframe_url,"_blank"))}a.clientX,a.clientY;this.scene&&this.scene.animOut($(a.currentTarget).attr("data-id")),$(".overlay").addClass("show"),setTimeout(function(){app.router.navigate(b)},1e3)}},{key:"unbind",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"unbind",this).call(this),this.$elt.find(".scene").off("click",this.onClickScene),this.scene&&this.scene.unbind(),this.mouse.unbind(),s.default.RESIZED.remove(this.onResize),this.$elt.find(".discover").off("click",this.onDiscover),this.swiper&&this.swiper.kill(),this.$elt.find(".slide").off("click",this.onClickSlide),this.$elt.find(".scene").off("mouseenter",this.onMouseOver),this.$elt.find(".scene").off("mouseleave",this.onMouseOut)}}]),b}(k.default);c.default=t},{"./BaseModule":369,"./MouseModule":376,"./gl/Scene":393,"utils/Events":399,"vendor/Swipe":413}],374:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this.onClick=this.onClick.bind(this),this.$elt=$("#intro"),TweenMax.set(this.$elt.find(".close"),{scale:3,alpha:0}),TweenMax.set(this.$elt.find(".center"),{scale:0,skewX:-10}),this.bind()}return e(a,[{key:"bind",value:function(){this.$elt.find(".close").on("click",this.onClick),this.$elt.on("click",this.onClick)}},{key:"unbind",value:function(){this.$elt.find(".close").off("click",this.onClick),this.$elt.off("click",this.onClick)}},{key:"onClick",value:function(a){var b=this;a.preventDefault(),$(a.target).parents(".center").length>0?$(a.target).hasClass("submit")&&setTimeout(function(){window.open($(a.target).attr("href"),"_blank"),b.hide()},100):this.hide()}},{key:"show",value:function(){TweenMax.to(this.$elt.find(".close"),1,{delay:.2,scale:1,ease:Elastic.easeOut.config(1,.9)}),TweenMax.to(this.$elt.find(".close"),.3,{delay:.2,alpha:1}),TweenMax.to(this.$elt.find(".center"),.7,{skewX:0,scale:1,x:"-50%",y:"-50%",ease:Elastic.easeOut.config(1,.8)})}},{key:"hide",value:function(){var a=this;this.unbind(),TweenMax.to(this.$elt.find(".close"),.4,{scale:0,ease:Expo.easeOut}),TweenMax.to(this.$elt.find(".center"),.2,{x:"-50%",y:"-50%",scale:0,ease:Expo.easeOut}),setTimeout(function(){a.$elt.addClass("hide")},300)}}]),a}();c.default=f},{}],375:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this.speed=0,this.onStart=this.onStart.bind(this),this.onProgress=this.onProgress.bind(this),this.onComplete=this.onComplete.bind(this),this.onRender=this.onRender.bind(this),app.manifestLoader.start.add(this.onStart),app.manifestLoader.progress.add(this.onProgress),app.manifestLoader.complete.add(this.onComplete),this.isFirst=!0,this.$body=$("body"),this.$loader=$("#loader"),this.$mainLoader=$("#main-loader"),this.onStart(),Render.add(this.onRender,60)}return e(a,[{key:"onStart",value:function(){this.prevTime=Date.now(),this.prevLoaded=0,this.$loader.addClass("show"),this.$body.addClass("loading"),this.$mainLoader.find("#main-loader-content").addClass("show")}},{key:"onRender",value:function(){this.prevLoaded!=this.currentLoaded&&(this.$mainLoader.find(".indicator").html(Math.floor(100*this.currentLoaded)),this.prevLoaded=this.currentLoaded)}},{key:"onProgress",value:function(a){var b=(a.loaded-this.prevLoaded)/(Date.now()-this.prevTime)*1e3;isNaN(b)||(this.speed=b.toFixed(2)),this.currentLoaded=a.loaded,this.prevTime=Date.now()}},{key:"onComplete",value:function(){var a=this;setTimeout(function(){a.$loader.removeClass("show"),a.isFirst||a.$body.removeClass("loading"),setTimeout(function(){Render.remove(a.onRender),app.header.animIn(),setTimeout(function(){app.cookies.show()},1e3)},600)},200),this.isFirst&&setTimeout(function(){a.$mainLoader.addClass("hide"),a.isFirst=!1,a.$body.removeClass("loading")},2e3)}}]),a}();c.default=f},{}],376:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("utils/Events"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=function(){function a(b){var c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];d(this,a),this.onRender=this.onRender.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onResize=this.onResize.bind(this),this.targetY=-9999,this.targetX=-9999,this.currentY=-9999,this.currentX=-9999,this.enableResize=c,this.$div=b,this.show()}return e(a,[{key:"init",value:function(){this.unbind(),this.bind(),this.onResize()}},{key:"bind",value:function(){window.addEventListener("mouseout",this.onMouseUp),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousedown",this.onMouseDown),window.addEventListener("mousemove",this.onMouseMove),Render.add(this.onRender),g.default.RESIZED.add(this.onResize)}},{key:"unbind",value:function(){window.removeEventListener("mouseout",this.onMouseUp),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mousedown",this.onMouseDown),Render.remove(this.onRender),g.default.RESIZED.remove(this.onResize)}},{key:"onRender",value:function(){this.currentY+=.3*(this.targetY-this.currentY),this.currentX+=.3*(this.targetX-this.currentX),TweenMax.set(this.$div,{x:this.currentX,y:this.currentY})}},{key:"onResize",value:function(){this.enableResize&&(!Device.touch&&Stage.width>1024?this.$div[0].style.display="block":this.$div[0].style.display="none")}},{key:"hide",value:function(){this.$div.removeClass("show")}},{key:"show",value:function(){this.$div.addClass("show")}},{key:"onMouseMove",value:function(a){this.targetX=a.clientX,this.targetY=a.clientY}},{key:"onMouseUp",value:function(){this.$div.removeClass("focus")}},{key:"onMouseDown",value:function(){this.$div.addClass("focus")}},{key:"destroy",value:function(){this.unbind()}}]),a}();c.default=h},{"utils/Events":399}],377:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=a("./BaseModule"),k=d(j),l=a("./gl/Kitchen"),m=d(l),n=a("./gl/Room"),o=d(n),p=a("./gl/HallOfFame"),q=d(p),r=a("./gl/Grenier"),s=d(r),t=a("./gl/CoinParents"),u=d(t),v=a("./gl/Boutique"),w=d(v),x=a("./gl/Salon"),y=d(x),z=a("./gl/GeekRoom"),A=d(z),B=a("./gl/SalleDeJeux"),C=d(B),D=function(a){function b(a,c){return e(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c))}return g(b,a),h(b,[{key:"getBatches",value:function(){if(app.router.nextRoute){if(-1!=app.router.nextRoute.raw.indexOf("cuisine"))return[this.id,"kitchen"];if(-1!=app.router.nextRoute.raw.indexOf("chambre"))return[this.id,"bedroom"];if(-1!=app.router.nextRoute.raw.indexOf("hall-of-fame"))return[this.id,"halloffame"];if(-1!=app.router.nextRoute.raw.indexOf("grenier"))return[this.id,"grenier"];if(-1!=app.router.nextRoute.raw.indexOf("coin-parents"))return[this.id,"coinparents"];if(-1!=app.router.nextRoute.raw.indexOf("boutique"))return[this.id,"boutique"];if(-1!=app.router.nextRoute.raw.indexOf("geekroom"))return[this.id,"geekroom"];if(-1!=app.router.nextRoute.raw.indexOf("salon"))return[this.id,"salon"];if(-1!=app.router.nextRoute.raw.indexOf("salledejeux"))return[this.id,"salledejeux"]}return"cuisine"==this.params.id?[this.id,"kitchen"]:"chambre"==this.params.id?[this.id,"bedroom"]:"hall-of-fame"==this.params.id?[this.id,"halloffame"]:"grenier"==this.params.id?[this.id,"grenier"]:"coin-parents"==this.params.id?[this.id,"coinparents"]:"boutique"==this.params.id?[this.id,"boutique"]:"geekroom"==this.params.id?[this.id,"geekroom"]:"salon"==this.params.id?[this.id,"salon"]:"salledejeux"==this.params.id?[this.id,"salledejeux"]:this.id}},{key:"show",value:function(){var a=this;i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"show",this).call(this),setTimeout(function(){"cuisine"==a.params.id?a.scene=new m.default(a.$elt):"chambre"==a.params.id?a.scene=new o.default(a.$elt):"hall-of-fame"==a.params.id?a.scene=new q.default(a.$elt):"grenier"==a.params.id?a.scene=new s.default(a.$elt):"coin-parents"==a.params.id?(a.scene=new u.default(a.$elt),app.header.hideBurger()):"boutique"==a.params.id?a.scene=new w.default(a.$elt):"salon"==a.params.id?a.scene=new y.default(a.$elt):"geekroom"==a.params.id?a.scene=new A.default(a.$elt):"salledejeux"==a.params.id?a.scene=new C.default(a.$elt):app.router.navigate("/"),a.scene&&a.scene.bind(),setTimeout(function(){$(".overlay").removeClass("show")},100)},100)}},{key:"unbind",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"unbind",this).call(this),this.scene&&this.scene.unbind()}},{key:"hide",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"hide",this).call(this),"coin-parents"==this.params.id&&app.header.showBurger()}}]),b}(k.default);c.default=D},{"./BaseModule":369,"./gl/Boutique":381,"./gl/CoinParents":383,"./gl/GeekRoom":384,"./gl/Grenier":386,"./gl/HallOfFame":387,"./gl/Kitchen":388,"./gl/Room":390,"./gl/SalleDeJeux":391,"./gl/Salon":392}],378:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("utils/Events"),h=d(g),i=a("perfect-scrollbar"),j=d(i),k=a("utils/FunctionUtils"),l=(d(k),function(){function a(b){e(this,a),this.$elt=b,this.$congrats=this.$elt.find("#congrats"),this.$help=this.$elt.find("#help"),this.$more=this.$elt.find("#more");new j.default(this.$more.find(".scrolling").get(0));this.onBack=this.onBack.bind(this),this.onShowMore=this.onShowMore.bind(this),this.onHideMore=this.onHideMore.bind(this),this.onCloseSubCategory=this.onCloseSubCategory.bind(this),this.onOpenSubCategory=this.onOpenSubCategory.bind(this),this.onHideHelp=this.onHideHelp.bind(this),this.onShowHelp=this.onShowHelp.bind(this),this.onOpen=this.onOpen.bind(this),this.onClose=this.onClose.bind(this),this.onRender=this.onRender.bind(this),this.onResize=this.onResize.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.onFocus=this.onFocus.bind(this),this.onRemoveFocus=this.onRemoveFocus.bind(this),this.onUpdateFocus=this.onUpdateFocus.bind(this),this.onScroll=this.onScroll.bind(this),this.onCloseCongrats=this.onCloseCongrats.bind(this),this.onShowCongrats=this.onShowCongrats.bind(this),this.onMoreCongrats=this.onMoreCongrats.bind(this),this.animScene=this.animScene.bind(this),this.preventScroll=!0,this.currentY=0,this.targetY=0,this.wheelled=!1,this.animate=!0,this.initialized=!1,this.target={x:0,y:0},this.targetOnDown={x:0,y:0},this.mouseOnDown={x:0,y:0},this.minY=0,this.maxY=0,this.clearGrab(),this.$sceneView=this.$elt.find("#scene-view"),this.$scene=this.$elt.find("#scene"),this.$scroller=this.$elt.find(".scroller"),this.$gridScene=this.$scene.find(".layer-grid-scene")}return f(a,[{key:"initBackground",value:function(a,b){this.$scene.find(".layer-bg").eq(0).css({width:"110%",height:"110%",top:"-5%",left:"-5%",background:"url("+a.src+")no-repeat center center",backgroundSize:"cover"}),"kitchen"==this.id&&b&&(Stage.width>768?this.$scene.find(".layer-bg-extra").eq(0).css({background:"transparent"}):this.$scene.find(".layer-bg-extra").eq(0).css({width:"110%",height:"110%",top:"-115%",left:"-5%",background:"url("+b.src+")no-repeat center center",backgroundSize:"cover"}))}},{key:"onShowMore",value:function(){this.$more.addClass("show"),app.header.hideBurger()}},{key:"onHideMore",value:function(a){a&&($(a.target).hasClass("close")||$(a.target).parents(".scrolling").length<=0)&&(a&&a.preventDefault(),this.$more.removeClass("show"),app.header.showBurger())}},{key:"onFocus",value:function(){}},{key:"onUpdateFocus",value:function(){}},{key:"onRemoveFocus",value:function(){}},{key:"onMoreCongrats",value:function(){}},{key:"onShowHelp",value:function(){this.$help.addClass("show"),TweenMax.fromTo(this.$help.find(".play"),.7,{scale:0},{scale:1,ease:Elastic.easeOut.config(1,.9)}),this.$help.find(".title, .description").addClass("show")}},{key:"onHideHelp",value:function(a){var b=this;a&&a.preventDefault(),TweenMax.to(this.$help.find(".play"),.2,{scale:0,ease:Expo.easeOut}),setTimeout(function(){b.$help.removeClass("show")},100)}},{key:"clearBackground",value:function(){this.$scene.find(".layer-bg").eq(0).css({width:"110%",height:"110%",top:"-5%",left:"-5%",background:"transparent",backgroundSize:"cover"})}},{key:"initDraggable",value:function(){var a=this;this.draggable=Draggable.create(this.$scroller.get(0),{type:"y",trigger:"#scene-view",dragResistance:0,edgeResistance:.6,throwResistance:0,throwProps:!0,lockAxis:!0,onRelease:function(){a.animate=!0,a.clearGrab()},onPress:function(){a.animate=!1,a.$elt.addClass("grabbing"),a.wheelled=!1}}),this.draggable[0].vars.cursor="inherit",this.clearGrab()}},{key:"showBack",value:function(){"grenier"==this.id?this.$elt.find(".back").on("click",this.onClose):this.$elt.find(".back").on("click",this.onBack),TweenMax.set(this.$elt.find(".back"),{scale:3}),this.$elt.find(".back").addClass("show"),TweenMax.to(this.$elt.find(".back"),1,{delay:.05,scale:1,ease:Elastic.easeOut.config(1,.9)})}},{key:"hideBack",value:function(){var a=this;TweenMax.to(this.$elt.find(".back"),.4,{scale:0,ease:Expo.easeOut,onComplete:function(){a.$elt.find(".back").removeClass("show")}}),"grenier"==this.id?this.$elt.find(".back").off("click",this.onClose):this.$elt.find(".back").off("click",this.onBack)}},{key:"onBack",value:function(){}},{key:"clearGrab",value:function(){this.$elt.removeClass("grabbing").addClass("grab")}},{key:"shuffle",value:function(a){for(var b,c,d=a.length;d;b=parseInt(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a}},{key:"bind",value:function(){"grenier"==this.id?h.default.CLOSED.add(this.onCloseSubCategory):h.default.CLOSED.add(this.onClose),Render.add(this.onRender),h.default.RESIZED.add(this.onResize),h.default.SCROLLED.add(this.onScroll),this.$congrats.find(".close").on("click",this.onCloseCongrats),this.$help.find(".play").on("click",this.onHideHelp),this.$more.on("click",this.onHideMore),this.$more.find(".close").on("click",this.onHideMore)}},{key:"initScene",value:function(){}},{key:"animScene",value:function(){}},{key:"getXY",value:function(a){return{x:a.clientX/Stage.width-.5,y:a.clientY/Stage.height-.5}}},{key:"onMouseEnter",value:function(a){if(this.initialized){$(a.currentTarget).addClass("focused")}}},{key:"onOpen",value:function(a){var b=this;setTimeout(function(){b.clearGrab()},100)}},{key:"onOpenSubCategory",value:function(a){}},{key:"onCloseSubCategory",value:function(a){}},{key:"onClose",value:function(a){this.clearGrab()}},{key:"onShowCongrats",value:function(a){a&&a.preventDefault(),this.$congrats.addClass("show"),app.header.hideBurger()}},{key:"onCloseCongrats",value:function(a){a&&a.preventDefault(),this.$congrats.removeClass("show"),app.header.showBurger()}},{key:"onMouseLeave",value:function(a){$(a.currentTarget).removeClass("focused")}},{key:"onScroll",value:function(a){}},{key:"onRender",value:function(){}},{key:"onResize",value:function(){var a=Math.max(1,Stage.width/1024);a=Math.min(3,a);for(var b=this.$scene.find(".layer-fixed .layer-asset"),c=0;c<b.length;c++)TweenMax.set(b.eq(c),{scale:a,transformOrigin:"50% 0",force3D:!0})}},{key:"unbind",value:function(){"grenier"==this.id?h.default.CLOSED.remove(this.onCloseSubCategory):h.default.CLOSED.remove(this.onClose),h.default.SCROLLED.remove(this.onScroll),Render.remove(this.onRender),h.default.RESIZED.remove(this.onResize),this.parallax&&this.parallax.destroy(),this.draggable&&this.draggable[0].disable(),this.$congrats.find(".close").off("click",this.onCloseCongrats),this.$help.find(".play").on("click",this.onHideHelp),this.$more.off("click",this.onHideMore),this.$more.find(".close").off("click",this.onHideMore)}}]),a}());c.default=l},{"perfect-scrollbar":348,"utils/Events":399,"utils/FunctionUtils":401}],379:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("core/utils/TemplateRenderer"),h=d(g),i=a("plyr"),j=d(i),k=a("glslify"),l=k(["#define GLSLIFY 1\nvec3 bend(vec3 ip, float ba, vec2 b, float o, float a) {\nvec3 op = ip;\nip.x = op.x * cos(a) - op.y * sin(a);\nip.y = op.x * sin(a) + op.y * cos(a);\nif(ba != 0.0) {\n\tfloat radius = b.y / ba;\n\tfloat onp = (ip.x - b.x) / b.y - o;\n\tip.z = cos(onp * ba) * radius - radius;\n\tip.x = (b.x + b.y * o) + sin(onp * ba) * radius;\n}\nop = ip;\nip.x = op.x * cos(-a) - op.y * sin(-a);\nip.y = op.x * sin(-a) + op.y * cos(-a);\nreturn ip;\n}\nvarying vec2 vUv;\nuniform float bendAngle;\nuniform vec2 bounds;\nuniform float bendOffset;\nuniform float bendAxisAngle;\nvoid main(void) {\nvUv = uv;\t\nvec3 p = bend(position, bendAngle, bounds, bendOffset, bendAxisAngle);\ngl_Position = projectionMatrix * modelViewMatrix * vec4(p,1.0);\n}"]),m=k(["#define GLSLIFY 1\nuniform sampler2D colorTexture;\nvarying vec2 vUv;\nvoid main(void) {\n\tgl_FragColor = texture2D( colorTexture, vUv );\n}"]),n=function(){function a(b,c,d){e(this,a),this.index=b,this.$slider=d,this.unfocus=this.unfocus.bind(this),this.focus=this.focus.bind(this),this.sprite=new THREE.Texture,this.sprite.magFilter=THREE.LinearFilter,this.sprite.minFilter=THREE.LinearFilter,this.params={scale:3},this.material=new THREE.ShaderMaterial({vertexShader:l,fragmentShader:m,side:THREE.FrontSide,transparent:!0}),this.material.uniforms={colorTexture:{type:"t",value:this.sprite},bounds:{type:"v2",value:{x:0,y:0}},bendOffset:{type:"f",value:.5},bendAngle:{type:"f",value:0},bendAxisAngle:{type:"f",value:-.5*Math.PI}},this.plane=new THREE.Mesh(new THREE.PlaneGeometry(1,1,1,1),this.material),this.plane.position.set(c.x,c.y,c.z),this.tpl=app.manifestLoader.getFile("default","tpl.bend")}return f(a,[{key:"show",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.params={scale:3*a},TweenMax.to(this.params,1.6,{scale:a,ease:Elastic.easeOut.config(1,.9)})}},{key:"hide",value:function(){this.params={scale:1},TweenMax.to(this.params,.4,{scale:0,ease:Expo.easeOut})}},{key:"toScreenPosition",value:function(a,b){var c=new THREE.Vector3,d=.5*Stage.width,e=.5*Stage.height;return a.updateMatrixWorld(),c.setFromMatrixPosition(a.matrixWorld),c.project(b),c.x=c.x*d+d,c.y=-c.y*e+e,{x:c.x,y:c.y}}},{key:"focus",value:function(){this.player}},{key:"unfocus",value:function(){this.player&&this.player.pause()}},{key:"update",value:function(a,b){var c=this;if(a.full_img){var d=app.manifestLoader.getFile(b,a.full_img);this.sprite.image=d,this.sprite.anisotropy=16,this.sprite.needsUpdate=!0,this.plane.geometry.dispose(),this.plane.geometry=new THREE.PlaneGeometry(this.sprite.image.width,this.sprite.image.height,6,6),this.plane.geometry.computeBoundingBox(),this.material.uniforms.bounds.value={x:-this.sprite.image.width/1.5,y:this.sprite.image.height}}setTimeout(function(){var d=app.datas;if(d.product=a,c.$elt=h.default.append(c.$slider,c.tpl,d),TweenMax.set(c.$elt,{alpha:0,x:9999,y:-Stage.height/2}),c.onResize(),a.youtube_id)c.player=new j.default(c.$elt.find(".player-video").get(0),{fullscreen:{enabled:!1},autoplay:!1,hideControls:!0}),c.$elt.find(".slide-wrapper .w-wrapper").addClass(a.color);else if(a.spotify_url)c.$elt.find(".slide-wrapper .w-wrapper").addClass(a.color);else if(a.poster){var e=app.manifestLoader.getFile(b,a.poster);c.$elt.find(".slide-wrapper .w-wrapper").append(e),c.$elt.find(".slide-wrapper .w-wrapper").addClass(a.color),c.$elt.find(".slide-wrapper .w-wrapper").addClass(a.type)}},100)}},{key:"clean",value:function(){this.player&&(this.player.destroy(),this.player=null,this.$elt&&this.$elt.find(".slide-wrapper .w-wrapper").removeClass("red blue black large small")),this.plane.geometry.dispose()}},{key:"destroy",value:function(){this.plane.geometry.dispose(),this.plane.material.dispose()}},{key:"onResize",value:function(){this.$elt&&(this.x=this.$elt.find(".title").width(),this.xd=this.$elt.find(".description").width(),this.y=this.$elt.height(),app.router.nextRoute&&-1!=app.router.nextRoute.raw.indexOf("geekroom")&&(this.y=this.$elt.find(".w-wrapper").height())),this.plane&&this.plane.position&&(Stage.width<768||Device.mobile?(this.plane.position.y=150,app.router.nextRoute&&(-1==app.router.nextRoute.raw.indexOf("cuisine")&&-1==app.router.nextRoute.raw.indexOf("salon")||(this.plane.position.y=0))):this.plane.position.y=0)}},{key:"onRender",value:function(a,b,c,d){if(this.plane.scale.set(this.params.scale,this.params.scale,this.params.scale),this.plane.rotation.x=-a.position.y/20+.005*a.wiggle.y,this.plane.rotation.y=-a.position.x/20+.005*a.wiggle.x,this.material.uniforms.bendAngle.value=c?.025*a.position.y*Math.PI*2:0,this.position=this.toScreenPosition(this.plane,b),this.$elt){if(app.router.nextRoute&&-1!=app.router.nextRoute.raw.indexOf("geekroom")){TweenMax.to(this.$elt,.2,{x:this.position.x,y:"-50%"})}else if(this.plane.visible){var e=this.plane.geometry.vertices[0],f=new THREE.Vector3;f.setFromMatrixPosition(this.plane.matrixWorld);var g=new THREE.Vector3(-e.x+f.x,e.y-e.y/2+f.y,e.z+f.z);this.vR=g.project(b),
this.vR.x=(this.vR.x+1)/2*Stage.width,this.vR.y=-(this.vR.y-1)/2*Stage.height;var h=new THREE.Vector3(e.x+f.x,-e.y+f.y,e.z+f.z);this.vBottomLeft=h.project(b),this.vBottomLeft.x=(this.vBottomLeft.x+1)/2*Stage.width,this.vBottomLeft.y=-(this.vBottomLeft.y-1)/2*Stage.height;var i=new THREE.Vector3(-e.x+f.x,-e.y+f.y,e.z+f.z);this.vBottomRight=i.project(b),this.vBottomRight.x=(this.vBottomRight.x+1)/2*Stage.width,this.vBottomRight.y=-(this.vBottomRight.y-1)/2*Stage.height;var j=new THREE.Vector3(f.x,-e.y+f.y,e.z+f.z);if(this.vBottom=j.project(b),this.vBottom.x=(this.vBottom.x+1)/2*Stage.width,this.vBottom.y=-(this.vBottom.y-1)/2*Stage.height,Stage.width<768||Device.mobile){var k=this.vBottom.x-this.x/2,l=this.vBottom.y;app.router.nextRoute&&(-1!=app.router.nextRoute.raw.indexOf("boutique")?k=this.vBottom.x-this.xd/3:-1!=app.router.nextRoute.raw.indexOf("hall-of-fame")&&(k=this.vBottom.x-this.xd/2)),TweenMax.to(this.$elt,.2,{x:k,y:l})}else{var m={x:this.vR.x,y:this.vR.y};TweenMax.to(this.$elt,.2,m)}}TweenMax.set(this.$elt,{alpha:this.plane.visible?1:0})}}}]),a}();c.default=n},{"core/utils/TemplateRenderer":368,glslify:336,plyr:350}],380:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("./Bend"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=function(){function a(b){d(this,a),this.$slider=b,this.container=new THREE.Object3D,this.bends=[];for(var c=0;c<15;c++){var e=new THREE.Vector3,f=new g.default(c,e,b);this.bends.push(f),this.container.add(f.plane)}}return e(a,[{key:"getCount",value:function(){for(var a=0,b=0;b<this.bends.length;b++)this.bends[b].plane.visible&&a++;return a}},{key:"show",value:function(a){for(var b=0;b<this.bends.length;b++)this.bends[b].show(a)}},{key:"hide",value:function(){for(var a=0;a<this.bends.length;a++)this.bends[a].hide()}},{key:"update",value:function(a,b,c){this.$slider.empty();for(var d=0;d<this.bends.length;d++){var e=2*Stage.width*d-200;(Stage.width<768||Device.mobile||app.router.nextRoute&&(-1!=app.router.nextRoute.raw.indexOf("cuisine")||-1!=app.router.nextRoute.raw.indexOf("salon")))&&(e=2*Stage.width*d),app.router.nextRoute&&-1!=app.router.nextRoute.raw.indexOf("geekroom")&&(e=2*Stage.width*d);var f=new THREE.Vector3(e,0,0);this.bends[d].plane.visible=!0,this.bends[d].plane.position.set(f.x,f.y,f.z),this.bends[d].plane.visible=!1}for(var g=0;g<b.length;g++)this.bends[g]&&(this.bends[g].plane.visible=!0,this.bends[g].update(b[g],c))}},{key:"arraymove",value:function(a,b,c){var d=a[b];a.splice(b,1),a.splice(c,0,d)}},{key:"onResize",value:function(){for(var a=0;a<this.bends.length;a++){var b=2*Stage.width*a-300;(Stage.width<768||Device.mobile||app.router.nextRoute&&(-1!=app.router.nextRoute.raw.indexOf("cuisine")||-1!=app.router.nextRoute.raw.indexOf("salon")))&&(b=2*Stage.width*a),app.router.nextRoute&&-1!=app.router.nextRoute.raw.indexOf("geekroom")&&(b=2*Stage.width*a);var c=new THREE.Vector3(b,0,0);this.bends[a].plane.position.set(c.x,c.y,c.z),this.bends[a].onResize()}}},{key:"clean",value:function(){for(var a=0;a<this.bends.length;a++)this.bends[a].clean()}},{key:"destroy",value:function(){for(var a=0;a<this.bends.length;a++)this.bends[a].destroy()}},{key:"onRender",value:function(a,b,c,d){for(var e=0;e<this.bends.length;e++)this.bends[e].onRender(a,b,c,d)}}]),a}();c.default=h},{"./Bend":379}],381:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=a("utils/Events"),k=(d(j),a("parallax-js")),l=d(k),m=a("./BaseScene"),n=d(m),o=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));c.index=6,c.id="boutique",c.path="boutique",c.$elt.addClass(c.id),c.datas=JSON.parse(JSON.stringify(app.datas.l10n.scenes[c.index])),c.layers_decoration=[],c.layers_hover=[],c.layers=[];for(var d=0;d<c.datas.layers_decoration.length;d++){var g=c.datas.layers_decoration[d];g.asset=app.manifestLoader.getFile(c.id,g.img),g.asset=g.asset.cloneNode(!0);var h=document.createElement("div"),i=$(h);i.attr("data-depth",.2),i.attr("data-id",g.id),i.addClass("layer decoration"),g.get_link&&(i.addClass("link"),i.attr("data-href",g.get_link)),i.append(g.asset),c.$scene.find("#grid").append(i),c.layers_decoration.push(g)}for(var j=c.datas.layers_hover,k=0;k<j.length;k++){var m=j[k];m.asset=app.manifestLoader.getFile(c.id,m.img);var n=document.createElement("div"),o=$(n);o.attr("data-depth",.2),o.attr("data-id",m.id),o.attr("data-link",m.link),m.full_img&&o.addClass("layer hover"),o.css({width:m.asset.width/2+"px",height:m.asset.height/2+"px"}),o.append(m.asset),c.$scene.find("#grid").append(o),c.layers_hover.push(m)}for(var p=0;p<c.datas.layers.length;p++){var q=c.datas.layers[p];q.asset=app.manifestLoader.getFile(c.id,q.img),q.asset=q.asset.cloneNode(!0);var r=document.createElement("div"),s=$(r);s.attr("data-depth",q.depth),s.addClass("layer layer-fixed");var t=document.createElement("div");t.className="layer-asset";var u=$(t);u.append(q.asset),s.append(u),c.$scene.append(s),q.div=s,c.layers.push(q)}return c.$layers=c.$scene.find(".layer"),c.parallax=new l.default(c.$scene[0]),c.initBackground(app.manifestLoader.getFile(c.id,"img.rooms.boutique.bg")),c.initDraggable(),c.draggable[0].disable(),c.initScene(),c.onResize(),setTimeout(function(){if(c.onResize(),app.router.nextRoute&&app.router.nextRoute.raw){var a=app.router.nextRoute.raw.split("pieces/"+c.path+"/");a.length>1&&(app.router.navigate("/pieces/"+c.path+"/"+a[1]),c.initialized=!0,c.$scene.find('[data-link="'+a[1]+'"]').trigger("click"))}},100),c}return g(b,a),h(b,[{key:"bind",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"bind",this).call(this),$("body").on("click",this.animScene),this.$scene.find(".layer-grid-scene .layer").on("click",this.onOpen),this.$scene.find(".layer-grid-scene .layer").on("mouseover touchstart",this.onMouseEnter),this.$scene.find(".layer-grid-scene .layer").on("mouseleave touchend touchcancel",this.onMouseLeave)}},{key:"initScene",value:function(){var a=this;i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"initScene",this).call(this),TweenMax.set(this.$scene.find(".layer-bg"),{scale:1}),TweenMax.set(this.$scene,{scale:.9}),TweenMax.to(this.$scene,4,{scale:1,ease:Quint.easeOut}),this.obj={position:new THREE.Vector3};var c=Stage.width<768||Device.mobile?0:4e3;this.timeoutAnimScene=setTimeout(function(){a.animScene()},c)}},{key:"animScene",value:function(){var a=this;$("body").off("click",this.animScene),this.timeoutAnimScene&&clearTimeout(this.timeoutAnimScene),TweenMax.to(this.$scene.find(".layer-bg"),6,{scale:1.5,ease:Quint.easeOut}),TweenMax.to(this.$scene.find(".layer-grid-scene"),6,{scale:2,transformOrigin:"0% 50%",ease:Quint.easeOut});var b=this.$elt.find(".layer.decoration").eq(0).find("img").get(0),c=Stage.width/1920,d=Stage.height/1080,e=(c+d)/2;(Stage.width<768||Device.mobile)&&(e*=.5);var f=b.naturalHeight*e,g=b.naturalWidth*e;this.minY=1.1*-f,this.maxY=.1*f,(Stage.width<768||Device.mobile)&&(this.minY=.9*f,this.maxY=.8*f),TweenMax.to(this.$scroller,1.5,{y:this.maxY,ease:Quint.easeInOut,onComplete:function(){a.preventScroll=!1,a.draggable[0].enable(),Stage.width<768||Device.mobile||a.showBack()}}),TweenMax.to(this.$scene.find(".layer-bg"),.3,{alpha:0}),TweenMax.to(this.$scene.find(".layer-fixed"),.3,{alpha:0}),TweenMax.to(this.$scene.find("#grid"),2,{x:-g/2+(Stage.width-2*g)/4+5,transformOrigin:"0 0",ease:Quint.easeOut,force3D:!0}),this.initialized=!0}},{key:"onBack",value:function(){var a=this;this.timeoutAnimScene&&clearTimeout(this.timeoutAnimScene),TweenMax.to(this.$scene.find(".layer-bg"),6,{scale:1,ease:Quint.easeOut}),TweenMax.to(this.$scene.find(".layer-grid-scene"),6,{scale:1,ease:Quint.easeOut,force3D:!0}),this.preventScroll=!0,TweenMax.to(this.$scroller,1.5,{y:0,ease:Quint.easeInOut,onComplete:function(){$("body").on("click",a.animScene)}}),TweenMax.to(this.$scene.find("#grid"),2,{x:0,transformOrigin:"0 0",ease:Quint.easeOut,force3D:!0}),TweenMax.to(this.$scene.find(".layer-bg"),.3,{delay:1,alpha:1}),TweenMax.to(this.$scene.find(".layer-fixed"),.3,{delay:1,alpha:1}),this.initialized=!1,this.draggable[0].disable(),this.wheelled=!1,this.hideBack()}},{key:"onOpen",value:function(a){if(i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onOpen",this).call(this,a),this.initialized){var c=$(a.currentTarget);if(c.hasClass("link"))this.onShowMore();else{var d=app.datas.l10n.scenes[this.index].layers_hover[c.attr("data-id")];if(!d.active)return;app.router.navigate("/pieces/"+this.path+"/"+d.link),this.$sceneView.addClass("blur");var e=JSON.parse(JSON.stringify(app.datas.l10n.scenes[this.index].layers_hover));app.slider.onOpen(c.attr("data-id"),this.index,1,e,!1,this.path),this.draggable[0].disable(),this.animate=!0}}}},{key:"onClose",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onClose",this).call(this,a),this.$sceneView.removeClass("blur"),this.draggable[0].enable(),"boolean"==typeof a&&app.router.navigate("/pieces/"+this.path+"/")}},{key:"onScroll",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onScroll",this).call(this,a);var c=a.originalEvent;if("mousedown"==c.type);else if("mousemove"==c.type){var d=this.getXY(c);this.target={x:this.targetOnDown.x+15*-d.x,y:this.targetOnDown.y+15*-d.y}}else if("mouseup"==c.type||"mousemove"==c.type);else if("wheel"==c.type||"mousewheel"==c.type){if(this.preventScroll)return;var e=0;if("wheel"==c.type){var f=c.wheelDeltaY||-1*c.deltaY;Device.browser.firefox&&1==c.deltaMode&&(f*=15),e+=f}else"mousewheel"==c.type&&(e+=c.wheelDeltaY?c.wheelDeltaY:c.wheelDelta);this.currentY=this.draggable[0].y,this.targetY=3*e+this.draggable[0].y,this.targetY=Math.min(this.targetY,this.maxY),this.targetY=Math.max(this.targetY,this.minY),this.wheelled=!0}}},{key:"onRender",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onRender",this).call(this),this.obj.position.x+=.05*(this.target.x-this.obj.position.x),this.obj.position.y+=.05*(this.target.y-this.obj.position.y),Device.browser.safari?TweenMax.set(this.$sceneView,{rotation:this.obj.position.x/5}):TweenMax.set(this.$sceneView,{rotation:this.obj.position.x/5,rotationX:1+this.obj.position.x,rotationY:1+this.obj.position.y}),TweenMax.set(this.$scene,{x:.5*app.slider.obj.wiggle.x,y:.5*app.slider.obj.wiggle.y}),TweenMax.set(this.$gridScene,{y:this.draggable[0].y}),this.animate&&(this.wheelled&&(this.currentY+=.13*(this.targetY-this.currentY),TweenMax.set(this.$scroller,{y:this.currentY})),this.draggable[0].update())}},{key:"onResize",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onResize",this).call(this);var a=Stage.width/1920,c=Stage.height/1080,d=(a+c)/2;(Stage.width<768||Device.mobile)&&(d*=.5);var e=this.$elt.find(".layer.decoration").eq(0).find("img").get(0),f=e.naturalHeight*d,g=e.naturalWidth*d;this.minY=1.1*-f+200,this.maxY=.1*f,(Stage.width<768||Device.mobile)&&(this.minY=.9*f,this.maxY=.7*f);for(var h=0;h<this.layers_decoration.length;h++){var j=this.$elt.find(".layer.decoration").eq(h).find("img").get(0),k=j.naturalWidth*d+"px",l=j.naturalHeight*d+"px",m=this.datas.layers_decoration[h].y*d+"px",n=this.datas.layers_decoration[h].x*d+"px";(Stage.width<768||Device.mobile)&&(m=this.datas.layers_decoration[h].y_mobile*d+"px",n=this.datas.layers_decoration[h].x_mobile*d+"px"),this.$elt.find(".layer.decoration").eq(h).css({width:k,height:l,top:m,left:n})}for(var o=0;o<this.layers_hover.length;o++){var p=this.$elt.find(".layer.hover").eq(o).find("img").get(0),q=p.naturalWidth*d*.75+"px",r=p.naturalHeight*d*.75+"px",s=this.datas.layers_hover[o].y*d+"px",t=this.datas.layers_hover[o].x*d+"px";(Stage.width<768||Device.mobile)&&(s=this.datas.layers_hover[o].y_mobile*d+"px",t=this.datas.layers_hover[o].x_mobile*d+"px"),this.$elt.find(".layer.hover").eq(o).css({width:q,height:r,top:s,left:t})}for(var u=0;u<this.datas.layers.length;u++){var v=this.datas.layers[u];v.div.css({width:v.asset.naturalWidth*d+"px",height:v.asset.naturalHeight*d+"px",top:v.top,bottom:v.bottom,left:v.left,right:v.right})}this.preventScroll||TweenMax.set(this.$scene.find("#grid"),{x:-g/2+(Stage.width-2*g)/4+5,transformOrigin:"0 0",force3D:!0}),this.draggable[0].applyBounds({minY:this.minY,maxY:this.maxY})}},{key:"unbind",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"unbind",this).call(this),$("body").off("click",this.animScene),app.slider&&app.slider.unbind(),app.slider&&app.slider.onClose(),this.$scene.find(".layer-grid-scene .layer").off("click",this.onOpen),this.$scene.find(".layer-grid-scene .layer").off("mouseover",this.onMouseEnter),this.$scene.find(".layer-grid-scene .layer").off("mouseleave",this.onMouseLeave)}}]),b}(n.default);c.default=o},{"./BaseScene":378,"parallax-js":345,"utils/Events":399}],382:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("utils/FunctionUtils"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=a("glslify"),i=h(["#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n\n\tvUv = uv;\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n}"]),j=h(["#define GLSLIFY 1\nuniform sampler2D map;\n\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\n\nvarying vec2 vUv;\n\nvoid main() {\n\n\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\n\tgl_FragColor = texture2D( map, vUv );\n\tgl_FragColor.w *= pow( gl_FragCoord.z, 20.0 );\n\tgl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n\n}"]),k=function(){function a(b,c){d(this,a),this.scene=b,this.camera=c;var e=new THREE.Fog(16777215),f=new THREE.Texture;f.image=app.manifestLoader.getFile("default","img.cloud"),f.magFilter=THREE.LinearFilter,f.minFilter=THREE.LinearFilter,f.needsUpdate=!0;var h=new THREE.Texture;h.image=app.manifestLoader.getFile("default","img.cloud0"),h.magFilter=THREE.LinearFilter,h.minFilter=THREE.LinearFilter,h.needsUpdate=!0;var i=new THREE.Texture;i.image=app.manifestLoader.getFile("default","img.cloud1"),i.magFilter=THREE.LinearFilter,i.minFilter=THREE.LinearFilter,i.needsUpdate=!0;var j=[this.getMaterial(e,f),this.getMaterial(e,h),this.getMaterial(e,i)];this.clouds=[];for(var k=new THREE.PlaneGeometry(64,64),l=0;l<100;l++){var m=new THREE.Mesh(k,j[Math.floor(Math.random()*j.length)]);m.position.x=l%2==0?g.default.rand(1e3,3e3):g.default.rand(-3e3,-1e3),m.position.y=5e4*Math.random()-25e3;var n=0;do{n=g.default.rand(-500,500)}while(n<100&&n>-100);m.position.z=n,m.rotation.z=Math.random()*Math.PI;var o=g.default.rand(25,50);m.scale.set(o,o,o),this.scene.add(m),this.clouds.push({plane:m,position:m.position.clone()})}}return e(a,[{key:"bind",value:function(){for(var a=0;a<this.clouds.length;a++)g.default.wiggleProp(this.clouds[a].plane.position,"x",this.clouds[a].position.x-50,this.clouds[a].position.x+50,1.5,3),g.default.wiggleProp(this.clouds[a].plane.position,"y",this.clouds[a].position.y-50,this.clouds[a].position.y+50,1.5,3),g.default.wiggleProp(this.clouds[a].plane.position,"z",this.clouds[a].position.z-20,this.clouds[a].position.z+20,2,3)}},{key:"unbind",value:function(){for(var a=0;a<this.clouds.length;a++)TweenMax.killTweensOf(this.clouds[a].plane.position)}},{key:"update",value:function(){for(var a=0;a<this.clouds.length;a++)this.clouds[a].plane.rotation.set(-this.scene.rotation.x,-this.scene.rotation.y,-this.scene.rotation.z)}},{key:"getMaterial",value:function(a,b){return new THREE.ShaderMaterial({uniforms:{map:{type:"t",value:b},fogColor:{type:"c",value:a.color},fogNear:{type:"f",value:a.near},fogFar:{type:"f",value:a.far}},vertexShader:i,fragmentShader:j,depthWrite:!1,transparent:!0})}}]),a}();c.default=k},{glslify:336,"utils/FunctionUtils":401}],383:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=a("./BaseScene"),k=d(j),l=a("perfect-scrollbar"),m=d(l),n=a("vendor/Swipe"),o=d(n),p=a("utils/FunctionUtils"),q=d(p),r=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.onNext=c.onNext.bind(c),c.onPrev=c.onPrev.bind(c),c.onToggle=c.onToggle.bind(c),c.onClose=c.onClose.bind(c),c.index=5,c.id="coinparents",c.path="coin-parents",c.$elt.addClass(c.id),c.datas=JSON.parse(JSON.stringify(app.datas.l10n.scenes[c.index])),c.initScene(),c.onResize(),setTimeout(function(){c.onResize()},100),c.$click=c.$elt.find(".click"),c.obj={wiggle:new THREE.Vector3},q.default.wiggleProp(c.obj.wiggle,"x",-10,10,2,3),q.default.wiggleProp(c.obj.wiggle,"y",-30,30,2,3),c}return g(b,a),h(b,[{key:"bind",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"bind",this).call(this),this.onResize(),this.$elt.find(".close").on("click",this.onClose),this.$elt.find(".next").on("click",this.onNext),this.$elt.find(".prev").on("click",this.onPrev),this.$elt.find(".layer li .top").on("click",this.onToggle)}},{key:"onClose",value:function(){app.router.navigate("/")}},{key:"initScene",value:function(){var a=this;i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"initScene",this).call(this);new m.default(this.$elt.find(".layer").find(".scrolling").get(0));this.$elt.find(".layer").addClass("show"),this.swipers=[],this.$elt.find(".layer li").each(function(b){var c=a.$elt.find(".layer li").eq(b);if(c.find("#swiper").length>0){var d=new o.default(c.find("#swiper")[0],{startSlide:1,auto:3e3,callback:function(a){var b=c.find("#swiper .slide").length;c.find(".prev, .next").removeClass("disable"),a>=b-1?c.find(".next").addClass("disable"):0==a&&c.find(".prev").addClass("disable")}});d.disable(),a.swipers.push(d)}a.$elt.find(".layer li").removeClass("toggle")}),this.initialized=!0}},{key:"onPrev",value:function(a){var b=$(a.target).parents("li").index();this.swipers[b].prev()}},{key:"onNext",value:function(a){var b=$(a.target).parents("li").index();this.swipers[b].next()}},{key:"onToggle",value:function(a){var b=this;a&&a.preventDefault();var c=$(a.target).parents("li").index(),d=!1;$(a.target).parents("li").hasClass("open")&&(d=!0),this.$elt.find(".layer li").removeClass("open"),this.$elt.find(".layer li .prev").removeClass("disable"),this.$elt.find(".layer").find(".scrolling").get(0).scrollTo(0,200*c);for(var e=0;e<this.swipers.length;e++)e!=c&&(this.swipers[e].disable(),this.swipers[e].slide(1,0));this.swipers[c]?d?(this.swipers[c].disable(),this.swipers[c].slide(1,0)):($(a.target).parents("li").find(".prev").addClass("disable"),$(a.target).parents("li").addClass("open"),setTimeout(function(){b.swipers[c].setup(),b.swipers[c].enable(),b.swipers[c].slide(0,0)},100)):d||($(a.target).parents("li").find(".prev").addClass("disable"),$(a.target).parents("li").addClass("open"))}},{key:"onRender",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onRender",this).call(this),TweenMax.set(this.$click,{x:this.obj.wiggle.x,y:this.obj.wiggle.y,force3D:!0})}},{key:"onResize",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onResize",this).call(this),Stage.width<768||Device.mobile?$(".logo").addClass("hide"):$(".logo").removeClass("hide")}},{key:"unbind",value:function(){if(i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"unbind",this).call(this),$(".logo").removeClass("hide"),TweenMax.killTweensOf(this.obj.wiggle),this.$elt.find(".close").off("click",this.onClose),this.$elt.find(".next").off("click",this.onNext),this.$elt.find(".prev").off("click",this.onPrev),this.$elt.find(".layer li .top").off("click",this.onToggle),this.swipers&&this.swipers.length>0)for(var a=0;a<this.swipers.length;a++)this.swipers[a].disable()}}]),b}(k.default);c.default=r},{"./BaseScene":378,"perfect-scrollbar":348,"utils/FunctionUtils":401,"vendor/Swipe":413}],384:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=a("parallax-js"),k=d(j),l=a("./BaseScene"),m=d(l),n=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));c.index=8,c.id="geekroom",c.path="geekroom",c.$elt.addClass(c.id),c.datas=JSON.parse(JSON.stringify(app.datas.l10n.scenes[c.index])),c.layers_hover=[],c.layers=[];for(var d=0;d<c.datas.layers_hover.length;d++){var g=c.datas.layers_hover[d];g.asset=app.manifestLoader.getFile(c.id,g.img).cloneNode(!0),g.youtube_id&&(g.asset=new Image,g.asset.src="https://img.youtube.com/vi/"+g.youtube_id+"/maxresdefault.jpg",g.asset=g.asset.cloneNode(!0));var h=$('<div class="custom_img '+g.color+" "+g.type+'"></div>');h.attr("data-depth",.2),h.attr("data-id",g.id),h.attr("data-youtube-id",g.youtube_id),h.attr("data-link",g.link),g.youtube_id&&h.addClass("layer hover"),g.spotify_url&&h.addClass("layer hover"),g.poster&&h.addClass("layer hover"),h.append(g.asset),c.$scene.find("#grid").append(h),c.layers_hover.push(g)}for(var i=0;i<c.datas.layers.length;i++){var j=c.datas.layers[i];j.asset=app.manifestLoader.getFile(c.id,j.img);var l=document.createElement("div"),m=$(l);m.attr("data-depth",j.depth),m.addClass("layer layer-fixed");var n=document.createElement("div");n.className="layer-asset";var o=$(n);o.append(j.asset),m.append(o),c.$scene.append(m),j.div=m,c.layers.push(j)}return c.$layers=c.$scene.find(".layer"),c.parallax=new k.default(c.$scene[0]),c.initBackground(app.manifestLoader.getFile(c.id,"img.rooms.geekroom.bg")),c.initDraggable(),c.draggable[0].disable(),c.initScene(),c.onResize(),setTimeout(function(){if(c.onResize(),app.router.nextRoute&&app.router.nextRoute.raw){var a=app.router.nextRoute.raw.split("pieces/"+c.path+"/");a.length>1&&(app.router.navigate("/pieces/"+c.path+"/"+a[1]),c.initialized=!0,c.$scene.find('[data-link="'+a[1]+'"]').trigger("click"))}},100),c}return g(b,a),h(b,[{key:"bind",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"bind",this).call(this),$("body").on("click",this.animScene),this.$scene.find(".layer-grid-scene .layer").on("click",this.onOpen),this.$scene.find(".layer-grid-scene .layer").on("mouseover touchstart",this.onMouseEnter),this.$scene.find(".layer-grid-scene .layer").on("mouseleave touchend touchcancel",this.onMouseLeave)}},{key:"initScene",value:function(){var a=this;i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"initScene",this).call(this),TweenMax.set(this.$scene.find(".layer-bg"),{scale:1}),TweenMax.set(this.$scene,{scale:.9}),TweenMax.to(this.$scene,4,{scale:1,ease:Quint.easeOut}),this.obj={position:new THREE.Vector3};var c=Stage.width<768||Device.mobile?250:4e3;this.timeoutAnimScene=setTimeout(function(){a.animScene()},c)}},{key:"onBack",value:function(){var a=this;this.draggable[0].disable(),TweenMax.to(this.$scene.find(".layer-bg"),6,{scale:1,ease:Quint.easeOut}),TweenMax.to(this.$scene.find(".layer-grid-scene"),6,{scale:1,ease:Quint.easeOut,force3D:!0}),this.preventScroll=!0,TweenMax.to(this.$scroller,1.5,{y:0,ease:Quint.easeInOut,onComplete:function(){$("body").on("click",a.animScene)}}),TweenMax.to(this.$scene.find(".layer-bg"),.3,{delay:1,alpha:1}),TweenMax.to(this.$scene.find(".layer-fixed"),.3,{delay:1,alpha:1}),TweenMax.to(this.$scene.find("#grid-view"),2,{left:"-8%",ease:Quint.easeOut,force3D:!0}),this.initialized=!1,this.wheelled=!1,this.hideBack()}},{key:"animScene",value:function(){var a=this;$("body").off("click",this.animScene),this.timeoutAnimScene&&clearTimeout(this.timeoutAnimScene);var b=1.5;(Stage.width<768||Device.mobile)&&(b=1.2),TweenMax.to(this.$scene.find(".layer-bg"),6,{scale:1.5,ease:Quint.easeOut}),TweenMax.to(this.$scene.find(".layer-grid-scene"),6,{scale:b,ease:Quint.easeOut,force3D:!0}),TweenMax.to(this.$scroller,1.5,{y:this.$scene.find("#grid").height()+100,ease:Quint.easeInOut,onComplete:function(){a.preventScroll=!1,a.draggable[0].enable(),Stage.width<768||Device.mobile||a.showBack()}}),TweenMax.to(this.$scene.find(".layer-bg"),.3,{alpha:0}),TweenMax.to(this.$scene.find(".layer-fixed"),.3,{alpha:0}),TweenMax.to(this.$scene.find("#grid-view"),2,{left:"0%",ease:Quint.easeOut,force3D:!0}),this.initialized=!0}},{key:"onOpen",value:function(a){if(i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onOpen",this).call(this,a),this.initialized){var c=$(a.currentTarget),d=app.datas.l10n.scenes[this.index].layers_hover[c.attr("data-id")];app.router.navigate("/pieces/"+this.path+"/"+d.link),this.$sceneView.addClass("blur");var e=JSON.parse(JSON.stringify(app.datas.l10n.scenes[this.index].layers_hover));app.slider.onOpen(c.attr("data-id"),this.index,1e-4,e,!1,this.path),this.draggable[0].disable(),this.animate=!0}}},{key:"onClose",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onClose",this).call(this,a),this.$sceneView.removeClass("blur"),this.draggable[0].enable(),$("iframe#spot-iframe").remove(),"boolean"==typeof a&&app.router.navigate("/pieces/"+this.path+"/")}},{key:"onScroll",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onScroll",this).call(this,a);var c=a.originalEvent;if("mousedown"==c.type);else if("mousemove"==c.type){var d=this.getXY(c);this.target={x:this.targetOnDown.x+15*-d.x,y:this.targetOnDown.y+15*-d.y}}else if("mouseup"==c.type||"mousemove"==c.type);else if("wheel"==c.type||"mousewheel"==c.type){if(this.preventScroll)return;var e=0;if("wheel"==c.type){var f=c.wheelDeltaY||-1*c.deltaY;Device.browser.firefox&&1==c.deltaMode&&(f*=15),e+=f}else"mousewheel"==c.type&&(e+=c.wheelDeltaY?c.wheelDeltaY:c.wheelDelta);this.currentY=this.draggable[0].y,this.targetY=3*e+this.draggable[0].y,this.targetY=Math.min(this.targetY,this.maxY),this.targetY=Math.max(this.targetY,this.minY),this.wheelled=!0}}},{key:"onRender",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onRender",this).call(this),this.obj.position.x+=.05*(this.target.x-this.obj.position.x),this.obj.position.y+=.05*(this.target.y-this.obj.position.y),TweenMax.set(this.$sceneView,{rotation:this.obj.position.x/5,force3D:!0}),TweenMax.set(this.$scene,{x:app.slider.obj.wiggle.x,y:app.slider.obj.wiggle.y}),TweenMax.set(this.$gridScene,{y:this.draggable[0].y}),this.animate&&(this.wheelled&&(this.currentY+=.13*(this.targetY-this.currentY),TweenMax.set(this.$scroller,{y:this.currentY})),this.draggable[0].update())}},{key:"onResize",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onResize",this).call(this),this.minY=0,this.maxY=1.2*this.$scene.find("#grid").height();for(var a=0;a<this.datas.layers.length;a++){var c=this.datas.layers[a];c.div.css({width:c.asset.naturalWidth/2+"px",height:c.asset.naturalHeight/2+"px",top:c.top,bottom:c.bottom,left:c.left,right:c.right})}if(!this.preventScroll){var d=1.5;(Stage.width<768||Device.mobile)&&(d=1.2),TweenMax.set(this.$scene.find(".layer-grid-scene"),{scale:d,force3D:!0}),TweenMax.set(this.$scene.find("#grid-view"),{left:"0%",force3D:!0})}this.draggable[0].applyBounds({minY:this.minY,maxY:this.maxY}),TweenMax.set(this.$scene.find("#grid-view"),{top:-this.$scene.find("#grid").height()+.6*Stage.height})}},{key:"unbind",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"unbind",this).call(this),$("body").off("click",this.animScene),app.slider&&app.slider.unbind(),app.slider&&app.slider.onClose(),this.$scene.find(".layer-grid-scene .layer").off("click",this.onOpen),this.$scene.find(".layer-grid-scene .layer").off("mouseover",this.onMouseEnter),this.$scene.find(".layer-grid-scene .layer").off("mouseleave",this.onMouseLeave)}}]),b}(m.default);c.default=n},{"./BaseScene":378,"parallax-js":345}],385:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("utils/Events"),g=function(a){
return a&&a.__esModule?a:{default:a}}(f),h=function(){function a(b,c,e){var f=this;d(this,a),this.scene=b,this.camera=c,this.$elt=e,this.freeze=!0,this.scenes=[];var h=new THREE.FBXLoader;h.load(app.datas.assetsBaseURL+app.datas.assetsPath+"gl/girafe.fbx",function(a){a.traverse(function(a){a.isMesh&&(a.castShadow=!0,a.receiveShadow=!0)}),a.scale.set(300,300,300),a.rotation.set(0,110*Math.PI/180,0),f.scene.add(a);var b=(new THREE.Box3).setFromObject(a),c=b.getSize(new THREE.Vector3);3119.5547103881827!=c.y&&(c.y=3119.5547103881827);var d=a.clone();d.position.y=0-Math.floor(c.y),f.scene.add(d);var e=a.clone();e.position.y=2*-Math.floor(c.y)+0,f.scene.add(e);for(var h=[],i=0;i<app.datas.l10n.scenes.length;i++){var j=app.datas.l10n.scenes[i];j.active&&h.push(j)}for(var k=0;k<h.length;k++){var l=(h[k],a.clone());l.position.y=Math.floor(c.y)*(k+1)-0,f.scene.add(l),f.scenes.push(l)}g.default.LOADED.dispatch(),f.freeze=!1}),this.$scenes=this.$elt.find(".scene")}return e(a,[{key:"bind",value:function(){}},{key:"unbind",value:function(){}},{key:"getObject",value:function(a){for(var b=0;b<a.children.length;b++)if("Flower_Patch_1"==a.children[b].name)return a.children[b];return!1}},{key:"update",value:function(){if(!this.freeze)for(var a=0;a<this.scenes.length;a++){var b=this.scenes[Math.floor(a/2)],c=this.getObject(b);if(c){c.updateMatrixWorld();var d=new THREE.Vector3;d.setFromMatrixPosition(c.matrixWorld),d.y-=a%2==0?1300*(1-a%2+1)+400:1300*(1-a%2+1);var e=Math.min(Stage.width/Stage.height,3);e=Math.max(1,e),e=1-e/2+1;var f=d.project(this.camera);f.x=(f.x+1)/2*Stage.width,f.y=-(f.y-1)/2*Stage.height,f.y-=100;var g={x:f.x,y:f.y};(Stage.width<768||Device.mobile)&&(g.x-=50),TweenMax.to(this.$scenes.eq(a),.3,g)}}}}]),a}();c.default=h},{"utils/Events":399}],386:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=a("parallax-js"),k=d(j),l=a("./BaseScene"),m=d(l),n=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));c.index=4,c.id="grenier",c.path="grenier",c.$elt.addClass(c.id),c.datas=JSON.parse(JSON.stringify(app.datas.l10n.scenes[c.index])),c.layers_hover=[],c.layers_hover_subcategory=[],c.layers=[];for(var d=0;d<c.datas.layers_hover.length;d++){var g=c.datas.layers_hover[d];g.asset=app.manifestLoader.getFile(c.id,g.img),g.asset=g.asset.cloneNode(!0);var h=document.createElement("div"),i=$(h);i.attr("data-depth",.2),i.attr("data-id",g.id),i.attr("data-link",g.link),i.addClass("layer hover"),i.css({width:g.asset.width/2+"px",height:g.asset.height/2+"px"}),i.append(g.asset),c.$scene.find(".layers").append(i),c.layers_hover.push(g)}for(var j=0;j<c.datas.layers.length;j++){var l=c.datas.layers[j];l.asset=app.manifestLoader.getFile(c.id,l.img),l.asset=l.asset.cloneNode(!0);var m=document.createElement("div"),n=$(m);n.attr("data-depth",l.depth),n.addClass("layer layer-fixed");var o=document.createElement("div");o.className="layer-asset";var p=$(o);p.append(l.asset),n.append(p),c.$scene.append(n),l.div=n,c.layers.push(l)}return c.$layers=c.$scene.find(".layer"),c.parallax=new k.default(c.$scene[0]),c.initBackground(app.manifestLoader.getFile(c.id,"img.rooms.grenier.bg")),c.initDraggable(),c.initScene(),c.onResize(),c.animate=!1,c.draggable[0].disable(),setTimeout(function(){if(c.onResize(),app.router.nextRoute&&app.router.nextRoute.raw){var a=(app.router.nextRoute.raw,app.router.nextRoute.raw.split("pieces/"+c.path+"/"));a.length>1&&(c.initialized=!0,-1!=a[1].indexOf("/")?(c.$scene.find('[data-link="'+a[1].split("/")[0]+'"]').trigger("click"),setTimeout(function(){c.$scene.find('[data-link="'+a[1]+'"]').trigger("click")},10)):c.$scene.find('[data-link="'+a[1]+'"]').trigger("click"))}},100),c}return g(b,a),h(b,[{key:"bind",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"bind",this).call(this),this.$scene.find(".layer-grid-scene .layers .layer").on("click",this.onOpen),this.$scene.find(".layer-grid-scene .layers .layer").on("mouseover touchstart",this.onMouseEnter),this.$scene.find(".layer-grid-scene .layers .layer").on("mouseleave touchend touchcancel",this.onMouseLeave)}},{key:"initScene",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"initScene",this).call(this),this.obj={position:new THREE.Vector3},TweenMax.set(this.$scene.find(".layer-grid-back"),{alpha:0}),TweenMax.set(this.$scene.find("#grid-view"),{alpha:0}),TweenMax.set(this.$scene.find(".layer-bg"),{scale:1}),TweenMax.set(this.$scene,{scale:.9}),TweenMax.to(this.$scene,4,{scale:1,ease:Quint.easeOut}),this.initialized=!0}},{key:"onOpen",value:function(a){var c=this;i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onOpen",this).call(this,a);var d=$(a.currentTarget);this.data_index=d.attr("data-id");var e=JSON.parse(JSON.stringify(this.datas.layers_hover[this.data_index]));app.router.navigate("/pieces/"+this.path+"/"+e.link),this.$scene.find("#grid").empty(),this.layers_hover_subcategory=[];for(var f=0;f<e.layers_hover.length;f++){var g=e.layers_hover[f];g.asset=app.manifestLoader.getFile(this.id,g.img);var h=document.createElement("div"),j=$(h);j.attr("data-depth",.2),j.attr("data-id",g.id),j.attr("data-link",g.link),g.full_img&&j.addClass("layer hover"),j.css({width:g.asset.width/2+"px",height:g.asset.height/2+"px"}),j.append(g.asset),this.$scene.find("#grid").append(j),this.layers_hover_subcategory.push(g)}this.$scene.find(".layer-grid-scene #grid .layer").on("click",this.onOpenSubCategory),this.$scene.find(".layer-grid-scene #grid .layer").on("mouseover",this.onMouseEnter),this.$scene.find(".layer-grid-scene #grid .layer").on("mouseleave",this.onMouseLeave),this.showBack(),TweenMax.set(this.$scene.find(".layer-grid-back"),{alpha:1}),TweenMax.set(this.$scene.find("#grid-view"),{alpha:1}),TweenMax.to(this.$scene.find(".layer-fixed"),.3,{alpha:0}),TweenMax.to(this.$scene.find(".layers"),.3,{alpha:0}),TweenMax.set(this.$scene.find(".layer-bg"),{alpha:0}),this.$scene.find(".bg").css({width:"110%",height:"110%",top:"-5%",left:"-5%",background:"url("+app.manifestLoader.getFile(this.id,e.bg).src+")no-repeat center center",backgroundSize:"cover"}),this.animate=!0,TweenMax.to(this.$scene.find(".layer-grid-scene"),6,{scale:1.5,ease:Quint.easeOut,force3D:!0}),TweenMax.set(this.$scroller,{y:0});var k=.7*this.$scene.find("#grid").height();-1!=app.router.nextRoute.raw.indexOf("diy")&&(k=.6*this.$scene.find("#grid").height()),(Stage.width<768||Device.mobile)&&(k=1.1*this.$scene.find("#grid").height()),TweenMax.to(this.$scroller,1.5,{y:k,ease:Quint.easeInOut,onComplete:function(){c.preventScroll=!1,c.draggable[0].enable()}}),this.onResize()}},{key:"onClose",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onClose",this).call(this,a),a&&a.preventDefault(),TweenMax.killTweensOf(this.$scroller),TweenMax.killTweensOf(this.$scene.find(".layer-grid-scene")),TweenMax.set(this.$scroller,{y:0}),this.draggable[0].update(),this.preventScroll=!0,this.animate=!1,this.draggable[0].disable(),this.$scene.find("#grid").empty(),this.layers_hover_subcategory=[],this.wheelled=!1,this.hideBack(),this.$scene.find(".layer-grid-scene #grid .layer").off("click",this.onOpenSubCategory),this.$scene.find(".layer-grid-scene #grid .layer").off("mouseover",this.onMouseEnter),this.$scene.find(".layer-grid-scene #grid .layer").off("mouseleave",this.onMouseLeave),TweenMax.set(this.$scene.find(".layer-grid-back"),{alpha:0}),TweenMax.set(this.$scene.find("#grid-view"),{alpha:0}),TweenMax.set(this.$scene.find(".layer-fixed"),{alpha:1}),TweenMax.set(this.$scene.find(".layers"),{alpha:1}),TweenMax.set(this.$scene.find(".layer-bg"),{alpha:1}),TweenMax.to(this.$scene.find(".layer-grid-scene"),1,{scale:1,ease:Elastic.easeOut.config(1,.9),force3D:!0}),app.router.navigate("/pieces/"+this.path+"/")}},{key:"onOpenSubCategory",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onOpenSubCategory",this).call(this,a);var c=$(a.currentTarget);this.datas.layers_hover[this.data_index].layers_hover[c.attr("data-id")];this.$sceneView.addClass("blur");var d=JSON.parse(JSON.stringify(app.datas.l10n.scenes[this.index].layers_hover[this.data_index].layers_hover));app.slider.onOpen(c.attr("data-id"),this.index,1,d,!0,this.path),this.animate=!1,this.hideBack()}},{key:"onCloseSubCategory",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onCloseSubCategory",this).call(this,a),this.animate=!0,this.$sceneView.removeClass("blur"),this.showBack();var c=JSON.parse(JSON.stringify(this.datas.layers_hover[this.data_index]));app.router.navigate("/pieces/"+this.path+"/"+c.link)}},{key:"onScroll",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onScroll",this).call(this,a);var c=a.originalEvent;if("mousedown"==c.type);else if("mousemove"==c.type){var d=this.getXY(c);this.target={x:this.targetOnDown.x+15*-d.x,y:this.targetOnDown.y+15*-d.y}}else if("mouseup"==c.type||"mousemove"==c.type);else if("wheel"==c.type||"mousewheel"==c.type){if(this.preventScroll)return;var e=0;if("wheel"==c.type){var f=c.wheelDeltaY||-1*c.deltaY;Device.browser.firefox&&1==c.deltaMode&&(f*=15),e+=f}else"mousewheel"==c.type&&(e+=c.wheelDeltaY?c.wheelDeltaY:c.wheelDelta);this.currentY=this.draggable[0].y,this.targetY=3*e+this.draggable[0].y,this.targetY=Math.min(this.targetY,this.maxY),this.targetY=Math.max(this.targetY,this.minY),this.wheelled=!0}}},{key:"onRender",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onRender",this).call(this),this.obj.position.x+=.05*(this.target.x-this.obj.position.x),this.obj.position.y+=.05*(this.target.y-this.obj.position.y),Device.browser.safari?TweenMax.set(this.$sceneView,{rotation:this.obj.position.x/5}):TweenMax.set(this.$sceneView,{rotation:this.obj.position.x/5,rotationX:1+this.obj.position.x,rotationY:1+this.obj.position.y}),TweenMax.set(this.$scene,{x:app.slider.obj.wiggle.x,y:app.slider.obj.wiggle.y}),TweenMax.set(this.$gridScene,{y:this.draggable[0].y,force3D:!0}),this.animate&&(this.wheelled&&(this.currentY+=.13*(this.targetY-this.currentY),TweenMax.set(this.$scroller,{y:this.currentY,force3D:!0})),this.draggable[0].update())}},{key:"onResize",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onResize",this).call(this);var a=Stage.width/Stage.height,c=0,d=0;2070/1230<a?(c=Stage.width,d=c/(2070/1230)):(d=Stage.height,c=d*(2070/1230));var e=.5*(Stage.width-c),f=.5*(Stage.height-d),g=c/2070;this.minY=0,this.maxY=.7*this.$scene.find("#grid").height(),-1!=app.router.nextRoute.raw.indexOf("diy")&&(this.maxY=.6*this.$scene.find("#grid").height()),(Stage.width<768||Device.mobile)&&(this.maxY=1.1*this.$scene.find("#grid").height()),this.draggable[0].applyBounds({minY:this.minY,maxY:this.maxY}),TweenMax.set(this.$scene.find("#grid-view"),{top:-this.$scene.find("#grid").height()+.65*Stage.height});for(var h=0;h<this.layers_hover.length;h++){var j=this.$elt.find(".layer.hover").eq(h).find("img").get(0),k=j.naturalWidth*g+"px",l=j.naturalHeight*g+"px",m=this.datas.layers_hover[h].x*g+e+"px",n=this.datas.layers_hover[h].y*g+f+"px";(Stage.width<768||Device.mobile)&&(n=this.datas.layers_hover[h].y_mobile*g+f+"px",m=this.datas.layers_hover[h].x_mobile*g+e+"px"),this.$elt.find(".layer.hover").eq(h).css({width:k,height:l,top:n,left:m})}for(var o=0;o<this.datas.layers.length;o++){var p=this.datas.layers[o];p.div.css({width:p.asset.naturalWidth/2+"px",height:p.asset.naturalHeight/2+"px",top:p.top,bottom:p.bottom,left:p.left,right:p.right})}}},{key:"unbind",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"unbind",this).call(this),app.slider&&app.slider.unbind(),app.slider&&app.slider.onClose(),this.$scene.find(".layer-grid-scene .layers .layer").off("click",this.onOpen),this.$scene.find(".layer-grid-scene .layers .layer").off("mouseover",this.onMouseEnter),this.$scene.find(".layer-grid-scene .layers .layer").off("mouseleave",this.onMouseLeave)}}]),b}(m.default);c.default=n},{"./BaseScene":378,"parallax-js":345}],387:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=a("parallax-js"),k=d(j),l=a("./BaseScene"),m=d(l),n=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));c.index=3,c.id="halloffame",c.path="hall-of-fame",c.$elt.addClass(c.id),c.datas=JSON.parse(JSON.stringify(app.datas.l10n.scenes[c.index])),c.layers_decoration=[],c.layers_hover=[],c.layers=[];for(var d=0;d<c.datas.layers_decoration.length;d++){var g=c.datas.layers_decoration[d];g.asset=app.manifestLoader.getFile(c.id,g.img),g.asset=g.asset.cloneNode(!0);var h=document.createElement("div"),i=$(h);i.attr("data-depth",.2),i.attr("data-id",g.id),i.addClass("layer decoration"),i.append(g.asset),c.$scene.find("#grid").append(i),c.layers_decoration.push(g)}for(var j=c.datas.layers_hover,l=0;l<j.length;l++){var m=j[l];m.asset=app.manifestLoader.getFile(c.id,m.img);var n=document.createElement("div"),o=$(n);o.attr("data-depth",.2),o.attr("data-id",m.id),o.attr("data-link",m.link),m.full_img&&o.addClass("layer hover"),o.css({width:m.asset.width/2+"px",height:m.asset.height/2+"px",zIndex:m.zIndex?m.zIndex:1}),o.append(m.asset),c.$scene.find("#grid").append(o),c.layers_hover.push(m)}for(var p=0;p<c.datas.layers.length;p++){var q=c.datas.layers[p];q.asset=app.manifestLoader.getFile(c.id,q.img),q.asset=q.asset.cloneNode(!0);var r=document.createElement("div"),s=$(r);s.attr("data-depth",q.depth),s.addClass("layer layer-fixed");var t=document.createElement("div");t.className="layer-asset";var u=$(t);u.append(q.asset),s.append(u),c.$scene.append(s),q.div=s,c.layers.push(q)}return c.$layers=c.$scene.find(".layer"),c.parallax=new k.default(c.$scene[0]),c.initBackground(app.manifestLoader.getFile(c.id,"img.rooms.halloffame.bg")),c.initDraggable(),c.draggable[0].disable(),c.initScene(),c.onResize(),setTimeout(function(){if(c.onResize(),app.router.nextRoute&&app.router.nextRoute.raw){var a=app.router.nextRoute.raw.split("pieces/"+c.path+"/");a.length>1&&(app.router.navigate("/pieces/"+c.path+"/"+a[1]),c.initialized=!0,c.$scene.find('[data-link="'+a[1]+'"]').trigger("click"))}},100),c}return g(b,a),h(b,[{key:"bind",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"bind",this).call(this),$("body").on("click",this.animScene),this.$scene.find(".layer-grid-scene .layer").on("click",this.onOpen),this.$scene.find(".layer-grid-scene .layer").on("mouseover touchstart",this.onMouseEnter),this.$scene.find(".layer-grid-scene .layer").on("mouseleave touchend touchcancel",this.onMouseLeave)}},{key:"initScene",value:function(){var a=this;i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"initScene",this).call(this),TweenMax.set(this.$scene.find(".layer-bg"),{scale:1}),TweenMax.fromTo(this.$scene,4,{scale:.9},{scale:1,ease:Quint.easeOut}),this.obj={position:new THREE.Vector3};var c=Stage.width<768||Device.mobile?0:4e3;this.timeoutAnimScene=setTimeout(function(){a.animScene()},c)}},{key:"animScene",value:function(){var a=this;$("body").off("click",this.animScene),this.timeoutAnimScene&&clearTimeout(this.timeoutAnimScene),TweenMax.to(this.$scene.find(".layer-bg"),6,{scale:1.5,ease:Quint.easeOut}),TweenMax.to(this.$scene.find(".layer-grid-scene"),6,{scale:2,transformOrigin:"0% 50%",ease:Quint.easeOut,force3D:!0}),TweenMax.to(this.$scroller,1.5,{y:this.maxY,ease:Quint.easeInOut,onComplete:function(){a.preventScroll=!1,a.draggable[0].enable(),Stage.width<768||Device.mobile||a.showBack()}});var b=this.$elt.find(".layer.decoration").eq(0).find("img").get(0),c=Stage.width/2070,d=Stage.height/1230,e=(c+d)/2;(Stage.width<768||Device.mobile)&&(e*=.7);var f=(b.naturalHeight,b.naturalWidth*e),g=300*e;(Stage.width<768||Device.mobile)&&(g=10),TweenMax.to(this.$scene.find("#grid"),2,{x:(Stage.width-2*f)/4-g,transformOrigin:"0 0",ease:Quint.easeOut,force3D:!0}),TweenMax.to(this.$scene.find(".layer-bg"),.3,{alpha:0}),TweenMax.to(this.$scene.find(".layer-fixed"),.3,{alpha:0}),this.initialized=!0}},{key:"onBack",value:function(){var a=this;this.draggable[0].disable(),this.timeoutAnimScene&&clearTimeout(this.timeoutAnimScene),this.preventScroll=!0,TweenMax.to(this.$scene.find(".layer-bg"),6,{scale:1,ease:Quint.easeOut}),TweenMax.to(this.$scene.find(".layer-grid-scene"),6,{scale:1,ease:Quint.easeOut,force3D:!0}),TweenMax.to(this.$scroller,1.5,{y:0,ease:Quint.easeInOut,onComplete:function(){$("body").on("click",a.animScene)}}),TweenMax.to(this.$scene.find("#grid"),2,{x:0,transformOrigin:"0 0",ease:Quint.easeOut,force3D:!0}),TweenMax.to(this.$scene.find(".layer-bg"),.3,{delay:.6,alpha:1}),TweenMax.to(this.$scene.find(".layer-fixed"),.3,{delay:.6,alpha:1}),this.initialized=!1,this.wheelled=!1,this.hideBack()}},{key:"onOpen",value:function(a){if(i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onOpen",this).call(this,a),this.initialized){var c=$(a.currentTarget),d=app.datas.l10n.scenes[this.index].layers_hover[c.attr("data-id")];app.router.navigate("/pieces/"+this.path+"/"+d.link),this.$sceneView.addClass("blur");var e=JSON.parse(JSON.stringify(app.datas.l10n.scenes[this.index].layers_hover));app.slider.onOpen(c.attr("data-id"),this.index,1,e,!1,this.path),this.draggable[0].disable(),this.animate=!0}}},{key:"onClose",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onClose",this).call(this,a),this.$sceneView.removeClass("blur"),this.draggable[0].enable(),"boolean"==typeof a&&app.router.navigate("/pieces/"+this.path+"/")}},{key:"onScroll",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onScroll",this).call(this,a);var c=a.originalEvent;if("mousedown"==c.type);else if("mousemove"==c.type){var d=this.getXY(c);this.target={x:this.targetOnDown.x+15*-d.x,y:this.targetOnDown.y+15*-d.y}}else if("mouseup"==c.type||"mousemove"==c.type);else if("wheel"==c.type||"mousewheel"==c.type){if(this.preventScroll)return;var e=0;if("wheel"==c.type){var f=c.wheelDeltaY||-1*c.deltaY;Device.browser.firefox&&1==c.deltaMode&&(f*=15),e+=f}else"mousewheel"==c.type&&(e+=c.wheelDeltaY?c.wheelDeltaY:c.wheelDelta);this.currentY=this.draggable[0].y,this.targetY=3*e+this.draggable[0].y,this.targetY=Math.min(this.targetY,this.maxY),this.targetY=Math.max(this.targetY,this.minY),this.wheelled=!0}}},{key:"onRender",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onRender",this).call(this),this.obj.position.x+=.05*(this.target.x-this.obj.position.x),this.obj.position.y+=.05*(this.target.y-this.obj.position.y),Device.browser.safari?TweenMax.set(this.$sceneView,{rotation:this.obj.position.x/5}):TweenMax.set(this.$sceneView,{rotation:this.obj.position.x/5,rotationX:1+this.obj.position.x,rotationY:1+this.obj.position.y}),TweenMax.set(this.$scene,{x:.5*app.slider.obj.wiggle.x,y:.5*app.slider.obj.wiggle.y,force3D:!0}),TweenMax.set(this.$gridScene,{y:this.draggable[0].y,force3D:!0}),this.animate&&(this.wheelled&&(this.currentY+=.13*(this.targetY-this.currentY),TweenMax.set(this.$scroller,{y:this.currentY})),this.draggable[0].update())}},{key:"onResize",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onResize",this).call(this);var a=Stage.width/2070,c=Stage.height/1230,d=(a+c)/2;(Stage.width<768||Device.mobile)&&(d*=.7);var e=this.$elt.find(".layer.decoration").eq(0).find("img").get(0),f=e.naturalHeight*d,g=e.naturalWidth*d;this.minY=1*-f,this.maxY=2*f*1.1,(Stage.width<768||Device.mobile)&&(this.maxY*=2,this.minY=4*f);for(var h=0;h<this.layers_decoration.length;h++){var j=this.$elt.find(".layer.decoration").eq(h).find("img").get(0),k=j.naturalWidth*d+"px",l=j.naturalHeight*d+"px",m=this.datas.layers_decoration[h].y*d+"px",n=this.datas.layers_decoration[h].x*d+"px";(Stage.width<768||Device.mobile)&&(m=this.datas.layers_decoration[h].y_mobile*d+"px",n=this.datas.layers_decoration[h].x_mobile*d+"px"),this.$elt.find(".layer.decoration").eq(h).css({width:k,height:l,top:m,left:n})}for(var o=0;o<this.layers_hover.length;o++){var p=this.$elt.find(".layer.hover").eq(o).find("img").get(0),q=p.naturalWidth*d+"px",r=p.naturalHeight*d+"px",s=this.datas.layers_hover[o].y*d+"px",t=this.datas.layers_hover[o].x*d+"px";(Stage.width<768||Device.mobile)&&(s=this.datas.layers_hover[o].y_mobile*d+"px",t=this.datas.layers_hover[o].x_mobile*d+"px"),this.$elt.find(".layer.hover").eq(o).css({width:q,height:r,top:s,left:t})}for(var u=0;u<this.datas.layers.length;u++){var v=this.datas.layers[u];v.div.css({width:v.asset.naturalWidth/2+"px",height:v.asset.naturalHeight/2+"px",top:v.top,bottom:v.bottom,left:v.left,right:v.right})}if(!this.preventScroll){var w=300*d;(Stage.width<768||Device.mobile)&&(w=10),TweenMax.set(this.$scene.find("#grid"),{x:(Stage.width-2*g)/4-w,transformOrigin:"0 0",force3D:!0})}this.draggable[0].applyBounds({minY:this.minY,maxY:this.maxY})}},{key:"unbind",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"unbind",this).call(this),$("body").off("click",this.animScene),app.slider&&app.slider.unbind(),app.slider&&app.slider.onClose(),this.$scene.find(".layer-grid-scene .layer").off("click",this.onOpen),this.$scene.find(".layer-grid-scene .layer").off("mouseover",this.onMouseEnter),this.$scene.find(".layer-grid-scene .layer").off("mouseleave",this.onMouseLeave)}}]),b}(m.default);c.default=n},{"./BaseScene":378,"parallax-js":345}],388:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=a("parallax-js"),k=d(j),l=a("./BaseScene"),m=d(l),n=a("./../MouseModule"),o=d(n),p=a("utils/clip/FlashSpriteFramesProvider"),q=d(p),r=a("utils/clip/SpriteCSSFrameRenderer"),s=d(r),t=a("@merci-michel/mm-movieclip"),u=d(t),v=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));c.onPreviousFocus=c.onPreviousFocus.bind(c),c.onNextFocus=c.onNextFocus.bind(c),c.animSuccessStop=c.animSuccessStop.bind(c),c.$ingredients=c.$elt.find(".list-ingredients"),c.$detail=c.$elt.find("#mouse-detail"),c.$selection=c.$elt.find("#selection"),c.index=1,c.id="kitchen",c.path="cuisine",c.mouse=new o.default(c.$detail),c.mouse.bind(),c.mouse.hide(),c.$elt.addClass(c.id),c.recetteItemId=-1,c.currentRecette=[],c.freezeFocus=!1,c.selected=!1,c.datas=JSON.parse(JSON.stringify(app.datas.l10n.scenes[c.index])),c.layers_hover=[],c.layers=[],c.layers_decoration=[],c.layers_ingredients=[],c.layers_sprite=[];for(var d=0;d<c.datas.layers_decoration.length;d++){var g=c.datas.layers_decoration[d];g.asset=app.manifestLoader.getFile(c.id,g.img),g.asset=g.asset.cloneNode(!0);var h=document.createElement("div"),i=$(h);i.attr("data-depth",.2),i.attr("data-id",g.id),i.addClass("layer decoration"),i.append(g.asset),c.$scene.find("#grid").append(i),c.layers_decoration.push(g)}for(var j=0;j<c.datas.layers_sprite.length;j++){var l=c.datas.layers_sprite[j];l.asset=app.manifestLoader.getFile(c.id,l.img);var m=document.createElement("div"),n=$(m);n.attr("data-depth",.2),n.attr("data-id",l.id),n.addClass("layer sprite"),n.css({background:"url("+$(l.asset).attr("src")+")no-repeat"}),c.$scene.find("#grid").append(n),c.layers_sprite.push(l)}for(var p=0;p<c.datas.layers_ingredients.length;p++){var r=c.datas.layers_ingredients[p];r.asset=app.manifestLoader.getFile(c.id,r.img),r.asset=r.asset.cloneNode(!0);var t=document.createElement("div"),v=$(t);v.attr("data-depth",.2),v.attr("data-id",r.id),v.attr("data-name",r.name),v.addClass("layer ingredients"),v.append(r.asset),c.$scene.find("#grid").append(v),c.layers_ingredients.push(r)}for(var w=0;w<c.datas.layers_hover.length;w++){var x=c.datas.layers_hover[w];x.asset=app.manifestLoader.getFile(c.id,x.img);var y=document.createElement("div"),z=$(y);z.attr("data-depth",.2),z.attr("data-id",x.id),z.addClass("layer hover"),z.append(x.asset),c.$scene.find("#grid").append(z),c.layers_hover.push(x)}for(var A=0;A<c.datas.layers.length;A++){var B=c.datas.layers[A];B.asset=app.manifestLoader.getFile(c.id,B.img);var C=document.createElement("div"),D=$(C);D.attr("data-depth",B.depth),D.attr("data-img",B.img),D.addClass("layer layer-fixed");var E=document.createElement("div");E.className="layer-asset";var F=$(E);F.append(B.asset),D.append(F),c.$scene.append(D),B.div=D,c.layers.push(B)}c.$layers=c.$scene.find(".layer"),c.parallax=new k.default(c.$scene[0]),c.initDraggable(),c.initScene(),c.onResize(),setTimeout(function(){c.onResize()},100);var G={frames:[{filename:"fumee__0061_Calque-0_0000_fumee__0060_WHAOU_Maison_Cuisine_03_00000.png",frame:{x:0,y:0,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0000_fumee__0060_WHAOU_Maison_Cuisine_03_00001.png",frame:{x:210,y:0,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0000_fumee__0060_WHAOU_Maison_Cuisine_03_00002.png",frame:{x:420,y:0,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0001_fumee__0059_WHAOU_Maison_Cuisine_03_00003.png",frame:{x:630,y:0,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0002_fumee__0058_WHAOU_Maison_Cuisine_03_00004.png",frame:{x:840,y:0,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0003_fumee__0057_WHAOU_Maison_Cuisine_03_00005.png",frame:{x:1050,y:0,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0004_fumee__0056_WHAOU_Maison_Cuisine_03_00006.png",frame:{x:1260,y:0,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0005_fumee__0055_WHAOU_Maison_Cuisine_03_00007.png",frame:{x:1470,y:0,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0007_fumee__0052_WHAOU_Maison_Cuisine_03_00010.png",frame:{x:0,y:188,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0008_fumee__0051_WHAOU_Maison_Cuisine_03_00011.png",frame:{x:210,y:188,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0009_fumee__0050_WHAOU_Maison_Cuisine_03_00012.png",frame:{x:420,y:188,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0010_fumee__0049_WHAOU_Maison_Cuisine_03_00013.png",frame:{x:630,y:188,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0011_fumee__0048_WHAOU_Maison_Cuisine_03_00014.png",frame:{x:840,y:188,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0012_fumee__0046_WHAOU_Maison_Cuisine_03_00016.png",frame:{x:1050,y:188,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0013_fumee__0045_WHAOU_Maison_Cuisine_03_00017.png",frame:{x:1260,y:188,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0014_fumee__0044_WHAOU_Maison_Cuisine_03_00018.png",frame:{x:1470,y:188,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0016_fumee__0041_WHAOU_Maison_Cuisine_03_00021.png",frame:{x:0,y:376,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0017_fumee__0040_WHAOU_Maison_Cuisine_03_00022.png",frame:{x:210,y:376,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0018_fumee__0039_WHAOU_Maison_Cuisine_03_00023.png",frame:{x:420,y:376,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{
filename:"fumee__0061_Calque-0_0019_fumee__0038_WHAOU_Maison_Cuisine_03_00024.png",frame:{x:630,y:376,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0020_fumee__0037_WHAOU_Maison_Cuisine_03_00025.png",frame:{x:840,y:376,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0021_fumee__0035_WHAOU_Maison_Cuisine_03_00027.png",frame:{x:1050,y:376,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0022_fumee__0034_WHAOU_Maison_Cuisine_03_00028.png",frame:{x:1260,y:376,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0023_fumee__0032_WHAOU_Maison_Cuisine_03_00030.png",frame:{x:1470,y:376,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0025_fumee__0030_WHAOU_Maison_Cuisine_03_00032.png",frame:{x:0,y:564,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0026_fumee__0029_WHAOU_Maison_Cuisine_03_00033.png",frame:{x:210,y:564,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0027_fumee__0028_WHAOU_Maison_Cuisine_03_00034.png",frame:{x:420,y:564,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0028_fumee__0027_WHAOU_Maison_Cuisine_03_00035.png",frame:{x:630,y:564,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0029_fumee__0026_WHAOU_Maison_Cuisine_03_00036.png",frame:{x:840,y:564,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0030_fumee__0025_WHAOU_Maison_Cuisine_03_00037.png",frame:{x:1050,y:564,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0031_fumee__0023_WHAOU_Maison_Cuisine_03_00039.png",frame:{x:1260,y:564,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0032_fumee__0021_WHAOU_Maison_Cuisine_03_00041.png",frame:{x:1470,y:564,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0034_fumee__0019_WHAOU_Maison_Cuisine_03_00043.png",frame:{x:0,y:752,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0035_fumee__0016_WHAOU_Maison_Cuisine_03_00046.png",frame:{x:210,y:752,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0036_fumee__0015_WHAOU_Maison_Cuisine_03_00047.png",frame:{x:420,y:752,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0037_fumee__0014_WHAOU_Maison_Cuisine_03_00048.png",frame:{x:630,y:752,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0038_fumee__0013_WHAOU_Maison_Cuisine_03_00049.png",frame:{x:840,y:752,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0039_fumee__0012_WHAOU_Maison_Cuisine_03_00050.png",frame:{x:1050,y:752,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0040_fumee__0010_WHAOU_Maison_Cuisine_03_00052.png",frame:{x:1260,y:752,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0041_fumee__0009_WHAOU_Maison_Cuisine_03_00053.png",frame:{x:1470,y:752,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0043_fumee__0007_WHAOU_Maison_Cuisine_03_00055.png",frame:{x:0,y:940,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0044_fumee__0006_WHAOU_Maison_Cuisine_03_00056.png",frame:{x:210,y:940,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0045_fumee__0005_WHAOU_Maison_Cuisine_03_00057.png",frame:{x:420,y:940,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0046_fumee__0004_WHAOU_Maison_Cuisine_03_00058.png",frame:{x:630,y:940,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0047_fumee__0003_WHAOU_Maison_Cuisine_03_00059.png",frame:{x:840,y:940,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}},{filename:"fumee__0061_Calque-0_0048_fumee__0002_WHAOU_Maison_Cuisine_03_00060.png",frame:{x:1050,y:940,w:210,h:188},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:210,h:188},sourceSize:{w:210,h:188},pivot:{x:.5,y:.5}}],meta:{app:"https://www.codeandweb.com/texturepacker",version:"1.0",image:"sprite.png",format:"RGBA8888",size:{w:1868,h:1128},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:b6cf71905acc3dd7c8da0c8f7086fe3d:d635e8b157d854da5524f4e4b9477659:68d88b3cf7eafc9b5accfffdfb2fda91$"}},H=c.$elt.find(".layer.sprite").eq(0).get(0),I=new s.default(H),J=new q.default(210,188,G);return H.style.width=J.getFrameWidth()+"px",H.style.height=J.getFrameHeight()+"px",H.style.backgroundSize=J.getBackgroundWidth()+"px "+J.getBackgroundHeight()+"px",c.mc=new u.default({fps:35,framesProvider:J,frameRenderer:I.render,totalFrames:J.totalFrames}),c}return g(b,a),h(b,[{key:"onMouseEnter",value:function(a){var b=$(a.currentTarget);if(b.hasClass("ingredients")){if(this.selected){b.addClass("focused");var c=b.attr("data-id");this.timeoutMouse&&clearTimeout(this.timeoutMouse),this.$detail.html("<span>"+this.datas.layers_ingredients[c].detail+"</span>"),this.mouse.show()}}else b.addClass("focused")}},{key:"onMouseLeave",value:function(a){var b=this;$(a.currentTarget).removeClass("focused"),this.timeoutMouse=setTimeout(function(){b.mouse.hide()},50)}},{key:"bind",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"bind",this).call(this),Render.add(this.mc.tick,this.mc.fps),this.$ingredients.on("click","li",this.onRemoveFocus),this.$layers.on("click",this.onFocus),this.$selection.find(".left").on("click",this.onPreviousFocus),this.$selection.find(".right").on("click",this.onNextFocus),this.$layers.on("mouseover touchstart",this.onMouseEnter),this.$layers.on("mouseleave touchend touchcancel",this.onMouseLeave)}},{key:"initScene",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"initScene",this).call(this),this.onShowHelp(),TweenMax.set(this.$elt.find(".layer.ingredients"),{scale:0});for(var a=0;a<this.layers_hover.length;a++)TweenMax.fromTo(this.$elt.find(".layer.hover").eq(a).find("img"),1,{scale:0},{scale:1,ease:Elastic.easeOut.config(1,1),delay:.1*a});TweenMax.set(this.$scene,{scale:.9}),TweenMax.to(this.$scene,4,{scale:1,ease:Quint.easeOut}),this.preventScroll=!1,this.obj={position:new THREE.Vector3},this.$ingredients.addClass("show"),this.selected=!0,this.recetteItemId=0,this.onUpdateNavFocus(),this.clearFocus(),this.initialized=!0}},{key:"onFocus",value:function(a){var b=this,c=$(a.currentTarget);if(c.hasClass("hover")){var d=JSON.parse(JSON.stringify(app.datas.l10n.scenes[this.index].layers_hover));d=d[c.attr("data-id")].items;var e=d[0];app.router.navigate("/pieces/"+this.path+"/"+e.link),this.onOpen(0,d)}else if(c.hasClass("ingredients")&&this.selected){if(this.freezeFocus)return;this.freezeFocus=!0;var f=c.attr("data-name");if(f&&this.currentRecette.length<this.getRecette()[this.recetteItemId].recette.length){c.addClass("disable");var g=!1;-1!=this.currentRecette.indexOf(c.attr("data-name"))&&(g=!0),-1==this.getRecette()[this.recetteItemId].recette.indexOf(c.attr("data-name"))&&(g=!0),this.currentRecette.push(c.attr("data-name")),g?(this.$ingredients.find('li:not([class=""])').last(),setTimeout(function(){b.$ingredients.find('li:not([class=""])').last().trigger("click")},700),this.animFailed()):this.animSuccess(c),this.onUpdateFocus(),setTimeout(function(){b.freezeFocus=!1},1e3)}}}},{key:"animFailed",value:function(){var a=this;this.mc.gotoAndStop(0),this.$elt.find(".layer.decoration").eq(1).addClass("error"),setTimeout(function(){a.$elt.find(".layer.decoration").eq(1).removeClass("error")},200)}},{key:"animSuccess",value:function(a){var b=$(a).clone();this.$scene.append(b);var c=b.css("left").replace("px",""),d=b.css("top").replace("px",""),e=this.$elt.find(".layer.sprite").eq(0),f=e.css("left").replace("px",""),g=e.css("top").replace("px",""),h=[{x:0,y:0},{x:(f-c)/3,y:0},{x:(f-c)/2,y:30},{x:f-c,y:g-d+50}];TweenMax.to(b,1,{bezier:{type:"soft",values:h},alpha:0,scale:.5,ease:Sine.easeInOut,onComplete:function(){b.remove()}})}},{key:"animSuccessStop",value:function(){this.mc.gotoAndStop(0),this.mc.removeFrameScript(this.mc.totalFrames-1),this.onShowCongrats();var a=this.getRecette()[this.recetteItemId].more_img,b=app.datas.assetsBaseURL+app.datas.assetsPath+a.replace(/\./g,"/")+".png";this.$congrats.find(".left").empty().append('<img src="'+b+'" />'),this.$congrats.find(".description span").html(this.getRecette()[this.recetteItemId].more_title),this.$congrats.find(".more").off("click",this.onMoreCongrats),this.$congrats.find(".more").on("click",this.onMoreCongrats),TweenMax.fromTo(this.$congrats.find(".left img"),1,{scale:0},{scale:1,ease:Elastic.easeOut.config(1,.9)})}},{key:"getRecette",value:function(){for(var a=[],b=JSON.parse(JSON.stringify(app.datas.l10n.scenes[this.index].layers_hover)),c=0;c<b.length;c++)for(var d=0;d<b[c].items.length;d++)b[c].items[d].selection_title&&a.push(b[c].items[d]);return a}},{key:"onPreviousFocus",value:function(a){a&&a.preventDefault(),$(a.target).parents(".left").hasClass("disable")||(this.recetteItemId--,this.recetteItemId<0&&(this.recetteItemId=this.getRecette().length-1),this.onUpdateNavFocus(),this.clearFocus())}},{key:"onNextFocus",value:function(a){a&&a.preventDefault(),$(a.target).parents(".right").hasClass("disable")||(this.recetteItemId++,this.recetteItemId>this.getRecette().length-1&&(this.recetteItemId=0),this.onUpdateNavFocus(),this.clearFocus())}},{key:"onUpdateNavFocus",value:function(){this.$selection.find(".left, .right").removeClass("disable");var a=this.getRecette()[this.recetteItemId].selection_title;this.$selection.find(".selection_title").html(a)}},{key:"onRemoveFocus",value:function(a){var b=$(a.currentTarget).index();""!=$(a.currentTarget).attr("class")&&(this.currentRecette.splice(b,1),this.onUpdateFocus()),0==this.currentRecette.length&&this.mc&&this.mc.gotoAndStop(0)}},{key:"onUpdateFocus",value:function(){var a=this,b=this.getRecette()[this.recetteItemId].recette,c=this.$ingredients.find("li");c.attr("class","");for(var d=0;d<this.currentRecette.length;d++)c.eq(d).addClass(this.currentRecette[d]),-1==b.indexOf(this.currentRecette[d])&&c.eq(d).addClass("failed"),d==this.currentRecette.length-1&&TweenMax.fromTo(c.eq(d),1,{scale:0},{scale:1,ease:Elastic.easeOut.config(1,.9)});this.currentRecette.length==this.getRecette()[this.recetteItemId].recette.length&&this.getRecette()[this.recetteItemId].recette.every(function(b){return a.currentRecette.indexOf(b)>-1})&&setTimeout(function(){a.mc.gotoAndPlay(0),a.mc.addFrameScript(a.mc.totalFrames-1,a.animSuccessStop)},1e3)}},{key:"onMoreCongrats",value:function(a){a&&a.preventDefault(),this.onCloseCongrats();var b=this.getRecette();this.onOpen(this.recetteItemId,b)}},{key:"clearFocus",value:function(){this.currentRecette=[],this.$ingredients.find("ul").empty();for(var a=0;a<this.getRecette()[this.recetteItemId].recette.length;a++)this.$ingredients.find("ul").append("<li></li>");var b=this.$ingredients.find("li");b.attr("class",""),this.$elt.find(".layer.ingredients").removeClass("disable"),TweenMax.set(b,{scale:0}),TweenMax.staggerTo(b,1,{scale:1,ease:Elastic.easeOut.config(1,.9)},.05),TweenMax.staggerTo(this.$elt.find(".layer.ingredients"),1,{scale:1,ease:Elastic.easeOut.config(1,.9)},.05),this.mc&&this.mc.gotoAndStop(0)}},{key:"onCloseCongrats",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onCloseCongrats",this).call(this,a),this.$congrats.find(".more").off("click",this.onMoreCongrats),this.clearFocus()}},{key:"onOpen",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,b=arguments[1];this.$sceneView.addClass("blur"),app.slider.onOpen(a,this.index,1,b,!0,this.path)}},{key:"onClose",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onClose",this).call(this,a),this.$sceneView.removeClass("blur")}},{key:"onScroll",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onScroll",this).call(this,a);var c=a.originalEvent;if("mousedown"==c.type);else if("mousemove"==c.type){var d=this.getXY(c);this.target={x:this.targetOnDown.x+15*-d.x,y:this.targetOnDown.y+15*-d.y}}else if("mouseup"==c.type||"mousemove"==c.type);else if("wheel"==c.type||"mousewheel"==c.type){if(this.preventScroll)return;var e=0;if("wheel"==c.type){var f=c.wheelDeltaY||-1*c.deltaY;Device.browser.firefox&&1==c.deltaMode&&(f*=15),e+=f}else"mousewheel"==c.type&&(e+=c.wheelDeltaY?c.wheelDeltaY:c.wheelDelta);this.currentY=this.draggable[0].y,this.targetY=3*e+this.draggable[0].y,this.targetY=Math.min(this.targetY,this.maxY),this.targetY=Math.max(this.targetY,this.minY),this.wheelled=!0}}},{key:"onRender",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onRender",this).call(this),this.obj.position.x+=.05*(this.target.x-this.obj.position.x),this.obj.position.y+=.05*(this.target.y-this.obj.position.y),Device.browser.safari?TweenMax.set(this.$sceneView,{rotation:this.obj.position.x/5}):TweenMax.set(this.$sceneView,{rotation:this.obj.position.x/5,rotationX:1+this.obj.position.x,rotationY:1+this.obj.position.y}),TweenMax.set(this.$scene,{x:app.slider.obj.wiggle.x,y:app.slider.obj.wiggle.y}),TweenMax.set(this.$gridScene,{y:this.draggable[0].y,force3D:!0}),this.animate&&(this.wheelled&&(this.currentY+=.13*(this.targetY-this.currentY),TweenMax.set(this.$scroller,{y:this.currentY})),this.draggable[0].update())}},{key:"onResize",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onResize",this).call(this);var a=2070/1230;(Stage.width<768||Device.mobile)&&(a=640/960);var c=Stage.width/Stage.height,d=0,e=0;a<c?(d=Stage.width,e=d/a):(e=Stage.height,d=e*a);var f=.5*(Stage.width-d),g=.5*(Stage.height-e),h=d/2070;(Stage.width<768||Device.mobile)&&(h=d/640);for(var j=0;j<this.layers_decoration.length;j++){var k=this.$elt.find(".layer.decoration").eq(j).find("img").get(0),l=k.naturalWidth*h+"px",m=k.naturalHeight*h+"px",n=this.datas.layers_decoration[j].x*h+f+"px",o=this.datas.layers_decoration[j].y*h+g+"px";(Stage.width<768||Device.mobile)&&(o=this.datas.layers_decoration[j].y_mobile*h+g+"px",n=this.datas.layers_decoration[j].x_mobile*h+f+"px"),this.$elt.find(".layer.decoration").eq(j).css({width:l,height:m,top:o,left:n})}for(var p=0;p<this.layers_ingredients.length;p++){var q=this.$elt.find(".layer.ingredients").eq(p).find("img").get(0),r=q.naturalWidth*h+"px",s=q.naturalHeight*h+"px",t=this.datas.layers_ingredients[p].x*h+f+"px",u=this.datas.layers_ingredients[p].y*h+g+"px";(Stage.width<768||Device.mobile)&&(u=this.datas.layers_ingredients[p].y_mobile*h+g+"px",t=this.datas.layers_ingredients[p].x_mobile*h+f+"px"),this.$elt.find(".layer.ingredients").eq(p).css({width:r,height:s,top:u,left:t})}for(var v=0;v<this.layers_hover.length;v++){var w=this.$elt.find(".layer.hover").eq(v).find("img").get(0),x=w.naturalWidth*h+"px",y=w.naturalHeight*h+"px",z=this.datas.layers_hover[v].x*h+f+"px",A=this.datas.layers_hover[v].y*h+g+"px";(Stage.width<768||Device.mobile)&&(A=this.datas.layers_hover[v].y_mobile*h+g+"px",z=this.datas.layers_hover[v].x_mobile*h+f+"px"),this.$elt.find(".layer.hover").eq(v).css({width:x,height:y,top:A,left:z})}for(var B=0;B<this.datas.layers.length;B++){var C=this.datas.layers[B];C.div.css({width:C.asset.naturalWidth/1.5+"px",height:C.asset.naturalHeight/1.5+"px",top:C.top,bottom:C.bottom,left:C.left,right:C.right})}for(var D=0;D<this.layers_sprite.length;D++){var E=this.datas.layers_sprite[D].x*h+f+"px",F=this.datas.layers_sprite[D].y*h+g+"px";(Stage.width<768||Device.mobile)&&(F=this.datas.layers_sprite[D].y_mobile*h+g+"px",E=this.datas.layers_sprite[D].x_mobile*h+f+"px"),this.$elt.find(".layer.sprite").eq(D).css({top:F,left:E,transform:"scale("+h+")",transformOrigin:"0px 0px"})}var G=app.manifestLoader.getFile(this.id,"img.rooms.kitchen.bg"),H=!1;Stage.width<768||Device.mobile?(this.draggable[0].enable(),this.preventScroll=!1,G=app.manifestLoader.getFile(this.id,"img.rooms.kitchen.bg_mobile"),H=app.manifestLoader.getFile(this.id,"img.rooms.kitchen.bg_mobile_extra")):(this.targetY=0,this.preventScroll=!0,TweenMax.set(this.$scroller,{y:this.currentY}),this.draggable[0].update(),this.draggable[0].disable()),this.initBackground(G,H),this.minY=0,this.maxY=200,this.draggable[0].applyBounds({minY:this.minY,maxY:this.maxY})}},{key:"unbind",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"unbind",this).call(this),this.mouse.unbind(),Render.remove(this.mc.tick),this.$selection.find(".left").off("click",this.onPreviousFocus),this.$selection.find(".right").off("click",this.onNextFocus),this.$congrats.find(".more").off("click",this.onMoreCongrats),this.$layers.off("click",this.onFocus),this.$ingredients.off("click","li",this.onRemoveFocus),this.$layers.off("mouseover touchstart",this.onMouseEnter),this.$layers.off("mouseleave touchend touchcancel",this.onMouseLeave)}}]),b}(m.default);c.default=v},{"./../MouseModule":376,"./BaseScene":378,"@merci-michel/mm-movieclip":1,"parallax-js":345,"utils/clip/FlashSpriteFramesProvider":408,"utils/clip/SpriteCSSFrameRenderer":409}],389:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("utils/FunctionUtils"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=function(){function a(b){d(this,a),this.scene=b;var c=new THREE.HemisphereLight(16777215);c.position.set(0,0,0),this.scene.add(c),this.light1=new THREE.DirectionalLight(16777215,.2),this.light1.position.set(300,-1e3,1e3),this.scene.add(this.light1)}return e(a,[{key:"bind",value:function(){g.default.wiggleProp(this.light1.position,"x",-300,900,1.5,3)}},{key:"unbind",value:function(){TweenMax.killTweensOf(this.light1.position)}},{key:"update",value:function(a){this.light1.position.y=-1e3+a}}]),a}();c.default=h},{"utils/FunctionUtils":401}],390:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=a("parallax-js"),k=d(j),l=a("./BaseScene"),m=d(l),n=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));c.index=2,c.id="bedroom",c.path="chambre",c.$elt.addClass(c.id),c.datas=JSON.parse(JSON.stringify(app.datas.l10n.scenes[c.index])),c.layers_hover=[],c.layers=[];for(var d=c.shuffle(c.datas.layers_hover),g=0;g<d.length;g++){var h=d[g];h.asset=app.manifestLoader.getFile(c.id,h.img);var i=document.createElement("div"),j=$(i);j.attr("data-depth",.2),j.attr("data-id",h.id),j.attr("data-link",h.link),h.full_img&&j.addClass("layer hover"),j.css({width:h.asset.width/2+"px",height:h.asset.height/2+"px"}),j.append(h.asset),c.$scene.find("#grid").append(j),c.layers_hover.push(h)}for(var l=0;l<c.datas.layers.length;l++){var m=c.datas.layers[l];m.asset=app.manifestLoader.getFile(c.id,m.img);var n=document.createElement("div"),o=$(n);o.attr("data-depth",m.depth),o.addClass("layer layer-fixed");var p=document.createElement("div");p.className="layer-asset";var q=$(p);q.append(m.asset),o.append(q),c.$scene.append(o),m.div=o,c.layers.push(m)}return c.$layers=c.$scene.find(".layer"),c.parallax=new k.default(c.$scene[0]),c.initBackground(app.manifestLoader.getFile(c.id,"img.rooms.room.bg")),c.initDraggable(),c.draggable[0].disable(),c.initScene(),c.onResize(),setTimeout(function(){if(c.onResize(),app.router.nextRoute&&app.router.nextRoute.raw){var a=app.router.nextRoute.raw.split("pieces/"+c.path+"/");a.length>1&&(app.router.navigate("/pieces/"+c.path+"/"+a[1]),c.initialized=!0,c.$scene.find('[data-link="'+a[1]+'"]').trigger("click"))}},100),c}return g(b,a),h(b,[{key:"bind",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"bind",this).call(this),$("body").on("click",this.animScene),this.$scene.find(".layer-grid-scene .layer").on("click",this.onOpen),this.$scene.find(".layer-grid-scene .layer").on("mouseover touchstart",this.onMouseEnter),this.$scene.find(".layer-grid-scene .layer").on("mouseleave touchend touchcancel",this.onMouseLeave)}},{key:"initScene",value:function(){var a=this;i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"initScene",this).call(this),TweenMax.set(this.$scene.find(".layer-bg"),{scale:1}),TweenMax.set(this.$scene,{scale:.9}),TweenMax.to(this.$scene,4,{scale:1,ease:Quint.easeOut}),this.obj={position:new THREE.Vector3};var c=Stage.width<768||Device.mobile?250:4e3;this.timeoutAnimScene=setTimeout(function(){a.animScene()},c)}},{key:"animScene",value:function(){var a=this;$("body").off("click",this.animScene),this.timeoutAnimScene&&clearTimeout(this.timeoutAnimScene),TweenMax.to(this.$scene.find(".layer-bg"),6,{scale:1.5,ease:Quint.easeOut}),TweenMax.to(this.$scene.find(".layer-grid-scene"),6,{scale:1.5,ease:Quint.easeOut,force3D:!0}),TweenMax.to(this.$scroller,1.5,{y:this.$scene.find("#grid").height()+100,ease:Quint.easeInOut,onComplete:function(){a.preventScroll=!1,a.draggable[0].enable(),Stage.width<768||Device.mobile||a.showBack()}}),TweenMax.to(this.$scene.find(".layer-bg"),.3,{alpha:0}),TweenMax.to(this.$scene.find(".layer-fixed"),.3,{alpha:0}),this.initialized=!0}},{key:"onBack",value:function(){var a=this;this.draggable[0].disable(),this.timeoutAnimScene&&clearTimeout(this.timeoutAnimScene),this.preventScroll=!0,TweenMax.to(this.$scene.find(".layer-bg"),6,{scale:1,ease:Quint.easeOut}),TweenMax.to(this.$scene.find(".layer-grid-scene"),6,{scale:1,ease:Quint.easeOut,force3D:!0}),TweenMax.to(this.$scroller,1.5,{y:0,ease:Quint.easeInOut,onComplete:function(){$("body").on("click",a.animScene)}}),TweenMax.to(this.$scene.find(".layer-bg"),.3,{delay:1,alpha:1}),TweenMax.to(this.$scene.find(".layer-fixed"),.3,{delay:1,alpha:1}),this.initialized=!1,this.wheelled=!1,this.hideBack()}},{key:"onOpen",value:function(a){if(i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onOpen",this).call(this,a),this.initialized){var c=$(a.currentTarget),d=app.datas.l10n.scenes[this.index].layers_hover[c.attr("data-id")];app.router.navigate("/pieces/"+this.path+"/"+d.link),this.$sceneView.addClass("blur");var e=JSON.parse(JSON.stringify(app.datas.l10n.scenes[this.index].layers_hover));app.slider.onOpen(c.attr("data-id"),this.index,1,e,!0,this.path),this.draggable[0].disable(),this.animate=!0}}},{key:"onClose",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onClose",this).call(this,a),this.$sceneView.removeClass("blur"),this.draggable[0].enable(),"boolean"==typeof a&&app.router.navigate("/pieces/"+this.path+"/")}},{key:"onScroll",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onScroll",this).call(this,a);var c=a.originalEvent;if("mousedown"==c.type);else if("mousemove"==c.type){var d=this.getXY(c);this.target={x:this.targetOnDown.x+15*-d.x,y:this.targetOnDown.y+15*-d.y}}else if("mouseup"==c.type||"mousemove"==c.type);else if("wheel"==c.type||"mousewheel"==c.type){if(this.preventScroll)return;var e=0;if("wheel"==c.type){var f=c.wheelDeltaY||-1*c.deltaY;Device.browser.firefox&&1==c.deltaMode&&(f*=15),e+=f}else"mousewheel"==c.type&&(e+=c.wheelDeltaY?c.wheelDeltaY:c.wheelDelta);this.currentY=this.draggable[0].y,this.targetY=3*e+this.draggable[0].y,this.targetY=Math.min(this.targetY,this.maxY),this.targetY=Math.max(this.targetY,this.minY),this.wheelled=!0}}},{key:"onRender",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onRender",this).call(this),this.obj.position.x+=.05*(this.target.x-this.obj.position.x),this.obj.position.y+=.05*(this.target.y-this.obj.position.y),Device.browser.safari?TweenMax.set(this.$sceneView,{rotation:this.obj.position.x/5}):TweenMax.set(this.$sceneView,{rotation:this.obj.position.x/5,rotationX:1+this.obj.position.x,rotationY:1+this.obj.position.y}),TweenMax.set(this.$scene,{x:app.slider.obj.wiggle.x,y:app.slider.obj.wiggle.y}),TweenMax.set(this.$gridScene,{y:this.draggable[0].y,force3D:!0}),this.animate&&(this.wheelled&&(this.currentY+=.13*(this.targetY-this.currentY),TweenMax.set(this.$scroller,{y:this.currentY})),this.draggable[0].update())}},{key:"onResize",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onResize",this).call(this),this.minY=0,this.maxY=1.2*this.$scene.find("#grid").height(),(Stage.width<768||Device.mobile)&&(this.maxY=1.3*this.$scene.find("#grid").height());for(var a=0;a<this.datas.layers.length;a++){var c=this.datas.layers[a];c.div.css({width:c.asset.naturalWidth/2+"px",height:c.asset.naturalHeight/2+"px",top:c.top,bottom:c.bottom,left:c.left,right:c.right})}this.draggable[0].applyBounds({minY:this.minY,maxY:this.maxY}),TweenMax.set(this.$scene.find("#grid-view"),{top:-this.$scene.find("#grid").height()+.65*Stage.height})}},{key:"unbind",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"unbind",this).call(this),$("body").off("click",this.animScene),app.slider&&app.slider.unbind(),app.slider&&app.slider.onClose(),this.$scene.find(".layer-grid-scene .layer").off("click",this.onOpen),this.$scene.find(".layer-grid-scene .layer").off("mouseover",this.onMouseEnter),this.$scene.find(".layer-grid-scene .layer").off("mouseleave",this.onMouseLeave)}}]),b}(m.default);c.default=n},{"./BaseScene":378,"parallax-js":345}],391:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=a("parallax-js"),k=d(j),l=a("./BaseScene"),m=d(l),n=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));c.index=0,c.id="salledejeux",c.path="salledejeux",c.freezeMouseMove=!1,c.$elt.addClass(c.id),c.datas=JSON.parse(JSON.stringify(app.datas.l10n.scenes[c.index])),c.layers_hover=[],c.layers=[],c.layers_decoration=[];for(var d=0;d<c.datas.layers_decoration.length;d++){var g=c.datas.layers_decoration[d];g.asset=app.manifestLoader.getFile(c.id,g.img),g.asset=g.asset.cloneNode(!0);var h=document.createElement("div"),i=$(h);i.attr("data-depth",.2),i.attr("data-id",g.id),i.addClass("layer decoration"),i.append(g.asset),c.$scene.find("#grid").append(i),c.layers_decoration.push(g)}if(Stage.width<768||Device.mobile){var j=c.datas.layers_hover[0];j.iframe_url&&(window.location=j.iframe_url)}for(var l=0;l<c.datas.layers_hover.length;l++){var m=c.datas.layers_hover[l],n=$('<div class="custom_img '+m.color+" "+m.type+'"></div>');n.attr("data-depth",.2),n.attr("data-id",m.id),m.iframe_url&&n.addClass("layer layer_iframe"),n.append('<iframe src="'+m.iframe_url+'"></iframe>'),c.$scene.find("#grid").append(n),c.layers_hover.push(m)}for(var o=0;o<c.datas.layers.length;o++){var p=c.datas.layers[o];p.asset=app.manifestLoader.getFile(c.id,p.img);var q=document.createElement("div"),r=$(q);r.attr("data-depth",p.depth),r.addClass("layer layer-fixed");var s=document.createElement("div");s.className="layer-asset";var t=$(s);t.append(p.asset),r.append(t),c.$scene.append(r),p.div=r,c.layers.push(p)}return c.$layers=c.$scene.find(".layer"),c.parallax=new k.default(c.$scene[0]),c.initBackground(app.manifestLoader.getFile(c.id,"img.rooms.salledejeux.bg")),c.initDraggable(),c.draggable[0].disable(),c.initScene(),c.onResize(),setTimeout(function(){if(c.onResize(),app.router.nextRoute&&app.router.nextRoute.raw){var a=app.router.nextRoute.raw.split("pieces/"+c.path+"/");a.length>1&&(app.router.navigate("/pieces/"+c.path+"/"+a[1]),c.initialized=!0,c.$scene.find('[data-link="'+a[1]+'"]').trigger("click"))}},100),c}return g(b,a),h(b,[{key:"bind",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"bind",this).call(this),$("body").on("click",this.animScene),this.$scene.find(".layer-grid-scene .layer").on("click",this.onOpen),
this.$scene.find(".layer-grid-scene .layer").on("mouseover touchstart",this.onMouseEnter),this.$scene.find(".layer-grid-scene .layer").on("mouseleave touchend touchcancel",this.onMouseLeave)}},{key:"initScene",value:function(){var a=this;i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"initScene",this).call(this),TweenMax.set(this.$scene.find(".layer-bg"),{scale:1}),TweenMax.set(this.$scene,{scale:.9}),TweenMax.to(this.$scene,4,{scale:1,ease:Quint.easeOut}),this.obj={position:new THREE.Vector3};var c=Stage.width<768||Device.mobile?250:4e3;this.timeoutAnimScene=setTimeout(function(){a.animScene()},c)}},{key:"onBack",value:function(){var a=this;this.draggable[0].disable(),TweenMax.to(this.$scene.find(".layer-bg"),6,{scale:1,ease:Quint.easeOut}),TweenMax.to(this.$scene.find(".layer-grid-scene"),4,{scale:1,ease:Quint.easeOut,force3D:!0}),this.preventScroll=!0,TweenMax.to(this.$scroller,1.5,{y:0,ease:Quint.easeInOut,onComplete:function(){$("body").on("click",a.animScene)}}),TweenMax.to(this.$scene.find(".layer-bg"),.3,{delay:1,alpha:1}),TweenMax.to(this.$scene.find(".layer-fixed"),.3,{delay:1,alpha:1}),TweenMax.to(this.$scene.find(".layer.decoration"),.3,{delay:1,alpha:1}),this.freezeMouseMove=!1,this.parallax.enable(),this.initialized=!1,this.wheelled=!1,this.hideBack()}},{key:"animScene",value:function(){var a=this;$("body").off("click",this.animScene),this.timeoutAnimScene&&clearTimeout(this.timeoutAnimScene);TweenMax.to(this.$scene.find(".layer-bg"),6,{scale:1.5,ease:Quint.easeOut}),TweenMax.to(this.$scene.find(".layer-grid-scene"),4,{scale:2.5,ease:Quint.easeOut,force3D:!0}),TweenMax.to(this.$scroller,1.5,{y:this.$scene.find("#grid").height(),ease:Quint.easeInOut,onComplete:function(){a.preventScroll=!1,a.draggable[0].enable(),Stage.width<768||Device.mobile}}),TweenMax.to(this.$scene.find(".layer-bg"),.3,{alpha:0}),TweenMax.to(this.$scene.find(".layer-fixed"),.3,{alpha:0}),TweenMax.to(this.$scene.find(".layer.decoration"),.3,{alpha:0}),this.$elt.find(".layer_iframe").addClass("full"),this.freezeMouseMove=!0,this.parallax.disable(),this.$scene.find(".layer:not(.layer_iframe), .layer-grid").css("transform","translate3d(0px, 0px, 0px)"),this.target={x:0,y:0},this.initialized=!0}},{key:"onOpen",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onOpen",this).call(this,a),this.initialized}},{key:"onClose",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onClose",this).call(this,a),this.$sceneView.removeClass("blur"),this.draggable[0].enable(),"boolean"==typeof a&&app.router.navigate("/pieces/"+this.path+"/")}},{key:"onScroll",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onScroll",this).call(this,a);var c=a.originalEvent;if(!this.freezeMouseMove)if("mousedown"==c.type);else if("mousemove"==c.type){var d=this.getXY(c);this.target={x:this.targetOnDown.x+15*-d.x,y:this.targetOnDown.y+15*-d.y}}else if("mouseup"==c.type||"mousemove"==c.type);else if("wheel"==c.type||"mousewheel"==c.type){if(this.preventScroll)return;var e=0;if("wheel"==c.type){var f=c.wheelDeltaY||-1*c.deltaY;Device.browser.firefox&&1==c.deltaMode&&(f*=15),e+=f}else"mousewheel"==c.type&&(e+=c.wheelDeltaY?c.wheelDeltaY:c.wheelDelta);this.currentY=this.draggable[0].y,this.targetY=3*e+this.draggable[0].y,this.targetY=Math.min(this.targetY,this.maxY),this.targetY=Math.max(this.targetY,this.minY),this.wheelled=!0}}},{key:"onRender",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onRender",this).call(this),this.obj.position.x+=.05*(this.target.x-this.obj.position.x),this.obj.position.y+=.05*(this.target.y-this.obj.position.y),TweenMax.set(this.$sceneView,{rotation:this.obj.position.x/5,force3D:!0}),TweenMax.set(this.$gridScene,{y:this.draggable[0].y}),this.animate&&(this.wheelled&&(this.currentY+=.13*(this.targetY-this.currentY),TweenMax.set(this.$scroller,{y:this.currentY})),this.draggable[0].update())}},{key:"onResize",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onResize",this).call(this);var a=Stage.width/1920,c=Stage.height/1080,d=(a+c)/2;this.minY=0,this.maxY=this.$scene.find("#grid").height();for(var e=0;e<this.datas.layers.length;e++){var f=this.datas.layers[e];f.div.css({width:f.asset.naturalWidth/2+"px",height:f.asset.naturalHeight/2+"px",top:f.top,bottom:f.bottom,left:f.left,right:f.right})}for(var g=0;g<this.layers_hover.length;g++){var h=this.datas.layers_hover[g].width*d+"px",j=this.datas.layers_hover[g].height*d+"px",k=this.datas.layers_hover[g].x*d+"px",l=this.datas.layers_hover[g].y*d+"px";this.$elt.find(".layer_iframe").eq(g).css({width:h,height:j,top:l,left:k})}for(var m=0;m<this.layers_decoration.length;m++){var n=this.$elt.find(".layer.decoration").eq(m).find("img").get(0),o=n.naturalWidth*d+"px",p=n.naturalHeight*d+"px",q=this.datas.layers_decoration[m].y*d+"px",r=this.datas.layers_decoration[m].x*d+"px";this.$elt.find(".layer.decoration").eq(m).css({width:o,height:p,top:q,left:r})}if(!this.preventScroll);this.draggable[0].applyBounds({minY:this.minY,maxY:this.maxY})}},{key:"unbind",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"unbind",this).call(this),$("body").off("click",this.animScene),app.slider&&app.slider.unbind(),app.slider&&app.slider.onClose(),this.$scene.find(".layer-grid-scene .layer").off("click",this.onOpen),this.$scene.find(".layer-grid-scene .layer").off("mouseover",this.onMouseEnter),this.$scene.find(".layer-grid-scene .layer").off("mouseleave",this.onMouseLeave)}}]),b}(m.default);c.default=n},{"./BaseScene":378,"parallax-js":345}],392:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},j=a("parallax-js"),k=d(j),l=a("./BaseScene"),m=d(l),n=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));c.index=7,c.id="salon",c.path="salon",c.$elt.addClass(c.id),c.datas=JSON.parse(JSON.stringify(app.datas.l10n.scenes[c.index])),c.layers_hover=[],c.layers_decoration=[],c.layers_decoration_behind=[],c.layers=[];for(var d=0;d<c.datas.layers_decoration.length;d++){var g=c.datas.layers_decoration[d];g.asset=app.manifestLoader.getFile(c.id,g.img),g.asset=g.asset.cloneNode(!0);var h=document.createElement("div"),i=$(h);i.attr("data-depth",.2),i.attr("data-id",g.id),i.addClass("layer decoration"),i.append(g.asset),c.$scene.find("#grid").append(i),c.layers_decoration.push(g)}for(var j=0;j<c.datas.layers_hover.length;j++){var l=c.datas.layers_hover[j];l.asset=app.manifestLoader.getFile(c.id,l.img),l.asset=l.asset.cloneNode(!0);var m=document.createElement("div"),n=$(m);n.attr("data-depth",.2),n.attr("data-id",l.id),n.attr("data-link",l.link),l.full_img&&n.addClass("layer hover"),n.append(l.asset),c.$scene.find("#grid").append(n),c.layers_hover.push(l)}for(var o=0;o<c.datas.layers_decoration_behind.length;o++){var p=c.datas.layers_decoration_behind[o];p.asset=app.manifestLoader.getFile(c.id,p.img),p.asset=p.asset.cloneNode(!0);var q=document.createElement("div"),r=$(q);r.attr("data-depth",.2),r.attr("data-id",p.id),r.addClass("layer decoration-behind"),r.append(p.asset),c.$scene.find("#grid").append(r),c.layers_decoration_behind.push(p)}for(var s=0;s<c.datas.layers.length;s++){var t=c.datas.layers[s];t.asset=app.manifestLoader.getFile(c.id,t.img);var u=document.createElement("div"),v=$(u);v.attr("data-depth",t.depth),v.addClass("layer layer-fixed");var w=document.createElement("div");w.className="layer-asset";var x=$(w);x.append(t.asset),v.append(x),c.$scene.append(v),t.div=v,c.layers.push(t)}return c.$layers=c.$scene.find(".layer"),c.parallax=new k.default(c.$scene[0]),c.initBackground(app.manifestLoader.getFile(c.id,"img.rooms.salon.bg")),c.initDraggable(),c.draggable[0].disable(),c.initScene(),c.onResize(),setTimeout(function(){if(c.onResize(),app.router.nextRoute&&app.router.nextRoute.raw){var a=app.router.nextRoute.raw.split("pieces/"+c.path+"/");a.length>1&&(app.router.navigate("/pieces/"+c.path+"/"+a[1]),c.initialized=!0,c.$scene.find('[data-link="'+a[1]+'"]').trigger("click"))}},100),c}return g(b,a),h(b,[{key:"bind",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"bind",this).call(this),$("body").on("click",this.animScene),this.$scene.find(".layer-grid-scene .layer").on("click",this.onOpen),this.$scene.find(".layer-grid-scene .layer").on("mouseover touchstart",this.onMouseEnter),this.$scene.find(".layer-grid-scene .layer").on("mouseleave touchend touchcancel",this.onMouseLeave)}},{key:"initScene",value:function(){var a=this;i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"initScene",this).call(this),TweenMax.set(this.$scene.find(".layer-bg"),{scale:1}),TweenMax.set(this.$scene,{scale:.9}),TweenMax.to(this.$scene,4,{scale:1,ease:Quint.easeOut}),this.obj={position:new THREE.Vector3};var c=Stage.width<768||Device.mobile?250:4e3;this.timeoutAnimScene=setTimeout(function(){a.animScene()},c)}},{key:"animScene",value:function(){var a=this;$("body").off("click",this.animScene),this.timeoutAnimScene&&clearTimeout(this.timeoutAnimScene),TweenMax.to(this.$scene.find(".layer-bg"),6,{scale:1.5,ease:Quint.easeOut}),TweenMax.to(this.$scene.find(".layer-grid-scene"),6,{scale:2,ease:Quint.easeOut,force3D:!0});var b=this.getSize(),c=this.$elt.find(".layer.decoration").eq(3).find("img").get(0),d=this.datas.layers_decoration[3].x*b.finalScale+b.offsetX,e=c.naturalWidth*b.finalScale,f=c.naturalHeight*b.finalScale,g=(c.naturalWidth,b.finalScale,(this.layers_decoration.length-4)/2*f-Stage.height-80);TweenMax.to(this.$scroller,1.5,{y:g,ease:Quint.easeInOut,onComplete:function(){a.preventScroll=!1,a.draggable[0].enable(),Stage.width<768||Device.mobile||a.showBack()}}),TweenMax.to(this.$scene.find("#grid"),2,{x:-d+Stage.width/2-e/4,transformOrigin:"0 0",ease:Quint.easeOut,force3D:!0}),TweenMax.to(this.$scene.find(".layer-bg"),.3,{alpha:0}),TweenMax.to(this.$scene.find(".layer-fixed"),.3,{alpha:0}),this.initialized=!0}},{key:"onBack",value:function(){var a=this;this.preventScroll=!0,this.draggable[0].disable(),TweenMax.to(this.$scene.find(".layer-bg"),6,{scale:1,ease:Quint.easeOut}),TweenMax.to(this.$scene.find(".layer-grid-scene"),6,{scale:1,ease:Quint.easeOut,force3D:!0}),TweenMax.to(this.$scroller,1.5,{y:0,ease:Quint.easeInOut,onComplete:function(){$("body").on("click",a.animScene)}}),TweenMax.to(this.$scene.find(".layer-bg"),.3,{delay:1,alpha:1}),TweenMax.to(this.$scene.find(".layer-fixed"),.3,{delay:1,alpha:1}),TweenMax.to(this.$scene.find("#grid-view"),2,{x:0,ease:Quint.easeOut,force3D:!0}),TweenMax.to(this.$scene.find("#grid"),2,{x:0,transformOrigin:"0 0",ease:Quint.easeOut,force3D:!0}),this.initialized=!1,this.wheelled=!1,this.hideBack()}},{key:"onOpen",value:function(a){if(i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onOpen",this).call(this,a),this.initialized){var c=$(a.currentTarget);this.$sceneView.addClass("blur");var d=JSON.parse(JSON.stringify(app.datas.l10n.scenes[this.index].layers_hover));d=d[c.attr("data-id")].items;var e=d[0];app.router.navigate("/pieces/"+this.path+"/"+e.link),app.slider.onOpen(0,this.index,1,d,!0,this.path),this.draggable[0].disable(),this.animate=!0}}},{key:"onClose",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onClose",this).call(this,a),this.$sceneView.removeClass("blur"),this.draggable[0].enable(),"boolean"==typeof a&&app.router.navigate("/pieces/"+this.path+"/")}},{key:"onScroll",value:function(a){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onScroll",this).call(this,a);var c=a.originalEvent;if("mousedown"==c.type);else if("mousemove"==c.type){var d=this.getXY(c);this.target={x:this.targetOnDown.x+15*-d.x,y:this.targetOnDown.y+15*-d.y}}else if("mouseup"==c.type||"mousemove"==c.type);else if("wheel"==c.type||"mousewheel"==c.type){if(this.preventScroll)return;var e=0;if("wheel"==c.type){var f=c.wheelDeltaY||-1*c.deltaY;Device.browser.firefox&&1==c.deltaMode&&(f*=15),e+=f}else"mousewheel"==c.type&&(e+=c.wheelDeltaY?c.wheelDeltaY:c.wheelDelta);this.currentY=this.draggable[0].y,this.targetY=3*e+this.draggable[0].y,this.targetY=Math.min(this.targetY,this.maxY),this.targetY=Math.max(this.targetY,this.minY),this.wheelled=!0}}},{key:"onRender",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onRender",this).call(this),this.obj.position.x+=.05*(this.target.x-this.obj.position.x),this.obj.position.y+=.05*(this.target.y-this.obj.position.y),Device.browser.safari?TweenMax.set(this.$sceneView,{rotation:this.obj.position.x/5}):TweenMax.set(this.$sceneView,{rotation:this.obj.position.x/5,rotationX:1+this.obj.position.x,rotationY:1+this.obj.position.y}),TweenMax.set(this.$scene,{x:app.slider.obj.wiggle.x,y:app.slider.obj.wiggle.y}),TweenMax.set(this.$gridScene,{y:this.draggable[0].y,force3D:!0}),this.animate&&(this.wheelled&&(this.currentY+=.13*(this.targetY-this.currentY),TweenMax.set(this.$scroller,{y:this.currentY})),this.draggable[0].update())}},{key:"getSize",value:function(){var a=Stage.width/Stage.height,b=0,c=0;return 2070/1230<a?(b=Stage.width,c=b/(2070/1230)):(c=Stage.height,b=c*(2070/1230)),{finalScale:b/2070,offsetX:.5*(Stage.width-b),offsetY:.5*(Stage.height-c)}}},{key:"onResize",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"onResize",this).call(this);for(var a=this.getSize(),c=0;c<this.layers_decoration.length;c++){var d=this.$elt.find(".layer.decoration").eq(c).find("img").get(0),e=d.naturalWidth/2*a.finalScale+"px",f=d.naturalHeight/2*a.finalScale+"px",g=this.datas.layers_decoration[c].x*a.finalScale+a.offsetX+"px",h=this.datas.layers_decoration[c].y*a.finalScale+a.offsetY+"px";this.$elt.find(".layer.decoration").eq(c).css({width:e,height:f,top:h,left:g})}for(var j=0;j<this.layers_decoration_behind.length;j++){var k=this.$elt.find(".layer.decoration-behind").eq(j).find("img").get(0),l=k.naturalWidth/2*a.finalScale+"px",m=k.naturalHeight/2*a.finalScale+"px",n=this.datas.layers_decoration_behind[j].x*a.finalScale+a.offsetX+"px",o=this.datas.layers_decoration_behind[j].y*a.finalScale+a.offsetY+"px";this.$elt.find(".layer.decoration-behind").eq(j).css({width:l,height:m,top:o,left:n})}for(var p=0;p<this.layers_hover.length;p++){var q=this.$elt.find(".layer.hover").eq(p).find("img").get(0),r=q.naturalWidth/2.58*a.finalScale+"px",s=q.naturalHeight/2.5*a.finalScale+"px",t=this.datas.layers_hover[p].x*a.finalScale+a.offsetX+"px",u=this.datas.layers_hover[p].y*a.finalScale+a.offsetY+"px";this.$elt.find(".layer.hover").eq(p).css({width:r,height:s,top:u,left:t})}this.minY=0;var v=this.$elt.find(".layer.decoration").eq(3).find("img").get(0),w=v.naturalHeight*a.finalScale;v.naturalWidth,a.finalScale;this.maxY=(this.layers_decoration.length-4)/2*w-Stage.height-80;for(var x=0;x<this.datas.layers.length;x++){var y=this.datas.layers[x];y.div.css({width:y.asset.naturalWidth/2+"px",height:y.asset.naturalHeight/2+"px",top:y.top,bottom:y.bottom,left:y.left,right:y.right})}if(!this.preventScroll){var z=this.$elt.find(".layer.decoration").eq(3).find("img").get(0),A=this.datas.layers_decoration[3].x*a.finalScale+a.offsetX,B=z.naturalWidth*a.finalScale;TweenMax.set(this.$scene.find("#grid"),{x:-A+Stage.width/2-B/4,transformOrigin:"0 0",force3D:!0})}this.draggable[0].applyBounds({minY:this.minY,maxY:this.maxY})}},{key:"unbind",value:function(){i(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"unbind",this).call(this),$("body").off("click",this.animScene),app.slider&&app.slider.unbind(),app.slider&&app.slider.onClose(),this.$scene.find(".layer-grid-scene .layer").off("click",this.onOpen),this.$scene.find(".layer-grid-scene .layer").off("mouseover",this.onMouseEnter),this.$scene.find(".layer-grid-scene .layer").off("mouseleave",this.onMouseLeave)}}]),b}(m.default);c.default=n},{"./BaseScene":378,"parallax-js":345}],393:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("utils/Events"),h=d(g),i=a("utils/FunctionUtils"),j=d(i),k=a("parallax-js"),l=d(k),m=a("./Girafe"),n=d(m),o=a("./Clouds"),p=d(o),q=a("./Lights"),r=d(q),s=function(){function a(b){var c=this;e(this,a),this.$elt=b,this.show=!1,this.onRender=this.onRender.bind(this),this.onResize=this.onResize.bind(this),this.onScroll=this.onScroll.bind(this),this.nextShowed=!1,this.preventScroll=!0,this.currentY=0,this.targetY=0,this.wheelled=!1,this.target={x:0,y:0},this.targetOnDown={x:0,y:0},this.mouseOnDown={x:0,y:0},this.obj={position:new THREE.Vector3},this.animate=!0,this.minY=-100;for(var d=app.datas.l10n.scenes[0],f=0;f<app.datas.l10n.scenes.length;f++)app.datas.l10n.scenes[f].active&&(d=app.datas.l10n.scenes[f]);this.maxY=d.posY+1e3,this.$elt.removeClass("grabbing").addClass("grab"),this.$scroller=this.$elt.find(".scroller"),this.draggable=Draggable.create(this.$elt.find(".scroller").get(0),{type:"y",trigger:this.$elt.find(".dummy").get(0),edgeResistance:.6,throwProps:!0,lockAxis:!0,onRelease:function(){c.animate=!0,c.$elt.removeClass("grabbing").addClass("grab")},onPress:function(){c.animate=!1,c.$elt.addClass("grabbing"),c.wheelled=!1}}),this.draggable[0].disable(),this.draggable[0].vars.cursor="inherit",TweenMax.set(this.$scroller,{y:-6e3}),this.renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),this.renderer.sortObjects=!1,this.renderer.setSize(Stage.width,Stage.height),this.$elt.prepend(this.renderer.domElement),this.camera=new THREE.PerspectiveCamera(45,Stage.width/Stage.height,.1,1e4),this.camera.rotation.order="YXZ",this.camera.position.set(200,1e3,3500),j.default.wiggleProp(this.camera.position,"x",-20,20,1.5,3),j.default.wiggleProp(this.camera.position,"y",150,250,1.5,3),j.default.wiggleProp(this.camera.position,"z",1900,2100,2,3),this.scene=new THREE.Scene,this.parallax=new l.default(this.$elt.find("#scene").get(0)),this.girafe=new n.default(this.scene,this.camera,this.$elt),this.lights=new r.default(this.scene),this.clouds=new p.default(this.scene,this.camera),this.$img=this.$elt.find(".layer img"),this.$layers=this.$elt.find(".layer"),this.$layers.addClass("show"),this.$elt.find(".bottom").addClass("show"),TweenMax.set(this.$img,{y:1.5*Stage.height}),TweenMax.set(this.$elt.find(".discover"),{y:1.5*Stage.height}),TweenMax.set(this.$elt.find(".images"),{y:1.5*Stage.height}),TweenMax.set(this.$elt.find(".bottom"),{y:1.5*Stage.height}),TweenMax.set(this.$elt.find(".bottom .slide img"),{y:1.5*Stage.height,force3D:!0}),h.default.LOADED.addOnce(function(){c.animIn()})}return f(a,[{key:"showWelcome",value:function(){this.show||(this.show=!0,TweenMax.killTweensOf(this.$img),TweenMax.killTweensOf(this.$elt.find(".images")),TweenMax.killTweensOf(this.$elt.find(".discover")),TweenMax.killTweensOf(this.$elt.find(".bottom")),TweenMax.killTweensOf(this.$elt.find(".bottom .slide img")),TweenMax.to(this.$elt.find(".images"),.8,{y:0,ease:Elastic.easeOut.config(1,1.1)}),TweenMax.to(this.$elt.find(".bottom"),.8,{y:0,ease:Elastic.easeOut.config(1,1.1)}),TweenMax.to(this.$elt.find(".discover"),.8,{y:0,ease:Elastic.easeOut.config(1,1.1)}),TweenMax.staggerTo(this.$img,1,{y:0,ease:Elastic.easeOut.config(1,1.1)},.05),TweenMax.staggerTo(this.$elt.find(".bottom .slide img"),.8,{y:0,force3D:!0,ease:Elastic.easeOut.config(1,.8)},.1))}},{key:"hideWelcome",value:function(){this.show&&(TweenMax.killTweensOf(this.$img),TweenMax.killTweensOf(this.$elt.find(".images")),TweenMax.killTweensOf(this.$elt.find(".bottom")),TweenMax.killTweensOf(this.$elt.find(".discover")),TweenMax.killTweensOf(this.$elt.find(".bottom .slide img")),this.show=!1,TweenMax.to(this.$elt.find(".images"),.8,{y:1.5*Stage.height,ease:Elastic.easeOut.config(1,1.1)}),TweenMax.to(this.$elt.find(".bottom"),.8,{y:1.5*Stage.height,ease:Elastic.easeOut.config(1,1.1)}),TweenMax.to(this.$elt.find(".discover"),.8,{y:1.5*Stage.height,ease:Elastic.easeOut.config(1,1.1)}),TweenMax.staggerTo(this.$img,.8,{y:1.5*Stage.height,ease:Elastic.easeOut.config(1,1.1)},.01),TweenMax.staggerTo(this.$elt.find(".bottom .slide img"),.8,{y:1.5*Stage.height,force3D:!0,ease:Elastic.easeOut.config(1,1.1)},.01))}},{key:"bind",value:function(){h.default.SCROLLED.add(this.onScroll),Render.add(this.onRender),h.default.RESIZED.add(this.onResize),this.girafe.bind(),this.clouds.bind(),this.lights.bind()}},{key:"animIn",value:function(){var a=this;TweenMax.to(this.$scroller,2,{y:this.minY,ease:Quint.easeInOut,onComplete:function(){a.draggable[0].enable(),a.preventScroll=!1,a.draggable[0].applyBounds({minY:a.minY,maxY:a.maxY})}}),this.$elt.find("canvas").addClass("show")}},{key:"animToFirst",value:function(){var a=this;this.preventScroll=!0,this.wheelled=!1,this.animate=!0,this.draggable[0].disable(),TweenMax.to(this.$scroller,1.5,{y:800,ease:Elastic.easeOut.config(1,1.2),onComplete:function(){a.draggable[0].enable(),a.preventScroll=!1}})}},{key:"animOut",value:function(a){this.preventScroll=!0,this.wheelled=!1;var b=this.girafe.scenes[Math.floor(a/2)],c=this.girafe.getObject(b);if(c.updateMatrixWorld(),c){TweenMax.to(this.camera.position,2,{ease:Quint.easeInOut,z:c.position.z}),this.draggable[0].disable();var d=a;app.datas.l10n.scenes[0].active||d--,TweenMax.to(this.$scroller,1.5,{y:app.datas.l10n.scenes[d].posY,ease:Quint.easeInOut})}}},{key:"getXY",value:function(a){return{x:a.clientX/Stage.width-.5,y:a.clientY/Stage.height-.5}}},{key:"onScroll",value:function(a){var b=a.originalEvent;if("mousedown"==b.type);else if("mousemove"==b.type){var c=this.getXY(b);this.target={x:this.targetOnDown.x+600*c.x*.001,y:this.targetOnDown.y+120*c.y*.001}}else if("mouseup"==b.type||"mousemove"==b.type);else if("wheel"==b.type||"mousewheel"==b.type){if(this.preventScroll)return;var d=0;if("wheel"==b.type){var e=b.wheelDeltaY||-1*b.deltaY;Device.browser.firefox&&1==b.deltaMode&&(e*=15),d+=e}else"mousewheel"==b.type&&(d+=b.wheelDeltaY?b.wheelDeltaY:b.wheelDelta);this.currentY=this.draggable[0].y,this.targetY=3*d+this.draggable[0].y,this.targetY=Math.min(this.targetY,this.maxY),this.targetY=Math.max(this.targetY,this.minY),this.wheelled=!0}}},{key:"onRender",value:function(){this.renderer.render(this.scene,this.camera),this.obj.position.x+=.05*(this.target.x-this.obj.position.x),this.obj.position.y+=.05*(this.target.y-this.obj.position.y),this.scene.rotation.y+=.07*(this.target.x-this.scene.rotation.y),this.scene.rotation.x+=.07*(this.target.y-this.scene.rotation.x),this.scene.position.y=650-this.draggable[0].y,this.scene.position.y>700&&this.scene.position.y<1400?this.showWelcome():this.hideWelcome(),this.girafe.update(),this.clouds.update(),this.lights.update(this.draggable[0].y),this.animate&&(this.wheelled&&(this.currentY+=.13*(this.targetY-this.currentY),TweenMax.set(this.$scroller,{y:this.currentY})),this.draggable[0].update());for(var a=!1,b=0;b<app.datas.l10n.scenes.length;b++)this.draggable[0].y>app.datas.l10n.scenes[b].posY-600&&this.draggable[0].y<app.datas.l10n.scenes[b].posY+400&&b<app.datas.l10n.scenes.length-1&&(a=!0,this.nextShowed||(this.$elt.find(".next-scene").find("p").html(app.datas.l10n.scenes[b+1].title),this.nextShowed=!0,this.$elt.find(".next-scene").removeClass("hide")));a||this.nextShowed&&(this.nextShowed=!1,this.$elt.find(".next-scene").addClass("hide"))}},{key:"onResize",value:function(){this.camera.aspect=Stage.width/Stage.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(Stage.width,Stage.height)}},{key:"unbind",value:function(){for(;this.scene.children.length>0;)this.scene.remove(this.scene.children[0]);h.default.SCROLLED.remove(this.onScroll),Render.remove(this.onRender),h.default.RESIZED.remove(this.onResize),TweenMax.killTweensOf(this.camera.position),this.girafe.unbind(),this.draggable[0].disable(),this.clouds.unbind(),this.lights.unbind(),this.parallax&&this.parallax.destroy()}}]),a}();c.default=s},{"./Clouds":382,"./Girafe":385,"./Lights":389,"parallax-js":345,"utils/Events":399,"utils/FunctionUtils":401}],394:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("utils/Events"),h=d(g),i=a("utils/FunctionUtils"),j=d(i),k=a("./Bends"),l=d(k),m=a("@merci-michel/mm-sharer"),n=d(m),o=a("utils/StringUtils"),p=d(o),q=a("utils/Scope"),r=d(q),s=function(){function a(){var b=this;e(this,a),this.length=0,this.index=0,this.isLeft=!1,this.isBending=!0,this.path=!1,(0,r.default)(this,["onClose","onPrev","onNext","onRender","onScroll","onResize","onSnap","onFB","onMail","onTW","onShowShare","onShowDownload"]),this.target={x:0,y:0},this.targetOnDown={x:0,y:0},this.mouseOnDown={x:0,y:0},this.$slider=$("body").find("#slider"),this.$close=this.$slider.find(".close"),this.$pagination=this.$slider.find(".pagination"),this.$slider.on("click",".share",this.onShowShare),this.$slider.on("click",".download",this.onShowDownload),this.renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),this.renderer.setSize(Stage.width,Stage.height),this.$slider.append(this.renderer.domElement),this.camera=new THREE.PerspectiveCamera(45,Stage.width/Stage.height,.1,1e4),this.camera.position.z=1200,this.scene=new THREE.Scene,this.bends=new l.default(this.$slider.find(".slides")),this.scene.add(this.bends.container),this.$scroller=this.$slider.find(".scroller"),this.draggable=Draggable.create(this.$scroller.get(0),{type:"x",trigger:"#slider",edgeResistance:.6,throwProps:!0,lockAxis:!0,snap:{x:function(a){return b.onSnap(a),Math.round(a/(2*Stage.width))*(2*Stage.width)}},onRelease:function(){b.$slider.removeClass("grabbing").addClass("grab")},onPress:function(){b.$slider.addClass("grabbing")}}),this.draggable[0].vars.cursor="inherit",this.obj={wiggle:new THREE.Vector3,position:new THREE.Vector3},j.default.wiggleProp(this.obj.wiggle,"x",-15,15,.75,1.5),j.default.wiggleProp(this.obj.wiggle,"y",-15,15,.75,1.5)}return f(a,[{key:"setIndex",value:function(a){if(this.bends&&this.bends.bends.length>0&&this.bends.bends[this.index].unfocus(),this.index=a,this.index<0&&(this.index=this.length-1),this.index>this.length-1&&(this.index=0),this.bends&&this.bends.bends.length>0&&this.bends.bends[this.index].focus(),this.products){var b=this.products[this.index],c="/pieces/"+this.path+"/"+b.link;app.router.navigate(c)}}},{key:"onFB",value:function(){var a=app.datas.baseURL+p.default.removeLeadingSlash(app.router.nextRoute.raw);n.default.facebook(a)}},{key:"onTW",value:function(){var a=app.datas.baseURL+p.default.removeLeadingSlash(app.router.nextRoute.raw),b=this.products[this.index];n.default.twitter(b.twitter,[],a)}},{key:"onMail",value:function(){var a=app.datas.baseURL+p.default.removeLeadingSlash(app.router.nextRoute.raw),b=this.products[this.index];window.open("mailto:tonemail@email.com?body="+b.mail+" "+a,"_blank")}},{key:"onSnap",value:function(a){var b=Math.round(a/(2*Stage.width));b>0&&(b=Math.min(0,b)),b=Math.abs(b),b=Math.min(this.length-1,b),this.setIndex(b),this.$pagination.find("p").html(b+1+"/"+this.length),this.$pagination.find(".left, .right").removeClass("disable")}},{key:"onShowDownload",value:function(a){a.preventDefault();var b=$(a.currentTarget).parents(".slide");b.find(".share, .download, .space").removeClass("focus"),$(a.currentTarget).addClass("focus"),b.find(".share-buttons").addClass("hide"),b.find(".download-buttons").addClass("show"),this.bends.onResize()}},{key:"onShowShare",value:function(a){a.preventDefault();var b=$(a.currentTarget).parents(".slide");b.find(".share, .download, .space").removeClass("focus"),$(a.currentTarget).addClass("focus"),b.find(".share-buttons").removeClass("hide"),b.find(".download-buttons").removeClass("show"),this.bends.onResize()}},{key:"getXY",value:function(a){return{x:a.clientX/Stage.width-.5,y:a.clientY/Stage.height-.5}}},{key:"bind",value:function(){this.unbind(),h.default.SCROLLED.add(this.onScroll),Render.add(this.onRender),h.default.RESIZED.add(this.onResize),this.$slider.find(".left").on("click",this.onPrev),this.$slider.find(".right").on("click",this.onNext),this.$close.on("click",this.onClose)}},{key:"unbind",value:function(){this.draggable&&this.draggable[0].kill(),h.default.SCROLLED.remove(this.onScroll),Render.remove(this.onRender),h.default.RESIZED.remove(this.onResize),this.$slider.find(".left").off("click",this.onPrev),this.$slider.find(".right").off("click",this.onNext),this.$close.off("click",this.onClose)}},{key:"onNext",value:function(){var a=this.index;a++,this.setIndex(a),this.goTo()}},{key:"onPrev",value:function(){var a=this.index;a--,this.setIndex(a),this.goTo()}},{key:"goTo",value:function(a){var b=this;"number"==typeof a&&(this.setIndex(a),this.index=a),this.$pagination.find("p").html(this.index+1+"/"+this.length),this.$pagination.find(".left, .right").removeClass("disable"),this.draggable[0].disable(),TweenMax.to(this.$scroller,1,{ease:Elastic.easeOut.config(1,1.2),x:-this.index*(2*Stage.width),onUpdate:function(){b.draggable[0].update()},onComplete:function(){b.draggable[0].enable()}})}},{key:"goToWithoutAnim",value:function(a){"number"==typeof a&&(this.index=a),this.index=Math.max(0,this.index),this.index=Math.min(this.length-1,this.index),this.$pagination.find("p").html(this.index+1+"/"+this.length),this.$pagination.find(".left, .right").removeClass("disable"),this.draggable[0].disable(),TweenMax.set(this.$scroller,{x:-this.index*(2*Stage.width)}),this.draggable[0].update(),this.draggable[0].enable()}},{key:"onOpen",value:function(a,b,c,d){var e=this,f=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=arguments[5];this.bind(),this.isBending=f,this.path=g,this.$slider.addClass("show"),this.$slider.removeClass("kitchen bedroom halloffame grenier coinparents boutique salon geekroom salledejeux"),this.setIndex(0),this.batchId="",1==b?this.batchId="kitchen":2==b?this.batchId="bedroom":3==b?this.batchId="halloffame":4==b?this.batchId="grenier":5==b?this.batchId="coinparents":6==b?this.batchId="boutique":7==b?this.batchId="salon":8==b?this.batchId="geekroom":0==b&&(this.batchId="salledejeux"),this.$slider.addClass(this.batchId),this.length=d.length,app.header.hideBurger(),TweenMax.set(this.$close,{scale:3}),TweenMax.to(this.$close,1,{delay:.05,scale:1,ease:Elastic.easeOut.config(1,.9)}),1==this.length?this.$pagination.addClass("hide"):this.$pagination.removeClass("hide"),
this.$pagination.find(".left, .right").removeClass("disable"),this.$pagination.find("p").html("1/"+this.length),this.draggable[0].enable(),this.bends.update(a,d,this.batchId),this.bends.show(c),this.onResize(),this.products=d,this.$slider.removeClass("grabbing").addClass("grab"),setTimeout(function(){e.$slider.on("click",".facebook",e.onFB),e.$slider.on("click",".twitter",e.onTW),e.$slider.on("click",".mail",e.onMail),e.$slider.find(".download, .space").addClass("hide")},Stage.width<768||Device.mobile?100:0),setTimeout(function(){e.goTo(parseInt(a,10))},100)}},{key:"onClose",value:function(a){a&&a.preventDefault(),TweenMax.to(this.$close,.4,{scale:0,ease:Expo.easeOut}),this.$slider.removeClass("show"),this.unbind(),this.bends&&this.bends.clean(),app.header.showBurger(),this.draggable[0].disable(),TweenMax.set(this.$scroller,{clearProps:"all"}),h.default.CLOSED.dispatch(!0),this.$slider.off("click",".facebook",this.onFB),this.$slider.off("click",".twitter",this.onTW),this.$slider.off("click",".mail",this.onMail)}},{key:"onRender",value:function(){if(this.bends&&this.bends.bends.length>0){var a=this.bends.bends[this.index];if(a.vR){var b=0,c=0;"kitchen"==this.batchId||"salon"==this.batchId?(b=a.vBottomRight.x,c=a.vBottomRight.y):(b=a.vBottomRight.x+80,c=a.vR.y+a.y-.25*a.y),(Stage.width<768||Device.mobile)&&(b=a.vBottom.x,c="halloffame"==this.batchId?a.vBottom.y+.8*a.y:a.vBottom.y+.7*a.y),TweenMax.to(this.$pagination,.3,{x:b,y:c})}}this.obj.position.x+=.05*(this.target.x-this.obj.position.x),this.obj.position.y+=.05*(this.target.y-this.obj.position.y);var d=this.draggable[0].x;this.scene.position.x=d,this.bends.onRender(this.obj,this.camera,this.isBending,this.index),this.renderer.render(this.scene,this.camera)}},{key:"onScroll",value:function(a){var b=a.originalEvent;if("mousedown"==b.type);else if("mousemove"==b.type){var c=this.getXY(b);this.target={x:this.targetOnDown.x+15*-c.x,y:this.targetOnDown.y+15*-c.y}}else"mouseup"==b.type||"mousemove"==b.type||"wheel"==b.type||"mousewheel"==b.type||"keydown"==b.type&&(a.deltaX<0?this.onPrev():a.deltaX>0&&this.onNext(),27==a.keyCode&&this.onClose())}},{key:"onResize",value:function(){this.bends.onResize(),this.draggable[0].applyBounds({minX:-(this.bends.getCount()-1)*Stage.width*2,maxX:0}),this.camera.aspect=Stage.width/Stage.height,this.camera.updateProjectionMatrix(),this.renderer.setSize(Stage.width,Stage.height)}}]),a}();c.default=s},{"./Bends":380,"@merci-michel/mm-sharer":2,"utils/Events":399,"utils/FunctionUtils":401,"utils/Scope":403,"utils/StringUtils":405}],395:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0}),c.RoomsModule=c.HomeModule=void 0;var e=a("./HomeModule"),f=d(e),g=a("./RoomsModule"),h=d(g);c.HomeModule=f.default,c.RoomsModule=h.default},{"./HomeModule":373,"./RoomsModule":377}],396:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,null,[{key:"blobAsURI",value:function(a){return(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(a)}},{key:"getBlob",value:function(a,b){return new Blob([a],{type:b})}}]),a}();c.default=f},{}],397:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),g=a("vendor/Exist"),h=d(g),i=a("vendor/Signal"),j=d(i),k=function(){function a(){e(this,a);this.updated=new j.default,this.items={}}return f(a,[{key:"init",value:function(){this.update()}},{key:"update",value:function(){this.updated.dispatch()}},{key:"set",value:function(a,b){this.items[a]=b}},{key:"remove",value:function(a){(0,h.default)(this.items[a])&&delete this.items[a]}},{key:"get",value:function(a){return!!(0,h.default)(this.items[a])&&this.items[a]}},{key:"getAll",value:function(){return this.items}}]),a}();c.default=k},{"vendor/Exist":410,"vendor/Signal":412}],398:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("./FunctionUtils"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=function(){function a(){d(this,a),this._tagDiv=null,this.agent=navigator.userAgent.toLowerCase(),this.prefix=this.resolvePrefix(),this.tablet=this.phone=!1,this.touch=g.default.isTouch(),this.mobile=this.touch&&this.detect(["ios","iphone","ipad","windows","android","blackberry"]),this.mobile&&(this.tablet=Math.max(window.screen.width,window.screen.height)>800,this.phone=!this.tablet),this.desktop=!this.mobile,this.browser={},this.browser.ie=this.detect("msie")||this.detect("trident")&&this.detect("rv:")||this.detect("windows")&&this.detect("edge"),this.browser.chrome=!this.browser.ie&&this.detect("chrome"),this.browser.safari=!this.browser.ie&&!this.browser.chrome&&this.detect("safari"),this.browser.firefox=this.detect("firefox"),this.version=this.getVersion(),this.system={},this.system.retina=window.devicePixelRatio>1,this.system.webworker=void 0!==window.Worker,this.system.offline=void 0!==window.applicationCache,this.system.webcam=!!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia),this.system.webaudio=void 0!==window.AudioContext;try{this.system.localStorage=void 0!==window.localStorage}catch(a){this.system.localStorage=!1}this.styles={},this.styles.filter=this.checkForTag("filter"),this.styles.blendMode=this.checkForTag("mix-blend-mode"),this.styles.vendor=this.prefix.unprefixed?"":this.prefix.js,this.styles.vendorTransition=this.styles.vendor.length?this.styles.vendor+"Transition":"transition",this.styles.vendorTransform=this.styles.vendor.length?this.styles.vendor+"Transform":"transform",this.tween={},this.tween.transition=this.checkForTag("transition"),this.tween.css2d=this.checkForTag("transform"),this.tween.css3d=this.checkForTag("perspective"),this.tween.complete=this.prefix.unprefixed?"transitionend":this.prefix.lowercase+"TransitionEnd",this.pixelRatio=Math.min(window.devicePixelRatio||1,2),this.graphics={},this.graphics.webgl=this.getWebgl(),this.video=this.getSupportVideo(),this.os=this.getOS()}return e(a,[{key:"getOS",value:function(){return this.desktop?this.detect("mac os")?"mac":this.detect("windows nt 6.3")?"windows8.1":this.detect("windows nt 6.2")?"windows8":this.detect("windows nt 6.1")?"windows7":this.detect("windows nt 6.0")?"windowsvista":this.detect("windows nt 5.1")?"windowsxp":this.detect("windows")?"windows":this.detect("linux")?"linux":"unknown":this.detect("windows","iemobile")?"windows":this.detect(["ipad","iphone"])?"ios":this.detect(["android","kindle"])?"android":this.detect("blackberry")?"blackberry":"unknown"}},{key:"getSupportVideo",value:function(){var a=document.createElement("video"),b=!1;try{(b=!!a.canPlayType)&&(b=new Boolean(b),b.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),b.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),b.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(a){}return b}},{key:"detect",value:function(a){"string"==typeof a&&(a=[a]);for(var b=0;b<a.length;b++){var c=a[b];if(-1!==this.agent.indexOf(c))return!0}return!1}},{key:"checkForTag",value:function(a){var b=this._tagDiv||document.createElement("div"),c="Khtml ms O Moz Webkit".split(" "),d=c.length;if(this._tagDiv=b,a in b.style)return!0;for(a=a.replace(/^[a-z]/,function(a){return a.toUpperCase()});d--;)if(c[d]+a in b.style)return!0;return!1}},{key:"resolvePrefix",value:function(){var a="";if(window._NODE_||window._GLES_)a="webkit";else{var b=window.getComputedStyle(document.documentElement,"");a=(Array.prototype.slice.call(b).join("").match(/-(moz|webkit|ms)-/)||""===b.OLink&&["","o"])[1];var c="WebKit|Moz|MS|O".match(new RegExp("("+a+")","i"))[1]}var d=this.detect("trident");return{unprefixed:d&&!this.detect("msie 9"),dom:c,lowercase:a,css:"-"+a+"-",js:(d?a[0]:a[0].toUpperCase())+a.substr(1)}}},{key:"getWebgl",value:function(){try{for(var a=["webgl","experimental-webgl","webkit-3d","moz-webgl"],b=document.createElement("canvas"),c=0;c<a.length;c++){var d=a[c],e=b.getContext(d);if(e)break}var f=e.getExtension("WEBGL_debug_renderer_info"),g={};if(f){var h=f.UNMASKED_RENDERER_WEBGL;g.gpu=e.getParameter(h).toLowerCase()}return g.renderer=e.getParameter(e.RENDERER).toLowerCase(),g.version=e.getParameter(e.VERSION).toLowerCase(),g.glsl=e.getParameter(e.SHADING_LANGUAGE_VERSION).toLowerCase(),g.extensions=e.getSupportedExtensions(),g.detect=function(a){for(var b=0;b<a.length;b++){var c=a[b];if(g.gpu&&-1!==g.gpu.toLowerCase().indexOf(c))return!0;if(g.version&&-1!==g.version.toLowerCase().indexOf(c))return!0;for(var d=0;d<g.extensions.length;d++){if(-1!==g.extensions[d].toLowerCase().indexOf(c))return!0}}return!1},g}catch(a){return!1}}},{key:"getVersion",value:function(){try{if(this.browser.chrome)return Number(this.agent.split("chrome/")[1].split(".")[0]);if(this.browser.firefox)return Number(this.agent.split("firefox/")[1].split(".")[0]);if(this.browser.safari){var a=this.agent.match(/version\/([\.\d]+)/i);return parseFloat(a[1])}if(this.browser.ie)return this.detect("msie")?Number(this.agent.split("msie ")[1].split(".")[0]):this.detect("rv:")?Number(this.agent.split("rv:")[1].split(".")[0]):Number(this.agent.split("edge/")[1].split(".")[0])}catch(a){return-1}}}]),a}();c.default=h},{"./FunctionUtils":401}],399:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("vendor/Signal"),e=function(a){return a&&a.__esModule?a:{default:a}}(d),f={};f.RESIZE="resize",f.RESIZED=new e.default,f.SCROLLED=new e.default,f.LOADED=new e.default,f.CLOSED=new e.default,c.default=f},{"vendor/Signal":412}],400:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=a("vendor/Signal"),f=function(a){return a&&a.__esModule?a:{default:a}}(e),g=function a(){d(this,a),this.freeze=new f.default};c.default=g},{"vendor/Signal":412}],401:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,null,[{key:"isTouch",value:function(){return null===window.ontouchstart&&null===window.ontouchmove&&null===window.ontouchend}},{key:"getCoverSizeImage",value:function(a,b,c,d){var e=a,f=b,g=c||Stage.width,h=d||Stage.height,i=e/f;return g/h<i?{width:h*i,height:h,top:0,left:.5*-(h*i-g)}:{width:g,height:g/i,top:.5*-(g/i-h),left:0}}},{key:"hashString",value:function(a){var b=0;if(0==a.length)return b;for(var c=0;c<a.length;c++){b=(b<<5)-b+a.charCodeAt(c),b&=b}return b}},{key:"rand",value:function(a,b){return this.lerp(Math.random(),a,b)}},{key:"lerp",value:function(a,b,c){return b+(c-b)*a}},{key:"toDegrees",value:function(a){return a*(180/Math.PI)}},{key:"toRadians",value:function(a){return a*(Math.PI/180)}},{key:"findDistance",value:function(a,b){var c=b.x-a.x,d=b.y-a.y;return Math.sqrt(c*c+d*d)}},{key:"randomColor",value:function(){var a="#"+Math.floor(16777215*Math.random()).toString(16);return a.length<7&&(a=this.randomColor()),a}},{key:"clamp",value:function(a,b,c){return Math.min(Math.max(a,b),c)}},{key:"constrain",value:function(){return Math.min(Math.max(num,Math.min(min,max)),Math.max(min,max))}},{key:"mix",value:function(a,b,c){return a*(1-c)+b*c}},{key:"smoothstep",value:function(a,b,c){var d=Math.max(0,Math.min(1,(c-a)/(b-a)));return d*d*(3-2*d)}},{key:"wiggleProp",value:function(b,c,d,e,f,g){var h=void 0,i=void 0;return h=Math.random()*(g-f)+g,i={ease:Sine.easeInOut,onComplete:a.wiggleProp,onCompleteParams:[b,c,d,e,f,g]},i[c]=Math.random()*(e-d)+d,TweenMax.to(b,h,i)}},{key:"hitTestObject",value:function(a,b){var c=a.x,d=a.y,e=a.width,f=a.height,g=b.x,h=b.y,i=b.width,j=b.height,k=c+e,l=d+f,m=g+i,n=h+j;if(g>=c&&g<=k){if(h>=d&&h<=l)return!0;if(d>=h&&d<=n)return!0}else if(c>=g&&c<=m){if(h>=d&&h<=l)return!0;if(d>=h&&d<=n)return!0}return!1}}]),a}();c.default=f},{}],402:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("stats.js"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=function(){function a(){d(this,a),this.update=this.update.bind(this),this.datas=[],"dev"==env&&(this.stats=new g.default,this.stats.dom.id="stats",this.stats.showPanel(0),document.body.appendChild(this.stats.dom)),this.update()}return e(a,[{key:"update",value:function(){this.stats&&this.stats.begin();for(var a=Date.now(),b=this.datas.length-1;b>=0;){var c=this.datas[b],d=a-c.lastTime,e=1e3/c.fps;d>e&&(c.lastTime+=e,c.cb()),b--}this.stats&&this.stats.end(),requestAnimationFrame(this.update)}},{key:"add",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;if(null==a||"function"!=typeof a)throw new Error("Invalid callback");var c={cb:a,fps:b,lastTime:Date.now()};this.datas.push(c),c.id=this.datas.length}},{key:"remove",value:function(a){for(var b=this.datas.length-1;b>=0;){if(this.datas[b].cb==a){this.datas.splice(b,1);break}b--}}}]),a}();c.default=h},{"stats.js":355}],403:[function(a,b,c){"use strict";b.exports=function(a,b){b.forEach(function(b){return a[b]=a[b].bind(a)})}},{}],404:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("./Events"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=function(){function a(){d(this,a),this.onResize=this.onResize.bind(this),window.addEventListener(g.default.RESIZE,this.onResize),this.onResize(),Device.touch&&($("body").addClass("touch"),this.onTouchMove=this.onTouchMove.bind(this),window.addEventListener("touchmove",this.onTouchMove)),Device.browser.ie&&$("body").addClass("ie"),Device.mobile&&$("body").addClass("mobile")}return e(a,[{key:"onTouchMove",value:function(a){$(a.target);return a.preventDefault(),!1}},{key:"onResize",value:function(){this.width=window.innerWidth,this.height=window.innerHeight,matchMedia?this.orientation=matchMedia("only screen and (orientation: portrait)").matches?"portrait":"landscape":this.orientation=this.width<this.height?"portrait":"landscape",g.default.RESIZED.dispatch(),Device.mobile&&"landscape"==this.orientation?$("#orientation").addClass("show"):$("#orientation").removeClass("show")}}]),a}();c.default=h},{"./Events":399}],405:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,null,[{key:"pad",value:function(a,b,c){return c=c||"0",a+="",a.length>=b?a:new Array(b-a.length+1).join(c)+a}},{key:"removeLeadingSlash",value:function(a){return 0===a.indexOf("/")?a.substr(1):a}},{key:"removeTrailingSlash",value:function(a){return a.lastIndexOf("/")===a.length-1?a.substring(0,a.lastIndexOf("/")):a}},{key:"ucFirst",value:function(a){return a.charAt(0).toUpperCase()+a.slice(1)}}]),a}();c.default=f},{}],406:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a),this.update=this.update.bind(this),this.datas=[],Render.add(this.update)}return e(a,[{key:"update",value:function(){for(var a=Date.now(),b=this.datas.length-1;b>=0;){var c=this.datas[b];a-c.lastTime>c.delay&&(c.cb(),this.remove(c.id)),b--}}},{key:"add",value:function(a,b){if(null==a||"function"!=typeof a)throw new Error("Invalid callback");var c={cb:a,delay:b,lastTime:Date.now()};return this.datas.push(c),c.id=this.datas.length,c.id}},{key:"remove",value:function(a){for(var b=this.datas.length-1;b>=0;){if(this.datas[b].id==a){this.datas.splice(b,1);break}b--}}}]),a}();c.default=f},{}],407:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=a("./Events"),g=function(a){return a&&a.__esModule?a:{default:a}}(f),h=function(){function a(){d(this,a),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onWheel=this.onWheel.bind(this),this.onScroll=this.onScroll.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.touchStartX=null,this.touchStartY=null,this.touchMult=2,this.firefoxMult=15,this.keyStep=120,this.mouseMult=1,this.event={y:0,x:0,deltaX:0,deltaY:0,originalEvent:null},this.bind()}return e(a,[{key:"bind",value:function(){window.addEventListener("mousedown",this.onMouseDown),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("wheel",this.onWheel),window.addEventListener("mousewheel",this.onWheel),window.addEventListener("scroll",this.onScroll),window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp),window.addEventListener("touchstart",this.onMouseDown),window.addEventListener("touchend",this.onMouseUp),window.addEventListener("touchmove",this.onMouseMove)}},{key:"notify",value:function(a){this.event.x+=this.event.deltaX,this.event.y+=this.event.deltaY,this.event.originalEvent=a,g.default.SCROLLED.dispatch(this.event)}},{key:"onScroll",value:function(a){this.notify(a)}},{key:"onMouseDown",value:function(a){if("touchstart"==a.type){var b=a.targetTouches?a.targetTouches[0]:a;this.touchStartX=b.pageX,this.touchStartY=b.pageY}this.notify(a)}},{key:"onMouseUp",value:function(a){this.notify(a)}},{key:"onMouseMove",value:function(a){if("touchmove"==a.type){var b=a.targetTouches?a.targetTouches[0]:a;this.event.deltaX=(b.pageX-this.touchStartX)*this.touchMult,this.event.deltaY=(b.pageY-this.touchStartY)*this.touchMult,this.touchStartX=b.pageX,this.touchStartY=b.pageY}this.notify(a)}},{key:"onKeyDown",value:function(a){switch(this.event.deltaX=this.event.deltaY=0,a.keyCode){case 37:this.event.deltaX=-this.keyStep;break;case 39:this.event.deltaX=this.keyStep;break;case 38:this.event.deltaY=this.keyStep;break;case 40:this.event.deltaY=-this.keyStep}this.notify(a)}},{key:"onKeyUp",value:function(a){this.notify(a)}},{key:"onWheel",value:function(a){"wheel"==a.type?(this.event.deltaX=a.wheelDeltaX||-1*a.deltaX,this.event.deltaY=a.wheelDeltaY||-1*a.deltaY,Device.browser.firefox&&1==a.deltaMode&&(this.event.deltaX*=this.firefoxMult,this.event.deltaY*=this.firefoxMult),this.event.deltaX*=this.mouseMult,this.event.deltaY*=this.mouseMult):(this.event.deltaX=a.wheelDeltaX?a.wheelDeltaX:0,this.event.deltaY=a.wheelDeltaY?a.wheelDeltaY:a.wheelDelta),this.notify(a)}}]),a}();c.default=h},{"./Events":399}],408:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b,c,e){d(this,a);var f=e.frames;this.frames=f,this.totalFrames=f.length,this.frameWidth=f[0].frame.w,this.frameHeight=f[0].frame.h,this.scale=b/this.frameWidth,this.backgroundWidth=e.meta.size.w,this.backgroundHeight=e.meta.size.h}return e(a,[{key:"getFrameWidth",value:function(){return this.frameWidth*this.scale}},{key:"getFrameHeight",value:function(){return this.frameHeight*this.scale}},{key:"getBackgroundWidth",value:function(){return this.backgroundWidth*this.scale}},{key:"getBackgroundHeight",value:function(){return this.backgroundHeight*this.scale}},{key:"getFrameCoordinates",value:function(a){var b=this.frames[a].frame;return{x:b.x,y:b.y}}}]),a}();c.default=f},{}],409:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(b){d(this,a),this.render=this.render.bind(this),this.elt=b}return e(a,[{key:"render",value:function(a){var b=a.currentFrame,c=a.framesProvider,d=c.scale,e=c.getFrameCoordinates(b),f=e.x,g=e.y;this.elt.style.backgroundPosition=-f*d+"px "+-g*d+"px"}}]),a}();c.default=f},{}],410:[function(a,b,c){"use strict";b.exports=function(a){return null!=a}},{}],411:[function(a,b,c){"use strict";(function(){var a;a=window.jQuery||window.Zepto||window.$,a.fn.fancySelect=function(b){var c,d;return null==b&&(b={}),d=a.extend({forceiOS:!1,includeBlank:!1,optionTemplate:function(a){return a.text()},triggerTemplate:function(a){return a.text()}},b),c=!!navigator.userAgent.match(/iP(hone|od|ad)/i),this.each(function(){var b,e,f,g,h,i,j;if(g=a(this),!g.hasClass("fancified")&&"SELECT"===g[0].tagName)return g.addClass("fancified"),g.css({width:1,height:1,display:"block",position:"absolute",top:0,left:0,opacity:0}),g.wrap('<div class="fancy-select">'),j=g.parent(),g.data("class")&&j.addClass(g.data("class")),j.append('<div class="trigger">'),c&&!d.forceiOS||j.append('<ul class="options">'),h=j.find(".trigger"),f=j.find(".options"),e=g.prop("disabled"),e&&j.addClass("disabled"),i=function(){var a;return a=d.triggerTemplate(g.find(":selected")),h.html(a)},g.on("blur.fs",function(){if(h.hasClass("open"))return setTimeout(function(){return h.trigger("close.fs")},120)}),h.on("close.fs",function(){return h.removeClass("open"),f.removeClass("open")}),h.on("click.fs",function(){var b;if(!e)if(h.toggleClass("open"),c&&!d.forceiOS){if(h.hasClass("open"))return g.focus()}else if(h.hasClass("open")&&(b=h.parent(),b.offsetParent(),b.offset().top+b.outerHeight()+f.outerHeight()+20>a(window).height()+a(window).scrollTop()?f.addClass("overflowing"):f.removeClass("overflowing")),f.toggleClass("open"),!c)return g.focus()}),g.on("enable",function(){return g.prop("disabled",!1),j.removeClass("disabled"),e=!1,b()}),g.on("disable",function(){return g.prop("disabled",!0),j.addClass("disabled"),e=!0}),g.on("change.fs",function(a){return i()}),g.on("keydown",function(a){var b,c,d;if(d=a.which,b=f.find(".hover"),b.removeClass("hover"),f.hasClass("open")){if(38===d?(a.preventDefault(),b.length&&b.index()>0?b.prev().addClass("hover"):f.find("li:last-child").addClass("hover")):40===d?(a.preventDefault(),b.length&&b.index()<f.find("li").length-1?b.next().addClass("hover"):f.find("li:first-child").addClass("hover")):27===d?(a.preventDefault(),h.trigger("click.fs")):13===d||32===d?(a.preventDefault(),b.trigger("mousedown.fs")):9===d&&h.hasClass("open")&&h.trigger("close.fs"),c=f.find(".hover"),c.length)return f.scrollTop(0),f.scrollTop(c.position().top-12)}else if(13===d||32===d||38===d||40===d)return a.preventDefault(),h.trigger("click.fs")}),f.on("mousedown.fs","li",function(b){var d;return d=a(this),g.val(d.data("raw-value")),c||g.trigger("blur.fs").trigger("focus.fs"),f.find(".selected").removeClass("selected"),d.addClass("selected"),h.addClass("selected"),g.val(d.data("raw-value")).trigger("change.fs").trigger("blur.fs").trigger("focus.fs")}),f.on("mouseenter.fs","li",function(){var b,c;return c=a(this),b=f.find(".hover"),b.removeClass("hover"),c.addClass("hover")}),f.on("mouseleave.fs","li",function(){return f.find(".hover").removeClass("hover")}),b=function(){if(i(),!c||d.forceiOS)return g.find("option"),g.find("option").each(function(b,c){var e;if(c=a(c),!c.prop("disabled")&&(c.val()||d.includeBlank))return e=d.optionTemplate(c),c.prop("selected")?f.append('<li data-raw-value="'+c.val()+'" class="selected">'+e+"</li>"):f.append('<li data-raw-value="'+c.val()+'">'+e+"</li>")})},g.on("update.fs",function(){return j.find(".options").empty(),b()}),b()})}}).call(void 0)},{}],412:[function(a,b,c){"use strict";!function(){function a(){this.bindings=[]}a.prototype.add=function(a,b,c){if(null==a||"function"!=typeof a)throw new Error("Invalid callback");c=c||!1,this.bindings.unshift({callback:a,scope:b,addOnce:c})},a.prototype.addOnce=function(a,b){this.add(a,b,!0)},a.prototype.dispatch=function(){for(var a,b=Array.prototype.slice.call(arguments),c=this.bindings.length-1;c>=0;c--)a=this.bindings[c],a.callback.apply(a.scope,b),a.addOnce&&this.bindings.splice(c,1)},a.prototype.remove=function(a,b){for(var c,d=this.bindings.length-1;d>=0;d--)c=this.bindings[d],c.callback==a&&c.scope==b&&this.bindings.splice(d,1)},a.prototype.removeAll=function(){this.bindings=[]},b.exports=a}()},{}],413:[function(a,b,c){"use strict";function d(a,b,c){function d(){u=y.children,x=u.length,u.length<2&&(b.continuous=!1),r.transitions&&b.continuous&&u.length<3&&(y.appendChild(u[0].cloneNode(!0)),y.appendChild(y.children[1].cloneNode(!0)),u=y.children),v=new Array(u.length),w=a.getBoundingClientRect().width||a.offsetWidth,y.style.width=u.length*w+"px";for(var c=u.length;c--;){var d=u[c];d.style.width=w+"px",d.setAttribute("data-index",c),r.transitions&&(d.style.left=c*-w+"px",i(c,z>c?-w:z<c?w:0,0))}b.continuous&&r.transitions&&(i(g(z-1),-w,0),i(g(z+1),w,0)),r.transitions||(y.style.left=z*-w+"px"),a.style.visibility="visible"}function e(){b.continuous?h(z-1):z&&h(z-1)}function f(){b.continuous?h(z+1):z<u.length-1&&h(z+1)}function g(a){return(u.length+a%u.length)%u.length}function h(a,c){if(z!=a){if(r.transitions){var d=Math.abs(z-a)/(z-a);b.continuous;for(var e=Math.abs(z-a)-1;e--;)i(g((a>z?a:z)-e-1),w*d,0);a=g(a),i(z,w*d,c||A),i(a,0,c||A),b.continuous&&i(g(a-d),-w*d,0)}else a=g(a),k(z*-w,a*-w,c||A);z=a,q(b.callback&&b.callback(z,u[z]))}}function i(a,b,c){j(a,b,c),v[a]=b}function j(a,b,c){var d=u[a],e=d&&d.style;e&&(e.webkitTransitionDuration=e.MozTransitionDuration=e.msTransitionDuration=e.OTransitionDuration=e.transitionDuration=c+"ms",e.webkitTransitionTimingFunction=e.MozTransitionTimingFunction=e.msTransitionTimingFunction=e.OTransitionTimingFunction=e.TransitionTimingFunction="cubic-bezier(0.190, 1.000, 0.220, 1.000)",e.webkitTransform="translate("+b+"px,0)translateZ(0)",e.msTransform=e.MozTransform=e.OTransform="translateX("+b+"px)")}function k(a,c,d){if(!d)return void(y.style.left=c+"px");var e=+new Date,f=setInterval(function(){var g=+new Date-e;if(g>d)return y.style.left=c+"px",F&&l(),b.transitionEnd&&b.transitionEnd.call(event,z,u[z]),void clearInterval(f);y.style.left=(c-a)*(Math.floor(g/d*100)/100)+a+"px"},4)}function l(){B=setTimeout(f,F)}function m(){F=0,clearTimeout(B)}function n(){E=!0}function o(){E=!1}var p=function(){},q=function(a){setTimeout(a||p,0)},r={addEventListener:!!window.addEventListener,pointer:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(a){var b=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var c in b)if(void 0!==a.style[b[c]])return!0;return!1}(document.createElement("swipe"))},s={START:"touchstart",MOVE:"touchmove",END:"touchend"};r.touch||(s.START="mousedown",s.MOVE="mousemove",s.END="mouseup");var t="touch";if(window.navigator.pointerEnabled?(s.START="pointerdown",s.MOVE="pointermove",s.END="pointerup"):window.navigator.msPointerEnabled&&(s.START="MSPointerDown",s.MOVE="MSPointerMove",s.END="MSPointerUp",t=2),a){var u,v,w,x,y=a.children[0];b=b||{};var z=parseInt(b.startSlide,10)||0,A=b.speed||700;b.continuous=void 0!==b.continuous&&b.continuous;var B,C,D,E=!0,F=b.auto||0,G={},H={},I={handleEvent:function(a){if(E){switch(a.type){case s.START:this.start(a);break;case s.MOVE:this.move(a);break;case s.END:q(this.end(a));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":q(this.transitionEnd(a));break;case"resize":q(d)}b.stopPropagation&&a.stopPropagation()}},start:function(a){if(!r.pointer||a.pointerType===t){var b=r.touch?a.touches[0]:a;G={x:b.pageX,y:b.pageY,time:+new Date},C=void 0,H={},y.addEventListener(s.MOVE,this,!1),y.addEventListener(s.END,this,!1)}},move:function(a){if(!(r.pointer&&a.pointerType!==t||r.touch&&a.touches.length>1||a.scale&&1!==a.scale)){b.disableScroll&&a.preventDefault();var c=r.touch?a.touches[0]:a;H={x:c.pageX-G.x,y:c.pageY-G.y},void 0===C&&(C=!!(C||Math.abs(H.x)<Math.abs(H.y))),C||(D=!0,a.preventDefault(),m(),b.continuous?(j(g(z-1),H.x+v[g(z-1)],0),j(z,H.x+v[z],0),j(g(z+1),H.x+v[g(z+1)],0)):(H.x=H.x/(!z&&H.x>0||z==u.length-1&&H.x<0?Math.abs(H.x)/w+1:1),j(z-1,H.x+v[z-1],0),j(z,H.x+v[z],0),j(z+1,H.x+v[z+1],0)))}},end:function(a){var c=+new Date-G.time,d=Number(c)<250&&Math.abs(H.x)>20||Math.abs(H.x)>w/2,e=!z&&H.x>0||z==u.length-1&&H.x<0;b.continuous&&(e=!1);var f=H.x<0;C||(d&&!e?(f?(b.continuous?(i(g(z-1),-w,0),i(g(z+2),w,0)):i(z-1,-w,0),i(z,v[z]-w,A),i(g(z+1),v[g(z+1)]-w,A),z=g(z+1)):(b.continuous?(i(g(z+1),w,0),i(g(z-2),-w,0)):i(z+1,w,0),i(z,v[z]+w,A),i(g(z-1),v[g(z-1)]+w,A),z=g(z-1)),b.callback&&b.callback(z,u[z],f)):b.continuous?(i(g(z-1),-w,A),i(z,0,A),i(g(z+1),w,A)):(i(z-1,-w,A),i(z,0,A),i(z+1,w,A)),setTimeout(function(){D=!1},100)),y.removeEventListener(s.MOVE,I,!1),y.removeEventListener(s.END,I,!1)},transitionEnd:function(a){
parseInt(a.target.getAttribute("data-index"),10)==z&&(F&&l(),b.transitionEnd&&b.transitionEnd.call(a,z,u[z]))}};return d(),F&&l(),r.addEventListener?(y.addEventListener(s.START,I,!1),r.transitions&&(y.addEventListener("webkitTransitionEnd",I,!1),y.addEventListener("msTransitionEnd",I,!1),y.addEventListener("oTransitionEnd",I,!1),y.addEventListener("otransitionend",I,!1),y.addEventListener("transitionend",I,!1)),window.addEventListener("resize",I,!1)):window.onresize=function(){d()},{getDragging:function(){return D},getStatus:function(){return E},setup:function(){d()},slide:function(a,b){m(),h(a,b)},prev:function(){m(),e()},setDelay:function(){F=3e3,l()},stopDelay:function(){F=0,m()},next:function(){m(),f()},stop:function(){m()},getPos:function(){return z},getNumSlides:function(){return x},kill:function(){m(),y.style.width="auto",y.style.left=0;for(var a=u.length;a--;){var b=u[a];b.style.width="100%",b.style.left=0,r.transitions&&j(a,0,0)}r.addEventListener?(y.removeEventListener(s.START,I,!1),y.removeEventListener("webkitTransitionEnd",I,!1),y.removeEventListener("msTransitionEnd",I,!1),y.removeEventListener("oTransitionEnd",I,!1),y.removeEventListener("otransitionend",I,!1),y.removeEventListener("transitionend",I,!1),window.removeEventListener("resize",I,!1)):window.onresize=null},enable:function(){n()},disable:function(){o()}}}}(window.jQuery||window.Zepto)&&function(a){a.fn.Swipe=function(b){return this.each(function(){a(this).data("Swipe",new d(a(this)[0],b,a))})}}(window.jQuery||window.Zepto),b.exports=d},{}],414:[function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(){function a(a){var b=new Map;if("Connections"in a){a.Connections.connections.forEach(function(a){var c=a[0],d=a[1],e=a[2];b.has(c)||b.set(c,{parents:[],children:[]});var f={ID:d,relationship:e};b.get(c).parents.push(f),b.has(d)||b.set(d,{parents:[],children:[]});var g={ID:c,relationship:e};b.get(d).children.push(g)})}return b}function b(a){var b={},d={};if("Video"in a.Objects){var e=a.Objects.Video;for(var f in e){var g=e[f],h=parseInt(f);if(b[h]=g.RelativeFilename||g.Filename,"Content"in g){var i=g.Content instanceof ArrayBuffer&&g.Content.byteLength>0,j="string"==typeof g.Content&&""!==g.Content;if(i||j){var k=c(e[f]);d[g.RelativeFilename||g.Filename]=k}}}}for(var h in b){var l=b[h];void 0!==d[l]?b[h]=d[l]:b[h]=b[h].split("\\").pop()}return b}function c(a){var b,c=a.Content,d=a.RelativeFilename||a.Filename,e=d.slice(d.lastIndexOf(".")+1).toLowerCase();switch(e){case"bmp":b="image/bmp";break;case"jpg":case"jpeg":b="image/jpeg";break;case"png":b="image/png";break;case"tif":b="image/tiff";break;case"tga":if("function"!=typeof THREE.TGALoader)return;null===THREE.Loader.Handlers.get(".tga")&&THREE.Loader.Handlers.add(/\.tga$/i,new THREE.TGALoader),b="image/tga";break;default:return}if("string"==typeof c)return"data:"+b+";base64,"+c;var f=new Uint8Array(c);return window.URL.createObjectURL(new Blob([f],{type:b}))}function e(a,b,c,d){var e=new Map;if("Texture"in a.Objects){var g=a.Objects.Texture;for(var h in g){var i=f(g[h],b,c,d);e.set(parseInt(h),i)}}return e}function f(a,b,c,d){var e=g(a,b,c,d);e.ID=a.id,e.name=a.attrName;var f=a.WrapModeU,h=a.WrapModeV,i=void 0!==f?f.value:0,j=void 0!==h?h.value:0;if(e.wrapS=0===i?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,e.wrapT=0===j?THREE.RepeatWrapping:THREE.ClampToEdgeWrapping,"Scaling"in a){var k=a.Scaling.value;e.repeat.x=k[0],e.repeat.y=k[1]}return e}function g(a,b,c,d){var e,f=b.path,g=d.get(a.id).children;void 0!==g&&g.length>0&&void 0!==c[g[0].ID]&&(e=c[g[0].ID],0!==e.indexOf("blob:")&&0!==e.indexOf("data:")||b.setPath(void 0));var h;return h="tga"===a.FileName.slice(-3).toLowerCase()?THREE.Loader.Handlers.get(".tga").load(e):b.load(e),b.setPath(f),h}function h(a,b,c){var d=new Map;if("Material"in a.Objects){var e=a.Objects.Material;for(var f in e){var g=i(a,e[f],b,c);null!==g&&d.set(parseInt(f),g)}}return d}function i(a,b,c,e){var f=b.id,g=b.attrName,h=b.ShadingModel;if("object"===(void 0===h?"undefined":d(h))&&(h=h.value),!e.has(f))return null;var i,k=j(a,b,c,f,e);switch(h.toLowerCase()){case"phong":i=new THREE.MeshPhongMaterial;break;case"lambert":i=new THREE.MeshLambertMaterial;break;default:i=new THREE.MeshPhongMaterial({color:3342591})}return i.setValues(k),i.name=g,i}function j(a,b,c,d,e){var f={};return b.BumpFactor&&(f.bumpScale=b.BumpFactor.value),b.Diffuse?f.color=(new THREE.Color).fromArray(b.Diffuse.value):b.DiffuseColor&&"Color"===b.DiffuseColor.type&&(f.color=(new THREE.Color).fromArray(b.DiffuseColor.value)),b.DisplacementFactor&&(f.displacementScale=b.DisplacementFactor.value),b.Emissive?f.emissive=(new THREE.Color).fromArray(b.Emissive.value):b.EmissiveColor&&"Color"===b.EmissiveColor.type&&(f.emissive=(new THREE.Color).fromArray(b.EmissiveColor.value)),b.EmissiveFactor&&(f.emissiveIntensity=parseFloat(b.EmissiveFactor.value)),b.Opacity&&(f.opacity=parseFloat(b.Opacity.value)),f.opacity<1&&(f.transparent=!0),b.ReflectionFactor&&(f.reflectivity=b.ReflectionFactor.value),b.Shininess&&(f.shininess=b.Shininess.value),b.Specular?f.specular=(new THREE.Color).fromArray(b.Specular.value):b.SpecularColor&&"Color"===b.SpecularColor.type&&(f.specular=(new THREE.Color).fromArray(b.SpecularColor.value)),e.get(d).children.forEach(function(b){var d=b.relationship;switch(d){case"Bump":f.bumpMap=c.get(b.ID);break;case"DiffuseColor":f.map=k(a,c,b.ID,e);break;case"DisplacementColor":f.displacementMap=k(a,c,b.ID,e);break;case"EmissiveColor":f.emissiveMap=k(a,c,b.ID,e);break;case"NormalMap":f.normalMap=k(a,c,b.ID,e);break;case"ReflectionColor":f.envMap=k(a,c,b.ID,e),f.envMap.mapping=THREE.EquirectangularReflectionMapping;break;case"SpecularColor":f.specularMap=k(a,c,b.ID,e);break;case"TransparentColor":f.alphaMap=k(a,c,b.ID,e),f.transparent=!0}}),f}function k(a,b,c,d){return"LayeredTexture"in a.Objects&&c in a.Objects.LayeredTexture&&(c=d.get(c).children[0].ID),b.get(c)}function l(a,b){var c={},d={};if("Deformer"in a.Objects){var e=a.Objects.Deformer;for(var f in e){var g=e[f],h=b.get(parseInt(f));if("Skin"===g.attrType){var i=m(h,e);i.ID=f,h.parents.length,i.geometryID=h.parents[0].ID,c[f]=i}else if("BlendShape"===g.attrType){var j={id:f};j.rawTargets=n(h,g,e,b),j.id=f,h.parents.length,j.parentGeoID=h.parents[0].ID,d[f]=j}}}return{skeletons:c,morphTargets:d}}function m(a,b){var c=[];return a.children.forEach(function(a){var d=b[a.ID];if("Cluster"===d.attrType){var e={ID:a.ID,indices:[],weights:[],transform:(new THREE.Matrix4).fromArray(d.Transform.a),transformLink:(new THREE.Matrix4).fromArray(d.TransformLink.a),linkMode:d.Mode};"Indexes"in d&&(e.indices=d.Indexes.a,e.weights=d.Weights.a),c.push(e)}}),{rawBones:c,bones:[]}}function n(a,b,c,d){for(var e=[],f=0;f<a.children.length&&8!==f;f++){var g=a.children[f],h=c[g.ID],i={name:h.attrName,initialWeight:h.DeformPercent,id:h.id,fullWeights:h.FullWeights.a};if("BlendShapeChannel"!==h.attrType)return;d.get(parseInt(g.ID)).children.forEach(function(a){"DeformPercent"===a.relationship?i.weightCurveID=a.ID:i.geoID=a.ID}),e.push(i)}return e}function o(a,b,c){var d=new Map;if("Geometry"in a.Objects){var e=a.Objects.Geometry;for(var f in e){var g=b.get(parseInt(f)),h=p(a,g,e[f],c);d.set(parseInt(f),h)}}return d}function p(a,b,c,d){switch(c.attrType){case"Mesh":return q(a,b,c,d);case"NurbsCurve":return C(c)}}function q(a,b,c,d){var e=d.skeletons,f=d.morphTargets,g=b.parents.map(function(b){return a.Objects.Model[b.ID]});if(0!==g.length){var h=b.children.reduce(function(a,b){return void 0!==e[b.ID]&&(a=e[b.ID]),a},null),i=b.children.reduce(function(a,b){return void 0!==f[b.ID]&&(a=f[b.ID]),a},null),j=new THREE.Matrix4,k=g[0];if("GeometricRotation"in k){var l=k.GeometricRotation.value.map(THREE.Math.degToRad);l[3]="ZYX",j.makeRotationFromEuler((new THREE.Euler).fromArray(l))}return"GeometricTranslation"in k&&j.setPosition((new THREE.Vector3).fromArray(k.GeometricTranslation.value)),"GeometricScaling"in k&&j.scale((new THREE.Vector3).fromArray(k.GeometricScaling.value)),r(a,c,h,i,j)}}function r(a,b,c,d,e){var f=new THREE.BufferGeometry;b.attrName&&(f.name=b.attrName);var g=s(b,c),h=t(g),i=new THREE.Float32BufferAttribute(h.vertex,3);if(e.applyToBufferAttribute(i),f.addAttribute("position",i),h.colors.length>0&&f.addAttribute("color",new THREE.Float32BufferAttribute(h.colors,3)),c&&(f.addAttribute("skinIndex",new THREE.Uint16BufferAttribute(h.weightsIndices,4)),f.addAttribute("skinWeight",new THREE.Float32BufferAttribute(h.vertexWeights,4)),f.FBX_Deformer=c),h.normal.length>0){var j=new THREE.Float32BufferAttribute(h.normal,3);(new THREE.Matrix3).getNormalMatrix(e).applyToBufferAttribute(j),f.addAttribute("normal",j)}if(h.uvs.forEach(function(a,b){var c="uv"+(b+1).toString();0===b&&(c="uv"),f.addAttribute(c,new THREE.Float32BufferAttribute(h.uvs[b],2))}),g.material&&"AllSame"!==g.material.mappingType){var k=h.materialIndex[0],l=0;if(h.materialIndex.forEach(function(a,b){a!==k&&(f.addGroup(l,b-l,k),k=a,l=b)}),f.groups.length>0){var m=f.groups[f.groups.length-1],n=m.start+m.count;n!==h.materialIndex.length&&f.addGroup(n,h.materialIndex.length-n,k)}0===f.groups.length&&f.addGroup(0,h.materialIndex.length,h.materialIndex[0])}return v(a,f,b,d,e),f}function s(a,b){var c={};if(c.vertexPositions=void 0!==a.Vertices?a.Vertices.a:[],c.vertexIndices=void 0!==a.PolygonVertexIndex?a.PolygonVertexIndex.a:[],a.LayerElementColor&&(c.color=z(a.LayerElementColor[0])),a.LayerElementMaterial&&(c.material=A(a.LayerElementMaterial[0])),a.LayerElementNormal&&(c.normal=x(a.LayerElementNormal[0])),a.LayerElementUV){c.uv=[];for(var d=0;a.LayerElementUV[d];)c.uv.push(y(a.LayerElementUV[d])),d++}return c.weightTable={},null!==b&&(c.skeleton=b,b.rawBones.forEach(function(a,b){a.indices.forEach(function(d,e){void 0===c.weightTable[d]&&(c.weightTable[d]=[]),c.weightTable[d].push({id:b,weight:a.weights[e]})})})),c}function t(a){var b={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]},c=0,d=0,e=!1,f=[],g=[],h=[],i=[],j=[],k=[];return a.vertexIndices.forEach(function(l,m){var n=!1;l<0&&(l^=-1,n=!0);var o=[],p=[];if(f.push(3*l,3*l+1,3*l+2),a.color){var q=B(m,c,l,a.color);h.push(q[0],q[1],q[2])}if(a.skeleton){if(void 0!==a.weightTable[l]&&a.weightTable[l].forEach(function(a){p.push(a.weight),o.push(a.id)}),p.length>4){e||(e=!0);var r=[0,0,0,0],s=[0,0,0,0];p.forEach(function(a,b){var c=a,d=o[b];s.forEach(function(a,b,e){if(c>a){e[b]=c,c=a;var f=r[b];r[b]=d,d=f}})}),o=r,p=s}for(;p.length<4;)p.push(0),o.push(0);for(var t=0;t<4;++t)j.push(p[t]),k.push(o[t])}if(a.normal){var q=B(m,c,l,a.normal);g.push(q[0],q[1],q[2])}if(a.material&&"AllSame"!==a.material.mappingType)var v=B(m,c,l,a.material)[0];a.uv&&a.uv.forEach(function(a,b){var d=B(m,c,l,a);void 0===i[b]&&(i[b]=[]),i[b].push(d[0]),i[b].push(d[1])}),d++,n&&(u(b,a,f,v,g,h,i,j,k,d),c++,d=0,f=[],g=[],h=[],i=[],j=[],k=[])}),b}function u(a,b,c,d,e,f,g,h,i,j){for(var k=2;k<j;k++)a.vertex.push(b.vertexPositions[c[0]]),a.vertex.push(b.vertexPositions[c[1]]),a.vertex.push(b.vertexPositions[c[2]]),a.vertex.push(b.vertexPositions[c[3*(k-1)]]),a.vertex.push(b.vertexPositions[c[3*(k-1)+1]]),a.vertex.push(b.vertexPositions[c[3*(k-1)+2]]),a.vertex.push(b.vertexPositions[c[3*k]]),a.vertex.push(b.vertexPositions[c[3*k+1]]),a.vertex.push(b.vertexPositions[c[3*k+2]]),b.skeleton&&(a.vertexWeights.push(h[0]),a.vertexWeights.push(h[1]),a.vertexWeights.push(h[2]),a.vertexWeights.push(h[3]),a.vertexWeights.push(h[4*(k-1)]),a.vertexWeights.push(h[4*(k-1)+1]),a.vertexWeights.push(h[4*(k-1)+2]),a.vertexWeights.push(h[4*(k-1)+3]),a.vertexWeights.push(h[4*k]),a.vertexWeights.push(h[4*k+1]),a.vertexWeights.push(h[4*k+2]),a.vertexWeights.push(h[4*k+3]),a.weightsIndices.push(i[0]),a.weightsIndices.push(i[1]),a.weightsIndices.push(i[2]),a.weightsIndices.push(i[3]),a.weightsIndices.push(i[4*(k-1)]),a.weightsIndices.push(i[4*(k-1)+1]),a.weightsIndices.push(i[4*(k-1)+2]),a.weightsIndices.push(i[4*(k-1)+3]),a.weightsIndices.push(i[4*k]),a.weightsIndices.push(i[4*k+1]),a.weightsIndices.push(i[4*k+2]),a.weightsIndices.push(i[4*k+3])),b.color&&(a.colors.push(f[0]),a.colors.push(f[1]),a.colors.push(f[2]),a.colors.push(f[3*(k-1)]),a.colors.push(f[3*(k-1)+1]),a.colors.push(f[3*(k-1)+2]),a.colors.push(f[3*k]),a.colors.push(f[3*k+1]),a.colors.push(f[3*k+2])),b.material&&"AllSame"!==b.material.mappingType&&(a.materialIndex.push(d),a.materialIndex.push(d),a.materialIndex.push(d)),b.normal&&(a.normal.push(e[0]),a.normal.push(e[1]),a.normal.push(e[2]),a.normal.push(e[3*(k-1)]),a.normal.push(e[3*(k-1)+1]),a.normal.push(e[3*(k-1)+2]),a.normal.push(e[3*k]),a.normal.push(e[3*k+1]),a.normal.push(e[3*k+2])),b.uv&&b.uv.forEach(function(b,c){void 0===a.uvs[c]&&(a.uvs[c]=[]),a.uvs[c].push(g[c][0]),a.uvs[c].push(g[c][1]),a.uvs[c].push(g[c][2*(k-1)]),a.uvs[c].push(g[c][2*(k-1)+1]),a.uvs[c].push(g[c][2*k]),a.uvs[c].push(g[c][2*k+1])})}function v(a,b,c,d,e){null!==d&&(b.morphAttributes.position=[],b.morphAttributes.normal=[],d.rawTargets.forEach(function(d){var f=a.Objects.Geometry[d.geoID];void 0!==f&&w(b,c,f,e)}))}function w(a,b,c,d){var e=new THREE.BufferGeometry;c.attrName&&(e.name=c.attrName);for(var f=void 0!==b.PolygonVertexIndex?b.PolygonVertexIndex.a:[],g=void 0!==b.Vertices?b.Vertices.a.slice():[],h=void 0!==c.Vertices?c.Vertices.a:[],i=void 0!==c.Indexes?c.Indexes.a:[],j=0;j<i.length;j++){var k=3*i[j];g[k]+=h[3*j],g[k+1]+=h[3*j+1],g[k+2]+=h[3*j+2]}var l={vertexIndices:f,vertexPositions:g},m=t(l),n=new THREE.Float32BufferAttribute(m.vertex,3);n.name=c.attrName,d.applyToBufferAttribute(n),a.morphAttributes.position.push(n)}function x(a){var b=a.MappingInformationType,c=a.ReferenceInformationType,d=a.Normals.a,e=[];return"IndexToDirect"===c&&("NormalIndex"in a?e=a.NormalIndex.a:"NormalsIndex"in a&&(e=a.NormalsIndex.a)),{dataSize:3,buffer:d,indices:e,mappingType:b,referenceType:c}}function y(a){var b=a.MappingInformationType,c=a.ReferenceInformationType,d=a.UV.a,e=[];return"IndexToDirect"===c&&(e=a.UVIndex.a),{dataSize:2,buffer:d,indices:e,mappingType:b,referenceType:c}}function z(a){var b=a.MappingInformationType,c=a.ReferenceInformationType,d=a.Colors.a,e=[];return"IndexToDirect"===c&&(e=a.ColorIndex.a),{dataSize:4,buffer:d,indices:e,mappingType:b,referenceType:c}}function A(a){var b=a.MappingInformationType,c=a.ReferenceInformationType;if("NoMappingInformation"===b)return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:c};for(var d=a.Materials.a,e=[],f=0;f<d.length;++f)e.push(f);return{dataSize:1,buffer:d,indices:e,mappingType:b,referenceType:c}}function B(a,b,c,d){var e;switch(d.mappingType){case"ByPolygonVertex":e=a;break;case"ByPolygon":e=b;break;case"ByVertice":e=c;break;case"AllSame":e=d.indices[0]}"IndexToDirect"===d.referenceType&&(e=d.indices[e]);var f=e*d.dataSize,g=f+d.dataSize;return la(na,d.buffer,f,g)}function C(a){if(void 0===THREE.NURBSCurve)return new THREE.BufferGeometry;var b=parseInt(a.Order);if(isNaN(b))return new THREE.BufferGeometry;for(var c=b-1,d=a.KnotVector.a,e=[],f=a.Points.a,g=0,h=f.length;g<h;g+=4)e.push((new THREE.Vector4).fromArray(f,g));var i,j;if("Closed"===a.Form)e.push(e[0]);else if("Periodic"===a.Form){i=c,j=d.length-1-i;for(var g=0;g<c;++g)e.push(e[g])}var k=new THREE.NURBSCurve(c,d,e,i,j),l=k.getPoints(7*e.length),m=new Float32Array(3*l.length);l.forEach(function(a,b){a.toArray(m,3*b)});var n=new THREE.BufferGeometry;return n.addAttribute("position",new THREE.BufferAttribute(m,3)),n}function D(a,b,c,d,e){var f=new THREE.Group,g=E(a,c,d,e,b),h=a.Objects.Model;return g.forEach(function(c){var d=h[c.ID];L(a,c,d,b,f),b.get(c.ID).parents.forEach(function(a){var b=g.get(a.ID);void 0!==b&&b.add(c)}),null===c.parent&&f.add(c)}),N(a,c,d,g,b),U(a,b,f),K(a,f),f}function E(a,b,c,d,e){var f=new Map,g=a.Objects.Model;for(var h in g){var i=parseInt(h),j=g[h],k=e.get(i),l=F(k,b,i,j.attrName);if(!l){switch(j.attrType){case"Camera":l=G(a,k);break;case"Light":l=H(a,k);break;case"Mesh":l=I(a,k,c,d);break;case"NurbsCurve":l=J(k,c);break;case"LimbNode":case"Null":default:l=new THREE.Group}l.name=THREE.PropertyBinding.sanitizeNodeName(j.attrName),l.ID=i}M(a,l,j),f.set(i,l)}return f}function F(a,b,c,d){var e=null;return a.parents.forEach(function(a){for(var f in b){var g=b[f];g.rawBones.forEach(function(b,f){if(b.ID===a.ID){var h=e;e=new THREE.Bone,e.matrixWorld.copy(b.transformLink),e.name=THREE.PropertyBinding.sanitizeNodeName(d),e.ID=c,g.bones[f]=e,null!==h&&e.add(h)}})}}),e}function G(a,b){var c,d;if(b.children.forEach(function(b){var c=a.Objects.NodeAttribute[b.ID];void 0!==c&&(d=c)}),void 0===d)c=new THREE.Object3D;else{var e=0;void 0!==d.CameraProjectionType&&1===d.CameraProjectionType.value&&(e=1);var f=1;void 0!==d.NearPlane&&(f=d.NearPlane.value/1e3);var g=1e3;void 0!==d.FarPlane&&(g=d.FarPlane.value/1e3);var h=window.innerWidth,i=window.innerHeight;void 0!==d.AspectWidth&&void 0!==d.AspectHeight&&(h=d.AspectWidth.value,i=d.AspectHeight.value);var j=h/i,k=45;void 0!==d.FieldOfView&&(k=d.FieldOfView.value);var l=d.FocalLength?d.FocalLength.value:null;switch(e){case 0:c=new THREE.PerspectiveCamera(k,j,f,g),null!==l&&c.setFocalLength(l);break;case 1:c=new THREE.OrthographicCamera(-h/2,h/2,i/2,-i/2,f,g);break;default:c=new THREE.Object3D}}return c}function H(a,b){var c,d;if(b.children.forEach(function(b){var c=a.Objects.NodeAttribute[b.ID];void 0!==c&&(d=c)}),void 0===d)c=new THREE.Object3D;else{var e;e=void 0===d.LightType?0:d.LightType.value;var f=16777215;void 0!==d.Color&&(f=(new THREE.Color).fromArray(d.Color.value));var g=void 0===d.Intensity?1:d.Intensity.value/100;void 0!==d.CastLightOnObject&&0===d.CastLightOnObject.value&&(g=0);var h=0;void 0!==d.FarAttenuationEnd&&(h=void 0!==d.EnableFarAttenuation&&0===d.EnableFarAttenuation.value?0:d.FarAttenuationEnd.value);switch(e){case 0:c=new THREE.PointLight(f,g,h,1);break;case 1:c=new THREE.DirectionalLight(f,g);break;case 2:var i=Math.PI/3;void 0!==d.InnerAngle&&(i=THREE.Math.degToRad(d.InnerAngle.value));var j=0;void 0!==d.OuterAngle&&(j=THREE.Math.degToRad(d.OuterAngle.value),j=Math.max(j,1)),c=new THREE.SpotLight(f,g,h,i,j,1);break;default:c=new THREE.PointLight(f,g)}void 0!==d.CastShadows&&1===d.CastShadows.value&&(c.castShadow=!0)}return c}function I(a,b,c,d){var e,f=null,g=null,h=[];return b.children.forEach(function(a){c.has(a.ID)&&(f=c.get(a.ID)),d.has(a.ID)&&h.push(d.get(a.ID))}),h.length>1?g=h:h.length>0?g=h[0]:(g=new THREE.MeshPhongMaterial({color:13421772}),h.push(g)),"color"in f.attributes&&h.forEach(function(a){a.vertexColors=THREE.VertexColors}),f.FBX_Deformer?(h.forEach(function(a){a.skinning=!0}),e=new THREE.SkinnedMesh(f,g)):e=new THREE.Mesh(f,g),e}function J(a,b){var c=a.children.reduce(function(a,c){return b.has(c.ID)&&(a=b.get(c.ID)),a},null),d=new THREE.LineBasicMaterial({color:3342591,linewidth:1});return new THREE.Line(c,d)}function K(a,b){if("GlobalSettings"in a&&"AmbientColor"in a.GlobalSettings){var c=a.GlobalSettings.AmbientColor.value,d=c[0],e=c[1],f=c[2];if(0!==d||0!==e||0!==f){var g=new THREE.Color(d,e,f);b.add(new THREE.AmbientLight(g,1))}}}function L(a,b,c,d,e){if("LookAtProperty"in c){d.get(b.ID).children.forEach(function(c){if("LookAtProperty"===c.relationship){var d=a.Objects.Model[c.ID];if("Lcl_Translation"in d){var f=d.Lcl_Translation.value;void 0!==b.target?(b.target.position.fromArray(f),e.add(b.target)):b.lookAt((new THREE.Vector3).fromArray(f))}}})}}function M(a,b,c){if("RotationOrder"in c){parseInt(c.RotationOrder.value,10)}if("Lcl_Translation"in c&&b.position.fromArray(c.Lcl_Translation.value),"Lcl_Rotation"in c){var d=c.Lcl_Rotation.value.map(THREE.Math.degToRad);d.push("ZYX"),b.quaternion.setFromEuler((new THREE.Euler).fromArray(d))}if("Lcl_Scaling"in c&&b.scale.fromArray(c.Lcl_Scaling.value),"PreRotation"in c){var e=c.PreRotation.value.map(THREE.Math.degToRad);e[3]="ZYX";var f=(new THREE.Euler).fromArray(e);f=(new THREE.Quaternion).setFromEuler(f),b.quaternion.premultiply(f)}}function N(a,b,c,d,e){var f=O(a);for(var g in b){var h=b[g];e.get(parseInt(h.ID)).parents.forEach(function(a){if(c.has(a.ID)){var b=a.ID;e.get(b).parents.forEach(function(a){if(d.has(a.ID)){d.get(a.ID).bind(new THREE.Skeleton(h.bones),f[a.ID])}})}})}}function O(a){var b={};if("Pose"in a.Objects){var c=a.Objects.Pose;for(var d in c)if("BindPose"===c[d].attrType){var e=c[d].PoseNode;Array.isArray(e)?e.forEach(function(a){b[a.Node]=(new THREE.Matrix4).fromArray(a.Matrix.a)}):b[e.Node]=(new THREE.Matrix4).fromArray(e.Matrix.a)}}return b}function P(a,b){if(void 0!==a.Objects.AnimationCurve){var c=Q(a);R(a,b,c);return T(a,b,S(a,b,c))}}function Q(a){var b=a.Objects.AnimationCurveNode,c=new Map;for(var d in b){var e=b[d];if(null!==e.attrName.match(/S|R|T/)){var f={id:e.id,attr:e.attrName,curves:{}};c.set(f.id,f)}}return c}function R(a,b,c){var d=a.Objects.AnimationCurve;for(var e in d){var f={id:d[e].id,times:d[e].KeyTime.a.map(ha),values:d[e].KeyValueFloat.a},g=b.get(f.id);if(void 0!==g){var h=g.parents[0].ID,i=g.parents[0].relationship;i.match(/X/)?c.get(h).curves.x=f:i.match(/Y/)?c.get(h).curves.y=f:i.match(/Z/)&&(c.get(h).curves.z=f)}}}function S(a,b,c){var d=a.Objects.AnimationLayer,e=new Map;for(var f in d){var g=[],h=b.get(parseInt(f));if(void 0!==h){h.children.forEach(function(d,e){if(c.has(d.ID)){var f=c.get(d.ID);if(void 0!==f.curves.x||void 0!==f.curves.y||void 0!==f.curves.z){if(void 0===g[e]){var h;b.get(d.ID).parents.forEach(function(a){void 0!==a.relationship&&(h=a.ID)});var i=a.Objects.Model[h.toString()],j={modelName:THREE.PropertyBinding.sanitizeNodeName(i.attrName),initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};"Lcl_Translation"in i&&(j.initialPosition=i.Lcl_Translation.value),"Lcl_Rotation"in i&&(j.initialRotation=i.Lcl_Rotation.value),"Lcl_Scaling"in i&&(j.initialScale=i.Lcl_Scaling.value),"PreRotation"in i&&(j.preRotations=i.PreRotation.value),g[e]=j}g[e][f.attr]=f}}}),e.set(parseInt(f),g)}}return e}function T(a,b,c){var d=a.Objects.AnimationStack,e={};for(var f in d){var g=b.get(parseInt(f)).children;g.length;var h=c.get(g[0].ID);e[f]={name:d[f].attrName,layer:h}}return e}function U(a,b,c){c.animations=[];var d=P(a,b);if(void 0!==d)for(var e in d){var f=d[e],g=V(f);c.animations.push(g)}}function V(a){var b=[];return a.layer.forEach(function(a){b=b.concat(W(a))}),new THREE.AnimationClip(a.name,-1,b)}function W(a){var b=[];if(void 0!==a.T&&Object.keys(a.T.curves).length>0){var c=X(a.modelName,a.T.curves,a.initialPosition,"position");void 0!==c&&b.push(c)}if(void 0!==a.R&&Object.keys(a.R.curves).length>0){var d=Y(a.modelName,a.R.curves,a.initialRotation,a.preRotations);void 0!==d&&b.push(d)}if(void 0!==a.S&&Object.keys(a.S.curves).length>0){var e=X(a.modelName,a.S.curves,a.initialScale,"scale");void 0!==e&&b.push(e)}return b}function X(a,b,c,d){var e=$(b),f=Z(e,b,c);return new THREE.VectorKeyframeTrack(a+"."+d,e,f)}function Y(a,b,c,d){void 0!==b.x&&(_(b.x),b.x.values=b.x.values.map(THREE.Math.degToRad)),void 0!==b.y&&(_(b.y),b.y.values=b.y.values.map(THREE.Math.degToRad)),void 0!==b.z&&(_(b.z),b.z.values=b.z.values.map(THREE.Math.degToRad));var e=$(b),f=Z(e,b,c);void 0!==d&&(d=d.map(THREE.Math.degToRad),d.push("ZYX"),d=(new THREE.Euler).fromArray(d),d=(new THREE.Quaternion).setFromEuler(d));for(var g=new THREE.Quaternion,h=new THREE.Euler,i=[],j=0;j<f.length;j+=3)h.set(f[j],f[j+1],f[j+2],"ZYX"),g.setFromEuler(h),void 0!==d&&g.premultiply(d),g.toArray(i,j/3*4);return new THREE.QuaternionKeyframeTrack(a+".quaternion",e,i)}function Z(a,b,c){var d=c,e=[],f=-1,g=-1,h=-1;return a.forEach(function(a){if(b.x&&(f=b.x.times.indexOf(a)),b.y&&(g=b.y.times.indexOf(a)),b.z&&(h=b.z.times.indexOf(a)),-1!==f){var c=b.x.values[f];e.push(c),d[0]=c}else e.push(d[0]);if(-1!==g){var i=b.y.values[g];e.push(i),d[1]=i}else e.push(d[1]);if(-1!==h){var j=b.z.values[h];e.push(j),d[2]=j}else e.push(d[2])}),e}function $(a){var b=[];return void 0!==a.x&&(b=b.concat(a.x.times)),void 0!==a.y&&(b=b.concat(a.y.times)),void 0!==a.z&&(b=b.concat(a.z.times)),b=b.sort(function(a,b){return a-b}).filter(function(a,b,c){return c.indexOf(a)==b})}function _(a){for(var b=1;b<a.values.length;b++){var c=a.values[b-1],d=a.values[b]-c,e=Math.abs(d);if(e>=180){for(var f=e/180,g=d/f,h=c+g,i=a.times[b-1],j=a.times[b]-i,k=j/f,l=i+k,m=[],n=[];l<a.times[b];)m.push(l),l+=k,n.push(h),h+=g;a.times=ma(a.times,b,m),a.values=ma(a.values,b,n)}}}function aa(){}function ba(){}function ca(a,b){this.dv=new DataView(a),this.offset=0,this.littleEndian=void 0===b||b}function da(){}function ea(a){var b="Kaydara FBX Binary  \0";return a.byteLength>=b.length&&b===ja(a,0,b.length)}function fa(a){for(var b=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"],c=0,d=0;d<b.length;++d){if(function(b){var d=a[b-1];return a=a.slice(c+b),c++,d}(1)===b[d])return!1}return!0}function ga(a){var b=/FBXVersion: (\d+)/,c=a.match(b);if(c){return parseInt(c[1])}throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function ha(a){return a/46186158e3}function ia(a){return a.split(",").map(function(a){return parseFloat(a)})}function ja(a,b,c){return void 0===b&&(b=0),void 0===c&&(c=a.byteLength),THREE.LoaderUtils.decodeText(new Uint8Array(a,b,c))}function ka(a,b){for(var c=0,d=a.length,e=b.length;c<e;c++,d++)a[d]=b[c]}function la(a,b,c,d){for(var e=c,f=0;e<d;e++,f++)a[f]=b[e];return a}function ma(a,b,c){return a.slice(0,b).concat(c).concat(a.slice(b))}THREE.FBXLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager},Object.assign(THREE.FBXLoader.prototype,{load:function(a,b,c,d){var e=this,f=THREE.LoaderUtils.extractUrlBase(a),g=new THREE.FileLoader(this.manager);g.setResponseType("arraybuffer"),g.load(a,function(c){try{var g=e.parse(c,f);b(g)}catch(b){window.setTimeout(function(){d&&d(b),e.manager.itemError(a)},0)}},c,d)},parse:function(c,d){var f;if(ea(c))f=(new ba).parse(c);else{var g=ja(c);if(!fa(g))throw new Error("THREE.FBXLoader: Unknown format.");if(ga(g)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+ga(g));f=(new aa).parse(g)}var i=a(f),j=b(f),k=e(f,new THREE.TextureLoader(this.manager).setPath(d),j,i),m=h(f,k,i),n=l(f,i),p=o(f,i,n);return D(f,i,n.skeletons,p,m)}});var na=[];Object.assign(aa.prototype,{getPrevNode:function(){return this.nodeStack[this.currentIndent-2]},getCurrentNode:function(){return this.nodeStack[this.currentIndent-1]},getCurrentProp:function(){return this.currentProp},pushStack:function(a){this.nodeStack.push(a),this.currentIndent+=1},popStack:function(){this.nodeStack.pop(),this.currentIndent-=1},setCurrentProp:function(a,b){this.currentProp=a,this.currentPropName=b},parse:function(a){this.currentIndent=0,this.allNodes=new da,this.nodeStack=[],this.currentProp=[],this.currentPropName="";var b=this,c=a.split("\n");return c.forEach(function(a,d){var e=a.match(/^[\s\t]*;/),f=a.match(/^[\s\t]*$/);if(!e&&!f){var g=a.match("^\\t{"+b.currentIndent+"}(\\w+):(.*){",""),h=a.match("^\\t{"+b.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),i=a.match("^\\t{"+(b.currentIndent-1)+"}}");g?b.parseNodeBegin(a,g):h?b.parseNodeProperty(a,h,c[++d]):i?b.popStack():a.match(/^[^\s\t}]/)&&b.parseNodePropertyContinued(a)}}),this.allNodes},parseNodeBegin:function(a,b){var c=b[1].trim().replace(/^"/,"").replace(/"$/,""),d=b[2].split(",").map(function(a){return a.trim().replace(/^"/,"").replace(/"$/,"")}),e={name:c},f=this.parseNodeAttr(d),g=this.getCurrentNode();0===this.currentIndent?this.allNodes.add(c,e):c in g?("PoseNode"===c?g.PoseNode.push(e):void 0!==g[c].id&&(g[c]={},g[c][g[c].id]=g[c]),""!==f.id&&(g[c][f.id]=e)):"number"==typeof f.id?(g[c]={},g[c][f.id]=e):"Properties70"!==c&&(g[c]="PoseNode"===c?[e]:e),"number"==typeof f.id&&(e.id=f.id),""!==f.name&&(e.attrName=f.name),""!==f.type&&(e.attrType=f.type),this.pushStack(e)},parseNodeAttr:function(a){var b=a[0];""!==a[0]&&(b=parseInt(a[0]),isNaN(b)&&(b=a[0]));var c="",d="";return a.length>1&&(c=a[1].replace(/^(\w+)::/,""),d=a[2]),{id:b,name:c,type:d}},parseNodeProperty:function(a,b,c){var d=b[1].replace(/^"/,"").replace(/"$/,"").trim(),e=b[2].replace(/^"/,"").replace(/"$/,"").trim();"Content"===d&&","===e&&(e=c.replace(/"/g,"").replace(/,$/,"").trim());var f=this.getCurrentNode();if("Properties70"===f.name)return void this.parseNodeSpecialProperty(a,d,e);if("C"===d){var g=e.split(",").slice(1),h=parseInt(g[0]),i=parseInt(g[1]),j=e.split(",").slice(3);j=j.map(function(a){return a.trim().replace(/^"/,"")}),d="connections",e=[h,i],ka(e,j),void 0===f[d]&&(f[d]=[])}"Node"===d&&(f.id=e),d in f&&Array.isArray(f[d])?f[d].push(e):"a"!==d?f[d]=e:f.a=e,this.setCurrentProp(f,d),"a"===d&&","!==e.slice(-1)&&(f.a=ia(e))},parseNodePropertyContinued:function(a){var b=this.getCurrentNode();b.a+=a,","!==a.slice(-1)&&(b.a=ia(b.a))},parseNodeSpecialProperty:function(a,b,c){var d=c.split('",').map(function(a){return a.trim().replace(/^\"/,"").replace(/\s/,"_")}),e=d[0],f=d[1],g=d[2],h=d[3],i=d[4];switch(f){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":i=parseFloat(i);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":i=ia(i)}this.getPrevNode()[e]={type:f,type2:g,flag:h,value:i},this.setCurrentProp(this.getPrevNode(),e)}}),Object.assign(ba.prototype,{parse:function(a){var b=new ca(a);b.skip(23);for(var c=b.getUint32(),d=new da;!this.endOfContent(b);){var e=this.parseNode(b,c);null!==e&&d.add(e.name,e)}return d},endOfContent:function(a){return a.size()%16==0?(a.getOffset()+160+16&-16)>=a.size():a.getOffset()+160+16>=a.size()},parseNode:function(a,b){var c={},d=b>=7500?a.getUint64():a.getUint32(),e=b>=7500?a.getUint64():a.getUint32(),f=(b>=7500?a.getUint64():a.getUint32(),a.getUint8()),g=a.getString(f);if(0===d)return null;for(var h=[],i=0;i<e;i++)h.push(this.parseProperty(a));var j=h.length>0?h[0]:"",k=h.length>1?h[1]:"",l=h.length>2?h[2]:"";for(c.singleProperty=1===e&&a.getOffset()===d;d>a.getOffset();){var m=this.parseNode(a,b);null!==m&&this.parseSubNode(g,c,m)}return c.propertyList=h,"number"==typeof j&&(c.id=j),""!==k&&(c.attrName=k),""!==l&&(c.attrType=l),""!==g&&(c.name=g),c},parseSubNode:function(a,b,c){if(!0===c.singleProperty){var d=c.propertyList[0];Array.isArray(d)?(b[c.name]=c,c.a=d):b[c.name]=d}else if("Connections"===a&&"C"===c.name){var e=[];c.propertyList.forEach(function(a,b){0!==b&&e.push(a)}),void 0===b.connections&&(b.connections=[]),b.connections.push(e)}else if("Properties70"===c.name){var f=Object.keys(c);f.forEach(function(a){b[a]=c[a]})}else if("Properties70"===a&&"P"===c.name){var g,h=c.propertyList[0],i=c.propertyList[1],j=c.propertyList[2],k=c.propertyList[3];0===h.indexOf("Lcl ")&&(h=h.replace("Lcl ","Lcl_")),0===i.indexOf("Lcl ")&&(i=i.replace("Lcl ","Lcl_")),g="Color"===i||"ColorRGB"===i||"Vector"===i||"Vector3D"===i||0===i.indexOf("Lcl_")?[c.propertyList[4],c.propertyList[5],c.propertyList[6]]:c.propertyList[4],b[h]={type:i,type2:j,flag:k,value:g}}else void 0===b[c.name]?"number"==typeof c.id?(b[c.name]={},b[c.name][c.id]=c):b[c.name]=c:"PoseNode"===c.name?(Array.isArray(b[c.name])||(b[c.name]=[b[c.name]]),b[c.name].push(c)):void 0===b[c.name][c.id]&&(b[c.name][c.id]=c)},parseProperty:function(a){var b=a.getString(1);switch(b){case"C":return a.getBoolean();case"D":return a.getFloat64();case"F":return a.getFloat32();case"I":return a.getInt32();case"L":return a.getInt64();case"R":var c=a.getUint32();return a.getArrayBuffer(c);case"S":var c=a.getUint32();return a.getString(c);case"Y":return a.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":var d=a.getUint32(),e=a.getUint32(),f=a.getUint32();if(0===e)switch(b){case"b":case"c":return a.getBooleanArray(d);case"d":return a.getFloat64Array(d);case"f":return a.getFloat32Array(d);case"i":return a.getInt32Array(d);case"l":return a.getInt64Array(d)}window.Zlib;var g=new Zlib.Inflate(new Uint8Array(a.getArrayBuffer(f))),h=new ca(g.decompress().buffer)
;switch(b){case"b":case"c":return h.getBooleanArray(d);case"d":return h.getFloat64Array(d);case"f":return h.getFloat32Array(d);case"i":return h.getInt32Array(d);case"l":return h.getInt64Array(d)}default:throw new Error("THREE.FBXLoader: Unknown property type "+b)}}}),Object.assign(ca.prototype,{getOffset:function(){return this.offset},size:function(){return this.dv.buffer.byteLength},skip:function(a){this.offset+=a},getBoolean:function(){return 1==(1&this.getUint8())},getBooleanArray:function(a){for(var b=[],c=0;c<a;c++)b.push(this.getBoolean());return b},getUint8:function(){var a=this.dv.getUint8(this.offset);return this.offset+=1,a},getInt16:function(){var a=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,a},getInt32:function(){var a=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,a},getInt32Array:function(a){for(var b=[],c=0;c<a;c++)b.push(this.getInt32());return b},getUint32:function(){var a=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,a},getInt64:function(){var a,b;return this.littleEndian?(a=this.getUint32(),b=this.getUint32()):(b=this.getUint32(),a=this.getUint32()),2147483648&b?(b=4294967295&~b,a=4294967295&~a,4294967295===a&&(b=b+1&4294967295),a=a+1&4294967295,-(4294967296*b+a)):4294967296*b+a},getInt64Array:function(a){for(var b=[],c=0;c<a;c++)b.push(this.getInt64());return b},getUint64:function(){var a,b;return this.littleEndian?(a=this.getUint32(),b=this.getUint32()):(b=this.getUint32(),a=this.getUint32()),4294967296*b+a},getFloat32:function(){var a=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,a},getFloat32Array:function(a){for(var b=[],c=0;c<a;c++)b.push(this.getFloat32());return b},getFloat64:function(){var a=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,a},getFloat64Array:function(a){for(var b=[],c=0;c<a;c++)b.push(this.getFloat64());return b},getArrayBuffer:function(a){var b=this.dv.buffer.slice(this.offset,this.offset+a);return this.offset+=a,b},getString:function(a){for(var b=new Uint8Array(a),c=0;c<a;c++)b[c]=this.getUint8();var d=b.indexOf(0);return d>=0&&(b=b.slice(0,d)),THREE.LoaderUtils.decodeText(b)}}),Object.assign(da.prototype,{add:function(a,b){this[a]=b}})}()},{}],415:[function(a,b,c){(function(a){"use strict";var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(a,d){var e=a.GreenSockGlobals=a.GreenSockGlobals||a;if(!e.TweenLite){var f,g,h,i,j,k=function(a){var b,c=a.split("."),d=e;for(b=0;b<c.length;b++)d[c[b]]=d=d[c[b]]||{};return d},l=k("com.greensock"),m=1e-10,n=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},o=function(){},p=function(){var a=Object.prototype.toString,b=a.call([]);return function(d){return null!=d&&(d instanceof Array||"object"==(void 0===d?"undefined":c(d))&&!!d.push&&a.call(d)===b)}}(),q={},r=function c(d,f,g,h){this.sc=q[d]?q[d].sc:[],q[d]=this,this.gsClass=null,this.func=g;var i=[];this.check=function(j){for(var l,m,n,o,p,r=f.length,s=r;--r>-1;)(l=q[f[r]]||new c(f[r],[])).gsClass?(i[r]=l.gsClass,s--):j&&l.sc.push(this);if(0===s&&g)for(m=("com.greensock."+d).split("."),n=m.pop(),o=k(m.join("."))[n]=this.gsClass=g.apply(g,i),h&&(e[n]=o,p=void 0!==b&&b.exports,!p&&"function"==typeof define&&define.amd?define((a.GreenSockAMDPath?a.GreenSockAMDPath+"/":"")+d.split(".").pop(),[],function(){return o}):"TweenLite"===d&&p&&(b.exports=o)),r=0;r<this.sc.length;r++)this.sc[r].check()},this.check(!0)},s=a._gsDefine=function(a,b,c,d){return new r(a,b,c,d)},t=l._class=function(a,b,c){return b=b||function(){},s(a,[],function(){return b},c),b};s.globals=e;var u=[0,0,1,1],v=[],w=t("easing.Ease",function(a,b,c,d){this._func=a,this._type=c||0,this._power=d||0,this._params=b?u.concat(b):u},!0),x=w.map={},y=w.register=function(a,b,c,d){for(var e,f,g,h,i=b.split(","),j=i.length,k=(c||"easeIn,easeOut,easeInOut").split(",");--j>-1;)for(f=i[j],e=d?t("easing."+f,null,!0):l.easing[f]||{},g=k.length;--g>-1;)h=k[g],x[f+"."+h]=x[h+f]=e[h]=a.getRatio?a:a[h]||new a};for(h=w.prototype,h._calcEnd=!1,h.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var b=this._type,c=this._power,d=1===b?1-a:2===b?a:.5>a?2*a:2*(1-a);return 1===c?d*=d:2===c?d*=d*d:3===c?d*=d*d*d:4===c&&(d*=d*d*d*d),1===b?1-d:2===b?d:.5>a?d/2:1-d/2},f=["Linear","Quad","Cubic","Quart","Quint,Strong"],g=f.length;--g>-1;)h=f[g]+",Power"+g,y(new w(null,null,1,g),h,"easeOut",!0),y(new w(null,null,2,g),h,"easeIn"+(0===g?",easeNone":"")),y(new w(null,null,3,g),h,"easeInOut");x.linear=l.easing.Linear.easeIn,x.swing=l.easing.Quad.easeInOut;var z=t("events.EventDispatcher",function(a){this._listeners={},this._eventTarget=a||this});h=z.prototype,h.addEventListener=function(a,b,c,d,e){e=e||0;var f,g,h=this._listeners[a],k=0;for(null==h&&(this._listeners[a]=h=[]),g=h.length;--g>-1;)f=h[g],f.c===b&&f.s===c?h.splice(g,1):0===k&&f.pr<e&&(k=g+1);h.splice(k,0,{c:b,s:c,up:d,pr:e}),this!==i||j||i.wake()},h.removeEventListener=function(a,b){var c,d=this._listeners[a];if(d)for(c=d.length;--c>-1;)if(d[c].c===b)return void d.splice(c,1)},h.dispatchEvent=function(a){var b,c,d,e=this._listeners[a];if(e)for(b=e.length,c=this._eventTarget;--b>-1;)(d=e[b])&&(d.up?d.c.call(d.s||c,{type:a,target:c}):d.c.call(d.s||c))};var A=a.requestAnimationFrame,B=a.cancelAnimationFrame,C=Date.now||function(){return(new Date).getTime()},D=C();for(f=["ms","moz","webkit","o"],g=f.length;--g>-1&&!A;)A=a[f[g]+"RequestAnimationFrame"],B=a[f[g]+"CancelAnimationFrame"]||a[f[g]+"CancelRequestAnimationFrame"];t("Ticker",function(a,b){var c,d,e,f,g,h=this,k=C(),l=!(!1===b||!A)&&"auto",n=500,p=33,q=function a(b){var i,j,l=C()-D;l>n&&(k+=l-p),D+=l,h.time=(D-k)/1e3,i=h.time-g,(!c||i>0||!0===b)&&(h.frame++,g+=i+(i>=f?.004:f-i),j=!0),!0!==b&&(e=d(a)),j&&h.dispatchEvent("tick")};z.call(h),h.time=h.frame=0,h.tick=function(){q(!0)},h.lagSmoothing=function(a,b){n=a||1/m,p=Math.min(b,n,0)},h.sleep=function(){null!=e&&(l&&B?B(e):clearTimeout(e),d=o,e=null,h===i&&(j=!1))},h.wake=function(a){null!==e?h.sleep():a?k+=-D+(D=C()):h.frame>10&&(D=C()-n+5),d=0===c?o:l&&A?A:function(a){return setTimeout(a,1e3*(g-h.time)+1|0)},h===i&&(j=!0),q(2)},h.fps=function(a){return arguments.length?(c=a,f=1/(c||60),g=this.time+f,void h.wake()):c},h.useRAF=function(a){return arguments.length?(h.sleep(),l=a,void h.fps(c)):l},h.fps(a),setTimeout(function(){"auto"===l&&h.frame<5&&"hidden"!==document.visibilityState&&h.useRAF(!1)},1500)}),h=l.Ticker.prototype=new l.events.EventDispatcher,h.constructor=l.Ticker;var E=t("core.Animation",function(a,b){if(this.vars=b=b||{},this._duration=this._totalDuration=a||0,this._delay=Number(b.delay)||0,this._timeScale=1,this._active=!0===b.immediateRender,this.data=b.data,this._reversed=!0===b.reversed,W){j||i.wake();var c=this.vars.useFrames?V:W;c.add(this,c._time),this.vars.paused&&this.paused(!0)}});i=E.ticker=new l.Ticker,h=E.prototype,h._dirty=h._gc=h._initted=h._paused=!1,h._totalTime=h._time=0,h._rawPrevTime=-1,h._next=h._last=h._onUpdate=h._timeline=h.timeline=null,h._paused=!1;(function a(){j&&C()-D>2e3&&i.wake(),setTimeout(a,2e3)})(),h.play=function(a,b){return null!=a&&this.seek(a,b),this.reversed(!1).paused(!1)},h.pause=function(a,b){return null!=a&&this.seek(a,b),this.paused(!0)},h.resume=function(a,b){return null!=a&&this.seek(a,b),this.paused(!1)},h.seek=function(a,b){return this.totalTime(Number(a),!1!==b)},h.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,!1!==b,!0)},h.reverse=function(a,b){return null!=a&&this.seek(a||this.totalDuration(),b),this.reversed(!0).paused(!1)},h.render=function(a,b,c){},h.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},h.isActive=function(){var a,b=this._timeline,c=this._startTime;return!b||!this._gc&&!this._paused&&b.isActive()&&(a=b.rawTime())>=c&&a<c+this.totalDuration()/this._timeScale},h._enabled=function(a,b){return j||i.wake(),this._gc=!a,this._active=this.isActive(),!0!==b&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,!0)),!1},h._kill=function(a,b){return this._enabled(!1,!1)},h.kill=function(a,b){return this._kill(a,b),this},h._uncache=function(a){for(var b=a?this:this.timeline;b;)b._dirty=!0,b=b.timeline;return this},h._swapSelfInParams=function(a){for(var b=a.length,c=a.concat();--b>-1;)"{self}"===a[b]&&(c[b]=this);return c},h._callback=function(a){var b=this.vars;b[a].apply(b[a+"Scope"]||b.callbackScope||this,b[a+"Params"]||v)},h.eventCallback=function(a,b,c,d){if("on"===(a||"").substr(0,2)){var e=this.vars;if(1===arguments.length)return e[a];null==b?delete e[a]:(e[a]=b,e[a+"Params"]=p(c)&&-1!==c.join("").indexOf("{self}")?this._swapSelfInParams(c):c,e[a+"Scope"]=d),"onUpdate"===a&&(this._onUpdate=b)}return this},h.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay},h.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==a&&this.totalTime(this._totalTime*(a/this._duration),!0),this):(this._dirty=!1,this._duration)},h.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration},h.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,b)):this._time},h.totalTime=function(a,b,c){if(j||i.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>a&&!c&&(a+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var d=this._totalDuration,e=this._timeline;if(a>d&&!c&&(a=d),this._startTime=(this._paused?this._pauseTime:e._time)-(this._reversed?d-a:a)/this._timeScale,e._dirty||this._uncache(!1),e._timeline)for(;e._timeline;)e._timeline._time!==(e._startTime+e._totalTime)/e._timeScale&&e.totalTime(e._totalTime,!0),e=e._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==a||0===this._duration)&&(J.length&&Y(),this.render(a,b,!1),J.length&&Y())}return this},h.progress=h.totalProgress=function(a,b){var c=this.duration();return arguments.length?this.totalTime(c*a,b):c?this._time/c:this.ratio},h.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime},h.endTime=function(a){return this._startTime+(0!=a?this.totalDuration():this.duration())/this._timeScale},h.timeScale=function(a){if(!arguments.length)return this._timeScale;if(a=a||m,this._timeline&&this._timeline.smoothChildTiming){var b=this._pauseTime,c=b||0===b?b:this._timeline.totalTime();this._startTime=c-(c-this._startTime)*this._timeScale/a}return this._timeScale=a,this._uncache(!1)},h.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},h.paused=function(a){if(!arguments.length)return this._paused;var b,c,d=this._timeline;return a!=this._paused&&d&&(j||a||i.wake(),b=d.rawTime(),c=b-this._pauseTime,!a&&d.smoothChildTiming&&(this._startTime+=c,this._uncache(!1)),this._pauseTime=a?b:null,this._paused=a,this._active=this.isActive(),!a&&0!==c&&this._initted&&this.duration()&&(b=d.smoothChildTiming?this._totalTime:(b-this._startTime)/this._timeScale,this.render(b,b===this._totalTime,!0))),this._gc&&!a&&this._enabled(!0,!1),this};var F=t("core.SimpleTimeline",function(a){E.call(this,0,a),this.autoRemoveChildren=this.smoothChildTiming=!0});h=F.prototype=new E,h.constructor=F,h.kill()._gc=!1,h._first=h._last=h._recent=null,h._sortChildren=!1,h.add=h.insert=function(a,b,c,d){var e,f;if(a._startTime=Number(b||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=a._startTime+(this.rawTime()-a._startTime)/a._timeScale),a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),e=this._last,this._sortChildren)for(f=a._startTime;e&&e._startTime>f;)e=e._prev;return e?(a._next=e._next,e._next=a):(a._next=this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=e,this._recent=a,this._timeline&&this._uncache(!0),this},h._remove=function(a,b){return a.timeline===this&&(b||a._enabled(!1,!0),a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),a._next=a._prev=a.timeline=null,a===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},h.render=function(a,b,c){var d,e=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;e;)d=e._next,(e._active||a>=e._startTime&&!e._paused)&&(e._reversed?e.render((e._dirty?e.totalDuration():e._totalDuration)-(a-e._startTime)*e._timeScale,b,c):e.render((a-e._startTime)*e._timeScale,b,c)),e=d},h.rawTime=function(){return j||i.wake(),this._totalTime};var G=t("TweenLite",function(b,c,d){if(E.call(this,c,d),this.render=G.prototype.render,null==b)throw"Cannot tween a null target.";this.target=b="string"!=typeof b?b:G.selector(b)||b;var e,f,g,h=b.jquery||b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType),i=this.vars.overwrite;if(this._overwrite=i=null==i?U[G.defaultOverwrite]:"number"==typeof i?i>>0:U[i],(h||b instanceof Array||b.push&&p(b))&&"number"!=typeof b[0])for(this._targets=g=n(b),this._propLookup=[],this._siblings=[],e=0;e<g.length;e++)f=g[e],f?"string"!=typeof f?f.length&&f!==a&&f[0]&&(f[0]===a||f[0].nodeType&&f[0].style&&!f.nodeType)?(g.splice(e--,1),this._targets=g=g.concat(n(f))):(this._siblings[e]=Z(f,this,!1),1===i&&this._siblings[e].length>1&&_(f,this,null,1,this._siblings[e])):"string"==typeof(f=g[e--]=G.selector(f))&&g.splice(e+1,1):g.splice(e--,1);else this._propLookup={},this._siblings=Z(b,this,!1),1===i&&this._siblings.length>1&&_(b,this,null,1,this._siblings);(this.vars.immediateRender||0===c&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-m,this.render(-this._delay))},!0),H=function(b){return b&&b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType)},I=function(a,b){var c,d={};for(c in a)T[c]||c in b&&"transform"!==c&&"x"!==c&&"y"!==c&&"width"!==c&&"height"!==c&&"className"!==c&&"border"!==c||!(!Q[c]||Q[c]&&Q[c]._autoCSS)||(d[c]=a[c],delete a[c]);a.css=d};h=G.prototype=new E,h.constructor=G,h.kill()._gc=!1,h.ratio=0,h._firstPT=h._targets=h._overwrittenProps=h._startAt=null,h._notifyPluginsOfEnabled=h._lazy=!1,G.version="1.18.2",G.defaultEase=h._ease=new w(null,null,1,1),G.defaultOverwrite="auto",G.ticker=i,G.autoSleep=120,G.lagSmoothing=function(a,b){i.lagSmoothing(a,b)},G.selector=a.$||a.jQuery||function(b){var c=a.$||a.jQuery;return c?(G.selector=c,c(b)):"undefined"==typeof document?b:document.querySelectorAll?document.querySelectorAll(b):document.getElementById("#"===b.charAt(0)?b.substr(1):b)};var J=[],K={},L=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,M=function(a){for(var b,c=this._firstPT;c;)b=c.blob?a?this.join(""):this.start:c.c*a+c.s,c.r?b=Math.round(b):1e-6>b&&b>-1e-6&&(b=0),c.f?c.fp?c.t[c.p](c.fp,b):c.t[c.p](b):c.t[c.p]=b,c=c._next},N=function(a,b,c,d){var e,f,g,h,i,j,k,l=[a,b],m=0,n="",o=0;for(l.start=a,c&&(c(l),a=l[0],b=l[1]),l.length=0,e=a.match(L)||[],f=b.match(L)||[],d&&(d._next=null,d.blob=1,l._firstPT=d),i=f.length,h=0;i>h;h++)k=f[h],j=b.substr(m,b.indexOf(k,m)-m),n+=j||!h?j:",",m+=j.length,o?o=(o+1)%5:"rgba("===j.substr(-5)&&(o=1),k===e[h]||e.length<=h?n+=k:(n&&(l.push(n),n=""),g=parseFloat(e[h]),l.push(g),l._firstPT={_next:l._firstPT,t:l,p:l.length-1,s:g,c:("="===k.charAt(1)?parseInt(k.charAt(0)+"1",10)*parseFloat(k.substr(2)):parseFloat(k)-g)||0,f:0,r:o&&4>o}),m+=k.length;return n+=b.substr(m),n&&l.push(n),l.setRatio=M,l},O=function(a,b,d,e,f,g,h,i){var j,k,l="get"===d?a[b]:d,m=c(a[b]),n="string"==typeof e&&"="===e.charAt(1),o={t:a,p:b,s:l,f:"function"===m,pg:0,n:f||b,r:g,pr:0,c:n?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-l||0};return"number"!==m&&("function"===m&&"get"===d&&(k=b.indexOf("set")||"function"!=typeof a["get"+b.substr(3)]?b:"get"+b.substr(3),o.s=l=h?a[k](h):a[k]()),"string"==typeof l&&(h||isNaN(l))?(o.fp=h,j=N(l,e,i||G.defaultStringFilter,o),o={t:j,p:"setRatio",s:0,c:1,f:2,pg:0,n:f||b,pr:0}):n||(o.s=parseFloat(l),o.c=parseFloat(e)-o.s||0)),o.c?((o._next=this._firstPT)&&(o._next._prev=o),this._firstPT=o,o):void 0},P=G._internals={isArray:p,isSelector:H,lazyTweens:J,blobDif:N},Q=G._plugins={},R=P.tweenLookup={},S=0,T=P.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1},U={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},V=E._rootFramesTimeline=new F,W=E._rootTimeline=new F,X=30,Y=P.lazyRender=function(){var a,b=J.length;for(K={};--b>-1;)(a=J[b])&&!1!==a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0),a._lazy=!1);J.length=0};W._startTime=i.time,V._startTime=i.frame,W._active=V._active=!0,setTimeout(Y,1),E._updateRoot=G.render=function(){var a,b,c;if(J.length&&Y(),W.render((i.time-W._startTime)*W._timeScale,!1,!1),V.render((i.frame-V._startTime)*V._timeScale,!1,!1),J.length&&Y(),i.frame>=X){X=i.frame+(parseInt(G.autoSleep,10)||120);for(c in R){for(b=R[c].tweens,a=b.length;--a>-1;)b[a]._gc&&b.splice(a,1);0===b.length&&delete R[c]}if((!(c=W._first)||c._paused)&&G.autoSleep&&!V._first&&1===i._listeners.tick.length){for(;c&&c._paused;)c=c._next;c||i.sleep()}}},i.addEventListener("tick",E._updateRoot);var Z=function(a,b,c){var d,e,f=a._gsTweenID;if(R[f||(a._gsTweenID=f="t"+S++)]||(R[f]={target:a,tweens:[]}),b&&(d=R[f].tweens,d[e=d.length]=b,c))for(;--e>-1;)d[e]===b&&d.splice(e,1);return R[f].tweens},$=function(a,b,c,d){var e,f,g=a.vars.onOverwrite;return g&&(e=g(a,b,c,d)),g=G.onOverwrite,g&&(f=g(a,b,c,d)),!1!==e&&!1!==f},_=function(a,b,c,d,e){var f,g,h,i;if(1===d||d>=4){for(i=e.length,f=0;i>f;f++)if((h=e[f])!==b)h._gc||h._kill(null,a,b)&&(g=!0);else if(5===d)break;return g}var j,k=b._startTime+m,l=[],n=0,o=0===b._duration;for(f=e.length;--f>-1;)(h=e[f])===b||h._gc||h._paused||(h._timeline!==b._timeline?(j=j||aa(b,0,o),0===aa(h,j,o)&&(l[n++]=h)):h._startTime<=k&&h._startTime+h.totalDuration()/h._timeScale>k&&((o||!h._initted)&&k-h._startTime<=2e-10||(l[n++]=h)));for(f=n;--f>-1;)if(h=l[f],2===d&&h._kill(c,a,b)&&(g=!0),2!==d||!h._firstPT&&h._initted){if(2!==d&&!$(h,b))continue;h._enabled(!1,!1)&&(g=!0)}return g},aa=function(a,b,c){for(var d=a._timeline,e=d._timeScale,f=a._startTime;d._timeline;){if(f+=d._startTime,e*=d._timeScale,d._paused)return-100;d=d._timeline}return f/=e,f>b?f-b:c&&f===b||!a._initted&&2*m>f-b?m:(f+=a.totalDuration()/a._timeScale/e)>b+m?0:f-b-m};h._init=function(){var a,b,c,d,e,f=this.vars,g=this._overwrittenProps,h=this._duration,i=!!f.immediateRender,j=f.ease;if(f.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),e={};for(d in f.startAt)e[d]=f.startAt[d];if(e.overwrite=!1,e.immediateRender=!0,e.lazy=i&&!1!==f.lazy,e.startAt=e.delay=null,this._startAt=G.to(this.target,0,e),i)if(this._time>0)this._startAt=null;else if(0!==h)return}else if(f.runBackwards&&0!==h)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(i=!1),c={};for(d in f)T[d]&&"autoCSS"!==d||(c[d]=f[d]);if(c.overwrite=0,c.data="isFromStart",c.lazy=i&&!1!==f.lazy,c.immediateRender=i,this._startAt=G.to(this.target,0,c),i){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=j=j?j instanceof w?j:"function"==typeof j?new w(j,f.easeParams):x[j]||G.defaultEase:G.defaultEase,f.easeParams instanceof Array&&j.config&&(this._ease=j.config.apply(j,f.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length;--a>-1;)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],g?g[a]:null)&&(b=!0);else b=this._initProps(this.target,this._propLookup,this._siblings,g);if(b&&G._onPluginEvent("_onInitAllProps",this),g&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),f.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=f.onUpdate,this._initted=!0},h._initProps=function(b,c,d,e){var f,g,h,i,j,k;if(null==b)return!1;K[b._gsTweenID]&&Y(),this.vars.css||b.style&&b!==a&&b.nodeType&&Q.css&&!1!==this.vars.autoCSS&&I(this.vars,b);for(f in this.vars)if(k=this.vars[f],T[f])k&&(k instanceof Array||k.push&&p(k))&&-1!==k.join("").indexOf("{self}")&&(this.vars[f]=k=this._swapSelfInParams(k,this));else if(Q[f]&&(i=new Q[f])._onInitTween(b,this.vars[f],this)){for(this._firstPT=j={_next:this._firstPT,t:i,p:"setRatio",s:0,c:1,f:1,n:f,pg:1,pr:i._priority},g=i._overwriteProps.length;--g>-1;)c[i._overwriteProps[g]]=this._firstPT;(i._priority||i._onInitAllProps)&&(h=!0),(i._onDisable||i._onEnable)&&(this._notifyPluginsOfEnabled=!0),j._next&&(j._next._prev=j)}else c[f]=O.call(this,b,f,"get",k,f,0,null,this.vars.stringFilter);return e&&this._kill(e,b)?this._initProps(b,c,d,e):this._overwrite>1&&this._firstPT&&d.length>1&&_(b,this,c,this._overwrite,d)?(this._kill(c,b),this._initProps(b,c,d,e)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(K[b._gsTweenID]=!0),h)},h.render=function(a,b,c){var d,e,f,g,h=this._time,i=this._duration,j=this._rawPrevTime;if(a>=i-1e-7)this._totalTime=this._time=i,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(d=!0,e="onComplete",c=c||this._timeline.autoRemoveChildren),0===i&&(this._initted||!this.vars.lazy||c)&&(this._startTime===this._timeline._duration&&(a=0),(0>j||0>=a&&a>=-1e-7||j===m&&"isPause"!==this.data)&&j!==a&&(c=!0,j>m&&(e="onReverseComplete")),this._rawPrevTime=g=!b||a||j===a?a:m);else if(1e-7>a)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==h||0===i&&j>0)&&(e="onReverseComplete",d=this._reversed),0>a&&(this._active=!1,0===i&&(this._initted||!this.vars.lazy||c)&&(j>=0&&(j!==m||"isPause"!==this.data)&&(c=!0),this._rawPrevTime=g=!b||a||j===a?a:m)),this._initted||(c=!0);else if(this._totalTime=this._time=a,this._easeType){var k=a/i,l=this._easeType,n=this._easePower;(1===l||3===l&&k>=.5)&&(k=1-k),3===l&&(k*=2),1===n?k*=k:2===n?k*=k*k:3===n?k*=k*k*k:4===n&&(k*=k*k*k*k),this.ratio=1===l?1-k:2===l?k:.5>a/i?k/2:1-k/2}else this.ratio=this._ease.getRatio(a/i);if(this._time!==h||c){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!c&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=h,this._rawPrevTime=j,J.push(this),void(this._lazy=[a,b]);this._time&&!d?this.ratio=this._ease.getRatio(this._time/i):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==h&&a>=0&&(this._active=!0),0===h&&(this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._time||0===i)&&(b||this._callback("onStart"))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&-1e-4!==a&&this._startAt.render(a,b,c),b||(this._time!==h||d)&&this._callback("onUpdate")),e&&(!this._gc||c)&&(0>a&&this._startAt&&!this._onUpdate&&-1e-4!==a&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this._callback(e),0===i&&this._rawPrevTime===m&&g!==m&&(this._rawPrevTime=0))}},h._kill=function(a,b,d){if("all"===a&&(a=null),null==a&&(null==b||b===this.target))return this._lazy=!1,this._enabled(!1,!1);b="string"!=typeof b?b||this._targets||this.target:G.selector(b)||b;var e,f,g,h,i,j,k,l,m,n=d&&this._time&&d._startTime===this._startTime&&this._timeline===d._timeline;if((p(b)||H(b))&&"number"!=typeof b[0])for(e=b.length;--e>-1;)this._kill(a,b[e],d)&&(j=!0);else{if(this._targets){for(e=this._targets.length;--e>-1;)if(b===this._targets[e]){i=this._propLookup[e]||{},this._overwrittenProps=this._overwrittenProps||[],f=this._overwrittenProps[e]=a?this._overwrittenProps[e]||{}:"all";break}}else{if(b!==this.target)return!1;i=this._propLookup,f=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(i){if(k=a||i,l=a!==f&&"all"!==f&&a!==i&&("object"!=(void 0===a?"undefined":c(a))||!a._tempKill),d&&(G.onOverwrite||this.vars.onOverwrite)){for(g in k)i[g]&&(m||(m=[]),m.push(g));if((m||!a)&&!$(this,d,b,m))return!1}for(g in k)(h=i[g])&&(n&&(h.f?h.t[h.p](h.s):h.t[h.p]=h.s,j=!0),h.pg&&h.t._kill(k)&&(j=!0),h.pg&&0!==h.t._overwriteProps.length||(h._prev?h._prev._next=h._next:h===this._firstPT&&(this._firstPT=h._next),h._next&&(h._next._prev=h._prev),h._next=h._prev=null),delete i[g]),l&&(f[g]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return j},h.invalidate=function(){return this._notifyPluginsOfEnabled&&G._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],E.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-m,this.render(-this._delay)),this},h._enabled=function(a,b){if(j||i.wake(),a&&this._gc){var c,d=this._targets;if(d)for(c=d.length;--c>-1;)this._siblings[c]=Z(d[c],this,!0);else this._siblings=Z(this.target,this,!0)}return E.prototype._enabled.call(this,a,b),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&G._onPluginEvent(a?"_onEnable":"_onDisable",this)},G.to=function(a,b,c){return new G(a,b,c)},G.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new G(a,b,c)},G.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new G(a,b,d)},G.delayedCall=function(a,b,c,d,e){return new G(b,0,{delay:a,onComplete:b,onCompleteParams:c,callbackScope:d,onReverseComplete:b,onReverseCompleteParams:c,immediateRender:!1,lazy:!1,useFrames:e,overwrite:0})},G.set=function(a,b){return new G(a,0,b)},G.getTweensOf=function(a,b){if(null==a)return[];a="string"!=typeof a?a:G.selector(a)||a;var c,d,e,f;if((p(a)||H(a))&&"number"!=typeof a[0]){for(c=a.length,d=[];--c>-1;)d=d.concat(G.getTweensOf(a[c],b));for(c=d.length;--c>-1;)for(f=d[c],e=c;--e>-1;)f===d[e]&&d.splice(c,1)}else for(d=Z(a).concat(),c=d.length;--c>-1;)(d[c]._gc||b&&!d[c].isActive())&&d.splice(c,1);return d},G.killTweensOf=G.killDelayedCallsTo=function(a,b,d){"object"==(void 0===b?"undefined":c(b))&&(d=b,b=!1);for(var e=G.getTweensOf(a,b),f=e.length;--f>-1;)e[f]._kill(d,a)};var ba=t("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(","),this._propName=this._overwriteProps[0],this._priority=b||0,this._super=ba.prototype},!0);if(h=ba.prototype,ba.version="1.18.0",ba.API=2,h._firstPT=null,h._addTween=O,h.setRatio=M,h._kill=function(a){var b,c=this._overwriteProps,d=this._firstPT;if(null!=a[this._propName])this._overwriteProps=[];else for(b=c.length;--b>-1;)null!=a[c[b]]&&c.splice(b,1);for(;d;)null!=a[d.n]&&(d._next&&(d._next._prev=d._prev),d._prev?(d._prev._next=d._next,d._prev=null):this._firstPT===d&&(this._firstPT=d._next)),d=d._next;return!1},h._roundProps=function(a,b){for(var c=this._firstPT;c;)(a[this._propName]||null!=c.n&&a[c.n.split(this._propName+"_").join("")])&&(c.r=b),c=c._next},G._onPluginEvent=function(a,b){var c,d,e,f,g,h=b._firstPT;if("_onInitAllProps"===a){for(;h;){for(g=h._next,d=e;d&&d.pr>h.pr;)d=d._next;(h._prev=d?d._prev:f)?h._prev._next=h:e=h,(h._next=d)?d._prev=h:f=h,h=g}h=b._firstPT=e}for(;h;)h.pg&&"function"==typeof h.t[a]&&h.t[a]()&&(c=!0),h=h._next;return c},ba.activate=function(a){for(var b=a.length;--b>-1;)a[b].API===ba.API&&(Q[(new a[b])._propName]=a[b]);return!0},s.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var b,c=a.propName,d=a.priority||0,e=a.overwriteProps,f={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},g=t("plugins."+c.charAt(0).toUpperCase()+c.substr(1)+"Plugin",function(){ba.call(this,c,d),this._overwriteProps=e||[]},!0===a.global),h=g.prototype=new ba(c);h.constructor=g,g.API=a.API;for(b in f)"function"==typeof a[b]&&(h[f[b]]=a[b]);return g.version=a.version,ba.activate([g]),g},f=a._gsQueue){for(g=0;g<f.length;g++)f[g]();for(h in q)q[h].func||a.console.log("GSAP encountered missing dependency: com.greensock."+h)}j=!1}}(void 0!==b&&b.exports&&void 0!==a?a:window)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],416:[function(a,b,c){(function(a){"use strict";var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(a,d){var e={},f=a.document,g=a.GreenSockGlobals=a.GreenSockGlobals||a;if(g.TweenLite)return g.TweenLite;var h,i,j,k,l,m=function(a){var b,c=a.split("."),d=g;for(b=0;b<c.length;b++)d[c[b]]=d=d[c[b]]||{};return d},n=m("com.greensock"),o=1e-10,p=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},q=function(){},r=function(){var a=Object.prototype.toString,b=a.call([]);return function(d){return null!=d&&(d instanceof Array||"object"==(void 0===d?"undefined":c(d))&&!!d.push&&a.call(d)===b)}}(),s={},t=function c(f,h,i,j){this.sc=s[f]?s[f].sc:[],s[f]=this,this.gsClass=null,this.func=i;var k=[];this.check=function(l){for(var n,o,p,q,r=h.length,t=r;--r>-1;)(n=s[h[r]]||new c(h[r],[])).gsClass?(k[r]=n.gsClass,t--):l&&n.sc.push(this);if(0===t&&i){if(o=("com.greensock."+f).split("."),p=o.pop(),q=m(o.join("."))[p]=this.gsClass=i.apply(i,k),j)if(g[p]=e[p]=q,void 0!==b&&b.exports)if(f===d){b.exports=e[d]=q;for(r in e)q[r]=e[r]}else e[d]&&(e[d][p]=q);else"function"==typeof define&&define.amd&&define((a.GreenSockAMDPath?a.GreenSockAMDPath+"/":"")+f.split(".").pop(),[],function(){return q});for(r=0;r<this.sc.length;r++)this.sc[r].check()}},this.check(!0)},u=a._gsDefine=function(a,b,c,d){return new t(a,b,c,d)},v=n._class=function(a,b,c){return b=b||function(){},u(a,[],function(){return b},c),b};u.globals=g;var w=[0,0,1,1],x=v("easing.Ease",function(a,b,c,d){this._func=a,this._type=c||0,this._power=d||0,this._params=b?w.concat(b):w},!0),y=x.map={},z=x.register=function(a,b,c,d){for(var e,f,g,h,i=b.split(","),j=i.length,k=(c||"easeIn,easeOut,easeInOut").split(",");--j>-1;)for(f=i[j],e=d?v("easing."+f,null,!0):n.easing[f]||{},g=k.length;--g>-1;)h=k[g],y[f+"."+h]=y[h+f]=e[h]=a.getRatio?a:a[h]||new a};for(j=x.prototype,j._calcEnd=!1,j.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var b=this._type,c=this._power,d=1===b?1-a:2===b?a:.5>a?2*a:2*(1-a);return 1===c?d*=d:2===c?d*=d*d:3===c?d*=d*d*d:4===c&&(d*=d*d*d*d),1===b?1-d:2===b?d:.5>a?d/2:1-d/2},h=["Linear","Quad","Cubic","Quart","Quint,Strong"],i=h.length;--i>-1;)j=h[i]+",Power"+i,z(new x(null,null,1,i),j,"easeOut",!0),z(new x(null,null,2,i),j,"easeIn"+(0===i?",easeNone":"")),z(new x(null,null,3,i),j,"easeInOut");y.linear=n.easing.Linear.easeIn,y.swing=n.easing.Quad.easeInOut;var A=v("events.EventDispatcher",function(a){this._listeners={},this._eventTarget=a||this});j=A.prototype,
j.addEventListener=function(a,b,c,d,e){e=e||0;var f,g,h=this._listeners[a],i=0;for(this!==k||l||k.wake(),null==h&&(this._listeners[a]=h=[]),g=h.length;--g>-1;)f=h[g],f.c===b&&f.s===c?h.splice(g,1):0===i&&f.pr<e&&(i=g+1);h.splice(i,0,{c:b,s:c,up:d,pr:e})},j.removeEventListener=function(a,b){var c,d=this._listeners[a];if(d)for(c=d.length;--c>-1;)if(d[c].c===b)return void d.splice(c,1)},j.dispatchEvent=function(a){var b,c,d,e=this._listeners[a];if(e)for(b=e.length,b>1&&(e=e.slice(0)),c=this._eventTarget;--b>-1;)(d=e[b])&&(d.up?d.c.call(d.s||c,{type:a,target:c}):d.c.call(d.s||c))};var B=a.requestAnimationFrame,C=a.cancelAnimationFrame,D=Date.now||function(){return(new Date).getTime()},E=D();for(h=["ms","moz","webkit","o"],i=h.length;--i>-1&&!B;)B=a[h[i]+"RequestAnimationFrame"],C=a[h[i]+"CancelAnimationFrame"]||a[h[i]+"CancelRequestAnimationFrame"];v("Ticker",function(a,b){var c,d,e,g,h,i=this,j=D(),m=!(!1===b||!B)&&"auto",n=500,p=33,r=function a(b){var f,k,l=D()-E;l>n&&(j+=l-p),E+=l,i.time=(E-j)/1e3,f=i.time-h,(!c||f>0||!0===b)&&(i.frame++,h+=f+(f>=g?.004:g-f),k=!0),!0!==b&&(e=d(a)),k&&i.dispatchEvent("tick")};A.call(i),i.time=i.frame=0,i.tick=function(){r(!0)},i.lagSmoothing=function(a,b){return arguments.length?(n=a||1/o,void(p=Math.min(b,n,0))):1/o>n},i.sleep=function(){null!=e&&(m&&C?C(e):clearTimeout(e),d=q,e=null,i===k&&(l=!1))},i.wake=function(a){null!==e?i.sleep():a?j+=-E+(E=D()):i.frame>10&&(E=D()-n+5),d=0===c?q:m&&B?B:function(a){return setTimeout(a,1e3*(h-i.time)+1|0)},i===k&&(l=!0),r(2)},i.fps=function(a){return arguments.length?(c=a,g=1/(c||60),h=this.time+g,void i.wake()):c},i.useRAF=function(a){return arguments.length?(i.sleep(),m=a,void i.fps(c)):m},i.fps(a),setTimeout(function(){"auto"===m&&i.frame<5&&"hidden"!==(f||{}).visibilityState&&i.useRAF(!1)},1500)}),j=n.Ticker.prototype=new n.events.EventDispatcher,j.constructor=n.Ticker;var F=v("core.Animation",function(a,b){if(this.vars=b=b||{},this._duration=this._totalDuration=a||0,this._delay=Number(b.delay)||0,this._timeScale=1,this._active=!0===b.immediateRender,this.data=b.data,this._reversed=!0===b.reversed,Y){l||k.wake();var c=this.vars.useFrames?X:Y;c.add(this,c._time),this.vars.paused&&this.paused(!0)}});k=F.ticker=new n.Ticker,j=F.prototype,j._dirty=j._gc=j._initted=j._paused=!1,j._totalTime=j._time=0,j._rawPrevTime=-1,j._next=j._last=j._onUpdate=j._timeline=j.timeline=null,j._paused=!1;(function a(){l&&D()-E>2e3&&("hidden"!==(f||{}).visibilityState||!k.lagSmoothing())&&k.wake();var b=setTimeout(a,2e3);b.unref&&b.unref()})(),j.play=function(a,b){return null!=a&&this.seek(a,b),this.reversed(!1).paused(!1)},j.pause=function(a,b){return null!=a&&this.seek(a,b),this.paused(!0)},j.resume=function(a,b){return null!=a&&this.seek(a,b),this.paused(!1)},j.seek=function(a,b){return this.totalTime(Number(a),!1!==b)},j.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,!1!==b,!0)},j.reverse=function(a,b){return null!=a&&this.seek(a||this.totalDuration(),b),this.reversed(!0).paused(!1)},j.render=function(a,b,c){},j.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},j.isActive=function(){var a,b=this._timeline,c=this._startTime;return!b||!this._gc&&!this._paused&&b.isActive()&&(a=b.rawTime(!0))>=c&&a<c+this.totalDuration()/this._timeScale-1e-7},j._enabled=function(a,b){return l||k.wake(),this._gc=!a,this._active=this.isActive(),!0!==b&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,!0)),!1},j._kill=function(a,b){return this._enabled(!1,!1)},j.kill=function(a,b){return this._kill(a,b),this},j._uncache=function(a){for(var b=a?this:this.timeline;b;)b._dirty=!0,b=b.timeline;return this},j._swapSelfInParams=function(a){for(var b=a.length,c=a.concat();--b>-1;)"{self}"===a[b]&&(c[b]=this);return c},j._callback=function(a){var b=this.vars,c=b[a],d=b[a+"Params"],e=b[a+"Scope"]||b.callbackScope||this;switch(d?d.length:0){case 0:c.call(e);break;case 1:c.call(e,d[0]);break;case 2:c.call(e,d[0],d[1]);break;default:c.apply(e,d)}},j.eventCallback=function(a,b,c,d){if("on"===(a||"").substr(0,2)){var e=this.vars;if(1===arguments.length)return e[a];null==b?delete e[a]:(e[a]=b,e[a+"Params"]=r(c)&&-1!==c.join("").indexOf("{self}")?this._swapSelfInParams(c):c,e[a+"Scope"]=d),"onUpdate"===a&&(this._onUpdate=b)}return this},j.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay},j.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==a&&this.totalTime(this._totalTime*(a/this._duration),!0),this):(this._dirty=!1,this._duration)},j.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration},j.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,b)):this._time},j.totalTime=function(a,b,c){if(l||k.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>a&&!c&&(a+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var d=this._totalDuration,e=this._timeline;if(a>d&&!c&&(a=d),this._startTime=(this._paused?this._pauseTime:e._time)-(this._reversed?d-a:a)/this._timeScale,e._dirty||this._uncache(!1),e._timeline)for(;e._timeline;)e._timeline._time!==(e._startTime+e._totalTime)/e._timeScale&&e.totalTime(e._totalTime,!0),e=e._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==a||0===this._duration)&&(K.length&&$(),this.render(a,b,!1),K.length&&$())}return this},j.progress=j.totalProgress=function(a,b){var c=this.duration();return arguments.length?this.totalTime(c*a,b):c?this._time/c:this.ratio},j.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime},j.endTime=function(a){return this._startTime+(0!=a?this.totalDuration():this.duration())/this._timeScale},j.timeScale=function(a){if(!arguments.length)return this._timeScale;var b,c;for(a=a||o,this._timeline&&this._timeline.smoothChildTiming&&(b=this._pauseTime,c=b||0===b?b:this._timeline.totalTime(),this._startTime=c-(c-this._startTime)*this._timeScale/a),this._timeScale=a,c=this.timeline;c&&c.timeline;)c._dirty=!0,c.totalDuration(),c=c.timeline;return this},j.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},j.paused=function(a){if(!arguments.length)return this._paused;var b,c,d=this._timeline;return a!=this._paused&&d&&(l||a||k.wake(),b=d.rawTime(),c=b-this._pauseTime,!a&&d.smoothChildTiming&&(this._startTime+=c,this._uncache(!1)),this._pauseTime=a?b:null,this._paused=a,this._active=this.isActive(),!a&&0!==c&&this._initted&&this.duration()&&(b=d.smoothChildTiming?this._totalTime:(b-this._startTime)/this._timeScale,this.render(b,b===this._totalTime,!0))),this._gc&&!a&&this._enabled(!0,!1),this};var G=v("core.SimpleTimeline",function(a){F.call(this,0,a),this.autoRemoveChildren=this.smoothChildTiming=!0});j=G.prototype=new F,j.constructor=G,j.kill()._gc=!1,j._first=j._last=j._recent=null,j._sortChildren=!1,j.add=j.insert=function(a,b,c,d){var e,f;if(a._startTime=Number(b||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=this.rawTime()-(a._timeline.rawTime()-a._pauseTime)),a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),e=this._last,this._sortChildren)for(f=a._startTime;e&&e._startTime>f;)e=e._prev;return e?(a._next=e._next,e._next=a):(a._next=this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=e,this._recent=a,this._timeline&&this._uncache(!0),this},j._remove=function(a,b){return a.timeline===this&&(b||a._enabled(!1,!0),a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),a._next=a._prev=a.timeline=null,a===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},j.render=function(a,b,c){var d,e=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;e;)d=e._next,(e._active||a>=e._startTime&&!e._paused&&!e._gc)&&(e._reversed?e.render((e._dirty?e.totalDuration():e._totalDuration)-(a-e._startTime)*e._timeScale,b,c):e.render((a-e._startTime)*e._timeScale,b,c)),e=d},j.rawTime=function(){return l||k.wake(),this._totalTime};var H=v("TweenLite",function(b,c,d){if(F.call(this,c,d),this.render=H.prototype.render,null==b)throw"Cannot tween a null target.";this.target=b="string"!=typeof b?b:H.selector(b)||b;var e,f,g,h=b.jquery||b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType),i=this.vars.overwrite;if(this._overwrite=i=null==i?W[H.defaultOverwrite]:"number"==typeof i?i>>0:W[i],(h||b instanceof Array||b.push&&r(b))&&"number"!=typeof b[0])for(this._targets=g=p(b),this._propLookup=[],this._siblings=[],e=0;e<g.length;e++)f=g[e],f?"string"!=typeof f?f.length&&f!==a&&f[0]&&(f[0]===a||f[0].nodeType&&f[0].style&&!f.nodeType)?(g.splice(e--,1),this._targets=g=g.concat(p(f))):(this._siblings[e]=_(f,this,!1),1===i&&this._siblings[e].length>1&&ba(f,this,null,1,this._siblings[e])):"string"==typeof(f=g[e--]=H.selector(f))&&g.splice(e+1,1):g.splice(e--,1);else this._propLookup={},this._siblings=_(b,this,!1),1===i&&this._siblings.length>1&&ba(b,this,null,1,this._siblings);(this.vars.immediateRender||0===c&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-o,this.render(Math.min(0,-this._delay)))},!0),I=function(b){return b&&b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType)},J=function(a,b){var c,d={};for(c in a)V[c]||c in b&&"transform"!==c&&"x"!==c&&"y"!==c&&"width"!==c&&"height"!==c&&"className"!==c&&"border"!==c||!(!S[c]||S[c]&&S[c]._autoCSS)||(d[c]=a[c],delete a[c]);a.css=d};j=H.prototype=new F,j.constructor=H,j.kill()._gc=!1,j.ratio=0,j._firstPT=j._targets=j._overwrittenProps=j._startAt=null,j._notifyPluginsOfEnabled=j._lazy=!1,H.version="2.0.0",H.defaultEase=j._ease=new x(null,null,1,1),H.defaultOverwrite="auto",H.ticker=k,H.autoSleep=120,H.lagSmoothing=function(a,b){k.lagSmoothing(a,b)},H.selector=a.$||a.jQuery||function(b){var c=a.$||a.jQuery;return c?(H.selector=c,c(b)):(f||(f=a.document),f?f.querySelectorAll?f.querySelectorAll(b):f.getElementById("#"===b.charAt(0)?b.substr(1):b):b)};var K=[],L={},M=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,N=/[\+-]=-?[\.\d]/,O=function(a){for(var b,c=this._firstPT;c;)b=c.blob?1===a&&null!=this.end?this.end:a?this.join(""):this.start:c.c*a+c.s,c.m?b=c.m.call(this._tween,b,this._target||c.t,this._tween):1e-6>b&&b>-1e-6&&!c.blob&&(b=0),c.f?c.fp?c.t[c.p](c.fp,b):c.t[c.p](b):c.t[c.p]=b,c=c._next},P=function(a,b,c,d){var e,f,g,h,i,j,k,l=[],m=0,n="",o=0;for(l.start=a,l.end=b,a=l[0]=a+"",b=l[1]=b+"",c&&(c(l),a=l[0],b=l[1]),l.length=0,e=a.match(M)||[],f=b.match(M)||[],d&&(d._next=null,d.blob=1,l._firstPT=l._applyPT=d),i=f.length,h=0;i>h;h++)k=f[h],j=b.substr(m,b.indexOf(k,m)-m),n+=j||!h?j:",",m+=j.length,o?o=(o+1)%5:"rgba("===j.substr(-5)&&(o=1),k===e[h]||e.length<=h?n+=k:(n&&(l.push(n),n=""),g=parseFloat(e[h]),l.push(g),l._firstPT={_next:l._firstPT,t:l,p:l.length-1,s:g,c:("="===k.charAt(1)?parseInt(k.charAt(0)+"1",10)*parseFloat(k.substr(2)):parseFloat(k)-g)||0,f:0,m:o&&4>o?Math.round:0}),m+=k.length;return n+=b.substr(m),n&&l.push(n),l.setRatio=O,N.test(b)&&(l.end=null),l},Q=function(a,b,d,e,f,g,h,i,j){"function"==typeof e&&(e=e(j||0,a));var k,l=c(a[b]),m="function"!==l?"":b.indexOf("set")||"function"!=typeof a["get"+b.substr(3)]?b:"get"+b.substr(3),n="get"!==d?d:m?h?a[m](h):a[m]():a[b],o="string"==typeof e&&"="===e.charAt(1),p={t:a,p:b,s:n,f:"function"===l,pg:0,n:f||b,m:g?"function"==typeof g?g:Math.round:0,pr:0,c:o?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-n||0};return("number"!=typeof n||"number"!=typeof e&&!o)&&(h||isNaN(n)||!o&&isNaN(e)||"boolean"==typeof n||"boolean"==typeof e?(p.fp=h,k=P(n,o?parseFloat(p.s)+p.c+(p.s+"").replace(/[0-9\-\.]/g,""):e,i||H.defaultStringFilter,p),p={t:k,p:"setRatio",s:0,c:1,f:2,pg:0,n:f||b,pr:0,m:0}):(p.s=parseFloat(n),o||(p.c=parseFloat(e)-p.s||0))),p.c?((p._next=this._firstPT)&&(p._next._prev=p),this._firstPT=p,p):void 0},R=H._internals={isArray:r,isSelector:I,lazyTweens:K,blobDif:P},S=H._plugins={},T=R.tweenLookup={},U=0,V=R.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},W={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},X=F._rootFramesTimeline=new G,Y=F._rootTimeline=new G,Z=30,$=R.lazyRender=function(){var a,b=K.length;for(L={};--b>-1;)(a=K[b])&&!1!==a._lazy&&(a.render(a._lazy[0],a._lazy[1],!0),a._lazy=!1);K.length=0};Y._startTime=k.time,X._startTime=k.frame,Y._active=X._active=!0,setTimeout($,1),F._updateRoot=H.render=function(){var a,b,c;if(K.length&&$(),Y.render((k.time-Y._startTime)*Y._timeScale,!1,!1),X.render((k.frame-X._startTime)*X._timeScale,!1,!1),K.length&&$(),k.frame>=Z){Z=k.frame+(parseInt(H.autoSleep,10)||120);for(c in T){for(b=T[c].tweens,a=b.length;--a>-1;)b[a]._gc&&b.splice(a,1);0===b.length&&delete T[c]}if((!(c=Y._first)||c._paused)&&H.autoSleep&&!X._first&&1===k._listeners.tick.length){for(;c&&c._paused;)c=c._next;c||k.sleep()}}},k.addEventListener("tick",F._updateRoot);var _=function(a,b,c){var d,e,f=a._gsTweenID;if(T[f||(a._gsTweenID=f="t"+U++)]||(T[f]={target:a,tweens:[]}),b&&(d=T[f].tweens,d[e=d.length]=b,c))for(;--e>-1;)d[e]===b&&d.splice(e,1);return T[f].tweens},aa=function(a,b,c,d){var e,f,g=a.vars.onOverwrite;return g&&(e=g(a,b,c,d)),g=H.onOverwrite,g&&(f=g(a,b,c,d)),!1!==e&&!1!==f},ba=function(a,b,c,d,e){var f,g,h,i;if(1===d||d>=4){for(i=e.length,f=0;i>f;f++)if((h=e[f])!==b)h._gc||h._kill(null,a,b)&&(g=!0);else if(5===d)break;return g}var j,k=b._startTime+o,l=[],m=0,n=0===b._duration;for(f=e.length;--f>-1;)(h=e[f])===b||h._gc||h._paused||(h._timeline!==b._timeline?(j=j||ca(b,0,n),0===ca(h,j,n)&&(l[m++]=h)):h._startTime<=k&&h._startTime+h.totalDuration()/h._timeScale>k&&((n||!h._initted)&&k-h._startTime<=2e-10||(l[m++]=h)));for(f=m;--f>-1;)if(h=l[f],2===d&&h._kill(c,a,b)&&(g=!0),2!==d||!h._firstPT&&h._initted){if(2!==d&&!aa(h,b))continue;h._enabled(!1,!1)&&(g=!0)}return g},ca=function(a,b,c){for(var d=a._timeline,e=d._timeScale,f=a._startTime;d._timeline;){if(f+=d._startTime,e*=d._timeScale,d._paused)return-100;d=d._timeline}return f/=e,f>b?f-b:c&&f===b||!a._initted&&2*o>f-b?o:(f+=a.totalDuration()/a._timeScale/e)>b+o?0:f-b-o};j._init=function(){var a,b,c,d,e,f,g=this.vars,h=this._overwrittenProps,i=this._duration,j=!!g.immediateRender,k=g.ease;if(g.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),e={};for(d in g.startAt)e[d]=g.startAt[d];if(e.data="isStart",e.overwrite=!1,e.immediateRender=!0,e.lazy=j&&!1!==g.lazy,e.startAt=e.delay=null,e.onUpdate=g.onUpdate,e.onUpdateParams=g.onUpdateParams,e.onUpdateScope=g.onUpdateScope||g.callbackScope||this,this._startAt=H.to(this.target||{},0,e),j)if(this._time>0)this._startAt=null;else if(0!==i)return}else if(g.runBackwards&&0!==i)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(j=!1),c={};for(d in g)V[d]&&"autoCSS"!==d||(c[d]=g[d]);if(c.overwrite=0,c.data="isFromStart",c.lazy=j&&!1!==g.lazy,c.immediateRender=j,this._startAt=H.to(this.target,0,c),j){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=k=k?k instanceof x?k:"function"==typeof k?new x(k,g.easeParams):y[k]||H.defaultEase:H.defaultEase,g.easeParams instanceof Array&&k.config&&(this._ease=k.config.apply(k,g.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(f=this._targets.length,a=0;f>a;a++)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],h?h[a]:null,a)&&(b=!0);else b=this._initProps(this.target,this._propLookup,this._siblings,h,0);if(b&&H._onPluginEvent("_onInitAllProps",this),h&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),g.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=g.onUpdate,this._initted=!0},j._initProps=function(b,c,d,e,f){var g,h,i,j,k,l;if(null==b)return!1;L[b._gsTweenID]&&$(),this.vars.css||b.style&&b!==a&&b.nodeType&&S.css&&!1!==this.vars.autoCSS&&J(this.vars,b);for(g in this.vars)if(l=this.vars[g],V[g])l&&(l instanceof Array||l.push&&r(l))&&-1!==l.join("").indexOf("{self}")&&(this.vars[g]=l=this._swapSelfInParams(l,this));else if(S[g]&&(j=new S[g])._onInitTween(b,this.vars[g],this,f)){for(this._firstPT=k={_next:this._firstPT,t:j,p:"setRatio",s:0,c:1,f:1,n:g,pg:1,pr:j._priority,m:0},h=j._overwriteProps.length;--h>-1;)c[j._overwriteProps[h]]=this._firstPT;(j._priority||j._onInitAllProps)&&(i=!0),(j._onDisable||j._onEnable)&&(this._notifyPluginsOfEnabled=!0),k._next&&(k._next._prev=k)}else c[g]=Q.call(this,b,g,"get",l,g,0,null,this.vars.stringFilter,f);return e&&this._kill(e,b)?this._initProps(b,c,d,e,f):this._overwrite>1&&this._firstPT&&d.length>1&&ba(b,this,c,this._overwrite,d)?(this._kill(c,b),this._initProps(b,c,d,e,f)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(L[b._gsTweenID]=!0),i)},j.render=function(a,b,c){var d,e,f,g,h=this._time,i=this._duration,j=this._rawPrevTime;if(a>=i-1e-7&&a>=0)this._totalTime=this._time=i,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(d=!0,e="onComplete",c=c||this._timeline.autoRemoveChildren),0===i&&(this._initted||!this.vars.lazy||c)&&(this._startTime===this._timeline._duration&&(a=0),(0>j||0>=a&&a>=-1e-7||j===o&&"isPause"!==this.data)&&j!==a&&(c=!0,j>o&&(e="onReverseComplete")),this._rawPrevTime=g=!b||a||j===a?a:o);else if(1e-7>a)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==h||0===i&&j>0)&&(e="onReverseComplete",d=this._reversed),0>a&&(this._active=!1,0===i&&(this._initted||!this.vars.lazy||c)&&(j>=0&&(j!==o||"isPause"!==this.data)&&(c=!0),this._rawPrevTime=g=!b||a||j===a?a:o)),(!this._initted||this._startAt&&this._startAt.progress())&&(c=!0);else if(this._totalTime=this._time=a,this._easeType){var k=a/i,l=this._easeType,m=this._easePower;(1===l||3===l&&k>=.5)&&(k=1-k),3===l&&(k*=2),1===m?k*=k:2===m?k*=k*k:3===m?k*=k*k*k:4===m&&(k*=k*k*k*k),this.ratio=1===l?1-k:2===l?k:.5>a/i?k/2:1-k/2}else this.ratio=this._ease.getRatio(a/i);if(this._time!==h||c){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!c&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=h,this._rawPrevTime=j,K.push(this),void(this._lazy=[a,b]);this._time&&!d?this.ratio=this._ease.getRatio(this._time/i):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==h&&a>=0&&(this._active=!0),0===h&&(this._startAt&&(a>=0?this._startAt.render(a,!0,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._time||0===i)&&(b||this._callback("onStart"))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&-1e-4!==a&&this._startAt.render(a,!0,c),b||(this._time!==h||d||c)&&this._callback("onUpdate")),e&&(!this._gc||c)&&(0>a&&this._startAt&&!this._onUpdate&&-1e-4!==a&&this._startAt.render(a,!0,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this._callback(e),0===i&&this._rawPrevTime===o&&g!==o&&(this._rawPrevTime=0))}},j._kill=function(a,b,d){if("all"===a&&(a=null),null==a&&(null==b||b===this.target))return this._lazy=!1,this._enabled(!1,!1);b="string"!=typeof b?b||this._targets||this.target:H.selector(b)||b;var e,f,g,h,i,j,k,l,m,n=d&&this._time&&d._startTime===this._startTime&&this._timeline===d._timeline;if((r(b)||I(b))&&"number"!=typeof b[0])for(e=b.length;--e>-1;)this._kill(a,b[e],d)&&(j=!0);else{if(this._targets){for(e=this._targets.length;--e>-1;)if(b===this._targets[e]){i=this._propLookup[e]||{},this._overwrittenProps=this._overwrittenProps||[],f=this._overwrittenProps[e]=a?this._overwrittenProps[e]||{}:"all";break}}else{if(b!==this.target)return!1;i=this._propLookup,f=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(i){if(k=a||i,l=a!==f&&"all"!==f&&a!==i&&("object"!=(void 0===a?"undefined":c(a))||!a._tempKill),d&&(H.onOverwrite||this.vars.onOverwrite)){for(g in k)i[g]&&(m||(m=[]),m.push(g));if((m||!a)&&!aa(this,d,b,m))return!1}for(g in k)(h=i[g])&&(n&&(h.f?h.t[h.p](h.s):h.t[h.p]=h.s,j=!0),h.pg&&h.t._kill(k)&&(j=!0),h.pg&&0!==h.t._overwriteProps.length||(h._prev?h._prev._next=h._next:h===this._firstPT&&(this._firstPT=h._next),h._next&&(h._next._prev=h._prev),h._next=h._prev=null),delete i[g]),l&&(f[g]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return j},j.invalidate=function(){return this._notifyPluginsOfEnabled&&H._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],F.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-o,this.render(Math.min(0,-this._delay))),this},j._enabled=function(a,b){if(l||k.wake(),a&&this._gc){var c,d=this._targets;if(d)for(c=d.length;--c>-1;)this._siblings[c]=_(d[c],this,!0);else this._siblings=_(this.target,this,!0)}return F.prototype._enabled.call(this,a,b),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&H._onPluginEvent(a?"_onEnable":"_onDisable",this)},H.to=function(a,b,c){return new H(a,b,c)},H.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new H(a,b,c)},H.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new H(a,b,d)},H.delayedCall=function(a,b,c,d,e){return new H(b,0,{delay:a,onComplete:b,onCompleteParams:c,callbackScope:d,onReverseComplete:b,onReverseCompleteParams:c,immediateRender:!1,lazy:!1,useFrames:e,overwrite:0})},H.set=function(a,b){return new H(a,0,b)},H.getTweensOf=function(a,b){if(null==a)return[];a="string"!=typeof a?a:H.selector(a)||a;var c,d,e,f;if((r(a)||I(a))&&"number"!=typeof a[0]){for(c=a.length,d=[];--c>-1;)d=d.concat(H.getTweensOf(a[c],b));for(c=d.length;--c>-1;)for(f=d[c],e=c;--e>-1;)f===d[e]&&d.splice(c,1)}else if(a._gsTweenID)for(d=_(a).concat(),c=d.length;--c>-1;)(d[c]._gc||b&&!d[c].isActive())&&d.splice(c,1);return d||[]},H.killTweensOf=H.killDelayedCallsTo=function(a,b,d){"object"==(void 0===b?"undefined":c(b))&&(d=b,b=!1);for(var e=H.getTweensOf(a,b),f=e.length;--f>-1;)e[f]._kill(d,a)};var da=v("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(","),this._propName=this._overwriteProps[0],this._priority=b||0,this._super=da.prototype},!0);if(j=da.prototype,da.version="1.19.0",da.API=2,j._firstPT=null,j._addTween=Q,j.setRatio=O,j._kill=function(a){var b,c=this._overwriteProps,d=this._firstPT;if(null!=a[this._propName])this._overwriteProps=[];else for(b=c.length;--b>-1;)null!=a[c[b]]&&c.splice(b,1);for(;d;)null!=a[d.n]&&(d._next&&(d._next._prev=d._prev),d._prev?(d._prev._next=d._next,d._prev=null):this._firstPT===d&&(this._firstPT=d._next)),d=d._next;return!1},j._mod=j._roundProps=function(a){for(var b,c=this._firstPT;c;)b=a[this._propName]||null!=c.n&&a[c.n.split(this._propName+"_").join("")],b&&"function"==typeof b&&(2===c.f?c.t._applyPT.m=b:c.m=b),c=c._next},H._onPluginEvent=function(a,b){var c,d,e,f,g,h=b._firstPT;if("_onInitAllProps"===a){for(;h;){for(g=h._next,d=e;d&&d.pr>h.pr;)d=d._next;(h._prev=d?d._prev:f)?h._prev._next=h:e=h,(h._next=d)?d._prev=h:f=h,h=g}h=b._firstPT=e}for(;h;)h.pg&&"function"==typeof h.t[a]&&h.t[a]()&&(c=!0),h=h._next;return c},da.activate=function(a){for(var b=a.length;--b>-1;)a[b].API===da.API&&(S[(new a[b])._propName]=a[b]);return!0},u.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var b,c=a.propName,d=a.priority||0,e=a.overwriteProps,f={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},g=v("plugins."+c.charAt(0).toUpperCase()+c.substr(1)+"Plugin",function(){da.call(this,c,d),this._overwriteProps=e||[]},!0===a.global),h=g.prototype=new da(c);h.constructor=g,g.API=a.API;for(b in f)"function"==typeof a[b]&&(h[f[b]]=a[b]);return g.version=a.version,da.activate([g]),g},h=a._gsQueue){for(i=0;i<h.length;i++)h[i]();for(j in s)s[j].func||a.console.log("GSAP encountered missing dependency: "+j)}l=!1}(void 0!==b&&b.exports&&void 0!==a?a:window,"TweenLite")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],417:[function(a,b,c){(function(c){"use strict";var d=void 0!==b&&b.exports&&void 0!==c?c:window;(d._gsQueue||(d._gsQueue=[])).push(function(){var a=180/Math.PI,b=[],c=[],e=[],f={},g=d._gsDefine.globals,h=function(a,b,c,d){c===d&&(c=d-(d-b)/1e6),a===b&&(b=a+(c-a)/1e6),this.a=a,this.b=b,this.c=c,this.d=d,this.da=d-a,this.ca=c-a,this.ba=b-a},i=function(a,b,c,d){var e={a:a},f={},g={},h={c:d},i=(a+b)/2,j=(b+c)/2,k=(c+d)/2,l=(i+j)/2,m=(j+k)/2,n=(m-l)/8;return e.b=i+(a-i)/4,f.b=l+n,e.c=f.a=(e.b+f.b)/2,f.c=g.a=(l+m)/2,g.b=m-n,h.b=k+(d-k)/4,g.c=h.a=(g.b+h.b)/2,[e,f,g,h]},j=function(a,d,f,g,h){var j,k,l,m,n,o,p,q,r,s,t,u,v,w=a.length-1,x=0,y=a[0].a;for(j=0;w>j;j++)n=a[x],k=n.a,l=n.d,m=a[x+1].d,h?(t=b[j],u=c[j],v=(u+t)*d*.25/(g?.5:e[j]||.5),o=l-(l-k)*(g?.5*d:0!==t?v/t:0),p=l+(m-l)*(g?.5*d:0!==u?v/u:0),q=l-(o+((p-o)*(3*t/(t+u)+.5)/4||0))):(o=l-(l-k)*d*.5,p=l+(m-l)*d*.5,q=l-(o+p)/2),o+=q,p+=q,n.c=r=o,n.b=0!==j?y:y=n.a+.6*(n.c-n.a),n.da=l-k,n.ca=r-k,n.ba=y-k,f?(s=i(k,y,r,l),a.splice(x,1,s[0],s[1],s[2],s[3]),x+=4):x++,y=p;n=a[x],n.b=y,n.c=y+.4*(n.d-y),n.da=n.d-n.a,n.ca=n.c-n.a,n.ba=y-n.a,f&&(s=i(n.a,y,n.c,n.d),a.splice(x,1,s[0],s[1],s[2],s[3]))},k=function(a,d,e,f){var g,i,j,k,l,m,n=[];if(f)for(a=[f].concat(a),i=a.length;--i>-1;)"string"==typeof(m=a[i][d])&&"="===m.charAt(1)&&(a[i][d]=f[d]+Number(m.charAt(0)+m.substr(2)));if(0>(g=a.length-2))return n[0]=new h(a[0][d],0,0,a[0][d]),n;for(i=0;g>i;i++)j=a[i][d],k=a[i+1][d],n[i]=new h(j,0,0,k),e&&(l=a[i+2][d],b[i]=(b[i]||0)+(k-j)*(k-j),c[i]=(c[i]||0)+(l-k)*(l-k));return n[i]=new h(a[i][d],0,0,a[i+1][d]),n},l=function(a,d,g,h,i,l){var m,n,o,p,q,r,s,t,u={},v=[],w=l||a[0];i="string"==typeof i?","+i+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==d&&(d=1);for(n in a[0])v.push(n);if(a.length>1){for(t=a[a.length-1],s=!0,m=v.length;--m>-1;)if(n=v[m],Math.abs(w[n]-t[n])>.05){s=!1;break}s&&(a=a.concat(),l&&a.unshift(l),a.push(a[1]),l=a[a.length-3])}for(b.length=c.length=e.length=0,m=v.length;--m>-1;)n=v[m],f[n]=-1!==i.indexOf(","+n+","),u[n]=k(a,n,f[n],l);for(m=b.length;--m>-1;)b[m]=Math.sqrt(b[m]),c[m]=Math.sqrt(c[m]);if(!h){for(m=v.length;--m>-1;)if(f[n])for(o=u[v[m]],r=o.length-1,p=0;r>p;p++)q=o[p+1].da/c[p]+o[p].da/b[p]||0,e[p]=(e[p]||0)+q*q;for(m=e.length;--m>-1;)e[m]=Math.sqrt(e[m])}for(m=v.length,p=g?4:1;--m>-1;)n=v[m],o=u[n],j(o,d,g,h,f[n]),s&&(o.splice(0,p),o.splice(o.length-p,p));return u},m=function(a,b,c){b=b||"soft";var d,e,f,g,i,j,k,l,m,n,o,p={},q="cubic"===b?3:2,r="soft"===b,s=[];if(r&&c&&(a=[c].concat(a)),null==a||a.length<q+1)throw"invalid Bezier data";for(m in a[0])s.push(m);for(j=s.length;--j>-1;){for(m=s[j],p[m]=i=[],n=0,l=a.length,k=0;l>k;k++)d=null==c?a[k][m]:"string"==typeof(o=a[k][m])&&"="===o.charAt(1)?c[m]+Number(o.charAt(0)+o.substr(2)):Number(o),r&&k>1&&l-1>k&&(i[n++]=(d+i[n-2])/2),i[n++]=d;for(l=n-q+1,n=0,k=0;l>k;k+=q)d=i[k],e=i[k+1],f=i[k+2],g=2===q?0:i[k+3],i[n++]=o=3===q?new h(d,e,f,g):new h(d,(2*e+d)/3,(2*e+f)/3,f);i.length=n}return p},n=function(a,b,c){for(var d,e,f,g,h,i,j,k,l,m,n,o=1/c,p=a.length;--p>-1;)for(m=a[p],f=m.a,g=m.d-f,h=m.c-f,i=m.b-f,d=e=0,k=1;c>=k;k++)j=o*k,l=1-j,d=e-(e=(j*j*g+3*l*(j*h+l*i))*j),n=p*c+k-1,b[n]=(b[n]||0)+d*d},o=function(a,b){b=b>>0||6;var c,d,e,f,g=[],h=[],i=0,j=0,k=b-1,l=[],m=[];for(c in a)n(a[c],g,b);for(e=g.length,d=0;e>d;d++)i+=Math.sqrt(g[d]),f=d%b,m[f]=i,f===k&&(j+=i,f=d/b>>0,l[f]=m,h[f]=j,i=0,m=[]);return{length:j,lengths:h,segments:l}},p=d._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(a,b,c){this._target=a,b instanceof Array&&(b={values:b}),this._func={},this._mod={},this._props=[],this._timeRes=null==b.timeResolution?6:parseInt(b.timeResolution,10);var d,e,f,g,h,i=b.values||[],j={},k=i[0],n=b.autoRotate||c.vars.orientToBezier;this._autoRotate=n?n instanceof Array?n:[["x","y","rotation",!0===n?0:Number(n)||0]]:null;for(d in k)this._props.push(d);for(f=this._props.length;--f>-1;)d=this._props[f],this._overwriteProps.push(d),e=this._func[d]="function"==typeof a[d],j[d]=e?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]():parseFloat(a[d]),h||j[d]!==i[0][d]&&(h=j);if(this._beziers="cubic"!==b.type&&"quadratic"!==b.type&&"soft"!==b.type?l(i,isNaN(b.curviness)?1:b.curviness,!1,"thruBasic"===b.type,b.correlate,h):m(i,b.type,j),this._segCount=this._beziers[d].length,this._timeRes){var p=o(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(n=this._autoRotate)for(this._initialRotations=[],n[0]instanceof Array||(this._autoRotate=n=[n]),f=n.length;--f>-1;){for(g=0;3>g;g++)d=n[f][g],this._func[d]="function"==typeof a[d]&&a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)];d=n[f][2],this._initialRotations[f]=(this._func[d]?this._func[d].call(this._target):this._target[d])||0,this._overwriteProps.push(d)}return this._startRatio=c.vars.runBackwards?1:0,!0},set:function(b){var c,d,e,f,g,h,i,j,k,l,m=this._segCount,n=this._func,o=this._target,p=b!==this._startRatio;if(this._timeRes){if(k=this._lengths,l=this._curSeg,b*=this._length,e=this._li,b>this._l2&&m-1>e){for(j=m-1;j>e&&(this._l2=k[++e])<=b;);this._l1=k[e-1],this._li=e,this._curSeg=l=this._segments[e],this._s2=l[this._s1=this._si=0]}else if(b<this._l1&&e>0){for(;e>0&&(this._l1=k[--e])>=b;);0===e&&b<this._l1?this._l1=0:e++,this._l2=k[e],this._li=e,this._curSeg=l=this._segments[e],this._s1=l[(this._si=l.length-1)-1]||0,this._s2=l[this._si]}if(c=e,b-=this._l1,e=this._si,b>this._s2&&e<l.length-1){for(j=l.length-1;j>e&&(this._s2=l[++e])<=b;);this._s1=l[e-1],this._si=e}else if(b<this._s1&&e>0){for(;e>0&&(this._s1=l[--e])>=b;);0===e&&b<this._s1?this._s1=0:e++,this._s2=l[e],this._si=e}h=(e+(b-this._s1)/(this._s2-this._s1))*this._prec||0}else c=0>b?0:b>=1?m-1:m*b>>0,h=(b-c*(1/m))*m;for(d=1-h,e=this._props.length;--e>-1;)f=this._props[e],g=this._beziers[f][c],i=(h*h*g.da+3*d*(h*g.ca+d*g.ba))*h+g.a,this._mod[f]&&(i=this._mod[f](i,o)),n[f]?o[f](i):o[f]=i;if(this._autoRotate){var q,r,s,t,u,v,w,x=this._autoRotate;for(e=x.length;--e>-1;)f=x[e][2],v=x[e][3]||0,w=!0===x[e][4]?1:a,g=this._beziers[x[e][0]],q=this._beziers[x[e][1]],g&&q&&(g=g[c],q=q[c],r=g.a+(g.b-g.a)*h,t=g.b+(g.c-g.b)*h,r+=(t-r)*h,t+=(g.c+(g.d-g.c)*h-t)*h,s=q.a+(q.b-q.a)*h,u=q.b+(q.c-q.b)*h,s+=(u-s)*h,
u+=(q.c+(q.d-q.c)*h-u)*h,i=p?Math.atan2(u-s,t-r)*w+v:this._initialRotations[e],this._mod[f]&&(i=this._mod[f](i,o)),n[f]?o[f](i):o[f]=i)}}}),q=p.prototype;p.bezierThrough=l,p.cubicToQuadratic=i,p._autoCSS=!0,p.quadraticToCubic=function(a,b,c){return new h(a,(2*b+a)/3,(2*b+c)/3,c)},p._cssRegister=function(){var a=g.CSSPlugin;if(a){var b=a._internals,c=b._parseToProxy,d=b._setPluginRatio,e=b.CSSPropTween;b._registerComplexSpecialProp("bezier",{parser:function(a,b,f,g,h,i){b instanceof Array&&(b={values:b}),i=new p;var j,k,l,m=b.values,n=m.length-1,o=[],q={};if(0>n)return h;for(j=0;n>=j;j++)l=c(a,m[j],g,h,i,n!==j),o[j]=l.end;for(k in b)q[k]=b[k];return q.values=o,h=new e(a,"bezier",0,0,l.pt,2),h.data=l,h.plugin=i,h.setRatio=d,0===q.autoRotate&&(q.autoRotate=!0),!q.autoRotate||q.autoRotate instanceof Array||(j=!0===q.autoRotate?0:Number(q.autoRotate),q.autoRotate=null!=l.end.left?[["left","top","rotation",j,!1]]:null!=l.end.x&&[["x","y","rotation",j,!1]]),q.autoRotate&&(g._transform||g._enableTransforms(!1),l.autoRotate=g._target._gsTransform,l.proxy.rotation=l.autoRotate.rotation||0,g._overwriteProps.push("rotation")),i._onInitTween(l.proxy,q,g._tween),h}})}},q._mod=function(a){for(var b,c=this._overwriteProps,d=c.length;--d>-1;)(b=a[c[d]])&&"function"==typeof b&&(this._mod[c[d]]=b)},q._kill=function(a){var b,c,d=this._props;for(b in this._beziers)if(b in a)for(delete this._beziers[b],delete this._func[b],c=d.length;--c>-1;)d[c]===b&&d.splice(c,1);if(d=this._autoRotate)for(c=d.length;--c>-1;)a[d[c][2]]&&d.splice(c,1);return this._super._kill.call(this,a)}}),d._gsDefine&&d._gsQueue.pop()(),function(c){var e=function(){return(d.GreenSockGlobals||d).BezierPlugin};void 0!==b&&b.exports?(a("../TweenLite.min.js"),b.exports=e()):"function"==typeof define&&define.amd&&define(["TweenLite"],e)}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../TweenLite.min.js":416}],418:[function(a,b,c){(function(c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=void 0!==b&&b.exports&&void 0!==c?c:window;(e._gsQueue||(e._gsQueue=[])).push(function(){e._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(a,b){var c,f,g,h,i=function b(){a.call(this,"css"),this._overwriteProps.length=0,this.setRatio=b.prototype.setRatio},j=e._gsDefine.globals,k={},l=i.prototype=new a("css");l.constructor=i,i.version="1.20.5",i.API=2,i.defaultTransformPerspective=0,i.defaultSkewType="compensated",i.defaultSmoothOrigin=!0,l="px",i.suffixMap={top:l,right:l,bottom:l,left:l,width:l,height:l,fontSize:l,padding:l,margin:l,perspective:l,lineHeight:""};var m,n,o,p,q,r,s,t,u=/(?:\-|\.|\b)(\d|\.|e\-)+/g,v=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,w=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,x=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,y=/(?:\d|\-|\+|=|#|\.)*/g,z=/opacity *= *([^)]*)/i,A=/opacity:([^;]*)/i,B=/alpha\(opacity *=.+?\)/i,C=/^(rgb|hsl)/,D=/([A-Z])/g,E=/-([a-z])/gi,F=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,G=function(a,b){return b.toUpperCase()},H=/(?:Left|Right|Width)/i,I=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,J=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,K=/,(?=[^\)]*(?:\(|$))/gi,L=/[\s,\(]/i,M=Math.PI/180,N=180/Math.PI,O={},P={style:{}},Q=e.document||{createElement:function(){return P}},R=function(a,b){return Q.createElementNS?Q.createElementNS(b||"http://www.w3.org/1999/xhtml",a):Q.createElement(a)},S=R("div"),T=R("img"),U=i._internals={_specialProps:k},V=(e.navigator||{}).userAgent||"",W=function(){var a=V.indexOf("Android"),b=R("a");return o=-1!==V.indexOf("Safari")&&-1===V.indexOf("Chrome")&&(-1===a||parseFloat(V.substr(a+8,2))>3),q=o&&parseFloat(V.substr(V.indexOf("Version/")+8,2))<6,p=-1!==V.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(V)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(V))&&(r=parseFloat(RegExp.$1)),!!b&&(b.style.cssText="top:1px;opacity:.55;",/^0.55/.test(b.style.opacity))}(),X=function(a){return z.test("string"==typeof a?a:(a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Y=function(a){e.console},Z="",$="",_=function(a,b){b=b||S;var c,d,e=b.style;if(void 0!==e[a])return a;for(a=a.charAt(0).toUpperCase()+a.substr(1),c=["O","Moz","ms","Ms","Webkit"],d=5;--d>-1&&void 0===e[c[d]+a];);return d>=0?($=3===d?"ms":c[d],Z="-"+$.toLowerCase()+"-",$+a):null},aa=("undefined"!=typeof window?window:Q.defaultView||{getComputedStyle:function(){}}).getComputedStyle,ba=i.getStyle=function(a,b,c,d,e){var f;return W||"opacity"!==b?(!d&&a.style[b]?f=a.style[b]:(c=c||aa(a))?f=c[b]||c.getPropertyValue(b)||c.getPropertyValue(b.replace(D,"-$1").toLowerCase()):a.currentStyle&&(f=a.currentStyle[b]),null==e||f&&"none"!==f&&"auto"!==f&&"auto auto"!==f?f:e):X(a)},ca=U.convertToPixels=function(a,c,d,e,f){if("px"===e||!e&&"lineHeight"!==c)return d;if("auto"===e||!d)return 0;var g,h,j,k=H.test(c),l=a,m=S.style,n=0>d,o=1===d;if(n&&(d=-d),o&&(d*=100),"lineHeight"!==c||e)if("%"===e&&-1!==c.indexOf("border"))g=d/100*(k?a.clientWidth:a.clientHeight);else{if(m.cssText="border:0 solid red;position:"+ba(a,"position")+";line-height:0;","%"!==e&&l.appendChild&&"v"!==e.charAt(0)&&"rem"!==e)m[k?"borderLeftWidth":"borderTopWidth"]=d+e;else{if(l=a.parentNode||Q.body,-1!==ba(l,"display").indexOf("flex")&&(m.position="absolute"),h=l._gsCache,j=b.ticker.frame,h&&k&&h.time===j)return h.width*d/100;m[k?"width":"height"]=d+e}l.appendChild(S),g=parseFloat(S[k?"offsetWidth":"offsetHeight"]),l.removeChild(S),k&&"%"===e&&!1!==i.cacheWidths&&(h=l._gsCache=l._gsCache||{},h.time=j,h.width=g/d*100),0!==g||f||(g=ca(a,c,d,e,!0))}else h=aa(a).lineHeight,a.style.lineHeight=d,g=parseFloat(aa(a).lineHeight),a.style.lineHeight=h;return o&&(g/=100),n?-g:g},da=U.calculateOffset=function(a,b,c){if("absolute"!==ba(a,"position",c))return 0;var d="left"===b?"Left":"Top",e=ba(a,"margin"+d,c);return a["offset"+d]-(ca(a,b,parseFloat(e),e.replace(y,""))||0)},ea=function(a,b){var c,d,e,f={};if(b=b||aa(a,null))if(c=b.length)for(;--c>-1;)e=b[c],(-1===e.indexOf("-transform")||Fa===e)&&(f[e.replace(E,G)]=b.getPropertyValue(e));else for(c in b)(-1===c.indexOf("Transform")||Ea===c)&&(f[c]=b[c]);else if(b=a.currentStyle||a.style)for(c in b)"string"==typeof c&&void 0===f[c]&&(f[c.replace(E,G)]=b[c]);return W||(f.opacity=X(a)),d=Ta(a,b,!1),f.rotation=d.rotation,f.skewX=d.skewX,f.scaleX=d.scaleX,f.scaleY=d.scaleY,f.x=d.x,f.y=d.y,Ha&&(f.z=d.z,f.rotationX=d.rotationX,f.rotationY=d.rotationY,f.scaleZ=d.scaleZ),f.filters&&delete f.filters,f},fa=function(a,b,c,d,e){var f,g,h,i={},j=a.style;for(g in c)"cssText"!==g&&"length"!==g&&isNaN(g)&&(b[g]!==(f=c[g])||e&&e[g])&&-1===g.indexOf("Origin")&&("number"==typeof f||"string"==typeof f)&&(i[g]="auto"!==f||"left"!==g&&"top"!==g?""!==f&&"auto"!==f&&"none"!==f||"string"!=typeof b[g]||""===b[g].replace(x,"")?f:0:da(a,g),void 0!==j[g]&&(h=new ua(j,g,j[g],h)));if(d)for(g in d)"className"!==g&&(i[g]=d[g]);return{difs:i,firstMPT:h}},ga={width:["Left","Right"],height:["Top","Bottom"]},ha=["marginLeft","marginRight","marginTop","marginBottom"],ia=function(a,b,c){if("svg"===(a.nodeName+"").toLowerCase())return(c||aa(a))[b]||0;if(a.getCTM&&Qa(a))return a.getBBox()[b]||0;var d=parseFloat("width"===b?a.offsetWidth:a.offsetHeight),e=ga[b],f=e.length;for(c=c||aa(a,null);--f>-1;)d-=parseFloat(ba(a,"padding"+e[f],c,!0))||0,d-=parseFloat(ba(a,"border"+e[f]+"Width",c,!0))||0;return d},ja=function a(b,c){if("contain"===b||"auto"===b||"auto auto"===b)return b+" ";(null==b||""===b)&&(b="0 0");var d,e=b.split(" "),f=-1!==b.indexOf("left")?"0%":-1!==b.indexOf("right")?"100%":e[0],g=-1!==b.indexOf("top")?"0%":-1!==b.indexOf("bottom")?"100%":e[1];if(e.length>3&&!c){for(e=b.split(", ").join(",").split(","),b=[],d=0;d<e.length;d++)b.push(a(e[d]));return b.join(",")}return null==g?g="center"===f?"50%":"0":"center"===g&&(g="50%"),("center"===f||isNaN(parseFloat(f))&&-1===(f+"").indexOf("="))&&(f="50%"),b=f+" "+g+(e.length>2?" "+e[2]:""),c&&(c.oxp=-1!==f.indexOf("%"),c.oyp=-1!==g.indexOf("%"),c.oxr="="===f.charAt(1),c.oyr="="===g.charAt(1),c.ox=parseFloat(f.replace(x,"")),c.oy=parseFloat(g.replace(x,"")),c.v=b),c||b},ka=function(a,b){return"function"==typeof a&&(a=a(t,s)),"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-parseFloat(b)||0},la=function(a,b){return"function"==typeof a&&(a=a(t,s)),null==a?b:"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2))+b:parseFloat(a)||0},ma=function(a,b,c,d){var e,f,g,h,i;return"function"==typeof a&&(a=a(t,s)),null==a?h=b:"number"==typeof a?h=a:(e=360,f=a.split("_"),i="="===a.charAt(1),g=(i?parseInt(a.charAt(0)+"1",10)*parseFloat(f[0].substr(2)):parseFloat(f[0]))*(-1===a.indexOf("rad")?1:N)-(i?0:b),f.length&&(d&&(d[c]=b+g),-1!==a.indexOf("short")&&(g%=e)!==g%(e/2)&&(g=0>g?g+e:g-e),-1!==a.indexOf("_cw")&&0>g?g=(g+9999999999*e)%e-(g/e|0)*e:-1!==a.indexOf("ccw")&&g>0&&(g=(g-9999999999*e)%e-(g/e|0)*e)),h=b+g),1e-6>h&&h>-1e-6&&(h=0),h},na={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},oa=function(a,b,c){return a=0>a?a+1:a>1?a-1:a,255*(1>6*a?b+(c-b)*a*6:.5>a?c:2>3*a?b+(c-b)*(2/3-a)*6:b)+.5|0},pa=i.parseColor=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(a)if("number"==typeof a)c=[a>>16,a>>8&255,255&a];else{if(","===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),na[a])c=na[a];else if("#"===a.charAt(0))4===a.length&&(d=a.charAt(1),e=a.charAt(2),f=a.charAt(3),a="#"+d+d+e+e+f+f),a=parseInt(a.substr(1),16),c=[a>>16,a>>8&255,255&a];else if("hsl"===a.substr(0,3))if(c=m=a.match(u),b){if(-1!==a.indexOf("="))return a.match(v)}else g=Number(c[0])%360/360,h=Number(c[1])/100,i=Number(c[2])/100,e=.5>=i?i*(h+1):i+h-i*h,d=2*i-e,c.length>3&&(c[3]=Number(c[3])),c[0]=oa(g+1/3,d,e),c[1]=oa(g,d,e),c[2]=oa(g-1/3,d,e);else c=a.match(u)||na.transparent;c[0]=Number(c[0]),c[1]=Number(c[1]),c[2]=Number(c[2]),c.length>3&&(c[3]=Number(c[3]))}else c=na.black;return b&&!m&&(d=c[0]/255,e=c[1]/255,f=c[2]/255,j=Math.max(d,e,f),k=Math.min(d,e,f),i=(j+k)/2,j===k?g=h=0:(l=j-k,h=i>.5?l/(2-j-k):l/(j+k),g=j===d?(e-f)/l+(f>e?6:0):j===e?(f-d)/l+2:(d-e)/l+4,g*=60),c[0]=g+.5|0,c[1]=100*h+.5|0,c[2]=100*i+.5|0),c},qa=function(a,b){var c,d,e,f=a.match(ra)||[],g=0,h="";if(!f.length)return a;for(c=0;c<f.length;c++)d=f[c],e=a.substr(g,a.indexOf(d,g)-g),g+=e.length+d.length,d=pa(d,b),3===d.length&&d.push(1),h+=e+(b?"hsla("+d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:"rgba("+d.join(","))+")";return h+a.substr(g)},ra="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(l in na)ra+="|"+l+"\\b";ra=new RegExp(ra+")","gi"),i.colorStringFilter=function(a){var b,c=a[0]+" "+a[1];ra.test(c)&&(b=-1!==c.indexOf("hsl(")||-1!==c.indexOf("hsla("),a[0]=qa(a[0],b),a[1]=qa(a[1],b)),ra.lastIndex=0},b.defaultStringFilter||(b.defaultStringFilter=i.colorStringFilter);var sa=function(a,b,c,d){if(null==a)return function(a){return a};var e,f=b?(a.match(ra)||[""])[0]:"",g=a.split(f).join("").match(w)||[],h=a.substr(0,a.indexOf(g[0])),i=")"===a.charAt(a.length-1)?")":"",j=-1!==a.indexOf(" ")?" ":",",k=g.length,l=k>0?g[0].replace(u,""):"";return k?e=b?function(a){var b,m,n,o;if("number"==typeof a)a+=l;else if(d&&K.test(a)){for(o=a.replace(K,"|").split("|"),n=0;n<o.length;n++)o[n]=e(o[n]);return o.join(",")}if(b=(a.match(ra)||[f])[0],m=a.split(b).join("").match(w)||[],n=m.length,k>n--)for(;++n<k;)m[n]=c?m[(n-1)/2|0]:g[n];return h+m.join(j)+j+b+i+(-1!==a.indexOf("inset")?" inset":"")}:function(a){var b,f,m;if("number"==typeof a)a+=l;else if(d&&K.test(a)){for(f=a.replace(K,"|").split("|"),m=0;m<f.length;m++)f[m]=e(f[m]);return f.join(",")}if(b=a.match(w)||[],m=b.length,k>m--)for(;++m<k;)b[m]=c?b[(m-1)/2|0]:g[m];return h+b.join(j)+i}:function(a){return a}},ta=function(a){return a=a.split(","),function(b,c,d,e,f,g,h){var i,j=(c+"").split(" ");for(h={},i=0;4>i;i++)h[a[i]]=j[i]=j[i]||j[(i-1)/2>>0];return e.parse(b,h,f,g)}},ua=(U._setPluginRatio=function(a){this.plugin.setRatio(a);for(var b,c,d,e,f,g=this.data,h=g.proxy,i=g.firstMPT;i;)b=h[i.v],i.r?b=i.r(b):1e-6>b&&b>-1e-6&&(b=0),i.t[i.p]=b,i=i._next;if(g.autoRotate&&(g.autoRotate.rotation=g.mod?g.mod.call(this._tween,h.rotation,this.t,this._tween):h.rotation),1===a||0===a)for(i=g.firstMPT,f=1===a?"e":"b";i;){if(c=i.t,c.type){if(1===c.type){for(e=c.xs0+c.s+c.xs1,d=1;d<c.l;d++)e+=c["xn"+d]+c["xs"+(d+1)];c[f]=e}}else c[f]=c.s+c.xs0;i=i._next}},function(a,b,c,d,e){this.t=a,this.p=b,this.v=c,this.r=e,d&&(d._prev=this,this._next=d)}),va=(U._parseToProxy=function(a,b,c,d,e,f){var g,h,i,j,k,l=d,m={},n={},o=c._transform,p=O;for(c._transform=null,O=b,d=k=c.parse(a,b,d,e),O=p,f&&(c._transform=o,l&&(l._prev=null,l._prev&&(l._prev._next=null)));d&&d!==l;){if(d.type<=1&&(h=d.p,n[h]=d.s+d.c,m[h]=d.s,f||(j=new ua(d,"s",h,j,d.r),d.c=0),1===d.type))for(g=d.l;--g>0;)i="xn"+g,h=d.p+"_"+i,n[h]=d.data[i],m[h]=d[i],f||(j=new ua(d,i,h,j,d.rxp[i]));d=d._next}return{proxy:m,end:n,firstMPT:j,pt:k}},U.CSSPropTween=function(a,b,d,e,f,g,i,j,k,l,m){this.t=a,this.p=b,this.s=d,this.c=e,this.n=i||b,a instanceof va||h.push(this.n),this.r=j?"function"==typeof j?j:Math.round:j,this.type=g||0,k&&(this.pr=k,c=!0),this.b=void 0===l?d:l,this.e=void 0===m?d+e:m,f&&(this._next=f,f._prev=this)}),wa=function(a,b,c,d,e,f){var g=new va(a,b,c,d-c,e,-1,f);return g.b=c,g.e=g.xs0=d,g},xa=i.parseComplex=function(a,b,c,d,e,f,g,h,j,k){c=c||f||"","function"==typeof d&&(d=d(t,s)),g=new va(a,b,0,0,g,k?2:1,null,!1,h,c,d),d+="",e&&ra.test(d+c)&&(d=[c,d],i.colorStringFilter(d),c=d[0],d=d[1]);var l,n,o,p,q,r,w,x,y,z,A,B,C,D=c.split(", ").join(",").split(" "),E=d.split(", ").join(",").split(" "),F=D.length,G=!1!==m;for((-1!==d.indexOf(",")||-1!==c.indexOf(","))&&(-1!==(d+c).indexOf("rgb")||-1!==(d+c).indexOf("hsl")?(D=D.join(" ").replace(K,", ").split(" "),E=E.join(" ").replace(K,", ").split(" ")):(D=D.join(" ").split(",").join(", ").split(" "),E=E.join(" ").split(",").join(", ").split(" ")),F=D.length),F!==E.length&&(D=(f||"").split(" "),F=D.length),g.plugin=j,g.setRatio=k,ra.lastIndex=0,l=0;F>l;l++)if(p=D[l],q=E[l]+"",(x=parseFloat(p))||0===x)g.appendXtra("",x,ka(q,x),q.replace(v,""),!(!G||-1===q.indexOf("px"))&&Math.round,!0);else if(e&&ra.test(p))B=q.indexOf(")")+1,B=")"+(B?q.substr(B):""),C=-1!==q.indexOf("hsl")&&W,z=q,p=pa(p,C),q=pa(q,C),y=p.length+q.length>6,y&&!W&&0===q[3]?(g["xs"+g.l]+=g.l?" transparent":"transparent",g.e=g.e.split(E[l]).join("transparent")):(W||(y=!1),C?g.appendXtra(z.substr(0,z.indexOf("hsl"))+(y?"hsla(":"hsl("),p[0],ka(q[0],p[0]),",",!1,!0).appendXtra("",p[1],ka(q[1],p[1]),"%,",!1).appendXtra("",p[2],ka(q[2],p[2]),y?"%,":"%"+B,!1):g.appendXtra(z.substr(0,z.indexOf("rgb"))+(y?"rgba(":"rgb("),p[0],q[0]-p[0],",",Math.round,!0).appendXtra("",p[1],q[1]-p[1],",",Math.round).appendXtra("",p[2],q[2]-p[2],y?",":B,Math.round),y&&(p=p.length<4?1:p[3],g.appendXtra("",p,(q.length<4?1:q[3])-p,B,!1))),ra.lastIndex=0;else if(r=p.match(u)){if(!(w=q.match(v))||w.length!==r.length)return g;for(o=0,n=0;n<r.length;n++)A=r[n],z=p.indexOf(A,o),g.appendXtra(p.substr(o,z-o),Number(A),ka(w[n],A),"",!(!G||"px"!==p.substr(z+A.length,2))&&Math.round,0===n),o=z+A.length;g["xs"+g.l]+=p.substr(o)}else g["xs"+g.l]+=g.l||g["xs"+g.l]?" "+q:q;if(-1!==d.indexOf("=")&&g.data){for(B=g.xs0+g.data.s,l=1;l<g.l;l++)B+=g["xs"+l]+g.data["xn"+l];g.e=B+g["xs"+l]}return g.l||(g.type=-1,g.xs0=g.e),g.xfirst||g},ya=9;for(l=va.prototype,l.l=l.pr=0;--ya>0;)l["xn"+ya]=0,l["xs"+ya]="";l.xs0="",l._next=l._prev=l.xfirst=l.data=l.plugin=l.setRatio=l.rxp=null,l.appendXtra=function(a,b,c,d,e,f){var g=this,h=g.l;return g["xs"+h]+=f&&(h||g["xs"+h])?" "+a:a||"",c||0===h||g.plugin?(g.l++,g.type=g.setRatio?2:1,g["xs"+g.l]=d||"",h>0?(g.data["xn"+h]=b+c,g.rxp["xn"+h]=e,g["xn"+h]=b,g.plugin||(g.xfirst=new va(g,"xn"+h,b,c,g.xfirst||g,0,g.n,e,g.pr),g.xfirst.xs0=0),g):(g.data={s:b+c},g.rxp={},g.s=b,g.c=c,g.r=e,g)):(g["xs"+h]+=b+(d||""),g)};var za=function(a,b){b=b||{},this.p=b.prefix?_(a)||a:a,k[a]=k[this.p]=this,this.format=b.formatter||sa(b.defaultValue,b.color,b.collapsible,b.multi),b.parser&&(this.parse=b.parser),this.clrs=b.color,this.multi=b.multi,this.keyword=b.keyword,this.dflt=b.defaultValue,this.pr=b.priority||0},Aa=U._registerComplexSpecialProp=function(a,b,c){"object"!=(void 0===b?"undefined":d(b))&&(b={parser:c});var e,f=a.split(","),g=b.defaultValue;for(c=c||[g],e=0;e<f.length;e++)b.prefix=0===e&&b.prefix,b.defaultValue=c[e]||g,new za(f[e],b)},Ba=U._registerPluginProp=function(a){if(!k[a]){var b=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";Aa(a,{parser:function(a,c,d,e,f,g,h){var i=j.com.greensock.plugins[b];return i?(i._cssRegister(),k[d].parse(a,c,d,e,f,g,h)):(Y(),f)}})}};l=za.prototype,l.parseComplex=function(a,b,c,d,e,f){var g,h,i,j,k,l,m=this.keyword;if(this.multi&&(K.test(c)||K.test(b)?(h=b.replace(K,"|").split("|"),i=c.replace(K,"|").split("|")):m&&(h=[b],i=[c])),i){for(j=i.length>h.length?i.length:h.length,g=0;j>g;g++)b=h[g]=h[g]||this.dflt,c=i[g]=i[g]||this.dflt,m&&(k=b.indexOf(m),l=c.indexOf(m),k!==l&&(-1===l?h[g]=h[g].split(m).join(""):-1===k&&(h[g]+=" "+m)));b=h.join(", "),c=i.join(", ")}return xa(a,this.p,b,c,this.clrs,this.dflt,d,this.pr,e,f)},l.parse=function(a,b,c,d,e,f,h){return this.parseComplex(a.style,this.format(ba(a,this.p,g,!1,this.dflt)),this.format(b),e,f)},i.registerSpecialProp=function(a,b,c){Aa(a,{parser:function(a,d,e,f,g,h,i){var j=new va(a,e,0,0,g,2,e,!1,c);return j.plugin=h,j.setRatio=b(a,d,f._tween,e),j},priority:c})},i.useSVGTransformAttr=!0;var Ca,Da="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Ea=_("transform"),Fa=Z+"transform",Ga=_("transformOrigin"),Ha=null!==_("perspective"),Ia=U.Transform=function(){this.perspective=parseFloat(i.defaultTransformPerspective)||0,this.force3D=!(!1===i.defaultForce3D||!Ha)&&(i.defaultForce3D||"auto")},Ja=e.SVGElement,Ka=function(a,b,c){var d,e=Q.createElementNS("http://www.w3.org/2000/svg",a),f=/([a-z])([A-Z])/g;for(d in c)e.setAttributeNS(null,d.replace(f,"$1-$2").toLowerCase(),c[d]);return b.appendChild(e),e},La=Q.documentElement||{},Ma=function(){var a,b,c,d=r||/Android/i.test(V)&&!e.chrome;return Q.createElementNS&&!d&&(a=Ka("svg",La),b=Ka("rect",a,{width:100,height:50,x:100}),c=b.getBoundingClientRect().width,b.style[Ga]="50% 50%",b.style[Ea]="scaleX(0.5)",d=c===b.getBoundingClientRect().width&&!(p&&Ha),La.removeChild(a)),d}(),Na=function(a,b,c,d,e,f){var g,h,j,k,l,m,n,o,p,q,r,s,t,u,v=a._gsTransform,w=Sa(a,!0);v&&(t=v.xOrigin,u=v.yOrigin),(!d||(g=d.split(" ")).length<2)&&(n=a.getBBox(),0===n.x&&0===n.y&&n.width+n.height===0&&(n={x:parseFloat(a.hasAttribute("x")?a.getAttribute("x"):a.hasAttribute("cx")?a.getAttribute("cx"):0)||0,y:parseFloat(a.hasAttribute("y")?a.getAttribute("y"):a.hasAttribute("cy")?a.getAttribute("cy"):0)||0,width:0,height:0}),b=ja(b).split(" "),g=[(-1!==b[0].indexOf("%")?parseFloat(b[0])/100*n.width:parseFloat(b[0]))+n.x,(-1!==b[1].indexOf("%")?parseFloat(b[1])/100*n.height:parseFloat(b[1]))+n.y]),c.xOrigin=k=parseFloat(g[0]),c.yOrigin=l=parseFloat(g[1]),d&&w!==Ra&&(m=w[0],n=w[1],o=w[2],p=w[3],q=w[4],r=w[5],(s=m*p-n*o)&&(h=k*(p/s)+l*(-o/s)+(o*r-p*q)/s,j=k*(-n/s)+l*(m/s)-(m*r-n*q)/s,k=c.xOrigin=g[0]=h,l=c.yOrigin=g[1]=j)),v&&(f&&(c.xOffset=v.xOffset,c.yOffset=v.yOffset,v=c),e||!1!==e&&!1!==i.defaultSmoothOrigin?(h=k-t,j=l-u,v.xOffset+=h*w[0]+j*w[2]-h,v.yOffset+=h*w[1]+j*w[3]-j):v.xOffset=v.yOffset=0),f||a.setAttribute("data-svg-origin",g.join(" "))},Oa=function a(b){var c,d=R("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),e=this.parentNode,f=this.nextSibling,g=this.style.cssText;if(La.appendChild(d),d.appendChild(this),this.style.display="block",b)try{c=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=a}catch(a){}else this._originalGetBBox&&(c=this._originalGetBBox());return f?e.insertBefore(this,f):e.appendChild(this),La.removeChild(d),this.style.cssText=g,c},Pa=function(a){try{return a.getBBox()}catch(b){return Oa.call(a,!0)}},Qa=function(a){return!(!Ja||!a.getCTM||a.parentNode&&!a.ownerSVGElement||!Pa(a))},Ra=[1,0,0,1,0,0],Sa=function(a,b){var c,d,e,f,g,h,i=a._gsTransform||new Ia,j=a.style;if(Ea?d=ba(a,Fa,null,!0):a.currentStyle&&(d=a.currentStyle.filter.match(I),d=d&&4===d.length?[d[0].substr(4),Number(d[2].substr(4)),Number(d[1].substr(4)),d[3].substr(4),i.x||0,i.y||0].join(","):""),c=!d||"none"===d||"matrix(1, 0, 0, 1, 0, 0)"===d,!Ea||!(h=!aa(a)||"none"===aa(a).display)&&a.parentNode||(h&&(f=j.display,j.display="block"),a.parentNode||(g=1,La.appendChild(a)),d=ba(a,Fa,null,!0),c=!d||"none"===d||"matrix(1, 0, 0, 1, 0, 0)"===d,f?j.display=f:h&&Xa(j,"display"),g&&La.removeChild(a)),(i.svg||a.getCTM&&Qa(a))&&(c&&-1!==(j[Ea]+"").indexOf("matrix")&&(d=j[Ea],c=0),e=a.getAttribute("transform"),c&&e&&(e=a.transform.baseVal.consolidate().matrix,d="matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")",c=0)),c)return Ra;for(e=(d||"").match(u)||[],ya=e.length;--ya>-1;)f=Number(e[ya]),e[ya]=(g=f-(f|=0))?(1e5*g+(0>g?-.5:.5)|0)/1e5+f:f;return b&&e.length>6?[e[0],e[1],e[4],e[5],e[12],e[13]]:e},Ta=U.getTransform=function(a,c,d,e){if(a._gsTransform&&d&&!e)return a._gsTransform;var f,g,h,j,k,l,m=d?a._gsTransform||new Ia:new Ia,n=m.scaleX<0,o=2e-5,p=1e5,q=Ha?parseFloat(ba(a,Ga,c,!1,"0 0 0").split(" ")[2])||m.zOrigin||0:0,r=parseFloat(i.defaultTransformPerspective)||0;if(m.svg=!(!a.getCTM||!Qa(a)),m.svg&&(Na(a,ba(a,Ga,c,!1,"50% 50%")+"",m,a.getAttribute("data-svg-origin")),Ca=i.useSVGTransformAttr||Ma),(f=Sa(a))!==Ra){if(16===f.length){var s,t,u,v,w,x=f[0],y=f[1],z=f[2],A=f[3],B=f[4],C=f[5],D=f[6],E=f[7],F=f[8],G=f[9],H=f[10],I=f[12],J=f[13],K=f[14],L=f[11],M=Math.atan2(D,H);m.zOrigin&&(K=-m.zOrigin,I=F*K-f[12],J=G*K-f[13],K=H*K+m.zOrigin-f[14]),m.rotationX=M*N,M&&(v=Math.cos(-M),w=Math.sin(-M),s=B*v+F*w,t=C*v+G*w,u=D*v+H*w,F=B*-w+F*v,G=C*-w+G*v,H=D*-w+H*v,L=E*-w+L*v,B=s,C=t,D=u),M=Math.atan2(-z,H),m.rotationY=M*N,M&&(v=Math.cos(-M),w=Math.sin(-M),s=x*v-F*w,t=y*v-G*w,u=z*v-H*w,G=y*w+G*v,H=z*w+H*v,L=A*w+L*v,x=s,y=t,z=u),M=Math.atan2(y,x),m.rotation=M*N,M&&(v=Math.cos(M),w=Math.sin(M),s=x*v+y*w,t=B*v+C*w,u=F*v+G*w,y=y*v-x*w,C=C*v-B*w,G=G*v-F*w,x=s,B=t,F=u),m.rotationX&&Math.abs(m.rotationX)+Math.abs(m.rotation)>359.9&&(m.rotationX=m.rotation=0,m.rotationY=180-m.rotationY),M=Math.atan2(B,C),m.scaleX=(Math.sqrt(x*x+y*y+z*z)*p+.5|0)/p,m.scaleY=(Math.sqrt(C*C+D*D)*p+.5|0)/p,m.scaleZ=(Math.sqrt(F*F+G*G+H*H)*p+.5|0)/p,x/=m.scaleX,B/=m.scaleY,y/=m.scaleX,C/=m.scaleY,Math.abs(M)>o?(m.skewX=M*N,B=0,"simple"!==m.skewType&&(m.scaleY*=1/Math.cos(M))):m.skewX=0,m.perspective=L?1/(0>L?-L:L):0,m.x=I,m.y=J,m.z=K,m.svg&&(m.x-=m.xOrigin-(m.xOrigin*x-m.yOrigin*B),m.y-=m.yOrigin-(m.yOrigin*y-m.xOrigin*C))}else if(!Ha||e||!f.length||m.x!==f[4]||m.y!==f[5]||!m.rotationX&&!m.rotationY){var O=f.length>=6,P=O?f[0]:1,Q=f[1]||0,R=f[2]||0,S=O?f[3]:1;m.x=f[4]||0,m.y=f[5]||0,h=Math.sqrt(P*P+Q*Q),j=Math.sqrt(S*S+R*R),k=P||Q?Math.atan2(Q,P)*N:m.rotation||0,l=R||S?Math.atan2(R,S)*N+k:m.skewX||0,m.scaleX=h,m.scaleY=j,m.rotation=k,m.skewX=l,Ha&&(m.rotationX=m.rotationY=m.z=0,m.perspective=r,m.scaleZ=1),m.svg&&(m.x-=m.xOrigin-(m.xOrigin*P+m.yOrigin*R),m.y-=m.yOrigin-(m.xOrigin*Q+m.yOrigin*S))}Math.abs(m.skewX)>90&&Math.abs(m.skewX)<270&&(n?(m.scaleX*=-1,m.skewX+=m.rotation<=0?180:-180,m.rotation+=m.rotation<=0?180:-180):(m.scaleY*=-1,m.skewX+=m.skewX<=0?180:-180)),m.zOrigin=q;for(g in m)m[g]<o&&m[g]>-o&&(m[g]=0)}return d&&(a._gsTransform=m,m.svg&&(Ca&&a.style[Ea]?b.delayedCall(.001,function(){Xa(a.style,Ea)}):!Ca&&a.getAttribute("transform")&&b.delayedCall(.001,function(){a.removeAttribute("transform")}))),m},Ua=function(a){var b,c,d=this.data,e=-d.rotation*M,f=e+d.skewX*M,g=1e5,h=(Math.cos(e)*d.scaleX*g|0)/g,i=(Math.sin(e)*d.scaleX*g|0)/g,j=(Math.sin(f)*-d.scaleY*g|0)/g,k=(Math.cos(f)*d.scaleY*g|0)/g,l=this.t.style,m=this.t.currentStyle;if(m){c=i,i=-j,j=-c,b=m.filter,l.filter="";var n,o,p=this.t.offsetWidth,q=this.t.offsetHeight,s="absolute"!==m.position,t="progid:DXImageTransform.Microsoft.Matrix(M11="+h+", M12="+i+", M21="+j+", M22="+k,u=d.x+p*d.xPercent/100,v=d.y+q*d.yPercent/100;if(null!=d.ox&&(n=(d.oxp?p*d.ox*.01:d.ox)-p/2,o=(d.oyp?q*d.oy*.01:d.oy)-q/2,u+=n-(n*h+o*i),v+=o-(n*j+o*k)),s?(n=p/2,o=q/2,t+=", Dx="+(n-(n*h+o*i)+u)+", Dy="+(o-(n*j+o*k)+v)+")"):t+=", sizingMethod='auto expand')",-1!==b.indexOf("DXImageTransform.Microsoft.Matrix(")?l.filter=b.replace(J,t):l.filter=t+" "+b,(0===a||1===a)&&1===h&&0===i&&0===j&&1===k&&(s&&-1===t.indexOf("Dx=0, Dy=0")||z.test(b)&&100!==parseFloat(RegExp.$1)||-1===b.indexOf(b.indexOf("Alpha"))&&l.removeAttribute("filter")),!s){var w,x,A,B=8>r?1:-1;for(n=d.ieOffsetX||0,o=d.ieOffsetY||0,d.ieOffsetX=Math.round((p-((0>h?-h:h)*p+(0>i?-i:i)*q))/2+u),d.ieOffsetY=Math.round((q-((0>k?-k:k)*q+(0>j?-j:j)*p))/2+v),ya=0;4>ya;ya++)x=ha[ya],w=m[x],c=-1!==w.indexOf("px")?parseFloat(w):ca(this.t,x,parseFloat(w),w.replace(y,""))||0,A=c!==d[x]?2>ya?-d.ieOffsetX:-d.ieOffsetY:2>ya?n-d.ieOffsetX:o-d.ieOffsetY,l[x]=(d[x]=Math.round(c-A*(0===ya||2===ya?1:B)))+"px"}}},Va=U.set3DTransformRatio=U.setTransformRatio=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,q,r,s,t,u,v,w,x,y,z=this.data,A=this.t.style,B=z.rotation,C=z.rotationX,D=z.rotationY,E=z.scaleX,F=z.scaleY,G=z.scaleZ,H=z.x,I=z.y,J=z.z,K=z.svg,L=z.perspective,N=z.force3D,O=z.skewY,P=z.skewX;if(O&&(P+=O,B+=O),((1===a||0===a)&&"auto"===N&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!N)&&!J&&!L&&!D&&!C&&1===G||Ca&&K||!Ha)return void(B||P||K?(B*=M,x=P*M,y=1e5,c=Math.cos(B)*E,f=Math.sin(B)*E,d=Math.sin(B-x)*-F,g=Math.cos(B-x)*F,x&&"simple"===z.skewType&&(b=Math.tan(x-O*M),b=Math.sqrt(1+b*b),d*=b,g*=b,O&&(b=Math.tan(O*M),b=Math.sqrt(1+b*b),c*=b,f*=b)),K&&(H+=z.xOrigin-(z.xOrigin*c+z.yOrigin*d)+z.xOffset,I+=z.yOrigin-(z.xOrigin*f+z.yOrigin*g)+z.yOffset,Ca&&(z.xPercent||z.yPercent)&&(q=this.t.getBBox(),H+=.01*z.xPercent*q.width,I+=.01*z.yPercent*q.height),q=1e-6,q>H&&H>-q&&(H=0),q>I&&I>-q&&(I=0)),u=(c*y|0)/y+","+(f*y|0)/y+","+(d*y|0)/y+","+(g*y|0)/y+","+H+","+I+")",K&&Ca?this.t.setAttribute("transform","matrix("+u):A[Ea]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix(":"matrix(")+u):A[Ea]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix(":"matrix(")+E+",0,0,"+F+","+H+","+I+")");if(p&&(q=1e-4,q>E&&E>-q&&(E=G=2e-5),q>F&&F>-q&&(F=G=2e-5),!L||z.z||z.rotationX||z.rotationY||(L=0)),B||P)B*=M,r=c=Math.cos(B),s=f=Math.sin(B),P&&(B-=P*M,r=Math.cos(B),s=Math.sin(B),"simple"===z.skewType&&(b=Math.tan((P-O)*M),b=Math.sqrt(1+b*b),r*=b,s*=b,z.skewY&&(b=Math.tan(O*M),b=Math.sqrt(1+b*b),c*=b,f*=b))),d=-s,g=r;else{if(!(D||C||1!==G||L||K))return void(A[Ea]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) translate3d(":"translate3d(")+H+"px,"+I+"px,"+J+"px)"+(1!==E||1!==F?" scale("+E+","+F+")":""));c=g=1,d=f=0}k=1,e=h=i=j=l=m=0,n=L?-1/L:0,o=z.zOrigin,q=1e-6,v=",",w="0",B=D*M,B&&(r=Math.cos(B),s=Math.sin(B),i=-s,l=n*-s,e=c*s,h=f*s,k=r,n*=r,c*=r,f*=r),B=C*M,B&&(r=Math.cos(B),s=Math.sin(B),b=d*r+e*s,t=g*r+h*s,j=k*s,m=n*s,e=d*-s+e*r,h=g*-s+h*r,k*=r,n*=r,d=b,g=t),1!==G&&(e*=G,h*=G,k*=G,n*=G),1!==F&&(d*=F,g*=F,j*=F,m*=F),1!==E&&(c*=E,f*=E,i*=E,l*=E),(o||K)&&(o&&(H+=e*-o,I+=h*-o,J+=k*-o+o),K&&(H+=z.xOrigin-(z.xOrigin*c+z.yOrigin*d)+z.xOffset,I+=z.yOrigin-(z.xOrigin*f+z.yOrigin*g)+z.yOffset),q>H&&H>-q&&(H=w),q>I&&I>-q&&(I=w),q>J&&J>-q&&(J=0)),u=z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix3d(":"matrix3d(",u+=(q>c&&c>-q?w:c)+v+(q>f&&f>-q?w:f)+v+(q>i&&i>-q?w:i),u+=v+(q>l&&l>-q?w:l)+v+(q>d&&d>-q?w:d)+v+(q>g&&g>-q?w:g),C||D||1!==G?(u+=v+(q>j&&j>-q?w:j)+v+(q>m&&m>-q?w:m)+v+(q>e&&e>-q?w:e),u+=v+(q>h&&h>-q?w:h)+v+(q>k&&k>-q?w:k)+v+(q>n&&n>-q?w:n)+v):u+=",0,0,0,0,1,0,",u+=H+v+I+v+J+v+(L?1+-J/L:1)+")",A[Ea]=u};l=Ia.prototype,l.x=l.y=l.z=l.skewX=l.skewY=l.rotation=l.rotationX=l.rotationY=l.zOrigin=l.xPercent=l.yPercent=l.xOffset=l.yOffset=0,l.scaleX=l.scaleY=l.scaleZ=1,Aa("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(a,b,c,e,f,h,j){if(e._lastParsedTransform===j)return f;e._lastParsedTransform=j;var k,l=j.scale&&"function"==typeof j.scale?j.scale:0;"function"==typeof j[c]&&(k=j[c],j[c]=b),l&&(j.scale=l(t,a));var m,n,o,p,q,r,u,v,w,x=a._gsTransform,y=a.style,z=Da.length,A=j,B={},C="transformOrigin",D=Ta(a,g,!0,A.parseTransform),E=A.transform&&("function"==typeof A.transform?A.transform(t,s):A.transform);if(D.skewType=A.skewType||D.skewType||i.defaultSkewType,e._transform=D,E&&"string"==typeof E&&Ea)n=S.style,n[Ea]=E,n.display="block",n.position="absolute",-1!==E.indexOf("%")&&(n.width=ba(a,"width"),n.height=ba(a,"height")),Q.body.appendChild(S),m=Ta(S,null,!1),"simple"===D.skewType&&(m.scaleY*=Math.cos(m.skewX*M)),D.svg&&(r=D.xOrigin,u=D.yOrigin,m.x-=D.xOffset,m.y-=D.yOffset,(A.transformOrigin||A.svgOrigin)&&(E={},Na(a,ja(A.transformOrigin),E,A.svgOrigin,A.smoothOrigin,!0),r=E.xOrigin,u=E.yOrigin,m.x-=E.xOffset-D.xOffset,m.y-=E.yOffset-D.yOffset),(r||u)&&(v=Sa(S,!0),m.x-=r-(r*v[0]+u*v[2]),m.y-=u-(r*v[1]+u*v[3]))),Q.body.removeChild(S),m.perspective||(m.perspective=D.perspective),null!=A.xPercent&&(m.xPercent=la(A.xPercent,D.xPercent)),null!=A.yPercent&&(m.yPercent=la(A.yPercent,D.yPercent));else if("object"==(void 0===A?"undefined":d(A))){if(m={scaleX:la(null!=A.scaleX?A.scaleX:A.scale,D.scaleX),scaleY:la(null!=A.scaleY?A.scaleY:A.scale,D.scaleY),scaleZ:la(A.scaleZ,D.scaleZ),x:la(A.x,D.x),y:la(A.y,D.y),z:la(A.z,D.z),xPercent:la(A.xPercent,D.xPercent),yPercent:la(A.yPercent,D.yPercent),perspective:la(A.transformPerspective,D.perspective)},null!=(q=A.directionalRotation))if("object"==(void 0===q?"undefined":d(q)))for(n in q)A[n]=q[n];else A.rotation=q;"string"==typeof A.x&&-1!==A.x.indexOf("%")&&(m.x=0,m.xPercent=la(A.x,D.xPercent)),"string"==typeof A.y&&-1!==A.y.indexOf("%")&&(m.y=0,m.yPercent=la(A.y,D.yPercent)),m.rotation=ma("rotation"in A?A.rotation:"shortRotation"in A?A.shortRotation+"_short":"rotationZ"in A?A.rotationZ:D.rotation,D.rotation,"rotation",B),Ha&&(m.rotationX=ma("rotationX"in A?A.rotationX:"shortRotationX"in A?A.shortRotationX+"_short":D.rotationX||0,D.rotationX,"rotationX",B),m.rotationY=ma("rotationY"in A?A.rotationY:"shortRotationY"in A?A.shortRotationY+"_short":D.rotationY||0,D.rotationY,"rotationY",B)),m.skewX=ma(A.skewX,D.skewX),m.skewY=ma(A.skewY,D.skewY)}for(Ha&&null!=A.force3D&&(D.force3D=A.force3D,p=!0),(o=D.force3D||D.z||D.rotationX||D.rotationY||m.z||m.rotationX||m.rotationY||m.perspective)||null==A.scale||(m.scaleZ=1);--z>-1;)w=Da[z],((E=m[w]-D[w])>1e-6||-1e-6>E||null!=A[w]||null!=O[w])&&(p=!0,f=new va(D,w,D[w],E,f),w in B&&(f.e=B[w]),f.xs0=0,f.plugin=h,e._overwriteProps.push(f.n));return E=A.transformOrigin,D.svg&&(E||A.svgOrigin)&&(r=D.xOffset,u=D.yOffset,Na(a,ja(E),m,A.svgOrigin,A.smoothOrigin),f=wa(D,"xOrigin",(x?D:m).xOrigin,m.xOrigin,f,C),f=wa(D,"yOrigin",(x?D:m).yOrigin,m.yOrigin,f,C),(r!==D.xOffset||u!==D.yOffset)&&(f=wa(D,"xOffset",x?r:D.xOffset,D.xOffset,f,C),f=wa(D,"yOffset",x?u:D.yOffset,D.yOffset,f,C)),E="0px 0px"),(E||Ha&&o&&D.zOrigin)&&(Ea?(p=!0,w=Ga,E=(E||ba(a,w,g,!1,"50% 50%"))+"",f=new va(y,w,0,0,f,-1,C),f.b=y[w],f.plugin=h,Ha?(n=D.zOrigin,E=E.split(" "),D.zOrigin=(E.length>2&&(0===n||"0px"!==E[2])?parseFloat(E[2]):n)||0,f.xs0=f.e=E[0]+" "+(E[1]||"50%")+" 0px",f=new va(D,"zOrigin",0,0,f,-1,f.n),f.b=n,f.xs0=f.e=D.zOrigin):f.xs0=f.e=E):ja(E+"",D)),
p&&(e._transformType=D.svg&&Ca||!o&&3!==this._transformType?2:3),k&&(j[c]=k),l&&(j.scale=l),f},prefix:!0}),Aa("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Aa("borderRadius",{defaultValue:"0px",parser:function(a,b,c,d,e,h){b=this.format(b);var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],z=a.style;for(q=parseFloat(a.offsetWidth),r=parseFloat(a.offsetHeight),i=b.split(" "),j=0;j<y.length;j++)this.p.indexOf("border")&&(y[j]=_(y[j])),m=l=ba(a,y[j],g,!1,"0px"),-1!==m.indexOf(" ")&&(l=m.split(" "),m=l[0],l=l[1]),n=k=i[j],o=parseFloat(m),t=m.substr((o+"").length),u="="===n.charAt(1),u?(p=parseInt(n.charAt(0)+"1",10),n=n.substr(2),p*=parseFloat(n),s=n.substr((p+"").length-(0>p?1:0))||""):(p=parseFloat(n),s=n.substr((p+"").length)),""===s&&(s=f[c]||t),s!==t&&(v=ca(a,"borderLeft",o,t),w=ca(a,"borderTop",o,t),"%"===s?(m=v/q*100+"%",l=w/r*100+"%"):"em"===s?(x=ca(a,"borderLeft",1,"em"),m=v/x+"em",l=w/x+"em"):(m=v+"px",l=w+"px"),u&&(n=parseFloat(m)+p+s,k=parseFloat(l)+p+s)),e=xa(z,y[j],m+" "+l,n+" "+k,!1,"0px",e);return e},prefix:!0,formatter:sa("0px 0px 0px 0px",!1,!0)}),Aa("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(a,b,c,d,e,f){return xa(a.style,c,this.format(ba(a,c,g,!1,"0px 0px")),this.format(b),!1,"0px",e)},prefix:!0,formatter:sa("0px 0px",!1,!0)}),Aa("backgroundPosition",{defaultValue:"0 0",parser:function(a,b,c,d,e,f){var h,i,j,k,l,m,n="background-position",o=g||aa(a,null),p=this.format((o?r?o.getPropertyValue(n+"-x")+" "+o.getPropertyValue(n+"-y"):o.getPropertyValue(n):a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY)||"0 0"),q=this.format(b);if(-1!==p.indexOf("%")!=(-1!==q.indexOf("%"))&&q.split(",").length<2&&(m=ba(a,"backgroundImage").replace(F,""))&&"none"!==m){for(h=p.split(" "),i=q.split(" "),T.setAttribute("src",m),j=2;--j>-1;)p=h[j],(k=-1!==p.indexOf("%"))!==(-1!==i[j].indexOf("%"))&&(l=0===j?a.offsetWidth-T.width:a.offsetHeight-T.height,h[j]=k?parseFloat(p)/100*l+"px":parseFloat(p)/l*100+"%");p=h.join(" ")}return this.parseComplex(a.style,p,q,e,f)},formatter:ja}),Aa("backgroundSize",{defaultValue:"0 0",formatter:function(a){return a+="","co"===a.substr(0,2)?a:ja(-1===a.indexOf(" ")?a+" "+a:a)}}),Aa("perspective",{defaultValue:"0px",prefix:!0}),Aa("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Aa("transformStyle",{prefix:!0}),Aa("backfaceVisibility",{prefix:!0}),Aa("userSelect",{prefix:!0}),Aa("margin",{parser:ta("marginTop,marginRight,marginBottom,marginLeft")}),Aa("padding",{parser:ta("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Aa("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(a,b,c,d,e,f){var h,i,j;return 9>r?(i=a.currentStyle,j=8>r?" ":",",h="rect("+i.clipTop+j+i.clipRight+j+i.clipBottom+j+i.clipLeft+")",b=this.format(b).split(",").join(j)):(h=this.format(ba(a,this.p,g,!1,this.dflt)),b=this.format(b)),this.parseComplex(a.style,h,b,e,f)}}),Aa("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Aa("autoRound,strictUnits",{parser:function(a,b,c,d,e){return e}}),Aa("border",{defaultValue:"0px solid #000",parser:function(a,b,c,d,e,f){var h=ba(a,"borderTopWidth",g,!1,"0px"),i=this.format(b).split(" "),j=i[0].replace(y,"");return"px"!==j&&(h=parseFloat(h)/ca(a,"borderTopWidth",1,j)+j),this.parseComplex(a.style,this.format(h+" "+ba(a,"borderTopStyle",g,!1,"solid")+" "+ba(a,"borderTopColor",g,!1,"#000")),i.join(" "),e,f)},color:!0,formatter:function(a){var b=a.split(" ");return b[0]+" "+(b[1]||"solid")+" "+(a.match(ra)||["#000"])[0]}}),Aa("borderWidth",{parser:ta("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Aa("float,cssFloat,styleFloat",{parser:function(a,b,c,d,e,f){var g=a.style,h="cssFloat"in g?"cssFloat":"styleFloat";return new va(g,h,0,0,e,-1,c,!1,0,g[h],b)}});var Wa=function(a){var b,c=this.t,d=c.filter||ba(this.data,"filter")||"",e=this.s+this.c*a|0;100===e&&(-1===d.indexOf("atrix(")&&-1===d.indexOf("radient(")&&-1===d.indexOf("oader(")?(c.removeAttribute("filter"),b=!ba(this.data,"filter")):(c.filter=d.replace(B,""),b=!0)),b||(this.xn1&&(c.filter=d=d||"alpha(opacity="+e+")"),-1===d.indexOf("pacity")?0===e&&this.xn1||(c.filter=d+" alpha(opacity="+e+")"):c.filter=d.replace(z,"opacity="+e))};Aa("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(a,b,c,d,e,f){var h=parseFloat(ba(a,"opacity",g,!1,"1")),i=a.style,j="autoAlpha"===c;return"string"==typeof b&&"="===b.charAt(1)&&(b=("-"===b.charAt(0)?-1:1)*parseFloat(b.substr(2))+h),j&&1===h&&"hidden"===ba(a,"visibility",g)&&0!==b&&(h=0),W?e=new va(i,"opacity",h,b-h,e):(e=new va(i,"opacity",100*h,100*(b-h),e),e.xn1=j?1:0,i.zoom=1,e.type=2,e.b="alpha(opacity="+e.s+")",e.e="alpha(opacity="+(e.s+e.c)+")",e.data=a,e.plugin=f,e.setRatio=Wa),j&&(e=new va(i,"visibility",0,0,e,-1,null,!1,0,0!==h?"inherit":"hidden",0===b?"hidden":"inherit"),e.xs0="inherit",d._overwriteProps.push(e.n),d._overwriteProps.push(c)),e}});var Xa=function(a,b){b&&(a.removeProperty?(("ms"===b.substr(0,2)||"webkit"===b.substr(0,6))&&(b="-"+b),a.removeProperty(b.replace(D,"-$1").toLowerCase())):a.removeAttribute(b))},Ya=function(a){if(this.t._gsClassPT=this,1===a||0===a){this.t.setAttribute("class",0===a?this.b:this.e);for(var b=this.data,c=this.t.style;b;)b.v?c[b.p]=b.v:Xa(c,b.p),b=b._next;1===a&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Aa("className",{parser:function(a,b,d,e,f,h,i){var j,k,l,m,n,o=a.getAttribute("class")||"",p=a.style.cssText;if(f=e._classNamePT=new va(a,d,0,0,f,2),f.setRatio=Ya,f.pr=-11,c=!0,f.b=o,k=ea(a,g),l=a._gsClassPT){for(m={},n=l.data;n;)m[n.p]=1,n=n._next;l.setRatio(1)}return a._gsClassPT=f,f.e="="!==b.charAt(1)?b:o.replace(new RegExp("(?:\\s|^)"+b.substr(2)+"(?![\\w-])"),"")+("+"===b.charAt(0)?" "+b.substr(2):""),a.setAttribute("class",f.e),j=fa(a,k,ea(a),i,m),a.setAttribute("class",o),f.data=j.firstMPT,a.style.cssText=p,f=f.xfirst=e.parse(a,j.difs,f,h)}});var Za=function(a){if((1===a||0===a)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var b,c,d,e,f,g=this.t.style,h=k.transform.parse;if("all"===this.e)g.cssText="",e=!0;else for(b=this.e.split(" ").join("").split(","),d=b.length;--d>-1;)c=b[d],k[c]&&(k[c].parse===h?e=!0:c="transformOrigin"===c?Ga:k[c].p),Xa(g,c);e&&(Xa(g,Ea),(f=this.t._gsTransform)&&(f.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Aa("clearProps",{parser:function(a,b,d,e,f){return f=new va(a,d,0,0,f,2),f.setRatio=Za,f.e=b,f.pr=-10,f.data=e._tween,c=!0,f}}),l="bezier,throwProps,physicsProps,physics2D".split(","),ya=l.length;ya--;)Ba(l[ya]);l=i.prototype,l._firstPT=l._lastParsedTransform=l._transform=null,l._onInitTween=function(a,b,d,e){if(!a.nodeType)return!1;this._target=s=a,this._tween=d,this._vars=b,t=e,m=b.autoRound,c=!1,f=b.suffixMap||i.suffixMap,g=aa(a,""),h=this._overwriteProps;var j,l,p,r,u,v,w,x,y,z=a.style;if(n&&""===z.zIndex&&("auto"===(j=ba(a,"zIndex",g))||""===j)&&this._addLazySet(z,"zIndex",0),"string"==typeof b&&(r=z.cssText,j=ea(a,g),z.cssText=r+";"+b,j=fa(a,j,ea(a)).difs,!W&&A.test(b)&&(j.opacity=parseFloat(RegExp.$1)),b=j,z.cssText=r),b.className?this._firstPT=l=k.className.parse(a,b.className,"className",this,null,null,b):this._firstPT=l=this.parse(a,b,null),this._transformType){for(y=3===this._transformType,Ea?o&&(n=!0,""===z.zIndex&&("auto"===(w=ba(a,"zIndex",g))||""===w)&&this._addLazySet(z,"zIndex",0),q&&this._addLazySet(z,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(y?"visible":"hidden"))):z.zoom=1,p=l;p&&p._next;)p=p._next;x=new va(a,"transform",0,0,null,2),this._linkCSSP(x,null,p),x.setRatio=Ea?Va:Ua,x.data=this._transform||Ta(a,g,!0),x.tween=d,x.pr=-1,h.pop()}if(c){for(;l;){for(v=l._next,p=r;p&&p.pr>l.pr;)p=p._next;(l._prev=p?p._prev:u)?l._prev._next=l:r=l,(l._next=p)?p._prev=l:u=l,l=v}this._firstPT=r}return!0},l.parse=function(a,b,c,d){var e,h,i,j,l,n,o,p,q,r,u=a.style;for(e in b){if(n=b[e],"function"==typeof n&&(n=n(t,s)),h=k[e])c=h.parse(a,n,e,this,c,d,b);else{if("--"===e.substr(0,2)){this._tween._propLookup[e]=this._addTween.call(this._tween,a.style,"setProperty",aa(a).getPropertyValue(e)+"",n+"",e,!1,e);continue}l=ba(a,e,g)+"",q="string"==typeof n,"color"===e||"fill"===e||"stroke"===e||-1!==e.indexOf("Color")||q&&C.test(n)?(q||(n=pa(n),n=(n.length>3?"rgba(":"rgb(")+n.join(",")+")"),c=xa(u,e,l,n,!0,"transparent",c,0,d)):q&&L.test(n)?c=xa(u,e,l,n,!0,null,c,0,d):(i=parseFloat(l),o=i||0===i?l.substr((i+"").length):"",(""===l||"auto"===l)&&("width"===e||"height"===e?(i=ia(a,e,g),o="px"):"left"===e||"top"===e?(i=da(a,e,g),o="px"):(i="opacity"!==e?0:1,o="")),r=q&&"="===n.charAt(1),r?(j=parseInt(n.charAt(0)+"1",10),n=n.substr(2),j*=parseFloat(n),p=n.replace(y,"")):(j=parseFloat(n),p=q?n.replace(y,""):""),""===p&&(p=e in f?f[e]:o),n=j||0===j?(r?j+i:j)+p:b[e],o!==p&&(""!==p||"lineHeight"===e)&&(j||0===j)&&i&&(i=ca(a,e,i,o),"%"===p?(i/=ca(a,e,100,"%")/100,!0!==b.strictUnits&&(l=i+"%")):"em"===p||"rem"===p||"vw"===p||"vh"===p?i/=ca(a,e,1,p):"px"!==p&&(j=ca(a,e,j,p),p="px"),r&&(j||0===j)&&(n=j+i+p)),r&&(j+=i),!i&&0!==i||!j&&0!==j?void 0!==u[e]&&(n||n+""!="NaN"&&null!=n)?(c=new va(u,e,j||i||0,0,c,-1,e,!1,0,l,n),c.xs0="none"!==n||"display"!==e&&-1===e.indexOf("Style")?n:l):Y(b[e]):(c=new va(u,e,i,j-i,c,0,e,!1!==m&&("px"===p||"zIndex"===e),0,l,n),c.xs0=p))}d&&c&&!c.plugin&&(c.plugin=d)}return c},l.setRatio=function(a){var b,c,d,e=this._firstPT;if(1!==a||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(a||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;e;){if(b=e.c*a+e.s,e.r?b=e.r(b):1e-6>b&&b>-1e-6&&(b=0),e.type)if(1===e.type)if(2===(d=e.l))e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2;else if(3===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3;else if(4===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4;else if(5===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4+e.xn4+e.xs5;else{for(c=e.xs0+b+e.xs1,d=1;d<e.l;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}else-1===e.type?e.t[e.p]=e.xs0:e.setRatio&&e.setRatio(a);else e.t[e.p]=b+e.xs0;e=e._next}else for(;e;)2!==e.type?e.t[e.p]=e.b:e.setRatio(a),e=e._next;else for(;e;){if(2!==e.type)if(e.r&&-1!==e.type)if(b=e.r(e.s+e.c),e.type){if(1===e.type){for(d=e.l,c=e.xs0+b+e.xs1,d=1;d<e.l;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}}else e.t[e.p]=b+e.xs0;else e.t[e.p]=e.e;else e.setRatio(a);e=e._next}},l._enableTransforms=function(a){this._transform=this._transform||Ta(this._target,g,!0),this._transformType=this._transform.svg&&Ca||!a&&3!==this._transformType?2:3};var $a=function(a){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};l._addLazySet=function(a,b,c){var d=this._firstPT=new va(a,b,0,0,this._firstPT,2);d.e=c,d.setRatio=$a,d.data=this},l._linkCSSP=function(a,b,c,d){return a&&(b&&(b._prev=a),a._next&&(a._next._prev=a._prev),a._prev?a._prev._next=a._next:this._firstPT===a&&(this._firstPT=a._next,d=!0),c?c._next=a:d||null!==this._firstPT||(this._firstPT=a),a._next=b,a._prev=c),a},l._mod=function(a){for(var b=this._firstPT;b;)"function"==typeof a[b.p]&&(b.r=a[b.p]),b=b._next},l._kill=function(b){var c,d,e,f=b;if(b.autoAlpha||b.alpha){f={};for(d in b)f[d]=b[d];f.opacity=1,f.autoAlpha&&(f.visibility=1)}for(b.className&&(c=this._classNamePT)&&(e=c.xfirst,e&&e._prev?this._linkCSSP(e._prev,c._next,e._prev._prev):e===this._firstPT&&(this._firstPT=c._next),c._next&&this._linkCSSP(c._next,c._next._next,e._prev),this._classNamePT=null),c=this._firstPT;c;)c.plugin&&c.plugin!==d&&c.plugin._kill&&(c.plugin._kill(b),d=c.plugin),c=c._next;return a.prototype._kill.call(this,f)};var _a=function a(b,c,d){var e,f,g,h;if(b.slice)for(f=b.length;--f>-1;)a(b[f],c,d);else for(e=b.childNodes,f=e.length;--f>-1;)g=e[f],h=g.type,g.style&&(c.push(ea(g)),d&&d.push(g)),1!==h&&9!==h&&11!==h||!g.childNodes.length||a(g,c,d)};return i.cascadeTo=function(a,c,d){var e,f,g,h,i=b.to(a,c,d),j=[i],k=[],l=[],m=[],n=b._internals.reservedProps;for(a=i._targets||i.target,_a(a,k,m),i.render(c,!0,!0),_a(a,l),i.render(0,!0,!0),i._enabled(!0),e=m.length;--e>-1;)if(f=fa(m[e],k[e],l[e]),f.firstMPT){f=f.difs;for(g in d)n[g]&&(f[g]=d[g]);h={};for(g in f)h[g]=k[e][g];j.push(b.fromTo(m[e],c,h,f))}return j},a.activate([i]),i},!0)}),e._gsDefine&&e._gsQueue.pop()(),function(c){var d=function(){return(e.GreenSockGlobals||e).CSSPlugin};void 0!==b&&b.exports?(a("../TweenLite.min.js"),b.exports=d()):"function"==typeof define&&define.amd&&define(["TweenLite"],d)}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../TweenLite.min.js":416}],419:[function(a,b,c){(function(c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=void 0!==b&&b.exports&&void 0!==c?c:window;(e._gsQueue||(e._gsQueue=[])).push(function(){e._gsDefine("plugins.ThrowPropsPlugin",["plugins.TweenPlugin","TweenLite","easing.Ease","utils.VelocityTracker"],function(a,b,c,f){var g,h,i,j,k=function(b,c){a.call(this,"throwProps"),this._overwriteProps.length=0},l=999999999999999,m=e._gsDefine.globals,n=!1,o={x:1,y:1,z:2,scale:1,scaleX:1,scaleY:1,rotation:1,rotationZ:1,rotationX:2,rotationY:2,skewX:1,skewY:1,xPercent:1,yPercent:1},p=function(a,b,c,d){for(var e,f,g=b.length,h=0,i=l;--g>-1;)e=b[g],f=e-a,0>f&&(f=-f),i>f&&e>=d&&c>=e&&(h=g,i=f);return b[h]},q=function(a,b,c,d){if("auto"===a.end)return a;c=isNaN(c)?l:c,d=isNaN(d)?-l:d;var e="function"==typeof a.end?a.end(b):a.end instanceof Array?p(b,a.end,c,d):Number(a.end);return e>c?e=c:d>e&&(e=d),{max:e,min:e,unitFactor:a.unitFactor}},r=function(a,b,c){for(var d in b)void 0===a[d]&&d!==c&&(a[d]=b[d]);return a},s=k.calculateChange=function(a,d,e,f){return null==f&&(f=.05),e*f*a/(d instanceof c?d:d?new c(d):b.defaultEase).getRatio(f)},t=k.calculateDuration=function(a,d,e,f,g){g=g||.05;var h=f instanceof c?f:f?new c(f):b.defaultEase;return Math.abs((d-a)*h.getRatio(g)/e/g)},u=k.calculateTweenDuration=function(a,e,g,h,i,j){if("string"==typeof a&&(a=b.selector(a)),!a)return 0;null==g&&(g=10),null==h&&(h=.2),null==i&&(i=1),a.length&&(a=a[0]||a);var l,m,o,p,u,v,w,x,y,z,A=0,B=9999999999,C=e.throwProps||e,D=e.ease instanceof c?e.ease:e.ease?new c(e.ease):b.defaultEase,E=isNaN(C.checkpoint)?.05:Number(C.checkpoint),F=isNaN(C.resistance)?k.defaultResistance:Number(C.resistance);for(l in C)"resistance"!==l&&"checkpoint"!==l&&"preventOvershoot"!==l&&(m=C[l],"object"!=(void 0===m?"undefined":d(m))&&(y=y||f.getByTarget(a),y&&y.isTrackingProp(l)?m="number"==typeof m?{velocity:m}:{velocity:y.getVelocity(l)}:(p=Number(m)||0,o=p*F>0?p/F:p/-F)),"object"==(void 0===m?"undefined":d(m))&&(void 0!==m.velocity&&"number"==typeof m.velocity?p=Number(m.velocity)||0:(y=y||f.getByTarget(a),p=y&&y.isTrackingProp(l)?y.getVelocity(l):0),u=isNaN(m.resistance)?F:Number(m.resistance),o=p*u>0?p/u:p/-u,v="function"==typeof a[l]?a[l.indexOf("set")||"function"!=typeof a["get"+l.substr(3)]?l:"get"+l.substr(3)]():a[l]||0,w=v+s(p,D,o,E),void 0!==m.end&&(m=q(m,w,m.max,m.min),(j||n)&&(C[l]=r(m,C[l],"end"))),void 0!==m.max&&w>Number(m.max)+1e-10?(z=m.unitFactor||k.defaultUnitFactors[l]||1,x=v>m.max&&m.min!==m.max||p*z>-15&&45>p*z?h+.1*(g-h):t(v,m.max,p,D,E),B>x+i&&(B=x+i)):void 0!==m.min&&w<Number(m.min)-1e-10&&(z=m.unitFactor||k.defaultUnitFactors[l]||1,x=v<m.min&&m.min!==m.max||p*z>-45&&15>p*z?h+.1*(g-h):t(v,m.min,p,D,E),B>x+i&&(B=x+i)),x>A&&(A=x)),o>A&&(A=o));return A>B&&(A=B),A>g?g:h>A?h:A},v=k.prototype=new a("throwProps");return v.constructor=k,k.version="0.9.10",k.API=2,k._autoCSS=!0,k.defaultResistance=100,k.defaultUnitFactors={time:1e3,totalTime:1e3},k.track=function(a,b,c){return f.track(a,b,c)},k.untrack=function(a,b){f.untrack(a,b)},k.isTracking=function(a,b){return f.isTracking(a,b)},k.getVelocity=function(a,b){var c=f.getByTarget(a);return c?c.getVelocity(b):NaN},k._cssRegister=function(){var a=m.com.greensock.plugins.CSSPlugin;if(a){var b=a._internals,c=b._parseToProxy,e=b._setPluginRatio,i=b.CSSPropTween;b._registerComplexSpecialProp("throwProps",{parser:function(a,b,j,l,m,n){n=new k;var p,q,r,s,t={},u={},v={},w={},x={},y={};h={};for(q in b)"resistance"!==q&&"preventOvershoot"!==q&&(p=b[q],"object"==(void 0===p?"undefined":d(p))?(void 0!==p.velocity&&"number"==typeof p.velocity?t[q]=Number(p.velocity)||0:(s=s||f.getByTarget(a),t[q]=s&&s.isTrackingProp(q)?s.getVelocity(q):0),void 0!==p.end&&(w[q]=p.end),void 0!==p.min&&(u[q]=p.min),void 0!==p.max&&(v[q]=p.max),p.preventOvershoot&&(y[q]=!0),void 0!==p.resistance&&(!0,x[q]=p.resistance)):"number"==typeof p?t[q]=p:(s=s||f.getByTarget(a),s&&s.isTrackingProp(q)?t[q]=s.getVelocity(q):t[q]=p||0),o[q]&&l._enableTransforms(2===o[q]));r=c(a,t,l,m,n),g=r.proxy,t=r.end;for(q in g)h[q]={velocity:t[q],min:u[q],max:v[q],end:w[q],resistance:x[q],preventOvershoot:y[q]};return null!=b.resistance&&(h.resistance=b.resistance),b.preventOvershoot&&(h.preventOvershoot=!0),m=new i(a,"throwProps",0,0,r.pt,2),l._overwriteProps.pop(),m.plugin=n,m.setRatio=e,m.data=r,n._onInitTween(g,h,l._tween),m}})}},k.to=function(a,c,d,e,f){c.throwProps||(c={throwProps:c}),0===f&&(c.throwProps.preventOvershoot=!0),n=!0;var k=new b(a,e||1,c);return k.render(0,!0,!0),k.vars.css?(k.duration(u(g,{throwProps:h,ease:c.ease},d,e,f)),k._delay&&!k.vars.immediateRender?k.invalidate():i._onInitTween(g,j,k),n=!1,k):(k.kill(),k=new b(a,u(a,c,d,e,f),c),n=!1,k)},v._onInitTween=function(a,b,c){this.target=a,this._props=[],i=this,j=b;var e,g,h,k,l,m,o,p,t,u=c._ease,v=isNaN(b.checkpoint)?.05:Number(b.checkpoint),w=c._duration,x=b.preventOvershoot,y=0;for(e in b)if("resistance"!==e&&"checkpoint"!==e&&"preventOvershoot"!==e){if("number"==typeof(g=b[e]))l=Number(g)||0;else if("object"!=(void 0===g?"undefined":d(g))||isNaN(g.velocity)){if(!(t=t||f.getByTarget(a))||!t.isTrackingProp(e))throw"ERROR: No velocity was defined in the throwProps tween of "+a+" property: "+e;l=t.getVelocity(e)}else l=Number(g.velocity);m=s(l,u,w,v),p=0,k="function"==typeof a[e],h=k?a[e.indexOf("set")||"function"!=typeof a["get"+e.substr(3)]?e:"get"+e.substr(3)]():a[e],"object"==(void 0===g?"undefined":d(g))&&(o=h+m,void 0!==g.end&&(g=q(g,o,g.max,g.min),n&&(b[e]=r(g,b[e],"end"))),void 0!==g.max&&Number(g.max)<o?x||g.preventOvershoot?m=g.max-h:p=g.max-h-m:void 0!==g.min&&Number(g.min)>o&&(x||g.preventOvershoot?m=g.min-h:p=g.min-h-m)),this._overwriteProps[y]=e,this._props[y++]={p:e,s:h,c1:m,c2:p,f:k,r:!1}}return!0},v._kill=function(b){for(var c=this._props.length;--c>-1;)null!=b[this._props[c].p]&&this._props.splice(c,1);return a.prototype._kill.call(this,b)},v._roundProps=function(a,b){for(var c=this._props,d=c.length;--d>-1;)(a[c[d].p]||a.throwProps)&&(c[d].r=b)},v.setRatio=function(a){for(var b,c,d=this._props.length;--d>-1;)b=this._props[d],c=b.s+b.c1*a+b.c2*a*a,b.r?c=Math.round(c):1===a&&(c=(1e4*c+(0>c?-.5:.5)|0)/1e4),b.f?this.target[b.p](c):this.target[b.p]=c},a.activate([k]),k},!0),e._gsDefine("utils.VelocityTracker",["TweenLite"],function(a){var b,c,d,e,f=/([A-Z])/g,g={},h={x:1,y:1,z:2,scale:1,scaleX:1,scaleY:1,rotation:1,rotationZ:1,rotationX:2,rotationY:2,skewX:1,skewY:1,xPercent:1,yPercent:1},i=document.defaultView?document.defaultView.getComputedStyle:function(){},j=function(a,b,c){var d=(a._gsTransform||g)[b];return d||0===d?d:(a.style[b]?d=a.style[b]:(c=c||i(a,null))?d=c[b]||c.getPropertyValue(b)||c.getPropertyValue(b.replace(f,"-$1").toLowerCase()):a.currentStyle&&(d=a.currentStyle[b]),parseFloat(d)||0)},k=a.ticker,l=function(a,b,c){this.p=a,this.f=b,this.v1=this.v2=0,this.t1=this.t2=k.time,this.css=!1,this.type="",this._prev=null,c&&(this._next=c,c._prev=this)},m=function(){var a,c,f=b,g=k.time;if(g-d>=.03)for(e=d,d=g;f;){for(c=f._firstVP;c;)a=c.css?j(f.target,c.p):c.f?f.target[c.p]():f.target[c.p],(a!==c.v1||g-c.t1>.15)&&(c.v2=c.v1,c.v1=a,c.t2=c.t1,c.t1=g),c=c._next;f=f._next}},n=function(a){this._lookup={},this.target=a,this.elem=!(!a.style||!a.nodeType),c||(k.addEventListener("tick",m,null,!1,-100),d=e=k.time,c=!0),b&&(this._next=b,b._prev=this),b=this},o=n.getByTarget=function(a){for(var c=b;c;){if(c.target===a)return c;c=c._next}},p=n.prototype;return p.addProp=function(b,c){if(!this._lookup[b]){var d=this.target,e="function"==typeof d[b],f=e?this._altProp(b):b,g=this._firstVP;this._firstVP=this._lookup[b]=this._lookup[f]=g=new l(f!==b&&0===b.indexOf("set")?f:b,e,g),g.css=this.elem&&(void 0!==this.target.style[g.p]||h[g.p]),g.css&&h[g.p]&&!d._gsTransform&&a.set(d,{x:"+=0",overwrite:!1}),g.type=c||g.css&&0===b.indexOf("rotation")?"deg":"",g.v1=g.v2=g.css?j(d,g.p):e?d[g.p]():d[g.p]}},p.removeProp=function(a){var b=this._lookup[a];b&&(b._prev?b._prev._next=b._next:b===this._firstVP&&(this._firstVP=b._next),b._next&&(b._next._prev=b._prev),this._lookup[a]=0,b.f&&(this._lookup[this._altProp(a)]=0))},p.isTrackingProp=function(a){return this._lookup[a]instanceof l},p.getVelocity=function(a){var b,c,d,e=this._lookup[a],f=this.target;if(!e)throw"The velocity of "+a+" is not being tracked.";return b=e.css?j(f,e.p):e.f?f[e.p]():f[e.p],c=b-e.v2,("rad"===e.type||"deg"===e.type)&&(d="rad"===e.type?2*Math.PI:360,(c%=d)!==c%(d/2)&&(c=0>c?c+d:c-d)),c/(k.time-e.t2)},p._altProp=function(a){var b=a.substr(0,3),c=("get"===b?"set":"set"===b?"get":b)+a.substr(3);return"function"==typeof this.target[c]?c:a},n.getByTarget=function(c){var d=b;for("string"==typeof c&&(c=a.selector(c)),c.length&&c!==window&&c[0]&&c[0].style&&!c.nodeType&&(c=c[0]);d;){if(d.target===c)return d;d=d._next}},n.track=function(a,b,c){var d=o(a),e=b.split(","),f=e.length;for(c=(c||"").split(","),d||(d=new n(a));--f>-1;)d.addProp(e[f],c[f]||c[0]);return d},n.untrack=function(a,c){var d=o(a),e=(c||"").split(","),f=e.length;if(d){for(;--f>-1;)d.removeProp(e[f]);d._firstVP&&c||(d._prev?d._prev._next=d._next:d===b&&(b=d._next),d._next&&(d._next._prev=d._prev))}},n.isTracking=function(a,b){var c=o(a);return!!c&&(!(b||!c._firstVP)||c.isTrackingProp(b))},n},!0)}),e._gsDefine&&e._gsQueue.pop()(),function(c){var d=function(){return(e.GreenSockGlobals||e).ThrowPropsPlugin};"function"==typeof define&&define.amd?define(["TweenLite"],d):void 0!==b&&b.exports&&(a("../TweenLite.js"),b.exports=d())}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../TweenLite.js":415}],420:[function(a,b,c){(function(c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=void 0!==b&&b.exports&&void 0!==c?c:window;(e._gsQueue||(e._gsQueue=[])).push(function(){e._gsDefine("utils.Draggable",["events.EventDispatcher","TweenLite","plugins.CSSPlugin"],function(a,b,c){var f,g,h,i,j,k,l,m,n={css:{},data:"_draggable"},o={css:{},data:"_draggable"},p={css:{},data:"_draggable"},q={css:{}},r=e._gsDefine.globals,s={},t={style:{}},u=e.document||{createElement:function(){return t}},v=u.documentElement||{},w=function(a){return u.createElementNS?u.createElementNS("http://www.w3.org/1999/xhtml",a):u.createElement(a)},x=w("div"),y=[],z=function(){return!1},A=180/Math.PI,B=999999999999999,C=Date.now||function(){return(new Date).getTime()},D=!(u.addEventListener||!u.all),E=u.createElement("div"),F=[],G={},H=0,I=/^(?:a|input|textarea|button|select)$/i,J=0,K=e.navigator&&-1!==e.navigator.userAgent.toLowerCase().indexOf("android"),L=0,M={},N={},O=function(a){if("string"==typeof a&&(a=b.selector(a)),!a||a.nodeType)return[a];var c,d=[],e=a.length;for(c=0;c!==e;d.push(a[c++]));return d},P=function(a,b){var c,d={};if(b)for(c in a)d[c]=a[c]*b;else for(c in a)d[c]=a[c];return d},Q=function(){for(var a=F.length;--a>-1;)F[a]()},R=function(a){F.push(a),1===F.length&&b.ticker.addEventListener("tick",Q,this,!1,1)},S=function(a){for(var c=F.length;--c>-1;)F[c]===a&&F.splice(c,1);b.to(T,0,{overwrite:"all",delay:15,onComplete:T,data:"_draggable"})},T=function(){F.length||b.ticker.removeEventListener("tick",Q)},U=function(a,b){var c;for(c in b)void 0===a[c]&&(a[c]=b[c]);return a},V=function(){return null!=window.pageYOffset?window.pageYOffset:null!=u.scrollTop?u.scrollTop:v.scrollTop||u.body.scrollTop||0},W=function(){return null!=window.pageXOffset?window.pageXOffset:null!=u.scrollLeft?u.scrollLeft:v.scrollLeft||u.body.scrollLeft||0},X=function a(b,c){Ka(b,"scroll",c),Z(b.parentNode)||a(b.parentNode,c)},Y=function a(b,c){La(b,"scroll",c),Z(b.parentNode)||a(b.parentNode,c)},Z=function(a){return!(a&&a!==v&&a!==u&&a!==u.body&&a!==window&&a.nodeType&&a.parentNode)},$=function(a,b){var c="x"===b?"Width":"Height",d="scroll"+c,e="client"+c,f=u.body;return Math.max(0,Z(a)?Math.max(v[d],f[d])-(window["inner"+c]||v[e]||f[e]):a[d]-a[e])},_=function a(b){var c=Z(b),d=$(b,"x"),e=$(b,"y");c?b=N:a(b.parentNode),b._gsMaxScrollX=d,b._gsMaxScrollY=e,b._gsScrollX=b.scrollLeft||0,b._gsScrollY=b.scrollTop||0},aa=function(a,b){return a=a||window.event,s.pageX=a.clientX+u.body.scrollLeft+v.scrollLeft,s.pageY=a.clientY+u.body.scrollTop+v.scrollTop,b&&(a.returnValue=!1),s},ba=function(a){return a?("string"==typeof a&&(a=b.selector(a)),a.length&&a!==window&&a[0]&&a[0].style&&!a.nodeType&&(a=a[0]),a===window||a.nodeType&&a.style?a:null):a},ca=function(a,b){var c,d,e,g=a.style;if(void 0===g[b]){for(e=["O","Moz","ms","Ms","Webkit"],d=5,c=b.charAt(0).toUpperCase()+b.substr(1);--d>-1&&void 0===g[e[d]+c];);if(0>d)return"";f=3===d?"ms":e[d],b=f+c}return b},da=function(a,b,c){var d=a.style;d&&(void 0===d[b]&&(b=ca(a,b)),null==c?d.removeProperty?d.removeProperty(b.replace(/([A-Z])/g,"-$1").toLowerCase()):d.removeAttribute(b):void 0!==d[b]&&(d[b]=c))},ea=u.defaultView?u.defaultView.getComputedStyle:z,fa=/(?:Left|Right|Width)/i,ga=/(?:\d|\-|\+|=|#|\.)*/g,ha=function a(b,c,d,e,f){if("px"===e||!e)return d;if("auto"===e||!d)return 0;var g,h=fa.test(c),i=b,j=x.style,k=0>d;return k&&(d=-d),"%"===e&&-1!==c.indexOf("border")?g=d/100*(h?b.clientWidth:b.clientHeight):(j.cssText="border:0 solid red;position:"+ja(b,"position",!0)+";line-height:0;","%"!==e&&i.appendChild?j[h?"borderLeftWidth":"borderTopWidth"]=d+e:(i=b.parentNode||u.body,j[h?"width":"height"]=d+e),i.appendChild(x),g=parseFloat(x[h?"offsetWidth":"offsetHeight"]),i.removeChild(x),0!==g||f||(g=a(b,c,d,e,!0))),k?-g:g},ia=function(a,b){if("absolute"!==ja(a,"position",!0))return 0;var c="left"===b?"Left":"Top",d=ja(a,"margin"+c,!0);return a["offset"+c]-(ha(a,b,parseFloat(d),(d+"").replace(ga,""))||0)},ja=function(a,b,c){var d,e=(a._gsTransform||{})[b];return e||0===e?e:(a.style[b]?e=a.style[b]:(d=ea(a))?(e=d.getPropertyValue(b.replace(/([A-Z])/g,"-$1").toLowerCase()),e=e||d.length?e:d[b]):a.currentStyle&&(e=a.currentStyle[b]),"auto"!==e||"top"!==b&&"left"!==b||(e=ia(a,b)),c?e:parseFloat(e)||0)},ka=function(a,b,c){var d=a.vars,e=d[c],f=a._listeners[b];"function"==typeof e&&e.apply(d[c+"Scope"]||d.callbackScope||a,d[c+"Params"]||[a.pointerEvent]),f&&a.dispatchEvent(b)},la=function(a,b){var c,d,e,f=ba(a);return f?Fa(f,b):void 0!==a.left?(e=za(b),{left:a.left-e.x,top:a.top-e.y,width:a.width,height:a.height}):(d=a.min||a.minX||a.minRotation||0,c=a.min||a.minY||0,{left:d,top:c,width:(a.max||a.maxX||a.maxRotation||0)-d,height:(a.max||a.maxY||0)-c})},ma=function(){if(!u.createElementNS)return i=0,void(j=!1);var a,b,c,d,e=w("div"),f=u.createElementNS("http://www.w3.org/2000/svg","svg"),g=w("div"),h=e.style,n=u.body||v,o="flex"===ja(n,"display",!0);u.body&&pa&&(h.position="absolute",n.appendChild(g),g.appendChild(e),d=e.offsetParent,g.style[pa]="rotate(1deg)",m=e.offsetParent===d,g.style.position="absolute",h.height="10px",d=e.offsetTop,g.style.border="5px solid red",l=d!==e.offsetTop,n.removeChild(g)),h=f.style,f.setAttributeNS(null,"width","400px"),f.setAttributeNS(null,"height","400px"),f.setAttributeNS(null,"viewBox","0 0 400 400"),h.display="block",h.boxSizing="border-box",h.border="0px solid red",h.transform="none",e.style.cssText="width:100px;height:100px;overflow:scroll;-ms-overflow-style:none;",n.appendChild(e),e.appendChild(f),c=f.createSVGPoint().matrixTransform(f.getScreenCTM()),b=c.y,e.scrollTop=100,c.x=c.y=0,c=c.matrixTransform(f.getScreenCTM()),k=b-c.y<100.1?0:b-c.y-150,e.removeChild(f),n.removeChild(e),n.appendChild(f),o&&(n.style.display="block"),a=f.getScreenCTM(),b=a.e,h.border="50px solid red",a=f.getScreenCTM(),0===b&&0===a.e&&0===a.f&&1===a.a?(i=1,j=!0):(i=b!==a.e?1:0,j=1!==a.a),o&&(n.style.display="flex"),n.removeChild(f)},na=""!==ca(x,"perspective"),oa=ca(x,"transformOrigin").replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),pa=ca(x,"transform"),qa=pa.replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),ra={},sa={},ta=e.SVGElement,ua=function(a){return!!(ta&&"function"==typeof a.getBBox&&a.getCTM&&(!a.parentNode||a.parentNode.getBBox&&a.parentNode.getCTM))},va=(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent))&&parseFloat(RegExp.$1)<11,wa=[],xa=[],ya=function a(c){if(!c.getBoundingClientRect||!c.parentNode||!pa)return{offsetTop:0,offsetLeft:0,scaleX:1,scaleY:1,offsetParent:v};if(!1!==Ua.cacheSVGData&&c._dCache&&c._dCache.lastUpdate===b.ticker.frame)return c._dCache;var d,e,f,g,h,l,m,n,o,p,q,r,s=c,t=Aa(c);if(t.lastUpdate=b.ticker.frame,c.getBBox&&!t.isSVGRoot){for(s=c.parentNode,d=c.getBBox();s&&"svg"!==(s.nodeName+"").toLowerCase();)s=s.parentNode;return g=a(s),t.offsetTop=d.y*g.scaleY,t.offsetLeft=d.x*g.scaleX,t.scaleX=g.scaleX,t.scaleY=g.scaleY,t.offsetParent=s||v,t}for(f=t.offsetParent,f===u.body&&(f=v),xa.length=wa.length=0;s&&(h=ja(s,pa,!0),"matrix(1, 0, 0, 1, 0, 0)"!==h&&"none"!==h&&"translate3d(0px, 0px, 0px)"!==h&&(xa.push(s),wa.push(s.style[pa]),s.style[pa]="none"),s!==f);)s=s.parentNode;for(e=f.getBoundingClientRect(),h=c.getScreenCTM(),n=c.createSVGPoint(),m=n.matrixTransform(h),t.scaleX=Math.sqrt(h.a*h.a+h.b*h.b),t.scaleY=Math.sqrt(h.d*h.d+h.c*h.c),void 0===i&&ma(),t.borderBox&&!j&&c.getAttribute("width")&&(g=ea(c)||{},o=parseFloat(g.borderLeftWidth)+parseFloat(g.borderRightWidth)||0,p=parseFloat(g.borderTopWidth)+parseFloat(g.borderBottomWidth)||0,q=parseFloat(g.width)||0,r=parseFloat(g.height)||0,t.scaleX*=(q-o)/q,t.scaleY*=(r-p)/r),k?(d=c.getBoundingClientRect(),t.offsetLeft=d.left-e.left,t.offsetTop=d.top-e.top):(t.offsetLeft=m.x-e.left,t.offsetTop=m.y-e.top),t.offsetParent=f,l=xa.length;--l>-1;)xa[l].style[pa]=wa[l];return t},za=function(a,c){if(c=c||{},!a||a===v||!a.parentNode||a===window)return{x:0,y:0};var d=ea(a),e=oa&&d?d.getPropertyValue(oa):"50% 50%",f=e.split(" "),g=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":f[0],h=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":f[1];return("center"===h||null==h)&&(h="50%"),("center"===g||isNaN(parseFloat(g)))&&(g="50%"),a.getBBox&&ua(a)?(a._gsTransform||(b.set(a,{x:"+=0",overwrite:!1}),a._gsTransform.xOrigin),e=a.getBBox(),c.x=a._gsTransform.xOrigin-e.x,c.y=a._gsTransform.yOrigin-e.y):(a.getBBox&&-1!==(g+h).indexOf("%")&&(a=a.getBBox(),a={offsetWidth:a.width,offsetHeight:a.height}),c.x=-1!==g.indexOf("%")?a.offsetWidth*parseFloat(g)/100:parseFloat(g),c.y=-1!==h.indexOf("%")?a.offsetHeight*parseFloat(h)/100:parseFloat(h)),c},Aa=function(a){if(!1!==Ua.cacheSVGData&&a._dCache&&a._dCache.lastUpdate===b.ticker.frame)return a._dCache;var c,d=a._dCache=a._dCache||{},e=ea(a),f=a.getBBox&&ua(a),g="svg"===(a.nodeName+"").toLowerCase();if(d.isSVG=f,d.isSVGRoot=g,d.borderBox="border-box"===e.boxSizing,d.computedStyle=e,g)c=a.parentNode||v,c.insertBefore(x,a),d.offsetParent=x.offsetParent||v,c.removeChild(x);else if(f){for(c=a.parentNode;c&&"svg"!==(c.nodeName+"").toLowerCase();)c=c.parentNode;d.offsetParent=c}else d.offsetParent=a.offsetParent;return d},Ba=function a(b,c,d,e,f){
if(b===window||!b||!b.style||!b.parentNode)return[1,0,0,1,0,0];var g,h,j,k,n,o,p,q,r,s,t,w,x,y,z=b._dCache||Aa(b),A=b.parentNode,B=A._dCache||Aa(A),C=z.computedStyle,D=z.isSVG?B.offsetParent:A.offsetParent;return g=z.isSVG&&-1!==(b.style[pa]+"").indexOf("matrix")?b.style[pa]:C?C.getPropertyValue(qa):b.currentStyle?b.currentStyle[pa]:"1,0,0,1,0,0",b.getBBox&&-1!==(b.getAttribute("transform")+"").indexOf("matrix")&&(g=b.getAttribute("transform")),g=(g+"").match(/(?:\-|\.|\b)(\d|\.|e\-)+/g)||[1,0,0,1,0,0],g.length>6&&(g=[g[0],g[1],g[4],g[5],g[12],g[13]]),e?g[4]=g[5]=0:z.isSVG&&(n=b._gsTransform)&&(n.xOrigin||n.yOrigin)&&(g[0]=parseFloat(g[0]),g[1]=parseFloat(g[1]),g[2]=parseFloat(g[2]),g[3]=parseFloat(g[3]),g[4]=parseFloat(g[4])-(n.xOrigin-(n.xOrigin*g[0]+n.yOrigin*g[2])),g[5]=parseFloat(g[5])-(n.yOrigin-(n.xOrigin*g[1]+n.yOrigin*g[3]))),c&&(void 0===i&&ma(),j=z.isSVG||z.isSVGRoot?ya(b):b,z.isSVG?(k=b.getBBox(),s=B.isSVGRoot?{x:0,y:0}:A.getBBox(),j={offsetLeft:k.x-s.x,offsetTop:k.y-s.y,offsetParent:z.offsetParent}):z.isSVGRoot?(t=parseInt(C.borderTopWidth,10)||0,w=parseInt(C.borderLeftWidth,10)||0,x=(g[0]-i)*w+g[2]*t,y=g[1]*w+(g[3]-i)*t,o=c.x,p=c.y,q=o-(o*g[0]+p*g[2]),r=p-(o*g[1]+p*g[3]),g[4]=parseFloat(g[4])+q,g[5]=parseFloat(g[5])+r,c.x-=q,c.y-=r,o=j.scaleX,p=j.scaleY,f||(c.x*=o,c.y*=p),g[0]*=o,g[1]*=p,g[2]*=o,g[3]*=p,va||(c.x+=x,c.y+=y),D===u.body&&j.offsetParent===v&&(D=v)):!l&&b.offsetParent&&(c.x+=parseInt(ja(b.offsetParent,"borderLeftWidth"),10)||0,c.y+=parseInt(ja(b.offsetParent,"borderTopWidth"),10)||0),h=A===v||A===u.body,g[4]=Number(g[4])+c.x+(j.offsetLeft||0)-d.x-(h?0:A.scrollLeft||0),g[5]=Number(g[5])+c.y+(j.offsetTop||0)-d.y-(h?0:A.scrollTop||0),A&&"fixed"===ja(b,"position",C)&&(g[4]+=W(),g[5]+=V()),!A||A===v||D!==j.offsetParent||B.isSVG||m&&"100100"!==a(A).join("")||(j=B.isSVGRoot?ya(A):A,g[4]-=j.offsetLeft||0,g[5]-=j.offsetTop||0,l||!B.offsetParent||z.isSVG||z.isSVGRoot||(g[4]-=parseInt(ja(B.offsetParent,"borderLeftWidth"),10)||0,g[5]-=parseInt(ja(B.offsetParent,"borderTopWidth"),10)||0))),g},Ca=function(a,b){if(!a||a===window||!a.parentNode)return[1,0,0,1,0,0];for(var c,d,e,f,g,h,i,j,k=za(a,ra),l=za(a.parentNode,sa),m=Ba(a,k,l,!1,!b);(a=a.parentNode)&&a.parentNode&&a!==v;)k=l,l=za(a.parentNode,k===ra?sa:ra),i=Ba(a,k,l),c=m[0],d=m[1],e=m[2],f=m[3],g=m[4],h=m[5],m[0]=c*i[0]+d*i[2],m[1]=c*i[1]+d*i[3],m[2]=e*i[0]+f*i[2],m[3]=e*i[1]+f*i[3],m[4]=g*i[0]+h*i[2]+i[4],m[5]=g*i[1]+h*i[3]+i[5];return b&&(c=m[0],d=m[1],e=m[2],f=m[3],g=m[4],h=m[5],j=c*f-d*e,m[0]=f/j,m[1]=-d/j,m[2]=-e/j,m[3]=c/j,m[4]=(e*h-f*g)/j,m[5]=-(c*h-d*g)/j),m},Da=function(a,b,c,d,e){a=ba(a);var f=Ca(a,!1),g=b.x,h=b.y;return c&&(za(a,b),g-=b.x,h-=b.y),d=!0===d?b:d||{},d.x=g*f[0]+h*f[2]+f[4],d.y=g*f[1]+h*f[3]+f[5],d},Ea=function(a,b,c){var d=a.x*b[0]+a.y*b[2]+b[4],e=a.x*b[1]+a.y*b[3]+b[5];return a.x=d*c[0]+e*c[2]+c[4],a.y=d*c[1]+e*c[3]+c[5],a},Fa=function(a,b,c){if(!(a=ba(a)))return null;b=ba(b);var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,w,x,y,z,A,B=a.getBBox&&ua(a);if(a===window)g=V(),e=W(),f=e+(v.clientWidth||a.innerWidth||u.body.clientWidth||0),h=g+((a.innerHeight||0)-20<v.clientHeight?v.clientHeight:a.innerHeight||u.body.clientHeight||0);else{if(void 0===b||b===window)return a.getBoundingClientRect();d=za(a),e=-d.x,g=-d.y,B?(o=a.getBBox(),p=o.width,q=o.height):"svg"!==(a.nodeName+"").toLowerCase()&&a.offsetWidth?(p=a.offsetWidth,q=a.offsetHeight):(z=ea(a),p=parseFloat(z.width),q=parseFloat(z.height)),f=e+p,h=g+q,"svg"!==a.nodeName.toLowerCase()||D||(r=ya(a),A=r.computedStyle||{},w=(a.getAttribute("viewBox")||"0 0").split(" "),x=parseFloat(w[0]),y=parseFloat(w[1]),s=parseFloat(A.borderLeftWidth)||0,t=parseFloat(A.borderTopWidth)||0,f-=p-(p-s)/r.scaleX-x,h-=q-(q-t)/r.scaleY-y,e-=s/r.scaleX-x,g-=t/r.scaleY-y,z&&(f+=(parseFloat(A.borderRightWidth)+s)/r.scaleX,h+=(t+parseFloat(A.borderBottomWidth))/r.scaleY))}return a===b?{left:e,top:g,width:f-e,height:h-g}:(i=Ca(a),j=Ca(b,!0),k=Ea({x:e,y:g},i,j),l=Ea({x:f,y:g},i,j),m=Ea({x:f,y:h},i,j),n=Ea({x:e,y:h},i,j),e=Math.min(k.x,l.x,m.x,n.x),g=Math.min(k.y,l.y,m.y,n.y),M.x=M.y=0,c&&za(b,M),{left:e+M.x,top:g+M.y,width:Math.max(k.x,l.x,m.x,n.x)-e,height:Math.max(k.y,l.y,m.y,n.y)-g})},Ga=function(a){return!!(a&&a.length&&a[0]&&(a[0].nodeType&&a[0].style&&!a.nodeType||a[0].length&&a[0][0]))},Ha=function(a){var b,c,d,e=[],f=a.length;for(b=0;f>b;b++)if(c=a[b],Ga(c))for(d=c.length,d=0;d<c.length;d++)e.push(c[d]);else c&&0!==c.length&&e.push(c);return e},Ia="ontouchstart"in v&&"orientation"in window,Ja=function(a){for(var b=a.split(","),c=(void 0!==x.onpointerdown?"pointerdown,pointermove,pointerup,pointercancel":void 0!==x.onmspointerdown?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":a).split(","),d={},e=4;--e>-1;)d[b[e]]=c[e],d[c[e]]=b[e];return d}("touchstart,touchmove,touchend,touchcancel"),Ka=function(a,b,c,d){if(a.addEventListener){var e=Ja[b];d=d||{passive:!1},a.addEventListener(e||b,c,d),e&&b!==e&&a.addEventListener(b,c,d)}else a.attachEvent&&a.attachEvent("on"+b,c)},La=function(a,b,c){if(a.removeEventListener){var d=Ja[b];a.removeEventListener(d||b,c),d&&b!==d&&a.removeEventListener(b,c)}else a.detachEvent&&a.detachEvent("on"+b,c)},Ma=function(a,b){for(var c=a.length;--c>-1;)if(a[c].identifier===b)return!0;return!1},Na=function a(b){g=b.touches&&J<b.touches.length,La(b.target,"touchend",a)},Oa=function(a){g=a.touches&&J<a.touches.length,Ka(a.target,"touchend",Na)},Pa=function(a,b,c,e,f,g){var h,i,j,k={};if(b)if(1!==f&&b instanceof Array){if(k.end=h=[],j=b.length,"object"==d(b[0]))for(i=0;j>i;i++)h[i]=P(b[i],f);else for(i=0;j>i;i++)h[i]=b[i]*f;c+=1.1,e-=1.1}else k.end="function"==typeof b?function(c){var e,g,h=b.call(a,c);if(1!==f)if("object"==(void 0===h?"undefined":d(h))){e={};for(g in h)e[g]=h[g]*f;h=e}else h*=f;return h}:b;return(c||0===c)&&(k.max=c),(e||0===e)&&(k.min=e),g&&(k.velocity=0),k},Qa=function a(b){var c;return!(!b||!b.getAttribute||"BODY"===b.nodeName)&&(!("true"!==(c=b.getAttribute("data-clickable"))&&("false"===c||!b.onclick&&!I.test(b.nodeName+"")&&"true"!==b.getAttribute("contentEditable")))||a(b.parentNode))},Ra=function(a,b){for(var c,d=a.length;--d>-1;)c=a[d],c.ondragstart=c.onselectstart=b?null:z,da(c,"userSelect",b?"text":"none")},Sa=function(){var a,b=u.createElement("div"),c=u.createElement("div"),d=c.style,e=u.body||x;return d.display="inline-block",d.position="relative",b.style.cssText=c.innerHTML="width:90px; height:40px; padding:10px; overflow:auto; visibility: hidden",b.appendChild(c),e.appendChild(b),a=c.offsetHeight+18>b.scrollHeight,e.removeChild(b),a}(),Ta=function(a,c){a=ba(a),c=c||{};var d,e,f,g,h,i,j=u.createElement("div"),k=j.style,l=a.firstChild,m=0,n=0,o=a.scrollTop,p=a.scrollLeft,q=a.scrollWidth,r=a.scrollHeight,s=0,t=0,v=0;na&&!1!==c.force3D?(h="translate3d(",i="px,0px)"):pa&&(h="translate(",i="px)"),this.scrollTop=function(a,b){return arguments.length?void this.top(-a,b):-this.top()},this.scrollLeft=function(a,b){return arguments.length?void this.left(-a,b):-this.left()},this.left=function(d,e){if(!arguments.length)return-(a.scrollLeft+n);var f=a.scrollLeft-p,g=n;return(f>2||-2>f)&&!e?(p=a.scrollLeft,b.killTweensOf(this,!0,{left:1,scrollLeft:1}),this.left(-p),void(c.onKill&&c.onKill())):(d=-d,0>d?(n=d-.5|0,d=0):d>t?(n=d-t|0,d=t):n=0,(n||g)&&(h?this._suspendTransforms||(k[pa]=h+-n+"px,"+-m+i):k.left=-n+"px",n+s>=0&&(k.paddingRight=n+s+"px")),a.scrollLeft=0|d,void(p=a.scrollLeft))},this.top=function(d,e){if(!arguments.length)return-(a.scrollTop+m);var f=a.scrollTop-o,g=m;return(f>2||-2>f)&&!e?(o=a.scrollTop,b.killTweensOf(this,!0,{top:1,scrollTop:1}),this.top(-o),void(c.onKill&&c.onKill())):(d=-d,0>d?(m=d-.5|0,d=0):d>v?(m=d-v|0,d=v):m=0,(m||g)&&(h?this._suspendTransforms||(k[pa]=h+-n+"px,"+-m+i):k.top=-m+"px"),a.scrollTop=0|d,void(o=a.scrollTop))},this.maxScrollTop=function(){return v},this.maxScrollLeft=function(){return t},this.disable=function(){for(l=j.firstChild;l;)g=l.nextSibling,a.appendChild(l),l=g;a===j.parentNode&&a.removeChild(j)},this.enable=function(){if((l=a.firstChild)!==j){for(;l;)g=l.nextSibling,j.appendChild(l),l=g;a.appendChild(j),this.calibrate()}},this.calibrate=function(b){var c,g,h=a.clientWidth===d;o=a.scrollTop,p=a.scrollLeft,(!h||a.clientHeight!==e||j.offsetHeight!==f||q!==a.scrollWidth||r!==a.scrollHeight||b)&&((m||n)&&(c=this.left(),g=this.top(),this.left(-a.scrollLeft),this.top(-a.scrollTop)),(!h||b)&&(k.display="block",k.width="auto",k.paddingRight="0px",(s=Math.max(0,a.scrollWidth-a.clientWidth))&&(s+=ja(a,"paddingLeft")+(Sa?ja(a,"paddingRight"):0))),k.display="inline-block",k.position="relative",k.overflow="visible",k.verticalAlign="top",k.width="100%",k.paddingRight=s+"px",Sa&&(k.paddingBottom=ja(a,"paddingBottom",!0)),D&&(k.zoom="1"),d=a.clientWidth,e=a.clientHeight,q=a.scrollWidth,r=a.scrollHeight,t=a.scrollWidth-d,v=a.scrollHeight-e,f=j.offsetHeight,k.display="block",(c||g)&&(this.left(c),this.top(g)))},this.content=j,this.element=a,this._suspendTransforms=!1,this.enable()},Ua=function e(f,i){a.call(this,f),f=ba(f),h||(h=r.com.greensock.plugins.ThrowPropsPlugin),this.vars=i=P(i||{}),this.target=f,this.x=this.y=this.rotation=0,this.dragResistance=parseFloat(i.dragResistance)||0,this.edgeResistance=isNaN(i.edgeResistance)?1:parseFloat(i.edgeResistance)||0,this.lockAxis=i.lockAxis,this.autoScroll=i.autoScroll||0,this.lockedAxis=null,this.allowEventDefault=!!i.allowEventDefault;var j,k,l,m,s,t,w,x,z,F,I,Q,T,V,W,$,ca,ea,fa,ga,ha,ia,ma,na,oa,pa,qa,ra,sa,ta,va,wa,xa,ya,za=(i.type||(D?"top,left":"x,y")).toLowerCase(),Aa=-1!==za.indexOf("x")||-1!==za.indexOf("y"),Ba=-1!==za.indexOf("rotation"),Ea=Ba?"rotation":Aa?"x":"left",Fa=Aa?"y":"top",Ga=-1!==za.indexOf("x")||-1!==za.indexOf("left")||"scroll"===za,Ha=-1!==za.indexOf("y")||-1!==za.indexOf("top")||"scroll"===za,Na=i.minimumMovement||2,Sa=this,Ua=O(i.trigger||i.handle||f),Va={},Wa=0,Xa=!1,Za=i.autoScrollMarginTop||40,$a=i.autoScrollMarginRight||40,_a=i.autoScrollMarginBottom||40,ab=i.autoScrollMarginLeft||40,bb=i.clickableTest||Qa,cb=0,db=function(a){return Sa.isPressed&&a.which<2?void Sa.endDrag():(a.preventDefault(),a.stopPropagation(),!1)},eb=function(a){if(Sa.autoScroll&&Sa.isDragging&&(Xa||ea)){var b,c,d,e,g,h,i,j,l=f,m=15*Sa.autoScroll;for(Xa=!1,N.scrollTop=null!=window.pageYOffset?window.pageYOffset:null!=v.scrollTop?v.scrollTop:u.body.scrollTop,N.scrollLeft=null!=window.pageXOffset?window.pageXOffset:null!=v.scrollLeft?v.scrollLeft:u.body.scrollLeft,e=Sa.pointerX-N.scrollLeft,g=Sa.pointerY-N.scrollTop;l&&!c;)c=Z(l.parentNode),b=c?N:l.parentNode,d=c?{bottom:Math.max(v.clientHeight,window.innerHeight||0),right:Math.max(v.clientWidth,window.innerWidth||0),left:0,top:0}:b.getBoundingClientRect(),h=i=0,Ha&&(j=b._gsMaxScrollY-b.scrollTop,0>j?i=j:g>d.bottom-_a&&j?(Xa=!0,i=Math.min(j,m*(1-Math.max(0,d.bottom-g)/_a)|0)):g<d.top+Za&&b.scrollTop&&(Xa=!0,i=-Math.min(b.scrollTop,m*(1-Math.max(0,g-d.top)/Za)|0)),i&&(b.scrollTop+=i)),Ga&&(j=b._gsMaxScrollX-b.scrollLeft,0>j?h=j:e>d.right-$a&&j?(Xa=!0,h=Math.min(j,m*(1-Math.max(0,d.right-e)/$a)|0)):e<d.left+ab&&b.scrollLeft&&(Xa=!0,h=-Math.min(b.scrollLeft,m*(1-Math.max(0,e-d.left)/ab)|0)),h&&(b.scrollLeft+=h)),c&&(h||i)&&(window.scrollTo(b.scrollLeft,b.scrollTop),sb(Sa.pointerX+h,Sa.pointerY+i)),l=b}if(ea){var n=Sa.x,o=Sa.y,p=1e-6;p>n&&n>-p&&(n=0),p>o&&o>-p&&(o=0),Ba?(Sa.deltaX=n-sa.data.rotation,sa.data.rotation=Sa.rotation=n,sa.setRatio(1)):k?(Ha&&(Sa.deltaY=o-k.top(),k.top(o)),Ga&&(Sa.deltaX=n-k.left(),k.left(n))):Aa?(Ha&&(Sa.deltaY=o-sa.data.y,sa.data.y=o),Ga&&(Sa.deltaX=n-sa.data.x,sa.data.x=n),sa.setRatio(1)):(Ha&&(Sa.deltaY=o-parseFloat(f.style.top||0),f.style.top=o+"px"),Ga&&(Sa.deltaY=n-parseFloat(f.style.left||0),f.style.left=n+"px")),!x||a||wa||(wa=!0,ka(Sa,"drag","onDrag"),wa=!1)}ea=!1},fb=function(a,c){var d,e=Sa.x,g=Sa.y;f._gsTransform||!Aa&&!Ba||b.set(f,{x:"+=0",overwrite:!1,data:"_draggable"}),Aa?(Sa.y=f._gsTransform.y,Sa.x=f._gsTransform.x):Ba?Sa.x=Sa.rotation=f._gsTransform.rotation:k?(Sa.y=k.top(),Sa.x=k.left()):(Sa.y=parseInt(f.style.top,10)||0,Sa.x=parseInt(f.style.left,10)||0),(ga||ha||ia)&&!c&&(Sa.isDragging||Sa.isThrowing)&&(ia&&(M.x=Sa.x,M.y=Sa.y,d=ia(M),d.x!==Sa.x&&(Sa.x=d.x,ea=!0),d.y!==Sa.y&&(Sa.y=d.y,ea=!0)),ga&&(d=ga(Sa.x))!==Sa.x&&(Sa.x=d,Ba&&(Sa.rotation=d),ea=!0),ha&&(d=ha(Sa.y),d!==Sa.y&&(Sa.y=d),ea=!0)),ea&&eb(!0),a||(Sa.deltaX=Sa.x-e,Sa.deltaY=Sa.y-g,ka(Sa,"throwupdate","onThrowUpdate"))},gb=function(){var a,b,c,d;w=!1,k?(k.calibrate(),Sa.minX=F=-k.maxScrollLeft(),Sa.minY=Q=-k.maxScrollTop(),Sa.maxX=z=Sa.maxY=I=0,w=!0):i.bounds&&(a=la(i.bounds,f.parentNode),Ba?(Sa.minX=F=a.left,Sa.maxX=z=a.left+a.width,Sa.minY=Q=Sa.maxY=I=0):void 0!==i.bounds.maxX||void 0!==i.bounds.maxY?(a=i.bounds,Sa.minX=F=a.minX,Sa.minY=Q=a.minY,Sa.maxX=z=a.maxX,Sa.maxY=I=a.maxY):(b=la(f,f.parentNode),Sa.minX=F=ja(f,Ea)+a.left-b.left,Sa.minY=Q=ja(f,Fa)+a.top-b.top,Sa.maxX=z=F+(a.width-b.width),Sa.maxY=I=Q+(a.height-b.height)),F>z&&(Sa.minX=z,Sa.maxX=z=F,F=Sa.minX),Q>I&&(Sa.minY=I,Sa.maxY=I=Q,Q=Sa.minY),Ba&&(Sa.minRotation=F,Sa.maxRotation=z),w=!0),i.liveSnap&&(c=!0===i.liveSnap?i.snap||{}:i.liveSnap,d=c instanceof Array||"function"==typeof c,Ba?(ga=ob(d?c:c.rotation,F,z,1),ha=null):c.points?ia=pb(d?c:c.points,F,z,Q,I,c.radius,k?-1:1):(Ga&&(ga=ob(d?c:c.x||c.left||c.scrollLeft,F,z,k?-1:1)),Ha&&(ha=ob(d?c:c.y||c.top||c.scrollTop,Q,I,k?-1:1))))},hb=function(){Sa.isThrowing=!1,ka(Sa,"throwcomplete","onThrowComplete")},ib=function(){Sa.isThrowing=!1},jb=function(a,b){var c,e,g,j;a&&h?(!0===a&&(c=i.snap||i.liveSnap||{},e=c instanceof Array||"function"==typeof c,a={resistance:(i.throwResistance||i.resistance||1e3)/(Ba?10:1)},Ba?a.rotation=Pa(Sa,e?c:c.rotation,z,F,1,b):(Ga&&(a[Ea]=Pa(Sa,e?c:c.points||c.x||c.left||c.scrollLeft,z,F,k?-1:1,b||"x"===Sa.lockedAxis)),Ha&&(a[Fa]=Pa(Sa,e?c:c.points||c.y||c.top||c.scrollTop,I,Q,k?-1:1,b||"y"===Sa.lockedAxis)),(c.points||c instanceof Array&&"object"==d(c[0]))&&(a.linkedProps=Ea+","+Fa,a.radius=c.radius))),Sa.isThrowing=!0,j=isNaN(i.overshootTolerance)?1===i.edgeResistance?0:1-Sa.edgeResistance+.2:i.overshootTolerance,Sa.tween=g=h.to(k||f,{throwProps:a,data:"_draggable",ease:i.ease||r.Power3.easeOut,onComplete:hb,onOverwrite:ib,onUpdate:i.fastMode?ka:fb,onUpdateParams:i.fastMode?[Sa,"onthrowupdate","onThrowUpdate"]:c&&c.radius?[!1,!0]:y},isNaN(i.maxDuration)?2:i.maxDuration,isNaN(i.minDuration)?0===j||"object"==(void 0===a?"undefined":d(a))&&a.resistance>1e3?0:.5:i.minDuration,j),i.fastMode||(k&&(k._suspendTransforms=!0),g.render(g.duration(),!0,!0),fb(!0,!0),Sa.endX=Sa.x,Sa.endY=Sa.y,Ba&&(Sa.endRotation=Sa.x),g.play(0),fb(!0,!0),k&&(k._suspendTransforms=!1))):w&&Sa.applyBounds()},kb=function(a){var b,c,d,e,g,h,i,j,k,n=oa||[1,0,0,1,0,0];oa=Ca(f.parentNode,!0),a&&Sa.isPressed&&n.join(",")!==oa.join(",")&&(b=n[0],c=n[1],d=n[2],e=n[3],g=n[4],h=n[5],i=b*e-c*d,j=l*(e/i)+m*(-d/i)+(d*h-e*g)/i,k=l*(-c/i)+m*(b/i)+-(b*h-c*g)/i,m=j*oa[1]+k*oa[3]+oa[5],l=j*oa[0]+k*oa[2]+oa[4]),oa[1]||oa[2]||1!=oa[0]||1!=oa[3]||0!=oa[4]||0!=oa[5]||(oa=null)},lb=function(){var a=1-Sa.edgeResistance;kb(!1),oa&&(l=Sa.pointerX*oa[0]+Sa.pointerY*oa[2]+oa[4],m=Sa.pointerX*oa[1]+Sa.pointerY*oa[3]+oa[5]),ea&&(sb(Sa.pointerX,Sa.pointerY),eb(!0)),k?(gb(),t=k.top(),s=k.left()):(mb()?(fb(!0,!0),gb()):Sa.applyBounds(),Ba?(ca=Sa.rotationOrigin=Da(f,{x:0,y:0}),fb(!0,!0),s=Sa.x,t=Sa.y=Math.atan2(ca.y-Sa.pointerY,Sa.pointerX-ca.x)*A):(qa=f.parentNode?f.parentNode.scrollTop||0:0,ra=f.parentNode?f.parentNode.scrollLeft||0:0,t=ja(f,Fa),s=ja(f,Ea))),w&&a&&(s>z?s=z+(s-z)/a:F>s&&(s=F-(F-s)/a),Ba||(t>I?t=I+(t-I)/a:Q>t&&(t=Q-(Q-t)/a))),Sa.startX=s,Sa.startY=t},mb=function(){return Sa.tween&&Sa.tween.isActive()},nb=function(){!E.parentNode||mb()||Sa.isDragging||E.parentNode.removeChild(E)},ob=function(a,b,c,d){return"function"==typeof a?function(e){var f=Sa.isPressed?1-Sa.edgeResistance:1;return a.call(Sa,e>c?c+(e-c)*f:b>e?b+(e-b)*f:e)*d}:a instanceof Array?function(d){for(var e,f,g=a.length,h=0,i=B;--g>-1;)e=a[g],f=e-d,0>f&&(f=-f),i>f&&e>=b&&c>=e&&(h=g,i=f);return a[h]}:isNaN(a)?function(a){return a}:function(){return a*d}},pb=function(a,b,c,d,e,f,g){return f=f&&B>f?f*f:B,"function"==typeof a?function(h){var i,j,k,l=Sa.isPressed?1-Sa.edgeResistance:1,m=h.x,n=h.y;return h.x=m=m>c?c+(m-c)*l:b>m?b+(m-b)*l:m,h.y=n=n>e?e+(n-e)*l:d>n?d+(n-d)*l:n,i=a.call(Sa,h),i!==h&&(h.x=i.x,h.y=i.y),1!==g&&(h.x*=g,h.y*=g),B>f&&(j=h.x-m,k=h.y-n,j*j+k*k>f&&(h.x=m,h.y=n)),h}:a instanceof Array?function(b){for(var c,d,e,g,h=a.length,i=0,j=B;--h>-1;)e=a[h],c=e.x-b.x,d=e.y-b.y,g=c*c+d*d,j>g&&(i=h,j=g);return f>=j?a[i]:b}:function(a){return a}},qb=function(a,c){var d;if(j&&!Sa.isPressed&&a&&("mousedown"!==a.type&&"pointerdown"!==a.type||c||!(C()-cb<30)||!Ja[Sa.pointerEvent.type])){if(pa=mb(),Sa.pointerEvent=a,Ja[a.type]?(na=-1!==a.type.indexOf("touch")?a.currentTarget||a.target:u,Ka(na,"touchend",tb),Ka(na,"touchmove",rb),Ka(na,"touchcancel",tb),Ka(u,"touchstart",Oa)):(na=null,Ka(u,"mousemove",rb)),va=null,Ka(u,"mouseup",tb),a&&a.target&&Ka(a.target,"mouseup",tb),ma=bb.call(Sa,a.target)&&!i.dragClickables&&!c)return Ka(a.target,"change",tb),ka(Sa,"press","onPress"),void Ra(Ua,!0);if(ta=!(!na||Ga===Ha||!1===Sa.vars.allowNativeTouchScrolling||Sa.vars.allowContextMenu&&a&&(a.ctrlKey||a.which>2))&&(Ga?"y":"x"),D?a=aa(a,!0):ta||Sa.allowEventDefault||(a.preventDefault(),a.preventManipulation&&a.preventManipulation()),a.changedTouches?(a=W=a.changedTouches[0],$=a.identifier):a.pointerId?$=a.pointerId:W=$=null,J++,R(eb),m=Sa.pointerY=a.pageY,l=Sa.pointerX=a.pageX,(ta||Sa.autoScroll)&&_(f.parentNode),!f.parentNode||!Sa.autoScroll||k||Ba||!f.parentNode._gsMaxScrollX||E.parentNode||f.getBBox||(E.style.width=f.parentNode.scrollWidth+"px",f.parentNode.appendChild(E)),lb(),Sa.tween&&Sa.tween.kill(),Sa.isThrowing=!1,b.killTweensOf(k||f,!0,Va),k&&b.killTweensOf(f,!0,{scrollTo:1}),Sa.tween=Sa.lockedAxis=null,(i.zIndexBoost||!Ba&&!k&&!1!==i.zIndexBoost)&&(f.style.zIndex=e.zIndex++),Sa.isPressed=!0,x=!(!i.onDrag&&!Sa._listeners.drag),!Ba)for(d=Ua.length;--d>-1;)da(Ua[d],"cursor",i.cursor||"move");ka(Sa,"press","onPress")}},rb=function(a){var b,c,d,e,f,h,i=a;if(j&&!g&&Sa.isPressed&&a){if(Sa.pointerEvent=a,b=a.changedTouches){if((a=b[0])!==W&&a.identifier!==$){for(e=b.length;--e>-1&&(a=b[e]).identifier!==$;);if(0>e)return}}else if(a.pointerId&&$&&a.pointerId!==$)return;if(D)a=aa(a,!0);else{if(na&&ta&&!va&&(c=a.pageX,d=a.pageY,oa&&(e=c*oa[0]+d*oa[2]+oa[4],d=c*oa[1]+d*oa[3]+oa[5],c=e),f=Math.abs(c-l),h=Math.abs(d-m),(f!==h&&(f>Na||h>Na)||K&&ta===va)&&(va=f>h&&Ga?"x":"y",!1!==Sa.vars.lockAxisOnTouchScroll&&(Sa.lockedAxis="x"===va?"y":"x","function"==typeof Sa.vars.onLockAxis&&Sa.vars.onLockAxis.call(Sa,i)),K&&ta===va)))return void tb(i);Sa.allowEventDefault||ta&&(!va||ta===va)||!1===i.cancelable||(i.preventDefault(),i.preventManipulation&&i.preventManipulation())}Sa.autoScroll&&(Xa=!0),sb(a.pageX,a.pageY)}},sb=function(a,b){var c,d,e,f,g,h,i=1-Sa.dragResistance,j=1-Sa.edgeResistance;Sa.pointerX=a,Sa.pointerY=b,Ba?(f=Math.atan2(ca.y-b,a-ca.x)*A,g=Sa.y-f,g>180?(t-=360,Sa.y=f):-180>g&&(t+=360,Sa.y=f),Sa.x!==s||Math.abs(t-f)>Na?(Sa.y=f,e=s+(t-f)*i):e=s):(oa&&(h=a*oa[0]+b*oa[2]+oa[4],b=a*oa[1]+b*oa[3]+oa[5],a=h),d=b-m,c=a-l,Na>d&&d>-Na&&(d=0),Na>c&&c>-Na&&(c=0),(Sa.lockAxis||Sa.lockedAxis)&&(c||d)&&(h=Sa.lockedAxis,h||(Sa.lockedAxis=h=Ga&&Math.abs(c)>Math.abs(d)?"y":Ha?"x":null,h&&"function"==typeof Sa.vars.onLockAxis&&Sa.vars.onLockAxis.call(Sa,Sa.pointerEvent)),"y"===h?d=0:"x"===h&&(c=0)),e=s+c*i,f=t+d*i),(ga||ha||ia)&&(Sa.x!==e||Sa.y!==f&&!Ba)?(ia&&(M.x=e,M.y=f,h=ia(M),e=h.x,f=h.y),ga&&(e=ga(e)),ha&&(f=ha(f))):w&&(e>z?e=z+(e-z)*j:F>e&&(e=F+(e-F)*j),Ba||(f>I?f=I+(f-I)*j:Q>f&&(f=Q+(f-Q)*j))),Ba||oa||(e=Math.round(e),f=Math.round(f)),(Sa.x!==e||Sa.y!==f&&!Ba)&&(Ba?(Sa.endRotation=Sa.x=Sa.endX=e,ea=!0):(Ha&&(Sa.y=Sa.endY=f,ea=!0),Ga&&(Sa.x=Sa.endX=e,ea=!0)),!Sa.isDragging&&Sa.isPressed&&(Sa.isDragging=!0,ka(Sa,"dragstart","onDragStart")))},tb=function a(c,d){if(j&&Sa.isPressed&&(!c||null==$||d||!(c.pointerId&&c.pointerId!==$||c.changedTouches&&!Ma(c.changedTouches,$)))){Sa.isPressed=!1;var e,g,h,k,l,m=c,n=Sa.isDragging,o=Sa.vars.allowContextMenu&&c&&(c.ctrlKey||c.which>2),p=b.delayedCall(.001,nb);if(na?(La(na,"touchend",a),La(na,"touchmove",rb),La(na,"touchcancel",a),La(u,"touchstart",Oa)):La(u,"mousemove",rb),La(u,"mouseup",a),c&&c.target&&La(c.target,"mouseup",a),ea=!1,ma&&!o)return c&&(La(c.target,"change",a),Sa.pointerEvent=m),Ra(Ua,!1),ka(Sa,"release","onRelease"),ka(Sa,"click","onClick"),void(ma=!1);if(S(eb),!Ba)for(g=Ua.length;--g>-1;)da(Ua[g],"cursor",i.cursor||"move");if(n&&(Wa=L=C(),Sa.isDragging=!1),J--,c){if(D&&(c=aa(c,!1)),(e=c.changedTouches)&&(c=e[0])!==W&&c.identifier!==$){for(g=e.length;--g>-1&&(c=e[g]).identifier!==$;);if(0>g)return}Sa.pointerEvent=m,Sa.pointerX=c.pageX,Sa.pointerY=c.pageY}return o&&m?(m.preventDefault(),m.preventManipulation&&m.preventManipulation(),ka(Sa,"release","onRelease")):m&&!n?(pa&&(i.snap||i.bounds)&&jb(i.throwProps),ka(Sa,"release","onRelease"),K&&"touchmove"===m.type||-1!==m.type.indexOf("cancel")||(ka(Sa,"click","onClick"),C()-cb<300&&ka(Sa,"doubleclick","onDoubleClick"),k=m.target||m.srcElement||f,cb=C(),l=function(){cb!==xa&&Sa.enabled()&&!Sa.isPressed&&(k.click?k.click():u.createEvent&&(h=u.createEvent("MouseEvents"),h.initMouseEvent("click",!0,!0,window,1,Sa.pointerEvent.screenX,Sa.pointerEvent.screenY,Sa.pointerX,Sa.pointerY,!1,!1,!1,!1,0,null),k.dispatchEvent(h)))},K||m.defaultPrevented||b.delayedCall(1e-5,l))):(jb(i.throwProps),D||Sa.allowEventDefault||!m||!i.dragClickables&&bb.call(Sa,m.target)||!n||ta&&(!va||ta!==va)||!1===m.cancelable||(m.preventDefault(),m.preventManipulation&&m.preventManipulation()),ka(Sa,"release","onRelease")),mb()&&p.duration(Sa.tween.duration()),n&&ka(Sa,"dragend","onDragEnd"),!0}},ub=function(a){if(a&&Sa.isDragging&&!k){var b=a.target||a.srcElement||f.parentNode,c=b.scrollLeft-b._gsScrollX,d=b.scrollTop-b._gsScrollY;(c||d)&&(oa?(l-=c*oa[0]+d*oa[2],m-=d*oa[3]+c*oa[1]):(l-=c,m-=d),b._gsScrollX+=c,b._gsScrollY+=d,sb(Sa.pointerX,Sa.pointerY))}},vb=function(a){var b=C(),c=40>b-cb,d=40>b-Wa,e=c&&xa===cb,f=!!a.preventDefault,g=Sa.pointerEvent&&Sa.pointerEvent.defaultPrevented,h=c&&ya===cb,i=a.isTrusted||null==a.isTrusted&&c&&e;return f&&(e||d&&!1!==Sa.vars.suppressClickOnDrag)&&a.stopImmediatePropagation(),!c||Sa.pointerEvent&&Sa.pointerEvent.defaultPrevented||e&&i===h?void((Sa.isPressed||d||c)&&(f?i&&a.detail&&c&&!g||(a.preventDefault(),a.preventManipulation&&a.preventManipulation()):a.returnValue=!1)):(i&&e&&(ya=cb),void(xa=cb))},wb=function(a){return oa?{x:a.x*oa[0]+a.y*oa[2]+oa[4],y:a.x*oa[1]+a.y*oa[3]+oa[5]}:{x:a.x,y:a.y}};fa=e.get(this.target),fa&&fa.kill(),this.startDrag=function(a,b){var c,d,e,g;qb(a||Sa.pointerEvent,!0),b&&!Sa.hitTest(a||Sa.pointerEvent)&&(c=Ya(a||Sa.pointerEvent),d=Ya(f),e=wb({x:c.left+c.width/2,y:c.top+c.height/2}),g=wb({x:d.left+d.width/2,y:d.top+d.height/2}),l-=e.x-g.x,m-=e.y-g.y),Sa.isDragging||(Sa.isDragging=!0,ka(Sa,"dragstart","onDragStart"))},this.drag=rb,this.endDrag=function(a){tb(a||Sa.pointerEvent,!0)},this.timeSinceDrag=function(){return Sa.isDragging?0:(C()-Wa)/1e3},this.timeSinceClick=function(){return(C()-cb)/1e3},this.hitTest=function(a,b){return e.hitTest(Sa.target,a,b)},this.getDirection=function(a,b){var c,e,f,g,i,j,k="velocity"===a&&h?a:"object"!=(void 0===a?"undefined":d(a))||Ba?"start":"element";return"element"===k&&(i=Ya(Sa.target),j=Ya(a)),c="start"===k?Sa.x-s:"velocity"===k?h.getVelocity(this.target,Ea):i.left+i.width/2-(j.left+j.width/2),Ba?0>c?"counter-clockwise":"clockwise":(b=b||2,e="start"===k?Sa.y-t:"velocity"===k?h.getVelocity(this.target,Fa):i.top+i.height/2-(j.top+j.height/2),f=Math.abs(c/e),g=1/b>f?"":0>c?"left":"right",b>f&&(""!==g&&(g+="-"),g+=0>e?"up":"down"),g)},this.applyBounds=function(a){var b,c,d,e,g,h;if(a&&i.bounds!==a)return i.bounds=a,Sa.update(!0);if(fb(!0),gb(),w){if(b=Sa.x,c=Sa.y,b>z?b=z:F>b&&(b=F),c>I?c=I:Q>c&&(c=Q),(Sa.x!==b||Sa.y!==c)&&(d=!0,Sa.x=Sa.endX=b,Ba?Sa.endRotation=b:Sa.y=Sa.endY=c,ea=!0,eb(!0),Sa.autoScroll&&!Sa.isDragging))for(_(f.parentNode),e=f,N.scrollTop=null!=window.pageYOffset?window.pageYOffset:null!=v.scrollTop?v.scrollTop:u.body.scrollTop,N.scrollLeft=null!=window.pageXOffset?window.pageXOffset:null!=v.scrollLeft?v.scrollLeft:u.body.scrollLeft;e&&!h;)h=Z(e.parentNode),g=h?N:e.parentNode,Ha&&g.scrollTop>g._gsMaxScrollY&&(g.scrollTop=g._gsMaxScrollY),Ga&&g.scrollLeft>g._gsMaxScrollX&&(g.scrollLeft=g._gsMaxScrollX),e=g;Sa.isThrowing&&(d||Sa.endX>z||Sa.endX<F||Sa.endY>I||Sa.endY<Q)&&jb(i.throwProps,d)}return Sa},this.update=function(a,b,c){var d=Sa.x,e=Sa.y;return kb(!b),a?Sa.applyBounds():(ea&&c&&eb(!0),fb(!0)),b&&(sb(Sa.pointerX,Sa.pointerY),ea&&eb(!0)),Sa.isPressed&&!b&&(Ga&&Math.abs(d-Sa.x)>.01||Ha&&Math.abs(e-Sa.y)>.01&&!Ba)&&lb(),Sa.autoScroll&&(_(f.parentNode),Xa=Sa.isDragging,eb(!0)),Sa.autoScroll&&(Y(f,ub),X(f,ub)),Sa},this.enable=function(a){var d,e,g;if("soft"!==a){for(e=Ua.length;--e>-1;)g=Ua[e],Ka(g,"mousedown",qb),Ka(g,"touchstart",qb),Ka(g,"click",vb,!0),Ba||da(g,"cursor",i.cursor||"move"),da(g,"touchCallout","none"),da(g,"touchAction",Ga===Ha?"none":Ga?"pan-y":"pan-x"),ua(g)&&da(g.ownerSVGElement||g,"touchAction",Ga===Ha?"none":Ga?"pan-y":"pan-x"),this.vars.allowContextMenu||Ka(g,"contextmenu",db);Ra(Ua,!1)}return X(f,ub),j=!0,h&&"soft"!==a&&h.track(k||f,Aa?"x,y":Ba?"rotation":"top,left"),k&&k.enable(),f._gsDragID=d="d"+H++,G[d]=this,k&&(k.element._gsDragID=d),b.set(f,{x:"+=0",overwrite:!1,data:"_draggable"}),sa={t:f,data:D?V:f._gsTransform,tween:{},setRatio:D?function(){b.set(f,T)}:c._internals.setTransformRatio||c._internals.set3DTransformRatio},lb(),Sa.update(!0),Sa},this.disable=function(a){var b,c,d=Sa.isDragging;if(!Ba)for(b=Ua.length;--b>-1;)da(Ua[b],"cursor",null);if("soft"!==a){for(b=Ua.length;--b>-1;)c=Ua[b],da(c,"touchCallout",null),da(c,"touchAction",null),La(c,"mousedown",qb),La(c,"touchstart",qb),La(c,"click",vb),La(c,"contextmenu",db);Ra(Ua,!0),na&&(La(na,"touchcancel",tb),La(na,"touchend",tb),La(na,"touchmove",rb)),La(u,"mouseup",tb),La(u,"mousemove",rb)}return Y(f,ub),j=!1,h&&"soft"!==a&&h.untrack(k||f,Aa?"x,y":Ba?"rotation":"top,left"),k&&k.disable(),S(eb),Sa.isDragging=Sa.isPressed=ma=!1,d&&ka(Sa,"dragend","onDragEnd"),Sa},this.enabled=function(a,b){return arguments.length?a?Sa.enable(b):Sa.disable(b):j},this.kill=function(){return Sa.isThrowing=!1,b.killTweensOf(k||f,!0,Va),Sa.disable(),b.set(Ua,{clearProps:"userSelect"}),delete G[f._gsDragID],Sa},-1!==za.indexOf("scroll")&&(k=this.scrollProxy=new Ta(f,U({onKill:function(){Sa.isPressed&&tb(null)}},i)),f.style.overflowY=Ha&&!Ia?"auto":"hidden",f.style.overflowX=Ga&&!Ia?"auto":"hidden",f=k.content),!1!==i.force3D&&b.set(f,{force3D:!0}),Ba?Va.rotation=1:(Ga&&(Va[Ea]=1),Ha&&(Va[Fa]=1)),Ba?(T=q,V=T.css,T.overwrite=!1):Aa&&(T=Ga&&Ha?n:Ga?o:p,V=T.css,T.overwrite=!1),this.enable()},Va=Ua.prototype=new a;Va.constructor=Ua,Va.pointerX=Va.pointerY=Va.startX=Va.startY=Va.deltaX=Va.deltaY=0,Va.isDragging=Va.isPressed=!1,Ua.version="0.16.4",Ua.zIndex=1e3,Ka(u,"touchcancel",function(){}),Ka(u,"contextmenu",function(a){var b;for(b in G)G[b].isPressed&&G[b].endDrag()}),Ua.create=function(a,c){"string"==typeof a&&(a=b.selector(a));for(var d=a&&0!==a.length?Ga(a)?Ha(a):[a]:[],e=d.length;--e>-1;)d[e]=new Ua(d[e],c);return d},Ua.get=function(a){return G[(ba(a)||{})._gsDragID]},Ua.timeSinceDrag=function(){return(C()-L)/1e3};var Wa={},Xa=function(a){var b,c,d=0,e=0;for(a=ba(a),b=a.offsetWidth,c=a.offsetHeight;a;)d+=a.offsetTop,e+=a.offsetLeft,a=a.offsetParent;return{top:d,left:e,width:b,height:c}},Ya=function(a,b){if(a===window)return Wa.left=Wa.top=0,Wa.width=Wa.right=v.clientWidth||a.innerWidth||u.body.clientWidth||0,Wa.height=Wa.bottom=(a.innerHeight||0)-20<v.clientHeight?v.clientHeight:a.innerHeight||u.body.clientHeight||0,Wa;var c=a.pageX!==b?{left:a.pageX-W(),top:a.pageY-V(),right:a.pageX-W()+1,bottom:a.pageY-V()+1}:a.nodeType||a.left===b||a.top===b?D?Xa(a):ba(a).getBoundingClientRect():a;return c.right===b&&c.width!==b?(c.right=c.left+c.width,c.bottom=c.top+c.height):c.width===b&&(c={width:c.right-c.left,height:c.bottom-c.top,right:c.right,left:c.left,bottom:c.bottom,top:c.top}),c};return Ua.hitTest=function(a,b,c){if(a===b)return!1;var d,e,f,g=Ya(a),h=Ya(b),i=h.left>g.right||h.right<g.left||h.top>g.bottom||h.bottom<g.top;return i||!c?!i:(f=-1!==(c+"").indexOf("%"),c=parseFloat(c)||0,d={left:Math.max(g.left,h.left),top:Math.max(g.top,h.top)},d.width=Math.min(g.right,h.right)-d.left,d.height=Math.min(g.bottom,h.bottom)-d.top,!(d.width<0||d.height<0)&&(f?(c*=.01,(e=d.width*d.height)>=g.width*g.height*c||e>=h.width*h.height*c):d.width>c&&d.height>c))},E.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;",Ua},!0)}),e._gsDefine&&e._gsQueue.pop()(),function(c){var d=function(){return(e.GreenSockGlobals||e).Draggable};void 0!==b&&b.exports?(a("../TweenLite.min.js"),a("../plugins/CSSPlugin.min.js"),b.exports=d()):"function"==typeof define&&define.amd&&define(["TweenLite","CSSPlugin"],d)}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../TweenLite.min.js":416,"../plugins/CSSPlugin.min.js":418}]},{},[359]);